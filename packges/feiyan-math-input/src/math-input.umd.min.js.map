{"version":3,"sources":["webpack://math-input/webpack/universalModuleDefinition","webpack://math-input/webpack/bootstrap","webpack://math-input/./node_modules/core-js/internals/to-string-tag-support.js","webpack://math-input/./node_modules/core-js/modules/es.math.sinh.js","webpack://math-input/./node_modules/core-js/modules/es.array.flat.js","webpack://math-input/./node_modules/core-js/modules/es.string.blink.js","webpack://math-input/./node_modules/core-js/internals/function-bind.js","webpack://math-input/./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack://math-input/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://math-input/./node_modules/core-js/modules/es.object.values.js","webpack://math-input/./node_modules/core-js/modules/es.math.expm1.js","webpack://math-input/./node_modules/core-js/internals/to-index.js","webpack://math-input/./node_modules/core-js/modules/es.json.to-string-tag.js","webpack://math-input/./node_modules/core-js/internals/string-pad.js","webpack://math-input/./node_modules/core-js/internals/ie8-dom-define.js","webpack://math-input/./node_modules/core-js/modules/es.date.to-string.js","webpack://math-input/./node_modules/core-js/internals/native-url.js","webpack://math-input/./node_modules/core-js/modules/es.weak-map.js","webpack://math-input/./node_modules/core-js/internals/string-repeat.js","webpack://math-input/./node_modules/core-js/modules/es.string.split.js","webpack://math-input/./node_modules/core-js/internals/same-value.js","webpack://math-input/./node_modules/core-js/modules/es.object.define-getter.js","webpack://math-input/./node_modules/core-js/modules/web.immediate.js","webpack://math-input/./node_modules/core-js/modules/es.object.set-prototype-of.js","webpack://math-input/./node_modules/core-js/modules/es.string.big.js","webpack://math-input/./node_modules/core-js/modules/es.array.reduce.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.int32-array.js","webpack://math-input/./node_modules/core-js/internals/array-copy-within.js","webpack://math-input/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://math-input/./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack://math-input/./node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.subarray.js","webpack://math-input/./node_modules/core-js/internals/array-for-each.js","webpack://math-input/./node_modules/core-js/internals/to-offset.js","webpack://math-input/./node_modules/core-js/modules/es.string.anchor.js","webpack://math-input/./node_modules/core-js/modules/es.string.fontsize.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.species.js","webpack://math-input/./node_modules/core-js/internals/an-instance.js","webpack://math-input/./node_modules/core-js/internals/html.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.own-keys.js","webpack://math-input/./node_modules/core-js/internals/a-function.js","webpack://math-input/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://math-input/./node_modules/core-js/modules/es.object.define-properties.js","webpack://math-input/./node_modules/core-js/internals/require-object-coercible.js","webpack://math-input/./node_modules/core-js/internals/array-method-has-species-support.js","webpack://math-input/./node_modules/core-js/modules/es.string.trim-end.js","webpack://math-input/./node_modules/core-js/internals/math-log1p.js","webpack://math-input/./node_modules/core-js/modules/es.weak-set.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.from.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.sort.js","webpack://math-input/./node_modules/core-js/internals/iterate.js","webpack://math-input/./node_modules/core-js/modules/es.string.strike.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.split.js","webpack://math-input/./node_modules/core-js/internals/to-absolute-index.js","webpack://math-input/./node_modules/core-js/modules/es.math.to-string-tag.js","webpack://math-input/./node_modules/core-js/internals/export.js","webpack://math-input/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://math-input/./node_modules/core-js/modules/es.string.includes.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.reduce-right.js","webpack://math-input/./node_modules/core-js/modules/es.number.parse-int.js","webpack://math-input/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://math-input/./node_modules/core-js/internals/set-species.js","webpack://math-input/./node_modules/core-js/modules/es.array.reverse.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.slice.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.match.js","webpack://math-input/./node_modules/core-js/modules/es.math.sign.js","webpack://math-input/./node_modules/core-js/modules/es.object.is.js","webpack://math-input/./node_modules/core-js/modules/web.url.js","webpack://math-input/./node_modules/core-js/modules/es.string.starts-with.js","webpack://math-input/./node_modules/core-js/internals/task.js","webpack://math-input/./node_modules/core-js/internals/forced-object-prototype-accessors-methods.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.last-index-of.js","webpack://math-input/./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack://math-input/./node_modules/core-js/internals/get-iterator-method.js","webpack://math-input/./node_modules/core-js/modules/es.number.epsilon.js","webpack://math-input/./node_modules/core-js/internals/object-define-properties.js","webpack://math-input/./node_modules/core-js/modules/es.string.repeat.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.find-index.js","webpack://math-input/./node_modules/core-js/internals/a-possible-prototype.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.set.js","webpack://math-input/./node_modules/core-js/modules/es.string.iterator.js","webpack://math-input/./node_modules/core-js/modules/es.math.cbrt.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.define-property.js","webpack://math-input/./node_modules/core-js/internals/iterators.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.map.js","webpack://math-input/./node_modules/core-js/modules/es.math.hypot.js","webpack://math-input/./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack://math-input/./node_modules/core-js/internals/this-number-value.js","webpack://math-input/./node_modules/core-js/modules/es.math.clz32.js","webpack://math-input/./node_modules/core-js/modules/es.array.for-each.js","webpack://math-input/./node_modules/core-js/internals/path.js","webpack://math-input/./packages/vue-mathlive.vue?b4f1","webpack://math-input/./node_modules/core-js/internals/indexed-object.js","webpack://math-input/./node_modules/core-js/internals/add-to-unscopables.js","webpack://math-input/./node_modules/core-js/internals/host-report-errors.js","webpack://math-input/./node_modules/core-js/internals/is-regexp.js","webpack://math-input/./node_modules/core-js/modules/es.array.some.js","webpack://math-input/./node_modules/core-js/modules/es.string.match.js","webpack://math-input/./node_modules/core-js/internals/species-constructor.js","webpack://math-input/./node_modules/core-js/internals/native-symbol.js","webpack://math-input/./node_modules/core-js/modules/es.string.trim.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.float64-array.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.construct.js","webpack://math-input/./node_modules/core-js/modules/es.string.sub.js","webpack://math-input/./node_modules/core-js/modules/es.regexp.constructor.js","webpack://math-input/./node_modules/core-js/internals/array-includes.js","webpack://math-input/./node_modules/core-js/modules/es.string.pad-start.js","webpack://math-input/./node_modules/core-js/modules/es.array.filter.js","webpack://math-input/./node_modules/core-js/internals/array-from.js","webpack://math-input/./node_modules/core-js/modules/es.array.sort.js","webpack://math-input/./node_modules/core-js/modules/es.map.js","webpack://math-input/./node_modules/core-js/modules/es.object.entries.js","webpack://math-input/./node_modules/core-js/internals/to-length.js","webpack://math-input/./node_modules/core-js/internals/has.js","webpack://math-input/./node_modules/core-js/internals/date-to-primitive.js","webpack://math-input/./node_modules/core-js/modules/es.string.replace.js","webpack://math-input/./node_modules/core-js/modules/es.math.acosh.js","webpack://math-input/./node_modules/core-js/modules/es.regexp.flags.js","webpack://math-input/./node_modules/core-js/modules/es.number.to-precision.js","webpack://math-input/./node_modules/core-js/internals/shared.js","webpack://math-input/./node_modules/core-js/internals/own-keys.js","webpack://math-input/./node_modules/core-js/modules/es.number.is-safe-integer.js","webpack://math-input/./node_modules/core-js/internals/whitespaces.js","webpack://math-input/./node_modules/core-js/internals/string-trim.js","webpack://math-input/./node_modules/core-js/internals/not-a-regexp.js","webpack://math-input/./node_modules/core-js/modules/es.object.lookup-setter.js","webpack://math-input/./node_modules/core-js/internals/create-property-descriptor.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.uint8-array.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.get.js","webpack://math-input/./node_modules/core-js/modules/es.array.flat-map.js","webpack://math-input/./node_modules/core-js/modules/es.array.of.js","webpack://math-input/./node_modules/core-js/internals/is-integer.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.join.js","webpack://math-input/./node_modules/core-js/modules/es.set.js","webpack://math-input/./node_modules/core-js/internals/v8-version.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.iterator.js","webpack://math-input/./node_modules/core-js/internals/object-assign.js","webpack://math-input/./node_modules/core-js/internals/array-buffer.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.some.js","webpack://math-input/./node_modules/core-js/internals/date-to-iso-string.js","webpack://math-input/./node_modules/core-js/internals/string-multibyte.js","webpack://math-input/./node_modules/core-js/internals/collection-strong.js","webpack://math-input/./node_modules/core-js/internals/array-species-create.js","webpack://math-input/./node_modules/core-js/modules/es.string.sup.js","webpack://math-input/./node_modules/core-js/internals/webkit-string-pad-bug.js","webpack://math-input/./node_modules/core-js/internals/internal-state.js","webpack://math-input/./node_modules/core-js/modules/es.math.log10.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.search.js","webpack://math-input/./node_modules/core-js/internals/collection.js","webpack://math-input/./node_modules/core-js/internals/redefine.js","webpack://math-input/./node_modules/core-js/internals/object-to-array.js","webpack://math-input/./node_modules/core-js/internals/parse-float.js","webpack://math-input/./node_modules/core-js/modules/es.object.get-own-property-names.js","webpack://math-input/./node_modules/core-js/internals/inherit-if-required.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.to-string.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.fill.js","webpack://math-input/./node_modules/core-js/modules/es.array.unscopables.flat-map.js","webpack://math-input/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://math-input/./node_modules/core-js/internals/define-well-known-symbol.js","webpack://math-input/./node_modules/core-js/internals/typed-array-constructor.js","webpack://math-input/./node_modules/core-js/internals/ieee754.js","webpack://math-input/./node_modules/core-js/internals/enum-bug-keys.js","webpack://math-input/./node_modules/core-js/modules/es.math.tanh.js","webpack://math-input/./node_modules/core-js/modules/es.math.asinh.js","webpack://math-input/./node_modules/core-js/modules/es.object.define-property.js","webpack://math-input/./node_modules/core-js/internals/to-object.js","webpack://math-input/./node_modules/core-js/internals/object-create.js","webpack://math-input/./node_modules/core-js/modules/es.array.find.js","webpack://math-input/./node_modules/core-js/internals/define-iterator.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.set.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.get-prototype-of.js","webpack://math-input/./node_modules/core-js/internals/native-weak-map.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.replace.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.to-primitive.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.unscopables.js","webpack://math-input/./node_modules/core-js/internals/array-fill.js","webpack://math-input/./node_modules/core-js/internals/an-object.js","webpack://math-input/./node_modules/core-js/modules/es.array-buffer.is-view.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.includes.js","webpack://math-input/./node_modules/core-js/internals/descriptors.js","webpack://math-input/./node_modules/core-js/internals/create-property.js","webpack://math-input/./node_modules/core-js/modules/es.string.search.js","webpack://math-input/./node_modules/core-js/modules/es.string.pad-end.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.uint16-array.js","webpack://math-input/./node_modules/core-js/internals/create-html.js","webpack://math-input/./node_modules/core-js/internals/is-object.js","webpack://math-input/./node_modules/core-js/internals/inspect-source.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js","webpack://math-input/./node_modules/core-js/modules/es.string.ends-with.js","webpack://math-input/./node_modules/core-js/internals/advance-string-index.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.int16-array.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.set-prototype-of.js","webpack://math-input/./node_modules/core-js/modules/es.number.is-integer.js","webpack://math-input/./node_modules/core-js/internals/math-expm1.js","webpack://math-input/./node_modules/core-js/modules/es.math.log2.js","webpack://math-input/./node_modules/core-js/internals/uid.js","webpack://math-input/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://math-input/./node_modules/core-js/modules/es.number.is-nan.js","webpack://math-input/./node_modules/core-js/internals/regexp-exec.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.to-string-tag.js","webpack://math-input/./node_modules/core-js/internals/is-forced.js","webpack://math-input/./node_modules/regenerator-runtime/runtime.js","webpack://math-input/./node_modules/core-js/modules/es.string.fontcolor.js","webpack://math-input/./node_modules/core-js/modules/web.url-search-params.js","webpack://math-input/./node_modules/core-js/modules/es.string.link.js","webpack://math-input/./node_modules/core-js/modules/es.array.concat.js","webpack://math-input/./node_modules/core-js/internals/get-iterator.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.copy-within.js","webpack://math-input/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://math-input/./node_modules/core-js/internals/object-define-property.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js","webpack://math-input/./node_modules/core-js/internals/create-iterator-constructor.js","webpack://math-input/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://math-input/./node_modules/core-js/modules/web.queue-microtask.js","webpack://math-input/./node_modules/core-js/modules/es.math.atanh.js","webpack://math-input/./node_modules/core-js/internals/typed-array-from.js","webpack://math-input/./node_modules/core-js/modules/es.array.join.js","webpack://math-input/./node_modules/core-js/internals/flatten-into-array.js","webpack://math-input/./node_modules/core-js/modules/es.array.splice.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.js","webpack://math-input/./node_modules/core-js/modules/es.array.every.js","webpack://math-input/./node_modules/core-js/modules/es.array.from.js","webpack://math-input/./node_modules/core-js/internals/to-integer.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.apply.js","webpack://math-input/./node_modules/core-js/modules/es.promise.finally.js","webpack://math-input/./node_modules/core-js/modules/es.array.copy-within.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.every.js","webpack://math-input/./node_modules/core-js/modules/es.number.constructor.js","webpack://math-input/./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.delete-property.js","webpack://math-input/./node_modules/core-js/modules/es.regexp.exec.js","webpack://math-input/./node_modules/core-js/internals/collection-weak.js","webpack://math-input/./node_modules/core-js/modules/es.date.to-iso-string.js","webpack://math-input/./node_modules/core-js/modules/es.parse-float.js","webpack://math-input/./node_modules/core-js/modules/es.array-buffer.slice.js","webpack://math-input/./node_modules/core-js/internals/regexp-flags.js","webpack://math-input/./node_modules/core-js/internals/iterators-core.js","webpack://math-input/./node_modules/core-js/modules/es.object.seal.js","webpack://math-input/./node_modules/core-js/modules/es.number.max-safe-integer.js","webpack://math-input/./node_modules/core-js/internals/object-to-string.js","webpack://math-input/./node_modules/core-js/modules/es.function.name.js","webpack://math-input/./node_modules/core-js/internals/sloppy-array-method.js","webpack://math-input/./node_modules/core-js/internals/user-agent.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.to-locale-string.js","webpack://math-input/./node_modules/core-js/modules/es.data-view.js","webpack://math-input/./node_modules/core-js/modules/es.function.has-instance.js","webpack://math-input/./node_modules/core-js/internals/microtask.js","webpack://math-input/./node_modules/core-js/internals/well-known-symbol.js","webpack://math-input/./node_modules/core-js/internals/is-ios.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.async-iterator.js","webpack://math-input/./node_modules/core-js/modules/es.object.keys.js","webpack://math-input/./node_modules/core-js/modules/es.math.trunc.js","webpack://math-input/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://math-input/./node_modules/core-js/internals/array-iteration.js","webpack://math-input/./node_modules/core-js/modules/es.array.last-index-of.js","webpack://math-input/./node_modules/core-js/internals/freezing.js","webpack://math-input/./node_modules/core-js/modules/es.math.imul.js","webpack://math-input/./node_modules/core-js/internals/math-fround.js","webpack://math-input/./node_modules/core-js/modules/web.url.to-json.js","webpack://math-input/./node_modules/core-js/modules/es.object.lookup-getter.js","webpack://math-input/./node_modules/core-js/internals/wrapped-well-known-symbol.js","webpack://math-input/./node_modules/core-js/internals/to-primitive.js","webpack://math-input/./node_modules/core-js/modules/es.array-buffer.constructor.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.filter.js","webpack://math-input/./node_modules/core-js/modules/es.object.from-entries.js","webpack://math-input/./node_modules/core-js/modules/es.number.parse-float.js","webpack://math-input/./node_modules/core-js/internals/is-pure.js","webpack://math-input/./node_modules/core-js/modules/es.string.italics.js","webpack://math-input/./node_modules/core-js/internals/classof-raw.js","webpack://math-input/./node_modules/core-js/internals/shared-store.js","webpack://math-input/./node_modules/core-js/modules/es.array.find-index.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.has.js","webpack://math-input/./node_modules/core-js/modules/es.string.fixed.js","webpack://math-input/(webpack)/buildin/global.js","webpack://math-input/./node_modules/core-js/modules/es.object.is-extensible.js","webpack://math-input/./node_modules/core-js/modules/es.string.small.js","webpack://math-input/./node_modules/core-js/modules/es.array.index-of.js","webpack://math-input/./node_modules/core-js/internals/punycode-to-ascii.js","webpack://math-input/./node_modules/core-js/modules/es.math.log1p.js","webpack://math-input/./node_modules/core-js/internals/object-keys-internal.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.reduce.js","webpack://math-input/./node_modules/core-js/modules/es.array.includes.js","webpack://math-input/./node_modules/core-js/modules/es.array.fill.js","webpack://math-input/./node_modules/core-js/internals/document-create-element.js","webpack://math-input/./node_modules/core-js/modules/es.string.bold.js","webpack://math-input/./node_modules/core-js/modules/es.object.assign.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.reverse.js","webpack://math-input/./node_modules/core-js/internals/promise-resolve.js","webpack://math-input/./node_modules/core-js/internals/set-global.js","webpack://math-input/./node_modules/core-js/modules/es.object.prevent-extensions.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.float32-array.js","webpack://math-input/./node_modules/core-js/internals/hidden-keys.js","webpack://math-input/./node_modules/core-js/internals/fails.js","webpack://math-input/./node_modules/core-js/internals/get-built-in.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.find.js","webpack://math-input/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.iterator.js","webpack://math-input/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://math-input/./node_modules/core-js/modules/es.object.to-string.js","webpack://math-input/./node_modules/core-js/internals/set-to-string-tag.js","webpack://math-input/./node_modules/core-js/internals/array-reduce.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.for-each.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.prevent-extensions.js","webpack://math-input/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://math-input/./node_modules/core-js/modules/es.string.raw.js","webpack://math-input/./node_modules/core-js/modules/es.array.map.js","webpack://math-input/./node_modules/core-js/internals/global.js","webpack://math-input/./node_modules/core-js/modules/es.reflect.is-extensible.js","webpack://math-input/./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.has-instance.js","webpack://math-input/./node_modules/core-js/modules/es.object.freeze.js","webpack://math-input/./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://math-input/./node_modules/core-js/internals/object-keys.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.description.js","webpack://math-input/./node_modules/core-js/internals/forced-string-trim-method.js","webpack://math-input/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://math-input/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://math-input/./node_modules/core-js/modules/es.object.is-frozen.js","webpack://math-input/./node_modules/core-js/modules/es.parse-int.js","webpack://math-input/./node_modules/core-js/modules/es.array.iterator.js","webpack://math-input/./node_modules/core-js/internals/number-is-finite.js","webpack://math-input/./node_modules/core-js/internals/redefine-all.js","webpack://math-input/./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack://math-input/./node_modules/core-js/modules/es.object.is-sealed.js","webpack://math-input/./node_modules/core-js/internals/parse-int.js","webpack://math-input/./node_modules/core-js/internals/array-last-index-of.js","webpack://math-input/./node_modules/core-js/internals/perform.js","webpack://math-input/./node_modules/core-js/modules/es.promise.js","webpack://math-input/./node_modules/core-js/modules/es.number.min-safe-integer.js","webpack://math-input/./node_modules/core-js/modules/es.object.define-setter.js","webpack://math-input/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://math-input/./node_modules/core-js/internals/is-array.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.index-of.js","webpack://math-input/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://math-input/./node_modules/core-js/internals/forced-string-html-method.js","webpack://math-input/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.of.js","webpack://math-input/./node_modules/core-js/modules/es.string.trim-start.js","webpack://math-input/./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js","webpack://math-input/./node_modules/core-js/modules/es.date.to-primitive.js","webpack://math-input/./node_modules/core-js/modules/es.number.is-finite.js","webpack://math-input/./node_modules/core-js/internals/new-promise-capability.js","webpack://math-input/./node_modules/core-js/internals/internal-metadata.js","webpack://math-input/./node_modules/core-js/modules/es.date.to-json.js","webpack://math-input/./node_modules/core-js/modules/es.array.reduce-right.js","webpack://math-input/./node_modules/core-js/modules/es.string.code-point-at.js","webpack://math-input/./node_modules/core-js/internals/classof.js","webpack://math-input/./node_modules/core-js/modules/es.math.fround.js","webpack://math-input/./node_modules/core-js/modules/es.string.from-code-point.js","webpack://math-input/./node_modules/current-script-polyfill/currentScript.js","webpack://math-input/./node_modules/core-js/internals/math-sign.js","webpack://math-input/./node_modules/core-js/internals/shared-key.js","webpack://math-input/./node_modules/core-js/modules/es.array.species.js","webpack://math-input/./node_modules/core-js/internals/bind-context.js","webpack://math-input/./node_modules/core-js/internals/to-positive-integer.js","webpack://math-input/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://math-input/./packages/vue-mathlive.vue?3ade","webpack://math-input/packages/vue-mathlive.vue","webpack://math-input/./packages/vue-mathlive.vue?6ab9","webpack://math-input/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://math-input/./packages/vue-mathlive.vue","webpack://math-input/./packages/core/grapheme-splitter.js","webpack://math-input/./packages/core/lexer.js","webpack://math-input/./packages/core/fontMetricsData.js","webpack://math-input/./packages/core/fontMetrics.js","webpack://math-input/./packages/core/mathstyle.js","webpack://math-input/./packages/core/context.js","webpack://math-input/./packages/core/span.js","webpack://math-input/./packages/core/definitions.js","webpack://math-input/./packages/core/delimiters.js","webpack://math-input/./packages/core/mathAtom.js","webpack://math-input/./packages/core/color.js","webpack://math-input/./packages/core/parser.js","webpack://math-input/./packages/editor/editor-mathpath.js","webpack://math-input/./packages/editor/editor-shortcuts.js","webpack://math-input/./packages/editor/editor-editableMathlist.js","webpack://math-input/./packages/editor/editor-keyboard.js","webpack://math-input/./packages/editor/editor-undo.js","webpack://math-input/./packages/editor/editor-popover.js","webpack://math-input/./packages/addons/outputLatex.js","webpack://math-input/./packages/editor/l10n.js","webpack://math-input/./packages/editor/editor-virtualKeyboard.js","webpack://math-input/./packages/editor/outputASCIIMath.js","webpack://math-input/./packages/addons/outputMathML.js","webpack://math-input/./packages/addons/mathJson.js","webpack://math-input/./packages/addons/outputSpokenText.js","webpack://math-input/./packages/editor/editor-mathfield.js","webpack://math-input/./packages/addons/auto-render.js","webpack://math-input/./packages/mathlive.js","webpack://math-input/./packages/index.js","webpack://math-input/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.uint32-array.js","webpack://math-input/./node_modules/core-js/modules/es.array.slice.js","webpack://math-input/./node_modules/core-js/internals/to-indexed-object.js","webpack://math-input/./node_modules/core-js/modules/es.typed-array.int8-array.js","webpack://math-input/./node_modules/core-js/internals/dom-iterables.js","webpack://math-input/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://math-input/./node_modules/core-js/internals/native-promise-constructor.js","webpack://math-input/./node_modules/core-js/modules/es.math.cosh.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","wellKnownSymbol","TO_STRING_TAG","test","String","$","fails","expm1","abs","Math","exp","E","FORCED","sinh","target","stat","forced","x","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","proto","flat","depthArg","arguments","length","undefined","O","sourceLen","A","createHTML","forcedStringHTMLMethod","blink","aFunction","isObject","slice","factories","construct","C","argsLength","args","list","Function","join","that","fn","partArgs","boundFunction","concat","apply","toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","getOwnPropertyNames","getWindowNames","it","error","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","has","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","P","$values","values","number","RangeError","global","setToStringTag","JSON","repeat","requireObjectCoercible","ceil","createMethod","IS_END","$this","maxLength","fillString","fillLen","stringFiller","S","stringLength","fillStr","intMaxLength","start","end","createElement","a","redefine","DatePrototype","Date","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","IS_PURE","ITERATOR","url","URL","searchParams","result","pathname","forEach","toJSON","sort","href","URLSearchParams","username","host","hash","InternalWeakMap","redefineAll","InternalMetadataModule","collection","collectionWeak","enforceIternalState","enforce","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","isExtensible","wrapper","init","$WeakMap","getConstructor","REQUIRED","WeakMapPrototype","nativeDelete","nativeHas","nativeGet","nativeSet","set","state","frozen","count","str","Infinity","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","speciesConstructor","advanceStringIndex","callRegExpExec","regexpExec","arrayPush","push","min","MAX_UINT32","SUPPORTS_Y","RegExp","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","separator","limit","string","lim","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","index","splitter","regexp","res","done","rx","unicodeMatching","q","e","z","is","y","definePropertyModule","__defineGetter__","configurable","task","setImmediate","clearImmediate","clear","setPrototypeOf","big","$reduce","left","sloppyArrayMethod","reduce","callbackfn","createTypedArrayConstructor","data","byteOffset","toAbsoluteIndex","copyWithin","len","to","from","inc","classof","R","exec","TypeError","DOMIterables","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","checkCorrectnessOfIteration","NATIVE_ARRAY_BUFFER_VIEWS","ArrayBuffer","Int8Array","iterable","ArrayBufferViewCore","aTypedArray","exportTypedArrayMethod","begin","beginIndex","constructor","buffer","BYTES_PER_ELEMENT","$forEach","toPositiveInteger","BYTES","offset","anchor","fontsize","size","defineWellKnownSymbol","Constructor","getBuiltIn","ownKeys","SAFE_CLOSING","called","iteratorWithReturn","next","Array","SKIP_CLOSING","ITERATION_SUPPORT","defineProperties","sham","V8_VERSION","SPECIES","METHOD_NAME","array","foo","Boolean","$trimEnd","forcedStringTrimMethod","trimEnd","trimRight","log","log1p","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","exportTypedArrayStaticMethod","typedArrayFrom","$sort","comparefn","isArrayIteratorMethod","getIteratorMethod","callWithSafeIterationClosing","Result","stopped","iterate","AS_ENTRIES","IS_ITERATOR","iterator","iterFn","step","stop","strike","max","integer","setGlobal","copyConstructorProperties","isForced","options","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","noTargetGet","internalObjectKeys","enumBugKeys","hiddenKeys","notARegExp","correctIsRegExpLogic","includes","searchString","indexOf","$reduceRight","right","parseInt","Number","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","unsafe","CONSTRUCTOR_NAME","isArray","nativeReverse","reverse","aTypedArrayConstructor","$slice","sign","EOF","USE_NATIVE_URL","anInstance","assign","arrayFrom","codeAt","toASCII","URLSearchParamsModule","InternalStateModule","NativeURL","getInternalSearchParamsState","getState","setInternalState","getInternalURLState","getterFor","floor","pow","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","parseHost","input","codePoints","charAt","parseIPv6","isSpecial","parseIPv4","percentEncode","C0ControlPercentEncodeSet","partsLength","numbers","part","radix","ipv4","parts","pop","numbersSeen","ipv4Piece","swaps","swap","address","pieceIndex","compress","pointer","char","findLongestZeroSequence","ipv6","maxIndex","currStart","currLength","serializeHost","ignore0","unshift","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","code","encodeURIComponent","specialSchemes","ftp","file","http","https","ws","wss","scheme","includesCredentials","password","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","normalized","second","startsWithWindowsDriveLetter","third","shortenURLsPath","path","pathSize","isSingleDot","segment","toLowerCase","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","base","bufferCodePoints","failure","seenAt","seenBracket","seenPasswordToken","port","query","fragment","replace","codePoint","encodedCodePoints","shift","URLConstructor","baseState","urlString","type","searchParamsState","updateSearchParams","updateURL","serializeURL","origin","getOrigin","protocol","getProtocol","getUsername","getPassword","getHost","hostname","getHostname","getPort","getPathname","search","getSearch","getSearchParams","getHash","URLPrototype","accessorDescriptor","setter","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","blob","nativeStartsWith","startsWith","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","writable","defer","channel","html","IS_IOS","location","process","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","id","runner","listener","event","post","postMessage","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","random","__defineSetter__","$lastIndexOf","searchElement","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","getPrototypeOf","Iterators","EPSILON","objectKeys","Properties","keys","$findIndex","findIndex","predicate","toOffset","arrayLike","src","defineIterator","STRING_ITERATOR","getInternalState","iterated","point","cbrt","ERROR_INSTEAD_OF_FALSE","Reflect","propertyKey","attributes","$map","map","mapfn","$hypot","hypot","sqrt","BUGGY","value1","value2","arg","div","sum","aLen","larg","addToUnscopables","LOG2E","clz32","propertyIsEnumerable","UNSCOPABLES","ArrayPrototype","b","console","MATCH","$some","some","regExpExec","nativeMatch","matcher","fullUnicode","matchStr","defaultConstructor","getOwnPropertySymbols","$trim","trim","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","Target","newTarget","$args","instance","sub","inheritIfRequired","getFlags","stickyHelpers","setSpecies","NativeRegExp","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","RegExpWrapper","pattern","thisIsRegExp","patternIsRegExp","flagsAreUndefined","proxy","IS_INCLUDES","el","fromIndex","$padStart","WEBKIT_BUG","padStart","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","0","createProperty","argumentsLength","mapping","iteratorMethod","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","SLOPPY_METHOD","collectionStrong","$entries","entries","argument","hint","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","REPLACE","nativeReplace","reason","searchValue","replaceValue","replacer","REPLACE_KEEPS_$0","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","position","captures","j","namedCaptures","groups","replacerArgs","replacement","getSubstitution","tailPos","symbols","ch","capture","nativeAcosh","acosh","LN2","MAX_VALUE","objectDefinePropertyModule","regExpFlags","thisNumberValue","nativeToPrecision","toPrecision","precision","store","version","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","isInteger","isSafeInteger","whitespaces","whitespace","ltrim","rtrim","TYPE","__lookupSetter__","desc","bitmap","getOwnPropertyDescriptorModule","receiver","flatMap","ISNT_GENERIC","of","isFinite","$join","userAgent","versions","v8","ArrayIterators","Uint8Array","arrayValues","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","IndexedObject","nativeAssign","B","symbol","alphabet","chr","T","NATIVE_ARRAY_BUFFER","toIndex","IEEE754","arrayFill","ARRAY_BUFFER","DATA_VIEW","PROTOTYPE","WRONG_LENGTH","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","packIEEE754","pack","unpackIEEE754","unpack","packInt8","packInt16","packInt32","unpackInt32","packFloat32","packFloat64","addGetter","view","isLittleEndian","intIndex","byteLength","bytes","conversion","ArrayBufferPrototype","testView","nativeSetInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","DataView","nativeDateToISOString","toISOString","date","year","getUTCFullYear","milliseconds","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","CONVERT_TO_STRING","pos","first","charCodeAt","fastKey","internalStateGetterFor","IS_MAP","ADDER","last","previous","entry","getEntry","removed","prev","add","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","kind","originalArray","sup","objectHas","sharedKey","WeakMap","wmget","wmhas","wmset","metadata","STATE","LOG10E","log10","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","KEY","nativeMethod","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","inspectSource","enforceInternalState","TEMPLATE","simple","TO_ENTRIES","nativeParseFloat","parseFloat","trimmedString","Wrapper","NewTarget","NewTargetPrototype","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","$fill","wrappedWellKnownSymbolModule","NAME","ArrayBufferModule","nativeDefineProperty","round","TYPED_ARRAY_TAG","TypedArray","TypedArrayPrototype","isTypedArray","fromList","isArrayBuffer","klass","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructor","TypedArrayConstructorPrototype","addElement","typedArrayOffset","$length","$len","mantissaLength","exponent","mantissa","exponentLength","eMax","eBias","rt","nBits","tanh","nativeAsinh","asinh","objectDefinePropertyModile","activeXDocument","documentCreateElement","GT","LT","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","contentWindow","document","open","NullProtoObject","domain","$find","find","FIND","SKIPS_HOLES","createIteratorConstructor","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","V","existingDescriptor","ownDescriptor","MS_EDGE_BUG","objectGetPrototypeOf","endPos","isView","$includes","sameValue","SEARCH","nativeSearch","searcher","previousLastIndex","$padEnd","padEnd","quot","tag","attribute","p1","functionToString","nativeEndsWith","endsWith","endPosition","aPossiblePrototype","objectSetPrototypeOf","nativeExpm1","log2","postfix","isNaN","regexpFlags","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","re","charsAdded","strCopy","feature","detection","normalize","POLYFILL","NATIVE","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","obj","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","method","AsyncIterator","invoke","resolve","reject","record","Promise","__await","then","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","displayName","isGeneratorFunction","genFun","ctor","mark","__proto__","awrap","async","iter","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","fontcolor","color","getIterator","$fetch","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","plus","sequences","percentSequence","percentDecode","sequence","decodeURIComponent","deserialize","serialize","parseSearchParams","validateArgumentsLength","passed","required","URLSearchParamsIterator","params","URLSearchParamsConstructor","entryIterator","entryNext","URLSearchParamsPrototype","append","splice","getAll","found","val","entriesIndex","sliceIndex","callback","fetch","body","headers","link","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","k","$copyWithin","returnMethod","Attributes","RE","microtask","isNode","queueMicrotask","nativeAtanh","atanh","nativeJoin","ES3_STRINGS","original","depth","mapper","thisArg","element","targetIndex","sourceIndex","mapFn","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesExternal","shared","uid","HIDDEN","SYMBOL","TO_PRIMITIVE","ObjectPrototype","$stringify","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","space","$replacer","valueOf","$every","every","INCORRECT_ITERATION","nativeApply","functionApply","OPTIONAL_ARGUMENTS_LIST","thisArgument","argumentsList","NativePromise","promiseResolve","NON_GENERIC","real","onFinally","isFunction","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","maxCode","digits","NumberWrapper","deleteProperty","getWeakData","ArrayIterationModule","$has","uncaughtFrozenStore","UncaughtFrozenStore","findUncaughtFrozen","parseFloatImplementation","nativeArrayBufferSlice","INCORRECT_SLICE","fin","viewSource","viewTarget","dotAll","PrototypeOfArrayIteratorPrototype","arrayIterator","onFreeze","FREEZING","nativeSeal","seal","TO_STRING_TAG_SUPPORT","FunctionPrototype","FunctionPrototypeToString","nameRE","$toLocaleString","toLocaleString","TO_LOCALE_STRING_BUG","HAS_INSTANCE","flush","head","notify","toggle","node","promise","macrotask","MutationObserver","WebKitMutationObserver","IS_NODE","queueMicrotaskDescriptor","parent","exit","enter","createTextNode","observe","characterData","createWellKnownSymbol","withoutSetter","nativeKeys","trunc","nativeToFixed","toFixed","acc","x2","fractionDigits","fractDigits","multiply","c2","divide","dataToString","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","specificCreate","lastIndexOf","preventExtensions","nativeImul","imul","UINT16","xn","yn","xl","yl","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","__lookupGetter__","PREFERRED_STRING","arrayBufferModule","fromEntries","v","italics","SHARED","FIND_INDEX","fixed","g","nativeIsExtensible","small","$indexOf","nativeIndexOf","NEGATIVE_ZERO","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","stringFromCharCode","fromCharCode","ucs2decode","extra","digitToBasic","digit","adapt","delta","numPoints","firstTime","encode","currentValue","inputLength","bias","basicLength","handledCPCount","handledCPCountPlusOne","qMinusT","baseMinusT","label","encoded","labels","fill","EXISTS","bold","middle","newPromiseCapability","promiseCapability","nativePreventExtensions","variable","namespace","NASHORN_BUG","1","CORRECT_SETTER","TAG","IS_RIGHT","memo","objectPreventExtensions","REPLACE_SUPPORTS_NAMED_GROUPS","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","arg2","forceStringMethod","stringMethod","regexMethod","raw","template","rawTemplate","literalSegments","elements","check","globalThis","objectIsExtensible","getOwnPropertyDescriptors","nativeFreeze","freeze","ArrayIteratorMethods","ArrayValues","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","non","nativeIsFrozen","isFrozen","parseIntImplementation","ARRAY_ITERATOR","Arguments","globalIsFinite","nativeIsSealed","isSealed","nativeParseInt","hex","nativeLastIndexOf","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","all","isThenable","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","initEvent","IS_UNHANDLED","isUnhandled","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","capability","$promiseResolve","remaining","alreadyCalled","race","MIN_SAFE_INTEGER","DataViewPrototype","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","isPrototypeOf","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","ARRAY","$trimStart","trimStart","trimLeft","dateToPrimitive","numberIsFinite","PromiseCapability","$$resolve","$$reject","METADATA","setMetadata","objectID","weakData","meta","pv","reduceRight","codePointAt","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","nativeFromCodePoint","fromCodePoint","INCORRECT_LENGTH","currentScript","scripts","getElementsByTagName","stack","readyState","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_t","staticRenderFns","props","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","component","CR","LF","Control","Extend","Regional_Indicator","SpacingMark","L","LV","LVT","Other","Skin_Tone","idx","hi","low","shouldBreak","current","nextBreak","getGraphemeBreakProperty","splitGraphemes","brk","countGraphemes","Token","assert","Lexer","GraphemeSplitter","regEx","isWhiteSpace","peek","command","scan","isParam","after","tokenize","lines","stream","sep","line","lex","token","makeToken","cjkRegex","SIGMAS","slant","stretch","shrink","xHeight","quad","extraSpace","num1","num2","num3","denom1","denom2","sup1","sup2","sup3","sub1","sub2","supDrop","subDrop","delim1","delim2","axisHeight","xi8","xi9","xi10","xi11","xi12","xi13","ptPerEm","METRICS","defaultRuleThickness","bigOpSpacing1","bigOpSpacing2","bigOpSpacing3","bigOpSpacing4","bigOpSpacing5","pxPerEm","doubleRuleSep","arraycolsep","baselineskip","arrayrulewidth","fboxsep","fboxrule","extraCharacterMap","getCharacterMetrics","character","fontCode","fontName","metrics","metricMap","height","italic","defaultMetrics","convertDimenToEm","unit","factor","convertDimenToPx","toEm","toPx","emPerEx","Mathstyle","multiplier","cramped","sizeMultiplier","styles","fracNum","fracDen","cramp","sizeNames","newStyle","ADJUST_NAMES","D","Dc","Tc","Sc","SS","SSc","toMathstyle","STYLE_NAMES","DISPLAY","TEXT","SCRIPTSCRIPT","macros","generateID","mathstyle","parentMathstyle","parentSize","opacity","override","clone","elem","Span","classes","children","updateDimensions","maxFontSize","isSelected","selected","setStyle","backgroundColor","cssClass","fontFamily","fontShape","getFontName","fontSeries","FONT_CLASS","size1","size2","size3","size4","size5","size6","size7","size8","size9","size10","fontSize","FontMetrics","prop","top","width","margin","cls","currentMargin","hskip","hscale","previousType","child","spacing","isTight","INTER_ATOM_TIGHT_SPACING","INTER_ATOM_SPACING","toMarkup","lastSpanType","cssId","svgOverlay","caret","classList","NEGATIVE_SPACING_CHARACTER","SPACING_CHARACTER","styleString","padding","svgStyle","span","hasChildren","spanHasChildren","thisStyleCount","spanStyleCount","spanClasses","coalesce","spans","tryCoalesceWith","makeSpan","makeSymbol","setRight","makeFontSizer","fontSizeAdjustment","fontSizeInner","makeSpanOfType","makeOp","makeOrd","makeRel","makeClose","makeOpen","makeInner","makePunct","makeStyleWrap","fromStyle","toStyle","makeHlist","adjustTo","makeSVG","svgMarkup","makeVlist","posData","listDepth","currPos","bottom","originalElements","diff","kern","fontSizer","newElements","setTop","FONT_NAME","category","MATH_SYMBOLS","FUNCTIONS","ENVIRONMENTS","MACROS","RIGHT_DELIM","CRYPTIC","ARCANE","RARE","UNCOMMON","COMMON","SUPERCOMMON","FREQUENCY_VALUE","frequency","defineSymbol","latexName","ORD","MATHORD","baseFontFamily","defineSymbols","defineSymbolRange","CODEPOINT_SHORTCUTS","8739","matchCodepoint","parseMode","cp","TEXT_SYMBOLS","MATH_LETTER_EXCEPTIONS","MATH_UNICODE_BLOCKS","variant","unicodeToMathVariant","codepoint","mathVariantToUnicode","codepointToLatex","unicodeStringToLatex","commandAllowed","allowedInText","getValue","getEnvironmentInfo","parser","tabular","colFormat","lFence","rFence","getInfo","def","argCount","infix","optional","defaultValue","placeholder","suggest","MAIN","AMS","BIN","REL","OPEN","CLOSE","PUNCT","INNER","SPACING","parseParamTemplateArgument","argTemplate","isOptional","parseParamTemplate","paramTemplate","parseArgAsString","defineEnvironment","parsedParams","defineFunction","parseFunction","parse","align","firstRowFormat","lastRowFormat","colCount","row","gap","jot","arraystretch","limits","_name","skipBoundary","overscript","underscript","mathtype","framecolor","backgroundcolor","border","notations","strokeColor","strokeWidth","strokeStyle","shadow","captureSelection","shorthand","svgStrokeStyle","borderStyle","notation","_args","numer","denom","hasBarLine","leftDelim","rightDelim","continuousFraction","_funcname","numerPrefix","denomPrefix","delim","delimiterSizes","mclass","getSimpleString","atoms","success","atom","accent","'","COMMAND_MODE_CHARACTERS","LETTER","navigator","LETTER_AND_DIGITS","makeSmallDelim","center","text","Definitions","makeLargeDelim","inner","font","sizeClass","makeStackedDelim","heightTotal","topMetrics","topHeightTotal","repeatMetrics","repeatHeightTotal","bottomMetrics","bottomHeightTotal","middleHeightTotal","middleFactor","middleMetrics","minHeight","repeatCount","realHeightTotal","inners","stackLargeDelimiters","stackAlwaysDelimiters","stackNeverDelimiters","sizeToMaxHeight","makeSizedDelim","makeNullFence","stackNeverDelimiterSequence","stackAlwaysDelimiterSequence","stackLargeDelimiterSequence","delimTypeToFont","traverseSequence","heightDepth","makeCustomSizedDelim","delimType","makeLeftRightDelim","delimiterFactor","delimiterShortfall","delta2","delta1","GREEK_REGEX","AUTO_ITALIC_REGEX","SIZING_MULTIPLIER","MathAtom","applyStyle","phantom","autoFontFamily","getInitialBaseElement","getFinalBaseElement","cb","superscript","subscript","cell","relation","localContext","decompose","colMax","colSpec","colIndex","newRow","lastCol","arrayskip","FONTMETRICS","arstrutHeight","arstrutDepth","totalHeight","nc","nr","inrow","outrow","elt","rowGaps","contentCols","col","cols","prevColContent","prevColRule","currentContentCol","firstColumn","colDesc","makeColGap","makeColOfRepeatingElements","rule","setLeft","innerHeight","innerDepth","Delimiters","newContext","numeratorStyle","numerReset","denominatorStyle","numShift","clearance","denomShift","denomReset","ruleWidth","frac","numerDepth","denomHeight","candidateClearance","mid","getStyle","delimSize","savedCaret","savedSelected","phi","lineClearance","innerTotalHeight","minDelimiterHeight","delimDepth","newcontext","innerRootHeight","innerRootDepth","toShift","rootVlist","attachSupsub","isCharacterBox","vecClass","accentBody","vlist","innerSpan","annotationStyle","above","below","makeStack","large","baseShift","alwaysHandleSupSub","attachLimits","box","svg","actuarial","madruwb","roundedbox","circle","horizontalstrike","verticalstrike","updiagonalstrike","downdiagonalstrike","phantomBase","decomposeGroup","decomposeArray","decomposeGenfrac","decomposeSurd","decomposeAccent","decomposeLeftright","decomposeLine","decomposeOverunder","decomposeOverlap","decomposeRule","decomposeOp","setWidth","spacingCls","setMathstyle","decomposeBox","decomposeEnclose","suggestion","lastSpan","nucleus","supmid","submid","minSupShift","supShift","subShift","scriptspace","supsub","psi","supsubContainer","nucleusShift","limitAbove","limitBelow","makeID","overrideID","seed","aboveShift","belowShift","displaySelection","groupNumbers","nextType","selection","digitStringID","latex","makeRoot","MATHEMATICA_COLORS","AREA_COLORS","LINE_COLORS","NAMED_COLORS","stringToColor","baseRed","baseGreen","baseBlue","colorSpec","red","green","blue","mix","complementary","colorName","r1","g1","b1","colorToString","toUpperCase","MathAtomModule","Parser","tokens","mathList","tabularMode","endCount","newMathList","lastType","lastAtom","hasToken","hasColumnSeparator","parseTokens","commands","hasRowSeparator","parseToken","hasCommand","literal","hasLiteral","skipped","skippedSpace","skipWhitespace","skippedRelax","parseCommand","keyword","savedIndex","hasKeyword","Color","scanString","negative","parseLiteral","hasLiteralPattern","scanNumber","parseKeyword","scanDimen","savedParsemode","swapParseMode","scanImplicitGroup","final","latexOpen","latexClose","envName","scanArg","env","param","scanOptionalArg","savedMode","savedTabularMode","savedMathList","swapMathList","parseColumnSeparator","parseRowSeparator","savedStyle","prefix","savedMathlist","hasImplicitCommand","hasInfixCommand","parseAtom","suffix","nestLevel","scanDelim","lastMathAtom","explicitLimits","savedParseMode","scanSkip","scanColspec","scanColor","parseFiller","scanToken","paramToken","skipUntilToken","substr","scanMacro","argString","explicitGroup","saveStyle","smartFence","scanSmartFence","group","warn","macro","scanEnvironment","scanModeShift","scanModeSet","scanGroup","scanLeftRight","parseSupSub","parseLimits","mathlist","pathToString","extent","pathFromString","components","segments","m2","pathCommonAncestor","pathDistance","KEYBOARD_SHORTCUTS","discard","acceptSuggestion","withHighlighting","REVERSE_KEYBOARD_SHORTCUTS","INLINE_SHORTCUTS","startsWithString","config","s2","substring","skipDefaultShortcuts","overrideDefaultInlineShortcuts","customInlineShortcuts","inlineShortcuts","validateShortcut","siblings","shortcut","nothing","letter","surd","binop","relop","punct","openfence","closefence","sibling","forString","customResult","platform","selectorForKeystroke","keystroke","commandToString","forCommand","candidate","regex","shortcuts","keyboardShortcut","platMatch","plat","useSymbol","modifiers","shortcutString","modifier","isEmptyMathlist","EditableMathlist","suppressChangeNotifications","MathPath","arrayIndex","rowCol","arrayColRow","arrayCell","colrow","makeFirstAtom","arrayCellCount","numRows","numCols","arrayJoinColumns","arrayJoinRows","separators","arrayColumnCellCount","colRow","cellLen","arrayRemoveColumn","arrayRemoveRow","arrayFirstCellByRow","arrayAdjustRow","dir","isNumber","atomContains","removeCommandStringFromAtom","removeParen","applyStyleToUnstyledAtoms","parseMathString","format","parseMathExpression","parseMathArgument","noWrap","rest","paddedShortcut","level","Shortcuts","_announce","onAnnounce","collapseForward","collapseBackward","move","initialAnchor","iterateAll","forEachSelected","recursive","firstOffset","startOffset","lastOffset","endOffset","adjustPlaceholder","placeholderAtom","anchorStyle","selectionWillChange","onSelectionWillChange","selectionDidChange","onSelectionDidChange","contentWillChange","onContentWillChange","contentDidChange","onContentDidChange","setPath","newPath","oldPath","pathChanged","extentChanged","anchorOffset","toLatex","setExtent","wordBoundary","wordBoundaryOffset","setRange","distance","extendToWordBoundary","commonAncestor","ancestorDepth","ancestor","focusOffset","insertFirstAtom","isCollapsed","setSelection","selectGroup_","anchorMode","selectAll_","deleteAll_","delete_","contains","getSelectedAtoms","commandOffsets","extractCommandStringAroundInsertionPoint","beforeInsertionPointOnly","decorateCommandStringAroundInsertionPoint","commitCommandStringBeforeInsertionPoint","spliceCommandStringAroundInsertionPoint","newPlaceholders","leap","removeCommandString","contentWasChanging","extractArgBeforeInsertionPoint","oldRelation","arrayRelation","relationChanged","siblingsCount","oldExtent","oldOffset","offsetChanged","NEXT_RELATION","cellIndex","maxCellCount","onMoveOutOf","skip","PREVIOUS_RELATION","parentType","dist","extend","removeSuggestion","up","down","newFocusOffset","focus","jump","jumpToMathFieldBoundary","callHandler","savedSuppressChangeNotifications","placeholders","onTabOutOf","activeElement","focussableElements","focussable","querySelectorAll","offsetWidth","offsetHeight","simplifyParen","removeExtraneousParentheses","genFracCount","genFracIndex","nonGenFracCount","insert","_insertSmartFence","insertionMode","selectionMode","ParserModule","_deleteAtoms","fence","lDelim","rDelim","collapsed","tail","grandparent","positionInsertionPointAfterCommitedCommand","insertSuggestion","subs","delete","dest","destLength","destCell","moveToNextPlaceholder_","moveToPreviousPlaceholder_","moveToNextChar_","moveToPreviousChar_","moveUp_","moveDown_","moveToNextWord_","moveToPreviousWord_","moveToGroupStart_","moveToGroupEnd_","moveToMathFieldStart_","moveToMathFieldEnd_","deleteNextChar_","deletePreviousChar_","deleteNextWord_","extendToNextBoundary","deletePreviousWord_","extendToPreviousBoundary","deleteToGroupStart_","extendToGroupStart","deleteToGroupEnd_","extendToMathFieldStart","deleteToMathFieldEnd_","extendToMathFieldEnd","transpose_","extendToNextChar_","extendToPreviousChar_","extendToNextWord_","extendToPreviousWord_","extendUp_","extendDown_","extendToNextBoundary_","extendToPreviousBoundary_","extendToGroupStart_","extendToGroupEnd_","extendToMathFieldStart_","extendToMathFieldEnd_","moveToSuperscript_","moveToSubscript_","moveToOpposite_","OPPOSITE_RELATIONS","oppositeRelation","moveBeforeParent_","moveAfterParent_","_addCell","where","convertParentToArray","addRowAfter_","addRowBefore_","addColumnAfter_","addColumnBefore_","_applyStyle","everyStyle","series","shape","INTL_KEY","KEY_NAMES","VIRTUAL_KEY_NAMES","keyboardEventToString","evt","keyname","useModifiers","ctrlKey","metaKey","altKey","shiftKey","delegateKeyboardEvents","textarea","handlers","callbackTimeoutID","keydownEvent","keypressEvent","compositionInProgress","deadKey","clearTimeout","handleTypedText","hasSelection","typedText","onKeydown","allowDeadKey","keyCode","savedBlur","blur","savedFocus","onKeypress","onKeyup","onPaste","paste","onCopy","copy","onCut","cut","onBlur","onFocus","container","selectionStart","selectionEnd","eventToChar","charToEvent","select","UndoManager","maximumDepth","canCoalesce","canUndo","onUndoStateWillChange","restore","onUndoStateDidChange","canRedo","snapshot","wasSuppressing","SAMPLES","NOTES","getNote","latexToMarkup","mf","topStrut","bottomStrut","showPopoverWithLatex","displayArrows","command_markup","command_note","command_shortcuts","showPopover","popover","getElementsByClassName","_attachButtonHandlers","hidePopover","updatePopoverPosition","mathfield","deferred","requestAnimationFrame","_getCaretPosition","setPopoverPosition","markup","innerHTML","screen_height","documentElement","clientHeight","screen_width","innerWidth","clientWidth","scrollbar_width","scrollbar_height","virtualkeyboard_height","virtualKeyboardVisible","virtualKeyboard","remove","findLongestRun","latexifyArray","expandMacro","propValue","allAtomsHaveShapeOrSeriesOrFontFamily","latexify","bboxParams","l10n","language","locale","strings","plural","rules","ordinal","cardinal","_ordinalPluralCategories","_cardinalPluralCategories","_ordinalEnglish","_cardinalEnglish","merge","savedLocale","_locale","_ordinal","_cardinal","Intl","PluralRules","_ordinalEnglishPluralCategories","resolvedOptions","pluralCategories","_cardinalEnglishPluralCategories","_cardinaPluralCategories","KEYBOARDS","tooltip","layer","layers","SHIFTED_KEYS","ALT_KEYS_BASE","aside","ALT_KEYS","LAYERS","makeKeyboardToolbar","keyboardIDs","currentKeyboard","keyboardList","keyboards","customVirtualKeyboards","keyboard","makeKeycap","elList","chainedCommand","getAttribute","setAttribute","feedback","resetStyle","textContent","simulateKeystroke","altKeys","default","pressAndHoldStart","pressAndHoldEnd","expandLayerMarkup","ROWS","layout","virtualKeyboardLayout","attributesArray","make","theme","svgIcons","upperAlpha","lowerAlpha","virtualKeyboards","customVirtualKeyboardLayers","keyboardLayers","Set","tempLayer","backdrop","rows","class","shifted","shiftedCommand","layerMarkup","className","virtualKeyboardTheme","pressed","layerElements","preventDefault","stopPropagation","hideAlternateKeys_","unshiftKeyboardLayer_","SPECIAL_IDENTIFIERS","SPECIAL_OPERATORS","toASCIIMath","xmlEscape","scanIdentifier","mathML","toMathML","isSuperscriptAtom","isSubscriptAtom","indexOfSuperscriptInNumber","parseSubsup","scanText","initial","scanFence","openIndex","closeIndex","toMo","scanOperator","op","isUnit","MATH_VARIANTS","CANONICAL_NAMES","OP_NAME","FUNCTION_TEMPLATE","OP_PRECEDENCE","getArg","ast","getPrecedence","canonicalName","getAssociativity","getLatexTemplateForFunction","getLatexForSymbol","getCanonicalName","opPrec","getString","isOperator","DELIM_FUNCTION","POSTFIX_FUNCTION","ASSOCIATIVE_FUNCTION","SUPER_ASSOCIATIVE_FUNCTION","subAtom","asSymbol","asMachineNumber","num","numberRe","parseFloatToPrecision","numberIm","im","isComplexWithRealAndImaginary","hasSup","hasSub","isAtom","expr","wrapFn","functionName","wrapNum","negate","nextIsSupsub","parseSupsub","parsePostfix","lhs","nextIsDigraph","parseDelim","ldelim","rdelim","savedPrec","minPrec","parseExpression","atom2","pairedDelim","digraph","parseDigraph","parsePrimary","pat","toAST","INVERSE_FUNCTION","prec","assoc","opName","sub_arg","currentSym","rhs","escapeText","filterPresentationAtoms","parseSentence","zones","wrapFence","formatMantissa","originalLength","cycle","times","groupSeparator","beginRepeatingDigits","endRepeatingDigits","numberAsLatex","decimalMarker","exponentProduct","exponentMarker","scientificNotation","toExponential","valString","asLatex","product","arcSeparator","argstring","parenRequired","arg0","arg1","argsn","variantSym","statement","condition","PRONUNCIATION","getSpokenName","Popover","isAtomic","atomicID","atomicValue","toSpeakableFragment","textToSpeechMarkup","emph","speechMode","isInDigitRun","supsubHandled","COMMON_FRACTIONS","commonFraction","index2","atomValue","latexValue","spokenName","trimLatex","toSpeakableText","speechOptions","textToSpeechRules","sre","textToSpeechRulesOptions","rate","speechEngineRate","System","getInstance","setupEngine","toSpeech","prosody","HAPTIC_FEEDBACK_DURATION","AUDIO_FEEDBACK_VOLUME","on","selectors","sel","options2","passive","off","removeEventListener","getSharedElement","getElementById","releaseSharedElement","refcount","isValidMathfield","validateStyle","lastTap","MathField","changeType","$setConfig","longPressed","originalContent","elementText","$latex","$focus","substituteTextArea","virtualKeyboardMode","matchMedia","matches","virtualKeyboardToggleGlyph","iChild","firstElementChild","field","ev","wheelDelta","deltaX","detail","scroll","scrollLeft","virtualKeyboardToggleDOMNode","alt","ariaLiveText","accessibleNode","keystrokeCaption","keystrokeCaptionVisible","keystrokeBuffer","keystrokeBufferStates","keystrokeBufferResetTimer","suggestionIndex","defaultMode","smartModeSuppressed","blurred","Keyboard","_onTypedText","_onPaste","_onKeystroke","_onFocus","_onBlur","PointerEvent","localConfig","_onSelectionDidChange","_onContentDidChange","undoManager","Undo","startRecording","_onPointerDown","_resizeTimer","cancelAnimationFrame","_onResize","_onCut","_onCopy","_findElementWithCaret","bounds","getBoundingClientRect","selectedNodes","selectionRect","fieldRect","w","nearest","nearestElementFromPoint","paths","_path","childAtom","trackingPointer","trackingWords","dirty","buttons","scrollRight","scrollInterval","setInterval","anchorX","touches","clientX","anchorY","clientY","anchorTime","time","tapCount","$hasFocus","_resetKeystrokeBuffer","_pathFromPoint","endPointerTracking","onPointerMove","setPointerCapture","pointerId","_requestUpdate","releasePointerCapture","clearInterval","parentNode","hysteresis","pointerType","fieldBounds","actualAnchor","isPrimary","previousMode","onModeChange","oldMathlist","leaf","EXPR_NAME","PARENT_NAME","speakableText","relationName","showVirtualKeyboard_","hideVirtualKeyboard_","complete_","visibility","vb","childNodes","selector","handled","suggestions","keypressVibration","vibrate","returnKeypressSound","load","play","catch","keypressSound","deleteKeypressSound","$perform","until","removeIsolatedSpace_","save","getTextBeforeAnchor_","convertLastAtomsToMath_","convertLastAtomsToText_","stateIndex","_showKeystroke","onKeystroke","resetKeystrokeBuffer","inlineShortcutTimeout","smartMode","smartMode_","nextSibling","previousSibling","saveMode","snapshotAndCoalesce","scrollIntoView","commandMode","switchMode_","$keystroke","popoverText","pasteInProgress","graphemes","_superscriptDepth","scriptDepth","_subscriptDepth","smartSuperscript","_","_render","renderOptions","mathlive","hasFocus","_hash","forHighlighting","struts","horizontalSpacingScale","_getSelectionBounds","selectionElement","insertBefore","$clearSelection","clipboardData","setData","$text","$selectedText","saveTextToSpeechMarkup","saveGenerateID","json","formatMathlist","wasSuperscript","wasSubscript","oldValue","undo","redo","selectionBounds","scrollTop","scrollX","behavior","$select","execCommand","toggleVirtualKeyboard_","$insert","switchKeyboardLayer_","_updateSuggestion","pressHoldStart","pressHoldElement","touchID","syntheticTarget","pressAndHoldTimer","altshift","changedTouches","identifier","pressAndHoldStartCommand","elementFromPoint","MouseEvent","bubbles","ariaLabel","button","keycap","altContainer","VirtualKeyboard","keycapEl","querySelector","transform","dataset","keycaps","shiftedContent","commandObj","hadAltTheme","changeType_","turnOffBox_","onVirtualKeyboardToggle","targetMode","convertedSelection","groupIsSelected","conf","_onAnnounce","spacebarKeypressSound","Audio","preload","volume","spacebar","return","plonkSound","amount","speakOptions","getAtoms","mathField","getFailedSpeech","handleSpeak","speechEngine","readAloudMathField","handleReadAloud","POSITIVE_INFINITY","considerChildren","dx","dy","atomsToSpeak","liveText","_nextAtomSpeechText","ariaLiveChangeHack","undo_","redo_","scrollIntoView_","scrollToStart_","scrollToStart","scrollToEnd_","scrollToEnd","insert_","findEndOfMath","startIndex","braceLevel","delimLength","splitAtDelimiters","startData","finalData","lookingForLeft","currIndex","nextIndex","rawData","splitWithDelimiters","delimiters","inline","createMathMLNode","renderToMathML","createMarkupNode","createNodeOnFailure","preserveOriginalContent","renderToMarkup","createAccessibleMarkupPair","markupNode","renderAccessibleContent","createDocumentFragment","renderToSpeakableText","TeX","processEnvironments","scanElement","nodeType","childNode","frag","replaceChild","nodeName","processScriptTypePattern","toLoweCase","shouldRender","processClassPattern","skipTags","ignoreClassPattern","defaultOptions","processScriptType","ignoreClass","processClass","disabled","renderMathInElement","message","makeMathField","speak","readAloud","getElement","latexToAST","astToLatex","mathJson","latexToSpeakableText","removeHighlight","highlightAtomID","atomID","atomId","AWS","polly","Polly","apiVersion","OutputFormat","VoiceId","speechEngineVoice","Text","TextType","synthesizeSpeech","AudioStream","uInt8Array","Blob","audioElement","utterance","SpeechSynthesisUtterance","speechSynthesis","SpeechMarkTypes","readAloudElement","status","onReadAloudStatus","response","TextDecoder","decode","readAloudMarks","readAloudTokens","readAloudCurrentMark","readAloudAudio","pause","currentTime","readAloudCurrentToken","readAloudFinalToken","readAloudStatus","paused","ended","pauseReadAloud","resumeReadAloud","playReadAloud","timeIndex","tokenIndex","renderMathInDocument","AutoRender","validateNamespace","revertToOriginalContent","getOriginalContent","MathLive","latexToMathML","Mathfield","install","Vue","nativeSlice","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","nativeCosh","cosh"],"mappings":"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AQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACX,OAAWA,GACX,OAAWA,GACX,OAAWA,GACX,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACX,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACX,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACX,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACX,OAAWA,GACX,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACX,OAAWA,GACX,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACX,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC3B,OAAWA,GACV,MAAUA,GAAQA,GAAQ,MAC1B,MAAUA,GAAQA,GAAQ,MA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AAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,OAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,OAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,GACX,QAAWA,EAEHwmC,EAIP,OAAUxmC,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAAQ,OAC1B,OAAUA,GAAQA,GAA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AAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,IAAM,IAAM,EAAG,GACvB,IAAO,CAAC,IAAM,IAAM,EAAG,GACvB,IAAO,CAAC,IAAM,IAAM,EAAG,GACvB,IAAO,CAAC,IAAM,OAAS,EAAG,GAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAA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CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,EAAE,OAAS,OAAS,EAAG,GAC/B,KAAQ,EAAE,OAAS,OAAS,EAAG,GAC/B,KAAQ,EAAE,OAAS,OAAS,EAAG,GAC/B,KAAQ,CAAC,IAAM,IAAM,EAAG,GACxB,KAAQ,CAAC,IAAM,IAAM,EAAG,GACxB,KAAQ,CAAC,IAAM,IAAM,EAAG,GACxB,KAAQ,CAAC,IAAM,IAAM,EAAG,GACxB,KAAQ,EAAE,OAAS,OAAS,EAAG,GAC/B,KAAQ,EAAE,OAAS,OAAS,EAAG,GAC/B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,EAAE,OAAS,OAAS,EAAG,GAC/B,KAAQ,CAAC,OAAS,OAAS,EAAG,GAC9B,KAAQ,EAAE,OAAS,OAAS,EAAG,GA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,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,KAAQ,CAAC,EAAG,OAAS,OAAS,GAC9B,KAAQ,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EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,OAAS,GACnC,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,OAAS,GAC7B,K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GACtB,GAAM,CAAC,OAAS,OAAS,EAAG,GAC5B,GAAM,EAAE,OAAS,OAAS,EAAG,GAC7B,GAAM,EAAE,OAAS,OAAS,EAAG,GAC7B,GAAM,EAAE,OAAS,OAAS,EAAG,GAC7B,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,OAAS,OAAS,EAAG,GAC5B,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,OAAS,OAAS,EAAG,GAC5B,GAAM,CAAC,OAAS,OAAS,EAAG,GAC5B,GAAM,CAAC,OAAS,OAAS,EAAG,GAC5B,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,OAAS,EAAG,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,GAAM,CAAC,EAAG,OAAS,EAAG,GACtB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,OAAS,OAAS,EAAG,GAC7B,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,IAAO,CAAC,EAAG,OAAS,EAAG,GACvB,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,EAAG,OAAS,EAAG,GACxB,KAAQ,CAAC,EAAG,OAAS,EAAG,KC/rD1BQ,EACF,kEA8BSC,EAAS,CAClBC,MAAO,CAAC,IAAO,IAAO,KACtBpY,MAAO,CAAC,EAAO,EAAO,GACtBqY,QAAS,CAAC,EAAO,EAAO,GACxBC,OAAQ,CAAC,EAAO,EAAO,GACvBC,QAAS,CAAC,KAAO,KAAO,MACxBC,KAAM,CAAC,EAAO,MAAO,OACrBC,WAAY,CAAC,EAAO,EAAO,GAC3BC,KAAM,CAAC,KAAO,KAAO,MACrBC,KAAM,CAAC,KAAO,KAAO,MACrBC,KAAM,CAAC,KAAO,KAAO,MACrBC,OAAQ,CAAC,KAAO,KAAO,OACvBC,OAAQ,CAAC,KAAO,KAAO,MACvBC,KAAM,CAAC,KAAO,KAAO,MACrBC,KAAM,CAAC,KAAO,KAAO,MACrBC,KAAM,CAAC,KAAO,KAAO,MACrBC,KAAM,CAAC,IAAO,KAAO,IACrBC,KAAM,CAAC,KAAO,KAAO,IACrBC,QAAS,CAAC,KAAO,KAAO,MACxBC,QAAS,CAAC,IAAO,KAAO,IACxBC,OAAQ,CAAC,KAAO,IAAO,MACvBC,OAAQ,CAAC,KAAO,MAAO,MACvBC,WAAY,CAAC,IAAO,IAAO,MAezBC,EAAM,IACNC,EAAM,KACNC,EAAO,KACPC,EAAO,GACPC,EAAO,GACPC,EAAO,GAMPC,EAAU,GASHC,EAAU,CACnBC,qBAAsBR,EACtBS,cAAeR,EACfS,cAAeR,EACfS,cAAeR,EACfS,cAAeR,EACfS,cAAeR,EACfC,QAASA,EACTQ,QAAmB,EAAVR,EAAgB,EACzBS,cAAe,EAAMT,EACrBU,YAAa,EAAMV,EACnBW,aAAc,GAAOX,EACrBY,eAAgB,GAAMZ,EACtBa,QAAS,EAAIb,EACbc,SAAU,GAAMd,GAWde,EAAoB,CACtB,IAAU,IACV,IAAU,IAEV,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAIL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAeHC,EAAsB,SAASC,EAAWC,GAC5C,IAAMC,EAAW,CACb,IAAO,sBACP,IAAO,cACP,KAAQ,kBACR,GAAM,cACN,IAAO,iBACP,IAAO,eACP,KAAQ,qBACR,KAAQ,qBACVD,IAAaA,EAKXj7B,EAAKg7B,EAAU3zB,WAAW,GAE1B2zB,EAAU,KAAMF,EAChB96B,EAAK86B,EAAkBE,EAAU,IAAI3zB,WAAW,GACzC6wB,EAAS/gD,KAAK6jD,EAAU,MAC/Bh7B,EAAK,IAET,IAAMm7B,EAAUC,EAAUF,GAAUl7B,GAEpC,OAAKm7B,EAgBDA,EACO,CACHve,MAAOue,EAAQ,GACfE,OAAQF,EAAQ,GAChBG,OAAQH,EAAQ,GAChBvT,KAAMuT,EAAQ,IAIf,KAlBI,CACHI,gBAAgB,EAChB3e,MAAO,GACPye,OAAQ,GACRC,OAAQ,EACR1T,KAAM,IAyBlB,SAAS4T,GAAiBtlD,EAAOulD,EAAM96B,GACnC,GAAqB,kBAAVzqB,EAAoB,CAC3B,IAAMb,EAAIa,EAAMsL,MAAM,gCACjBnM,GAGDa,EAAQo0B,WAAWj1B,EAAE,IACrBomD,EAAOpmD,EAAE,GAAG4b,eAHZ/a,EAAQo0B,WAAWp0B,GAQ3B,IAAMoE,EAAI,CACN,GAAM,EACN,GAAM,KAAO,KACb,GAAM,KAAO,IACb,GAAM,MAAQ,KACd,GAAM,IACN,GAAM0/C,EAAQD,QACd,GAAM,QACN,GAAM,KAAO,KACb,GAAM,GACN,GAAM,MACN,GAAM,GAAK,IAEb0B,IAAS,EAEX,GAAIz5B,SAASrB,GAAY,CACrB,IAAM+6B,EAASjkD,KAAK4U,IAAI,GAAIsU,GAC5B,OAAOlpB,KAAK2zB,MAAOl1B,EAAQ8jD,EAAQD,QAAWz/C,EAAIohD,GAAUA,EAGhE,OAAQxlD,EAAQ8jD,EAAQD,QAAWz/C,EAGvC,SAASqhD,GAAiBzlD,EAAOulD,GAC7B,OAAOD,GAAiBtlD,EAAOulD,IAAS,EAAM,GAAOzB,EAAQD,QAIlD,QACX6B,KAAOJ,GACPK,KAAMF,GACN3B,UACA7B,SACA4C,uB,8iBC5TJ,IACI9lD,GADEkmD,GAAU,CAAC,GAAI,GAAI,IAEzB,IAAK,IAAM3kD,MAAO2hD,EACd,GAAIxiD,OAAOkB,UAAUC,eAAe1B,KAAK+iD,EAAQ3hD,IAC7C,IAAKvB,GAAI,EAAGA,GAAI,EAAGA,KACfkmD,GAAQlmD,IAAGuB,IAAO2hD,EAAO3hD,IAAKvB,IAI1C,IAAKA,GAAI,EAAGA,GAAI,EAAGA,KACfkmD,GAAQlmD,IAAG6mD,QAAU3D,EAAOI,QAAQtjD,IAAKkjD,EAAOK,KAAKvjD,I,IAcnD8mD,G,WACF,WAAYxlC,EAAIpQ,EAAM61C,EAAYC,GAAS,WACvCpnD,KAAK0hB,GAAKA,EACV1hB,KAAKsR,KAAOA,EACZtR,KAAKonD,QAAUA,EACfpnD,KAAKqnD,eAAiBF,EACtBnnD,KAAKsmD,QAAUA,GAAQh1C,EAAO,EAAIA,EAAO,EAAI,G,yCAQ7C,OAAOg2C,GAAO5zB,GAAI1zB,KAAK0hB,O,4BAQvB,OAAO4lC,GAAOrgC,GAAIjnB,KAAK0hB,O,gCASvB,OAAO4lC,GAAOC,GAAQvnD,KAAK0hB,O,gCAS3B,OAAO4lC,GAAOE,GAAQxnD,KAAK0hB,O,8BAS3B,OAAO4lC,GAAOG,GAAMznD,KAAK0hB,O,4BAQzB,OAAOgmC,GAAU1nD,KAAKsR,Q,+BAOjBq2C,GACL,IAAI3+C,EAAS4+C,GAAa5nD,KAAKsR,MAAMq2C,EAASr2C,MAE9C,OADItI,EAAOlF,OAAS,IAAGkF,EAAS,IAAMA,GAC/BA,I,gCAQP,OAAOhJ,KAAKsR,MAAQ,M,KActBu2C,GAAI,EACJC,GAAK,EACLx5B,GAAI,EACJy5B,GAAK,EACLpgD,GAAI,EACJqgD,GAAK,EACLC,GAAK,EACLC,GAAM,EAGNZ,GAAS,CACX,IAAIJ,GAAUW,GAAG,EAAG,GAAK,GACzB,IAAIX,GAAUY,GAAI,EAAG,GAAK,GAC1B,IAAIZ,GAAU54B,GAAG,EAAG,GAAK,GACzB,IAAI44B,GAAUa,GAAI,EAAG,GAAK,GAC1B,IAAIb,GAAUv/C,GAAG,EAAG,IAAK,GACzB,IAAIu/C,GAAUc,GAAI,EAAG,IAAK,GAC1B,IAAId,GAAUe,GAAI,EAAG,IAAK,GAC1B,IAAIf,GAAUgB,GAAK,EAAG,IAAK,IAU/B,SAASC,GAAYhmD,GACjB,IAAKA,EAAG,OAAOA,EAEf,GAAiB,WAAb,GAAOA,GAAgB,OAAOA,EAElC,IAAMimD,EAAc,CAChB,aAAgBd,GAAOO,IACvB,UAAaP,GAAOh5B,IACpB,YAAeg5B,GAAO3/C,IACtB,kBAAqB2/C,GAAOW,KAIhC,OADAriC,QAAQu8B,OAAOiG,EAAYjmD,GAAI,mBAAoBA,EAAG,KAC/CimD,EAAYjmD,GAMvB,IAAMulD,GAAY,CACd,yBACA,YACA,cACA,qBAIEE,GAAe,CACjB,CACI,GACA,GACA,8BACA,qCAGJ,CACI,yCACA,GACA,8BACA,qCAGJ,CACI,2CACA,8BACA,GACA,uCAGJ,CACI,iDACA,oCACA,sCACA,KAMFl0B,GAAM,CAAC/rB,GAAGqgD,GAAIrgD,GAAGqgD,GAAIC,GAAIC,GAAKD,GAAIC,IAClCjhC,GAAM,CAAC+gC,GAAIA,GAAIA,GAAIA,GAAIE,GAAKA,GAAKA,GAAKA,IACtCX,GAAU,CAACj5B,GAAGy5B,GAAIpgD,GAAGqgD,GAAIC,GAAIC,GAAKD,GAAIC,IACtCV,GAAU,CAACO,GAAIA,GAAIC,GAAIA,GAAIE,GAAKA,GAAKA,GAAKA,IAC1CT,GAAQ,CAACK,GAAIA,GAAIC,GAAIA,GAAIC,GAAIA,GAAIE,GAAKA,IAI7B,IACXG,QAASf,GAAOO,IAChBS,KAAMhB,GAAOh5B,IACbsK,OAAQ0uB,GAAO3/C,IACf4gD,aAAcjB,GAAOW,IACrBE,gB,sUCtME5oB,G,WACF,WAAY/vB,GAAM,WACdxP,KAAKwoD,OAASh5C,EAAKg5C,QAAU,GAC7BxoD,KAAKyoD,aAAaj5C,EAAKi5C,YAAaj5C,EAAKi5C,WAEzCzoD,KAAK0oD,UAAYxB,GAAUiB,YAAY34C,EAAKk5C,WAAa,gBACzD1oD,KAAKsR,KAAO9B,EAAK8B,MAAQ,QAEzBtR,KAAK2oD,gBAAkBn5C,EAAKm5C,iBAAmB3oD,KAAK0oD,UACpD1oD,KAAK4oD,WAAap5C,EAAKo5C,YAAc5oD,KAAKsR,KAE1CtR,KAAK6oD,QAAUr5C,EAAKq5C,Q,yCAUlBC,GACF,IAAM9/C,EAAS,IAAIu2B,EAAQv/B,MAgB3B,OAfAgJ,EAAO2/C,gBAAkB3oD,KAAK0oD,UAC9B1/C,EAAO4/C,WAAa5oD,KAAKsR,KACzBtI,EAAOw/C,OAASxoD,KAAKwoD,OACjBM,IAI2B,SAAvBA,EAASJ,WAAyBI,EAASJ,kBACpCI,EAASJ,UAEpB5nD,OAAO6V,OAAO3N,EAAQ8/C,GACY,kBAAvBA,EAASJ,YAChB1/C,EAAO0/C,UAAYxB,GAAUiB,YAAYW,EAASJ,aAGnD1/C,I,mCAaE3H,GACLA,GAAmB,SAAVA,IACTrB,KAAK0oD,UAAYxB,GAAUiB,YAAY9mD,M,8BAI3C,OAAOrB,KAAK+oD,MAAM,CAAC,UAAa/oD,KAAK0oD,UAAUjB,Y,4BAG/C,OAAOznD,KAAK+oD,MAAM,CAAC,UAAa/oD,KAAK0oD,UAAUh1B,U,4BAG/C,OAAO1zB,KAAK+oD,MAAM,CAAC,UAAa/oD,KAAK0oD,UAAUh1B,Y,KAIxC,IACX6L,Y,8iBCtFJ,SAAS75B,GAASsf,GACd,IAAIhc,EAAS,GACb,GAAmB,kBAARgc,EACPhc,GAAUpG,KAAK2U,MAAM,IAAMyN,GAAO,SAC/B,GAAmB,kBAARA,EACdhc,GAAUgc,OACP,GAAIjT,MAAMmE,QAAQ8O,GAAM,4BAC3B,YAAmBA,EAAnB,+CAAwB,KAAbgkC,EAAa,QACpBhgD,GAAUtD,GAASsjD,IAFI,wFAIpBhkC,IACPhc,GAAUgc,EAAItf,YAElB,OAAOsD,EA+BJ,IAAMigD,GAAb,WACI,WAAYjwB,EAASkwB,GAAS,WAE1BlpD,KAAKkpD,QAAUA,GAAW,GAEtBn3C,MAAMmE,QAAQ8iB,GAGdh5B,KAAKmpD,SAAW,GAAG9jD,OAAOC,MAAM,GAAI0zB,GACV,kBAAZA,EACdh5B,KAAKwmC,KAAOxN,EACLA,GAA8B,WAAnB,GAAOA,KACzBh5B,KAAKmpD,SAAW,CAACnwB,IAKrBh5B,KAAK05B,MAAQ,KAEb15B,KAAKopD,mBAnBb,sDA8BQ,IAAI5C,EAAS,EACTze,EAAQ,EACRshB,EAAc,EACdrpD,KAAKmpD,UACLnpD,KAAKmpD,SAASjgD,SAAQ,SAAA9F,GACdA,EAAEojD,OAASA,IAAQA,EAASpjD,EAAEojD,QAC9BpjD,EAAE2kC,MAAQA,IAAOA,EAAQ3kC,EAAE2kC,OAC3B3kC,EAAEimD,YAAcA,IAAaA,EAAcjmD,EAAEimD,gBAGzDrpD,KAAKwmD,OAASA,EACdxmD,KAAK+nC,MAAQA,EACb/nC,KAAKqpD,YAAcA,IA1C3B,+BA8CaC,GACDA,IAAe,eAAehnD,KAAKtC,KAAKkpD,WACpClpD,KAAKkpD,QAAQplD,OAAS,IAAG9D,KAAKkpD,SAAW,KAC7ClpD,KAAKkpD,SAAW,iBAEfI,GAAc,eAAehnD,KAAKtC,KAAKkpD,WACxClpD,KAAKkpD,QAAUlpD,KAAKkpD,QAAQ5qC,QAAQ,eAAgB,KAEpDte,KAAKmpD,UACLnpD,KAAKmpD,SAASjgD,SAAQ,SAAA9F,GAAC,OAAIA,EAAEmmD,SAASD,QAvDlD,iCAuEe5vB,GACP,GAAKA,IACDA,EAAM4K,QACc,SAAhB5K,EAAM4K,MACNtkC,KAAKwpD,SAAS,QAAS9vB,EAAM4K,OAE7BtkC,KAAKwpD,SAAS,QAAS,KAG3B9vB,EAAM+vB,kBACwB,SAA1B/vB,EAAM+vB,gBACNzpD,KAAKwpD,SAAS,mBAAoB9vB,EAAM+vB,iBAExCzpD,KAAKwpD,SAAS,mBAAoB,KAQtC9vB,EAAMgwB,WACN1pD,KAAKkpD,SAAW,IAAMxvB,EAAMgwB,UAI3B1pD,KAAKwmC,MAAV,CAOA,IAAImjB,EAAajwB,EAAMiwB,WACJ,SAAfA,GAA6C,MAApBjwB,EAAMkwB,YAE/BD,EAAa,OAEjB,IAAItD,EAAW,eAiBf,GAhBIsD,IACAtD,EAAWwD,GAAY7pD,KAAKwmC,KAAMmjB,IAOlCjwB,EAAMkwB,YACN5pD,KAAKkpD,SAAW,KAAO,CACnB,GAAM,SACN,GAAM,eACN,GAAM,eACN,GAAM,gBACRxvB,EAAMkwB,YAAc,KAEtBlwB,EAAMowB,WAAY,CAClB,IAAMtpD,EAAIk5B,EAAMowB,WAAWn9C,MAAM,uBAC7BnM,IACAR,KAAKkpD,SAAW,KAAO,CACnB,GAAM,gBACN,GAAM,gBACN,EAAK,eACL,GAAM,gBACN,EAAK,GACL,GAAM,gBACN,EAAK,WACL,GAAM,gBACN,GAAM,iBACR1oD,EAAE,IAAM,KAAO,IACjBR,KAAKkpD,SAAW,KAAO,CACnB,GAAM,gBACN,GAAM,gBACN,EAAK,eACL,GAAM,gBACN,EAAK,GACL,GAAM,gBACN,EAAK,eACL,GAAM,gBACN,GAAM,iBACR1oD,EAAE,IAAM,KAAO,KAczB,GAVIupD,GAAWJ,GACX3pD,KAAKkpD,SAAW,IAAMa,GAAWJ,GAC1BA,GAEP3pD,KAAKwpD,SAAS,cAAeG,GAM7B3pD,KAAKwmC,MAAQxmC,KAAKwmC,KAAK1iC,OAAS,GAAKuiD,EAAU,CAC/CrmD,KAAKwmD,OAAS,EACdxmD,KAAK+nC,MAAQ,EACb/nC,KAAKqpD,YAAc,CACfW,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,EACPC,MAAO,IACPC,MAAO,KACPC,MAAO,KACPC,MAAO,KACPC,OAAQ,MACV/wB,EAAMgxB,WAAa,EACrB1qD,KAAK+yC,KAAO,EACZ/yC,KAAKymD,OAAS,EACd,IAAK,IAAIrmD,EAAI,EAAGA,EAAIJ,KAAKwmC,KAAK1iC,OAAQ1D,IAAK,CACvC,IAAMkmD,EAAUqE,GAAYzE,oBAAoBlmD,KAAKwmC,KAAK7tB,OAAOvY,GAAIimD,GAEjEC,IACAtmD,KAAKwmD,OAAS5jD,KAAKsR,IAAIlU,KAAKwmD,OAAQF,EAAQE,QAC5CxmD,KAAK+nC,MAAQnlC,KAAKsR,IAAIlU,KAAK+nC,MAAOue,EAAQve,OAC1C/nC,KAAK+yC,KAAOuT,EAAQvT,KACpB/yC,KAAKymD,OAASH,EAAQG,aA5L1C,+BA8MamE,GAAgB,2BAAPvpD,EAAO,iCAAPA,EAAO,kBACrB,IAAM4wC,EAAIvsC,GAASrE,GACf4wC,EAAEnuC,OAAS,IACN9D,KAAK05B,QAAO15B,KAAK05B,MAAQ,IAC9B15B,KAAK05B,MAAMkxB,GAAQ3Y,KAlN/B,6BAsNW4Y,GACCA,GAAe,IAARA,IACF7qD,KAAK05B,QAAO15B,KAAK05B,MAAQ,IAC9B15B,KAAK05B,MAAM,OAASh0B,GAASmlD,GAAO,KACpC7qD,KAAKwmD,QAAUqE,EACf7qD,KAAK+nC,OAAS8iB,KA3N1B,8BAoOYh8C,GACAA,GAAiB,IAATA,IACH7O,KAAK05B,QAAO15B,KAAK05B,MAAQ,IAC9B15B,KAAK05B,MAAM,eAAiBh0B,GAASmJ,GAAQ,QAvOzD,+BA+Oa2G,GACDA,GAAmB,IAAVA,IACJxV,KAAK05B,QAAO15B,KAAK05B,MAAQ,IAC9B15B,KAAK05B,MAAM,gBAAkBh0B,GAAS8P,GAAS,QAlP3D,+BAqPas1C,GACDA,GAAmB,IAAVA,IACJ9qD,KAAK05B,QAAO15B,KAAK05B,MAAQ,IAC9B15B,KAAK05B,MAAM,SAAWh0B,GAASolD,GAAS,QAxPpD,qCA4PmBC,GACX,GAAIA,GAAqB,IAAXA,EAAc,CACxB,IAAK/qD,KAAK05B,QACL,wEAAwEp3B,KAAKtC,KAAKkpD,SAAU,CAE7F,IAAM8B,EAAM,CACR,EAAK,QACL,EAAK,OACL,KAAM,UACN,QAAY,aACZ,QAAY,cACZ,QAAY,YACZ,YAAa,qBACfD,EAAOrlD,YACT,GAAIslD,EAEA,YADAhrD,KAAKkpD,SAAW,WAAa8B,GAIhChrD,KAAK05B,QAAO15B,KAAK05B,MAAQ,IAC9B,IAAMuxB,EAAgBx1B,WAAWz1B,KAAK05B,MAAM,iBAAmB,KAC/D15B,KAAK05B,MAAM,gBAAkBh0B,GAASulD,EAAgBF,GAAU,QAjR5E,+BA+RaG,EAAOC,GACZD,EAAQA,GAAS,EACjBC,EAASA,GAAU,EACnB,IAAIniD,EAAS,GACTw9B,EAAOxmC,KAAKwmC,MAAQ,GACxB,GAAIxmC,KAAKmpD,SAAU,CACf,IAAIiC,EAAe,OADJ,uBAEf,YAAoBprD,KAAKmpD,SAAzB,+CAAmC,KAAxBkC,EAAwB,QAC3BC,EAAU,EACd,GAAIF,EAAc,CACd,IAAIvsC,EAAOwsC,EAAMxsC,KACbA,IACa,YAATA,IAAoBA,EAAO,QAClB,UAATA,IAAkBA,EAAO,QAEzBysC,EADAD,EAAME,QACKC,GAAyBJ,EAAe,IAAMvsC,IAAS,EAEvD4sC,GAAmBL,EAAe,IAAMvsC,IAAS,EAEhEysC,EAAU1oD,KAAK2U,MAAM4zC,EAASG,IAGtC9kB,GAAQ6kB,EAAMK,SAASJ,EAASH,GAChCC,EAAeO,GAAaN,IAlBjB,mFAsBnB,GAAc,MAAT7kB,GAAsBA,GACrBxmC,KAAKkpD,SAA4B,iBAAjBlpD,KAAKkpD,QAGpB,CAeH,GAZAlgD,EAAS,QAELhJ,KAAK4rD,QACL5iD,GAAU,QAAUhJ,KAAK4rD,MAAQ,MAGjC5rD,KAAK6rD,aACL7rD,KAAKwpD,SAAS,WAAY,YAC1BxpD,KAAKwpD,SAAS,SAAUxpD,KAAKwmD,OAASxmD,KAAK+nC,MAAO,MAClD/nC,KAAKwpD,SAAS,kBAAmBxpD,KAAK+nC,MAAO,OAG7C/nC,KAAKskB,WACL,IAAK,IAAMqY,KAAa38B,KAAKskB,WACrBxjB,OAAOkB,UAAUC,eAAe1B,KAAKP,KAAKskB,WAAYqY,KACtD3zB,GAAU,IAAM2zB,EAAY,KAAO38B,KAAKskB,WAAWqY,GAAa,KAK5E,IAAMusB,EAAUlpD,KAAKkpD,QAAQ58C,MAAM,KAG/BtM,KAAK6e,OACD,4BAA4Bvc,KAAKtC,KAAK6e,OACtCqqC,EAAQr9C,KAAK,CACT,QAAW,cACX,YAAe,kBACf,MAAS,aACX7L,KAAK6e,OAEP7e,KAAK8rD,OAAuB,YAAd9rD,KAAK6e,MACnBqqC,EAAQr9C,KAAK,sBAMrB,IAAIkgD,EAAY,GAgChB,GA9BIA,EADA7C,EAAQplD,OAAS,EACLolD,EAAQ1gC,QAAO,SAAUplB,EAAG2K,EAAG7F,GACvC,OAAO9E,EAAEU,OAAS,GAAKoE,EAAEoN,QAAQlS,KAAO2K,KACzC/I,KAAK,KAEIkkD,EAAQ,GAGpB6C,EAAUjoD,OAAS,IACnBkF,GAAU,WAAa+iD,EAAY,KAInCb,IACIlrD,KAAK05B,OAAS15B,KAAK05B,MAAM,eAEzB15B,KAAK05B,MAAM,eACPh0B,GAAU+vB,WAAWz1B,KAAK05B,MAAM,gBAAkBwxB,EAAQ,IAAO,KAGjEA,EAAQ,GAAKc,IAA4Bd,GACzC1kB,EAAOwlB,IAA4Bd,GAAS1kB,EACrCylB,GAAkBf,GACzB1kB,EAAOylB,GAAkBf,GAAS1kB,GAE7BxmC,KAAK05B,QAAO15B,KAAK05B,MAAQ,IAC9B15B,KAAK05B,MAAM,eAAiBh0B,GAASwlD,EAAQ,IAAM,OAK3DlrD,KAAK05B,MAAO,CACZ,IAAIwyB,EAAc,GACZ5C,EAAa,eAAehnD,KAAKtC,KAAKkpD,SAC5C,IAAK,IAAMxvB,KAAS15B,KAAK05B,MACjB54B,OAAOkB,UAAUC,eAAe1B,KAAKP,KAAK05B,MAAOA,KAGnC,qBAAVA,GAAiC4vB,IACjC4C,GAAexyB,EAAQ,IAAM15B,KAAK05B,MAAMA,GAAS,MAKzDwyB,EAAYpoD,OAAS,IACrBkF,GAAU,WAAakjD,EAAc,KAG7CljD,GAAU,IAINhJ,KAAK6rD,YACL7iD,GAAU,gBACVA,GAAU,yBACVA,GAAU,WAAahJ,KAAKwmD,OAASxmD,KAAK+nC,OAAS,MACnD/+B,GAAU,kBAAoBhJ,KAAK+nC,MAAQ,MAC3C/+B,GAAU,KACVA,GAAUw9B,EACVx9B,GAAU,UACVA,GAAU,QAEVA,GAAU,4BACVA,GAAU,oBACVA,GAAU,WAAahJ,KAAKwmD,OAASxmD,KAAK+nC,OAAS,MACnD/+B,GAAU,yBAA2BpG,KAAK2zB,MAAMo0B,GAAY3D,KAAKhnD,KAAK+nC,MAAO,MAAQ4iB,GAAY3D,KAAKhnD,KAAK05B,MAAMyyB,UAAY,OACzHnsD,KAAK05B,OAAS15B,KAAK05B,MAAMyyB,SACzBnjD,GAAU,OAAShJ,KAAK05B,MAAMyyB,QAAU,IACxCnjD,GAAU,QAAUhJ,KAAK05B,MAAMyyB,QAAU,IACzCnjD,GAAU,yBAA2BhJ,KAAK05B,MAAMyyB,QAAU,QAE1DnjD,GAAU,SACVA,GAAU,UACVA,GAAU,eAEdA,GAAU,aACVA,GAAU,IACNhJ,KAAKosD,WACLpjD,GAAU,WAAahJ,KAAKosD,SAAW,KAE3CpjD,GAAU,IACVA,GAAUhJ,KAAK6rD,WACf7iD,GAAU,UAEVA,GAAUw9B,EAGdx9B,GAAkB,eAnIlBA,EAAS,GA+Ib,OARIhJ,KAAK8rD,OAAuB,YAAd9rD,KAAK6e,OACA,SAAf7e,KAAK8rD,MACL9iD,GAAkB,uCAElBA,GAAkB,mCAInBA,IA3cf,sCA4doBqjD,GACZ,GAAIrsD,KAAK08B,MAAQ2vB,EAAK3vB,IAAK,OAAO,EAClC,GAAI18B,KAAK6e,OAASwtC,EAAKxtC,KAAM,OAAO,EAEpC,GAAkB,UAAd7e,KAAK6e,MAAkC,gBAAd7e,KAAK6e,MAChB,YAAd7e,KAAK6e,KAAoB,OAAO,EAGpC,IAAMytC,EAActsD,KAAKmpD,UAAYnpD,KAAKmpD,SAASrlD,OAAS,EACtDyoD,EAAkBF,EAAKlD,UAAYkD,EAAKlD,SAASrlD,OAAS,EAChE,GAAIwoD,GAAeC,EAAiB,OAAO,EAE3C,IAAMC,EAAiBxsD,KAAK05B,MAAQ15B,KAAK05B,MAAM51B,OAAS,EAClD2oD,EAAiBJ,EAAK3yB,MAAQ2yB,EAAK3yB,MAAM51B,OAAS,EACxD,GAAI0oD,IAAmBC,EAAgB,OAAO,EAG9C,IAAMvD,EAAUlpD,KAAKkpD,QAAQ1iC,OAAOlI,QAAQ,OAAQ,KAC/ChS,MAAM,KACLogD,EAAcL,EAAKnD,QAAQ1iC,OAAOlI,QAAQ,OAAQ,KACnDhS,MAAM,KAEX,GAAI48C,EAAQplD,SAAW4oD,EAAY5oD,OAAQ,OAAO,EAGlDolD,EAAQ9/C,OACRsjD,EAAYtjD,OACZ,IAAK,IAAIhJ,EAAI,EAAGA,EAAI8oD,EAAQplD,OAAQ1D,IAAK,CAGrC,GAAmB,uBAAf8oD,EAAQ9oD,GAA6B,OAAO,EAChD,GAAI8oD,EAAQ9oD,KAAOssD,EAAYtsD,GAAI,OAAO,EAG9C,GAAIJ,KAAK05B,OAAS2yB,EAAK3yB,MACnB,IAAK,IAAMA,KAAS15B,KAAK05B,MACrB,GAAI54B,OAAOkB,UAAUC,eAAe1B,KAAKP,KAAK05B,MAAOA,IACjD54B,OAAOkB,UAAUC,eAAe1B,KAAK8rD,EAAK3yB,MAAOA,IAC7C15B,KAAK05B,MAAMA,KAAW2yB,EAAK3yB,MAAMA,GAAQ,OAAO,EAahE,OAPA15B,KAAKwmC,MAAQ6lB,EAAK7lB,KAClBxmC,KAAKwmD,OAAS5jD,KAAKsR,IAAIlU,KAAKwmD,OAAQ6F,EAAK7F,QACzCxmD,KAAK+nC,MAAQnlC,KAAKsR,IAAIlU,KAAK+nC,MAAOskB,EAAKtkB,OACvC/nC,KAAKqpD,YAAczmD,KAAKsR,IAAIlU,KAAKqpD,YAAagD,EAAKhD,aAGnDrpD,KAAKymD,OAAS4F,EAAK5F,QACZ,MA/gBf,KA2iBMgF,GAAqB,CACvB,WAAuB,EACvB,YAAuB,EACvB,YAAuB,EACvB,cAAuB,EAEvB,WAAwB,EACxB,UAAwB,EACxB,WAAwB,EACxB,aAAwB,EAExB,YAAwB,EACxB,WAAwB,EACxB,aAAwB,EACxB,cAAwB,EAExB,YAAwB,EACxB,WAAwB,EACxB,aAAwB,EACxB,cAAwB,EAExB,aAAwB,EACxB,cAAwB,EACxB,cAAwB,EACxB,gBAAwB,EAExB,cAAwB,EACxB,aAAwB,EACxB,cAAwB,EACxB,cAAwB,EACxB,eAAwB,EACxB,gBAAwB,EACxB,gBAAwB,GAMtBQ,GAAoB,CACtB,IACA,IACA,KACA,IACA,IACA,KACA,IACA,GACA,GACA,KAEED,GAA6B,CAC/B,GACA,KACA,GACA,KACA,KACA,MAQER,GAA2B,CAC7B,WAAwB,EACxB,WAAwB,EACxB,UAAwB,EACxB,aAAwB,EACxB,aAAwB,GAG5B,SAASG,GAAaU,GAClB,IAAMrjD,EAASqjD,EAAKxtC,KACpB,MAAe,UAAX7V,EAA2B,OAChB,YAAXA,EAA6B,OAC1BA,EAeX,SAAS2jD,GAASC,GACd,IAAKA,GAA0B,IAAjBA,EAAM9oD,OAAc,MAAO,GAEzC8oD,EAAM,GAAGzD,SAAWwD,GAASC,EAAM,GAAGzD,UAGtC,IAFA,IAAMngD,EAAS,CAAC4jD,EAAM,IAEbxsD,EAAI,EAAGA,EAAIwsD,EAAM9oD,OAAQ1D,IACzB4I,EAAOA,EAAOlF,OAAS,GAAG+oD,gBAAgBD,EAAMxsD,MACjDwsD,EAAMxsD,GAAG+oD,SAAWwD,GAASC,EAAMxsD,GAAG+oD,UACtCngD,EAAO6C,KAAK+gD,EAAMxsD,KAG1B,OAAO4I,EAQX,SAASw9C,GAAOoG,GACZ,OAAKA,EACD76C,MAAMmE,QAAQ02C,GACPA,EAAM79C,QAAO,SAACghC,EAAK3sC,GAAN,OAAYR,KAAKsR,IAAI67B,EAAK3sC,EAAEojD,UAAS,GAEtDoG,EAAMpG,OAJM,EAOvB,SAASze,GAAM6kB,GACX,OAAKA,EACD76C,MAAMmE,QAAQ02C,GACPA,EAAM79C,QAAO,SAACghC,EAAK3sC,GAAN,OAAYR,KAAKsR,IAAI67B,EAAK3sC,EAAE2kC,SAAQ,GAErD6kB,EAAM7kB,MAJM,EAQvB,SAASgL,GAAK6Z,GACV,IAAKA,EAAO,OAAO,EACnB,GAAI76C,MAAMmE,QAAQ02C,GAAQ,CACtB,IAAI5jD,EAAS,EADS,uBAEtB,YAAmB4jD,EAAnB,+CAA0B,KAAfP,EAAe,QACtBrjD,GAAUqjD,EAAKtZ,MAAQ,GAHL,kFAKtB,OAAO/pC,EAEX,OAAO4jD,EAAM7Z,KAGjB,SAAS0T,GAAOmG,GACZ,OAAKA,EACD76C,MAAMmE,QAAQ02C,GACPA,EAAMA,EAAM9oD,OAAS,GAAG2iD,OAE5BmG,EAAMnG,OAJM,EAehB,SAASqG,GAAS9zB,EAASkwB,GAC9B,GAAIn3C,MAAMmE,QAAQ8iB,GAAU,CACxB,IAAMv4B,EAAI,GADc,uBAExB,YAAgBu4B,EAAhB,+CAAyB,KAAd72B,EAAc,QACjBA,GAAG1B,EAAEoL,KAAK1J,IAHM,kFAKxB,GAAiB,IAAb1B,EAAEqD,OACF,OAAOgpD,GAASrsD,EAAE,GAAIyoD,GAG9B,OAAO,IAAID,GAAKjwB,EAASkwB,GAY7B,SAAS6D,GAAWpD,EAAYx7B,EAAQ+6B,GACpC,IAAMlgD,EAAS,IAAIigD,GAAK96B,EAAQ+6B,GAE1B5C,EAAUqE,GAAYzE,oBAAoB/3B,EAAQw7B,GAQxD,OAPA3gD,EAAOw9C,OAASF,EAAQE,OACxBx9C,EAAO++B,MAAQue,EAAQve,MACvB/+B,EAAO+pC,KAAOuT,EAAQvT,KACtB/pC,EAAOy9C,OAASH,EAAQG,OAExBz9C,EAAOgkD,SAAShkD,EAAOy9C,QAEhBz9C,EAcX,SAASikD,GAAc3tB,EAASorB,GAC5B,IAAMwC,EAAqBxC,EAAWA,EAAWprB,EAAQopB,UAAUrB,eAAiB,EAC9E8F,EAAgB,IAAIlE,GAAK,KAW/B,OAT2B,IAAvBiE,IACAC,EAAc3D,SAAS,YACnB0D,EACCA,EAAqB,EAAK,KAAO,IACtCC,EAAc7oC,WAAa,CACvB,eAAe,IAIF,UAAjBgb,EAAQhuB,KACD,IAAI23C,GAAKkE,EACZ,0BAA4B7tB,EAAQhuB,KAAO,UAEpB,IAAvB47C,EAA4BC,EAAgB,KAexD,SAASC,GAAevuC,EAAMma,EAASkwB,GACnC,IAAMlgD,EAAS8jD,GAAS9zB,EAASkwB,GAEjC,OADAlgD,EAAO6V,KAAOA,EACP7V,EAGX,SAASqkD,GAAOr0B,EAASkwB,GACrB,OAAOkE,GAAe,MAAOp0B,EAASkwB,GAGnC,SAASoE,GAAQt0B,EAASkwB,GAC7B,OAAOkE,GAAe,OAAQp0B,EAASkwB,GAG3C,SAASqE,GAAQv0B,EAASkwB,GACtB,OAAOkE,GAAe,OAAQp0B,EAASkwB,GAG3C,SAASsE,GAAUx0B,EAASkwB,GACxB,OAAOkE,GAAe,SAAUp0B,EAASkwB,GAG7C,SAASuE,GAASz0B,EAASkwB,GACvB,OAAOkE,GAAe,QAASp0B,EAASkwB,GAGrC,SAASwE,GAAU10B,EAASkwB,GAC/B,OAAOkE,GAAe,SAAUp0B,EAASkwB,GAG7C,SAASyE,GAAU30B,EAASkwB,GACxB,OAAOkE,GAAe,SAAUp0B,EAASkwB,GAI7C,SAAS0E,GAAc/uC,EAAMsqC,EAAU0E,EAAWC,EAAS5E,GACvDA,EAAUA,GAAW,GACrBA,GAAW,eAEX,IAAMlgD,EAAS+kD,GAAU5E,EAAUD,EAAU2E,EAAUG,SAASF,IAChE9kD,EAAO6V,KAAOA,EAEd,IAAMsoC,EAAa2G,EAAQzG,eAAiBwG,EAAUxG,eAMtD,OAJAr+C,EAAOw9C,QAAUW,EACjBn+C,EAAO++B,OAASof,EAChBn+C,EAAOqgD,YAAcyE,EAAQzG,eAEtBr+C,EAUX,SAASilD,GAAQznB,EAAM0nB,EAAW9B,GAG9B,OAFA5lB,EAAKqlB,WAAaqC,EAClB1nB,EAAK4lB,SAAWA,EACT5lB,EAUJ,SAASunB,GAAUnB,EAAO1D,GAC7B,IAAKA,GAA8B,IAAnBA,EAAQplD,OAAc,CAElC,GAAI8oD,aAAiB3D,GAEjB,OAAO2D,EACJ,GAAI76C,MAAMmE,QAAQ02C,IAA2B,IAAjBA,EAAM9oD,OAErC,OAAO8oD,EAAM,GAGrB,IAAM5jD,EAAS,IAAIigD,GAAK2D,EAAO1D,GAE3B/B,EAAa,EASjB,OAPIA,EADAyF,aAAiB3D,GACJ2D,EAAMvD,YAENuD,EAAM79C,QAAO,SAACghC,EAAK3sC,GAAN,OAAYR,KAAKsR,IAAI67B,EAAK3sC,EAAEimD,eAAc,GAExErgD,EAAOw9C,QAAUW,EACjBn+C,EAAO++B,OAASof,EAETn+C,EAqBJ,SAASmlD,GAAU7uB,EAASuX,EAAUvkB,EAAK87B,GAC9C,IAAIC,EAAY,EACZC,EAAU,EACdh8B,EAAMA,GAAO,QACb87B,EAAUA,GAAW,EAKrB,IAAK,IAAIhuD,EAAI,EAAGA,EAAIy2C,EAAS/yC,OAAQ1D,IAC7B2R,MAAMmE,QAAQ2gC,EAASz2C,MACI,IAAvBy2C,EAASz2C,GAAG0D,OAEZ+yC,EAASz2C,GAAKy2C,EAASz2C,GAAG,GAG1By2C,EAASz2C,GAAK0sD,GAASjW,EAASz2C,KAK5C,GAAY,UAARkyB,EACA+7B,GAAaxX,EAAS,GAAG9O,MAAQqmB,OAC9B,GAAY,WAAR97B,EACP+7B,GAAaD,OACV,GAAY,QAAR97B,EAAe,CACtB,IAAIi8B,EAASH,EADS,uBAEtB,YAAsBvX,EAAtB,+CAAgC,KAArB3O,EAAqB,QAGxBqmB,GAFArmB,aAAmB+gB,GAET/gB,EAAQse,OAASte,EAAQH,MAGzBG,GARI,kFAWtBmmB,EAAYE,OACT,GAAY,oBAARj8B,EAA2B,CAIlC,IAAMk8B,EAAmB3X,EACzBA,EAAW,CAAC2X,EAAiB,IAI7BH,GAAaG,EAAiB,GAAKA,EAAiB,GAAGzmB,MACvDumB,EAAUD,EACV,IAAK,IAAIjuD,EAAI,EAAGA,EAAIouD,EAAiB1qD,OAAQ1D,GAAK,EAAG,CACjD,IAAMquD,GAAQD,EAAiBpuD,EAAI,GAAKkuD,EACpCE,EAAiBpuD,GAAG2nC,MACxBumB,GAAoBG,EAEpB,IAAMC,EAAOD,GACRD,EAAiBpuD,EAAI,GAAGomD,OAASgI,EAAiBpuD,EAAI,GAAG2nC,OAE9D8O,EAAShrC,KAAK6iD,GACd7X,EAAShrC,KAAK2iD,EAAiBpuD,UAGnCwlB,QAAQu8B,QAAO,EAAO,mCAAqC7vB,EAAM,KAIrE,IAAI+2B,EAAc,EAhEqC,uBAiEvD,YAAsBxS,EAAtB,+CAAgC,KAArB3O,EAAqB,QACxBA,aAAmB+gB,KACnBI,EAAczmD,KAAKsR,IAAIm1C,EAAanhB,EAAQmhB,eAnEG,kFAsEvD,IAAMsF,EAAY1B,GAAc3tB,EAAS+pB,GAEnCuF,EAAc,GACpBN,EAAUD,EAzE6C,2BA0EvD,YAAsBxX,EAAtB,+CAAgC,KAArB3O,EAAqB,QAC5B,GAAuB,kBAAZA,EAEPomB,GAAWpmB,MACR,CACH,IAAMnJ,EAAO+tB,GAAS,CAAC6B,EAAWzmB,IAClCnJ,EAAK8vB,QAAQ3mB,EAAQH,MAAQumB,GAC7BM,EAAY/iD,KAAKkzB,GACjBuvB,GAAWpmB,EAAQse,OAASte,EAAQH,QAlFW,kFAsFvD,IAAM/+B,EAAS8jD,GAAS8B,EAAa,SAOrC,OAHA5lD,EAAO++B,MAAQnlC,KAAKsR,IAAIm6C,EAAWtmB,GAAM/+B,IAAW,GACpDA,EAAOw9C,OAAS5jD,KAAKsR,KAAKo6C,EAAS9H,GAAOx9C,IAAW,GAE9CA,EAuCX,IAAM8lD,GAAY,CACd,IAAgB,cAChB,GAAgB,cAChB,IAAgB,sBAChB,KAAgB,kBAChB,IAAgB,iBAChB,IAAgB,eAChB,KAAgB,oBAChB,KAAgB,qBAChB,KAAgB,eAChB,OAAgB,eAId/E,GAAa,CACf,IAAgB,UAChB,GAAgB,SAChB,IAAgB,UAChB,KAAgB,WAChB,IAAgB,aAChB,IAAgB,aAChB,KAAgB,WAChB,KAAgB,SAChB,KAAgB,aAChB,OAAgB,cAepB,SAASF,GAAY17B,EAAQw7B,GAEzB,GAAsB,kBAAXx7B,GACPA,EAAOrqB,OAAS,GACL,MAAXqqB,EACA,OAAO2gC,GAAUnF,GAOrB,GAAmB,OAAfA,GAAsC,QAAfA,GAEvB,IAAK,WAAWrnD,KAAK6rB,GAAS,OAAO,UAElC,GAAmB,QAAfw7B,GAEP,IAAK,cAAcrnD,KAAK6rB,GAAS,OAAO,UAErC,GAAmB,SAAfw7B,GACP,IAAK,+CAA+CrnD,KAAK6rB,GACrD,OAAO,UAER,IAAmB,SAAfw7B,GAAwC,SAAfA,KAC3B,uHAAuHrnD,KAAK6rB,GAC7H,OAAO,KAIf,OAAO2gC,GAAUnF,GAIN,QACXgD,YACAG,YACAO,UACAC,WACAC,WACAC,aACAC,YACAC,aACAC,aAEAP,kBACAL,cACAoB,aACAJ,aACAH,iBAIAK,WAEAzH,UACAze,SACAgL,QACA0T,W,4OC1pCJ,IAAIsI,GAAW,GAETC,GAAe,GAEfC,GAAY,GAEZC,GAAe,GAEfC,GAAS,CACX,IAAY,UACZ,SAAY,uBAGZ,IAAY,6BACZ,IAAY,6BACZ,OAAY,oCACZ,IAAY,oCACZ,IAAY,4BACZ,IAAY,2BACZ,OAAY,oCACZ,IAAY,qCAKVC,GAAc,CAChB,IAAY,IACZ,IAAY,IACZ,IAAY,IACZ,IAAY,IACZ,WAAY,WACZ,MAAY,MACZ,WAAY,WACZ,WAAY,WACZ,UAAY,UACZ,SAAY,SACZ,UAAY,UACZ,SAAY,SACZ,UAAY,UACZ,WAAY,WACZ,aAAgB,aAChB,aAAgB,aAChB,WAAY,WACZ,eAAgB,gBASdC,GAAU,UACVC,GAAS,SAETC,GAAO,OACPC,GAAW,WACXC,GAAS,SACTC,GAAc,cAMdC,GAAkB,CACpB,QAAW,EACX,OAAU,IACV,UAAa,IACb,KAAQ,KACR,SAAY,IACZ,OAAU,IACV,YAAe,KAgBnB,SAASC,GAAUvuD,GAAmB,IAClC,IAAM4wC,EAAqB,kBAAV5wC,EAAqBsuD,GAAgBtuD,GAASA,EAD7B,mBAAT6pB,EAAS,iCAATA,EAAS,kBAGlC,cAAqBA,EAArB,eAA8B,CAAzB,IAAMiD,EAAM,KACT6gC,GAAa7gC,KACb6gC,GAAa7gC,GAAQyhC,UAAY3d,GAEjCgd,GAAU9gC,KAGV8gC,GAAU9gC,GAAUrtB,OAAO6V,OAAO,GAAIs4C,GAAU9gC,IAChD8gC,GAAU9gC,GAAQyhC,UAAY3d,IAkB1C,SAAS4d,GAAaC,EAAWnG,EAAY9qC,EAAMxd,EAAOuuD,GAClDjG,IAAe,8BAA8BrnD,KAAKqnD,IAClD/jC,QAAQ9S,IAAI62C,EAAYmG,GAGH,kBAAdF,IAAwBA,EAAYD,GAAgBC,IAC/DZ,GAAac,GAAa,CACtBjxC,KAAMA,IAASkxC,GAAMC,GAAUnxC,EAC/BoxC,eAAgBtG,EAChBtoD,MAAOA,EACP0tD,SAAUA,GACVa,UAAWA,GAiBnB,SAASM,GAAczjD,GACnB,IAAK,IAAIrM,EAAI,EAAGA,EAAIqM,EAAO3I,OAAQ1D,IAAK,CACpC,IAAM+qB,EAAK1e,EAAOkM,OAAOvY,GACzByvD,GAAa1kC,EAAI,GAAI6kC,GAAS7kC,IAWtC,SAASglC,GAAkB3gD,EAAMD,GAC7B,IAAK,IAAInP,EAAIoP,EAAMpP,GAAKmP,EAAInP,IAAK,CAC7B,IAAM+qB,EAAK5oB,OAAO27C,cAAc99C,GAChCyvD,GAAa1kC,EAAI,GAAI,OAAQA,IAKrC,IAAMilC,GAAsB,CACxBC,KAAQ,IACR,IAAQ,SACR,IAAQ,eACR,IAAQ,eACR,IAAQ,eACR,KAAQ,OACR,KAAQ,OACR,IAAQ,OACR,IAAQ,OACR,IAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OAER,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OAER,KAAQ,UACR,KAAQ,gBACR,KAAQ,UAER,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,OAaZ,SAASC,GAAeC,EAAWC,GAC/B,IAAMruD,EAAII,OAAO27C,cAAcsS,GAK/B,GAAkB,SAAdD,GAAwBH,GAAoBjuD,GAAI,OAAOiuD,GAAoBjuD,GAI/E,GAAIquD,EAAK,IAAMA,EAAK,IAAK,OAAOruD,EAEhC,IAAI6G,EAAS,GACb,GAAkB,SAAdunD,GACA,IAAK,IAAMruD,KAAK8sD,GACZ,GAAIluD,OAAOkB,UAAUC,eAAe1B,KAAKyuD,GAAc9sD,IAC/C8sD,GAAa9sD,GAAGb,QAAUc,EAAG,CAC7B6G,EAAS9G,EACT,YAKZ,IAAK,IAAMA,KAAKuuD,GACZ,GAAI3vD,OAAOkB,UAAUC,eAAe1B,KAAKkwD,GAAcvuD,IAC/CuuD,GAAavuD,KAAOC,EAAG,CACvB6G,EAAS9G,EACT,MAMhB,OAAO8G,GAAU7G,EAerB,IAAMuuD,GAAyB,CAC3B,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,MAIPC,GAAsB,CACxB,CAAE5oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIuoB,MAAO,QAC9C,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIuoB,MAAO,QAC9C,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIuoB,MAAO,UAC9C,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIuoB,MAAO,UAC9C,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIuoB,MAAO,cAC9C,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIuoB,MAAO,cAE9C,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,UAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,UAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,SAAUl3B,MAAO,QACjE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,SAAUl3B,MAAO,QAEjE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,WAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,WAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,UAAWl3B,MAAO,QAClE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,UAAWl3B,MAAO,QAElE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,iBAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,iBAEhD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,cAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,cAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAAcl3B,MAAO,QACrE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAAcl3B,MAAO,QACrE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAAcl3B,MAAO,UACrE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAAcl3B,MAAO,UACrE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAAcl3B,MAAO,cACrE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAAcl3B,MAAO,cAErE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAEhD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOuoB,MAAO,QACjD,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOuoB,MAAO,QACjD,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOuoB,MAAO,UACjD,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOuoB,MAAO,UACjD,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOuoB,MAAO,cACjD,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOuoB,MAAO,cACjD,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOy/C,QAAS,aAAcl3B,MAAO,QACxE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOy/C,QAAS,aAAcl3B,MAAO,QACxE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOy/C,QAAS,aAAcl3B,MAAO,cACxE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,IAAOy/C,QAAS,aAAcl3B,MAAO,cAGxE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,GAAIl3B,MAAO,QAC3D,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,iBAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,cAChD,CAAE7oD,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,aAAcl3B,MAAO,QACrE,CAAE3xB,MAAO,OAASuH,IAAK,GAAI6B,OAAQ,GAAIy/C,QAAS,cAIpD,SAASC,GAAqB72C,GAC1B,IAAI82C,EAAY92C,EAEhB,GADoB,kBAATA,IAAmB82C,EAAY92C,EAAK4jC,YAAY,KACtDkT,EAAY,QAAWA,EAAY,UACnCA,EAAY,MAAUA,EAAY,MAC/B,MAAO,CAAC92C,KAAKA,GAIrB,IAAK,IAAMvZ,KAAKiwD,GACZ,GAAI5vD,OAAOkB,UAAUC,eAAe1B,KAAKmwD,GAAwBjwD,IACzDiwD,GAAuBjwD,KAAOqwD,EAAW,CACzCA,EAAYrwD,EACZ,MAMZ,IAAK,IAAIL,EAAI,EAAGA,EAAIuwD,GAAoB7sD,OAAQ1D,IAC5C,GAAI0wD,GAAaH,GAAoBvwD,GAAG2H,OACpC+oD,EAAYH,GAAoBvwD,GAAG2H,MAAQ4oD,GAAoBvwD,GAAGkP,IAC9D,MAAO,CACH0K,KAAMzX,OAAO27C,cAAc4S,EAAYH,GAAoBvwD,GAAG2H,MAAQ4oD,GAAoBvwD,GAAG+Q,QAC7Fy/C,QAASD,GAAoBvwD,GAAGwwD,QAChCl3B,MAAOi3B,GAAoBvwD,GAAGs5B,OAK9C,MAAO,CAAC1f,KAAKA,GAWjB,SAAS+2C,GAAqB/2C,EAAM42C,EAASl3B,GACzC,IAAK,cAAcp3B,KAAK0X,GAAO,OAAOA,EACtC,IAAK42C,IAAYl3B,EAAO,OAAO1f,EAI/B,IAFA,IAAM82C,EAAY92C,EAAK4jC,YAAY,GAE1Bx9C,EAAI,EAAGA,EAAIuwD,GAAoB7sD,OAAQ1D,IAC5C,KAAKwwD,GAAWD,GAAoBvwD,GAAGwwD,UAAYA,MAC1Cl3B,GAASi3B,GAAoBvwD,GAAGs5B,QAAUA,IACvCo3B,GAAaH,GAAoBvwD,GAAG+Q,QACpC2/C,EAAYH,GAAoBvwD,GAAG+Q,OAASw/C,GAAoBvwD,GAAGkP,IAAK,CACpE,IAAMtG,EACE2nD,GAAoBvwD,GAAG2H,MACvB+oD,EAAYH,GAAoBvwD,GAAG+Q,OAC3C,OAAO5O,OAAO27C,cAAcwS,GAAuB1nD,IAAWA,GAMlF,OAAOgR,EAKX,SAASg3C,GAAiBT,EAAWC,GAGjC,GAAkB,SAAdD,EAAsB,OAAOhuD,OAAO27C,cAAcsS,GAEtD,IAAIxnD,EACJ,GAAIonD,GAAoBI,GAAK,OAAOJ,GAAoBI,GACxD,IAAMve,EAAI4e,GAAqBL,GAC/B,OAAKve,EAAEvY,OAAUuY,EAAE2e,SACnB5nD,EAASipC,EAAEj4B,KACPi4B,EAAE2e,UACF5nD,EAAS,KAAOipC,EAAE2e,QAAU,IAAM5nD,EAAS,KAE/B,SAAZipC,EAAEvY,MACF1wB,EAAS,YAAcA,EAAS,IACb,WAAZipC,EAAEvY,MACT1wB,EAAS,YAAcA,EAAS,IACb,eAAZipC,EAAEvY,QACT1wB,EAAS,qBAAuBA,EAAS,MAEtC,aAAeA,EAAS,KAZIsnD,GAAeC,EAAWC,GAiBjE,SAASS,GAAqBV,EAAWpuD,GACrC,IAAI6G,EAAS,GAD2B,uBAExC,YAAiB7G,EAAjB,+CAAoB,KAATquD,EAAS,QAChBxnD,GAAUgoD,GAAiBT,EAAWC,EAAG5S,YAAY,KAHjB,kFAKxC,OAAO50C,EAcX,SAASkoD,GAAe3vD,EAAMkhD,GAC1B,SAAIwM,GAAUxM,IAAsB,SAATlhD,IAAmB0tD,GAAUxM,GAAS0O,kBAI7D,CAAC,KAAQV,GAAc,KAAQzB,IAAcztD,GAAMkhD,GAQ3D,SAAS2O,GAAS7vD,EAAM4sB,GACpB,MAAa,SAAT5sB,EACOytD,GAAa7gC,IAAW6gC,GAAa7gC,GAAQ9sB,MAChD2tD,GAAa7gC,GAAQ9sB,MAAQ8sB,EAE9BsiC,GAAatiC,GAAUsiC,GAAatiC,GAAUA,EAGzD,SAASkjC,GAAmB1wD,GACxB,IAAIqI,EAASkmD,GAAavuD,GAa1B,OAZKqI,IACDA,EAAS,CACL08B,OAAQ,GACR4rB,OAAQ,KACR5I,UAAW,eACX6I,SAAS,EACTC,UAAW,GACXC,OAAQ,IACRC,OAAQ,MAIT1oD,EAWX,SAAS2oD,GAAQxjC,EAAQoiC,EAAW/H,GAEhC,GAAsB,IAAlBr6B,EAAOrqB,OAAc,OAAO,KAEhC,IAAIg+B,EAAO,KAEX,GAAyB,OAArB3T,EAAOxV,OAAO,GAAa,CAG3B,GADAmpB,EAAOmtB,GAAU9gC,GACb2T,EAEA,MAAkB,SAAdyuB,GAAwBzuB,EAAKqvB,cAAsBrvB,EAIhD,KAYX,GATKA,IAEiB,SAAdyuB,EACAzuB,EAAOktB,GAAa7gC,GACbsiC,GAAatiC,KACpB2T,EAAO,CAAEzgC,MAAOovD,GAAatiC,OAIhC2T,EAAM,CAEP,IAAM2gB,EAAUt0B,EAAO3pB,MAAM,GAC7B,GAAIgkD,GAAUA,EAAO/F,GAAU,CAC3B,IAAImP,EAAMpJ,EAAO/F,GACE,WAAf,GAAOmP,KACPA,EAAMA,EAAIA,KAEd,IAAIC,EAAW,EAEX,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACxC/vB,EAAO,CACHjjB,KAAM,QACNsyC,eAAe,EACfzrB,OAAQ,GACRosB,OAAO,GAEX,MAAOD,GAAY,EACf/vB,EAAK4D,OAAO75B,KAAK,CACbkmD,UAAU,EACVlzC,KAAM,OACNmzC,aAAc,KACdC,YAAa,OAEjBJ,GAAY,QAKN,SAAdtB,EACAzuB,EAAOktB,GAAa7gC,GACbsiC,GAAatiC,KACpB2T,EAAO,CAAEzgC,MAAOovD,GAAatiC,KAUrC,OALI2T,GAAsB,SAAdA,EAAKjjB,MACG,MAAfijB,EAAKzgC,OAAgC,MAAfygC,EAAKzgC,OAAgC,MAAfygC,EAAKzgC,QAClDygC,EAAKqK,YAAa,GAGfrK,EAYX,SAASowB,GAAQ/vD,GACb,GAAIA,EAAE2B,QAAU,EAAG,MAAO,GAC1B,IAAMkF,EAAS,GAGf,IAAK,IAAM9G,KAAK+sD,GACRnuD,OAAOkB,UAAUC,eAAe1B,KAAK0uD,GAAW/sD,IAC5CA,EAAEwe,WAAWve,KAAO8sD,GAAU/sD,GAAG4vD,OACjC9oD,EAAO6C,KAAK,CAACc,MAAMzK,EAAG0tD,UAAUX,GAAU/sD,GAAG0tD,YAKzD,IAAK,IAAM1tD,KAAK8sD,GACRluD,OAAOkB,UAAUC,eAAe1B,KAAKyuD,GAAc9sD,IAC/CA,EAAEwe,WAAWve,IACb6G,EAAO6C,KAAK,CAACc,MAAMzK,EAAG0tD,UAAUZ,GAAa9sD,GAAG0tD,YAY5D,OAPA5mD,EAAOI,MAAM,SAAClB,EAAGyd,GACb,OAAIzd,EAAE0nD,YAAcjqC,EAAEiqC,UACX1nD,EAAEyE,MAAM7I,OAAS6hB,EAAEhZ,MAAM7I,QAE5B6hB,EAAEiqC,WAAa,IAAM1nD,EAAE0nD,WAAa,MAGzC5mD,EAIX,IAAMmpD,GAAO,GAEPC,GAAM,MAKNrC,GAAM,OACNC,GAAU,OACVqC,GAAM,OACNC,GAAM,OACNC,GAAO,QACPC,GAAQ,SACRC,GAAQ,SACRC,GAAQ,SAIRC,GAAU,UAqBhB,SAASC,GAA2BC,EAAaC,GAC7C,IAAI5xD,EAAI2xD,EAAYlmD,MAAM,SACtBqlD,EAAe,KACfnzC,EAAO,OACPozC,EAAc,KAelB,OAbI/wD,IACA0kB,QAAQu8B,OAAO2Q,EACX,yDACJd,EAAe9wD,EAAE,IAGrBA,EAAI2xD,EAAYlmD,MAAM,YAClBzL,IAAG2d,EAAO3d,EAAE,GAAGslB,QAGnBtlB,EAAI2xD,EAAYlmD,MAAM,aAClBzL,IAAG+wD,EAAc/wD,EAAE,GAAGslB,QAEnB,CACHurC,SAAUe,EACVj0C,KAAMA,EACNmzC,aAAcA,EACdC,YAAaA,GAIrB,SAASc,GAAmBC,GACxB,IAAKA,GAA0C,IAAzBA,EAAclvD,OAAc,MAAO,GAEzD,IAAIkF,EAAS,GACT08B,EAASstB,EAAc1mD,MAAM,KACjC,GAA4B,MAAxBo5B,EAAO,GAAG/sB,OAAO,GAAY,CAE7B3P,EAAO6C,KAAK+mD,GAA2BltB,EAAO,GAAGlhC,MAAM,IAAI,IAE3D,IAAK,IAAIpE,EAAI,EAAGA,GAAKslC,EAAO5hC,OAAQ1D,IAChC4I,EAASA,EAAO3D,OAAO0tD,GAAmBrtB,EAAOtlC,UAIrD,GADAslC,EAASstB,EAAc1mD,MAAM,KACD,MAAxBo5B,EAAO,GAAG/sB,OAAO,GAAY,CAE7B3P,EAAO6C,KAAK+mD,GAA2BltB,EAAO,GAAGlhC,MAAM,IAAI,IAE3D,IAAK,IAAIpE,EAAI,EAAGA,GAAKslC,EAAO5hC,OAAQ1D,IAChC4I,EAASA,EAAO3D,OAAO0tD,GAAmBrtB,EAAOtlC,KAK7D,OAAO4I,EAIX,SAASiqD,GAAiBjuC,GACtB,OAAOA,EAAIR,KAAI,SAAAphB,GAAC,OAAIA,EAAEojC,QAAMxhC,KAAK,IAerC,SAASkuD,GAAkBvoB,EAAOjF,EAAQnxB,EAAS+8C,GAC1B,kBAAV3mB,IAAoBA,EAAQ,CAACA,IACnCp2B,IAASA,EAAU,IACxB,IAAM4+C,EAAeJ,GAAmBrtB,GAGlCx2B,EAAO,CAIT6/C,SAAUA,GAIVrpB,OAAQytB,EAGR7B,OAAQA,EAER5I,UAAW,eAEX6I,QAASh9C,EAAQg9C,UAAW,EAC5BC,UAAWj9C,EAAQi9C,WAAa,IAtBmB,uBAwBvD,YAAmB7mB,EAAnB,+CAA0B,KAAfhqC,EAAe,QACtBuuD,GAAavuD,GAAQuO,GAzB8B,mFA4C3D,SAASkkD,GAAezoB,EAAOjF,EAAQnxB,EAAS8+C,GACvB,kBAAV1oB,IACPA,EAAQ,CAACA,IAGRp2B,IAASA,EAAU,IAGxB,IAAMrF,EAAO,CAIT6/C,SAAUA,GAMVkB,eAAgB17C,EAAQo1C,WAIxBjkB,OAAQqtB,GAAmBrtB,GAE3ByrB,gBAAiB58C,EAAQ48C,cACzBW,QAASv9C,EAAQu9C,MACjBwB,MAAOD,GA1BgD,uBA4B3D,YAAmB1oB,EAAnB,+CAA0B,KAAfhqC,EAAe,QACtBsuD,GAAUtuD,GAAQuO,GA7BqC,mFAmC/D6/C,GAAW,eA+IXmE,GAAkB,OAAQ,GAAI,CAACtD,UAAW,IAAI,WAC1C,MAAO,CAAElH,UAAW,gBAGxBwK,GAAkB,cAAe,GAAI,CACjCtD,UAAW,IACR,WACH,MAAO,CACHlH,UAAW,mBAanBwK,GAAkB,QAAS,oBAAqB,CAC5CtD,UAAWH,KACZ,SAAS9uD,EAAMkE,GACd,MAAO,CACH2sD,UAAW3sD,EAAK,GAChB6jD,UAAW,gBAInBwK,GAAkB,WAAY,GAAI,IAAI,WAClC,MAAO,MAKXA,GAAkB,WAAY,GAAI,IAAI,WAClC,MAAO,CACH1B,UAAW,CAAC,CAAE+B,MAAO,UAI7BL,GAAkB,eAAgB,GAAI,IAAI,WACtC,MAAO,CACH1B,UAAW,CAAC,CAAE+B,MAAO,UAK7BL,GAAkB,WAAY,GAAI,IAAI,WAClC,MAAO,CACHM,eAAgB,CAAC,CAACD,MAAO,MACzB/B,UAAW,CAAC,CAAC+B,MAAO,MACpBE,cAAe,CAAC,CAACF,MAAO,UAUhCL,GAAkB,CAAC,QAAS,WAAY,GAAI,IAAI,SAASvyD,EAAMkE,EAAM0N,GACjE,IAAImhD,EAAW,EADyD,uBAExE,YAAkBnhD,EAAlB,+CAAyB,KAAdohD,EAAc,QACrBD,EAAW9wD,KAAKsR,IAAIw/C,EAAUC,EAAI7vD,SAHkC,kFAKxE,IAAM0tD,EAAY,CACV,CAAEoC,IAAS,GACX,CAAEL,MAAS,KACX,CAAEK,IAAS,GACX,CAAEL,MAAS,MAEfnzD,EAAI,EACR,MAAQA,EAAIszD,EACRlC,EAAU3lD,KAAK,CAAC+nD,IAAI,IACpBpC,EAAU3lD,KAAK,CAAC0nD,MAAM,MACtB/B,EAAU3lD,KAAK,CAAC+nD,IAAI,IACpBpC,EAAU3lD,KAAK,CAAC0nD,MAAM,MACtBnzD,GAAK,EAIT,OAFAoxD,EAAU3lD,KAAK,CAAC+nD,IAAK,IAEd,CACHpC,UAAWA,EACXqC,IAAK,OAiBbX,GAAkB,QAAS,GAAI,IAAI,WAC/B,MAAO,MAMXA,GAAkB,CAAC,SAAU,YAAa,GAAI,IAAI,WAa9C,MAAO,CACH1B,UAAW,CAAC,CAACoC,IAAI,KAAM,CAAEL,MAAO,KAAQ,CAACK,IAAI,IAC7CC,IAAK,OAgBbX,GAAkB,CAAC,SAAU,UAAW,UAAW,UAAW,UAC1D,UAAW,cAAe,UAAW,WAAY,WAAY,WAAY,WACzE,WAAY,gBAAiB,oBAAqB,IAAI,SAASvyD,EAAMkE,GAIrE,IAAMmE,EAAS,CAEfA,UAAmB,aAEnB,OAAQrI,GACJ,IAAK,UACL,IAAK,WACDqI,EAAOyoD,OAAS,IAChBzoD,EAAO0oD,OAAS,IAChB,MAEJ,IAAK,UACL,IAAK,WACD1oD,EAAOyoD,OAAS,IAChBzoD,EAAO0oD,OAAS,IAChB,MAEJ,IAAK,UACL,IAAK,WACD1oD,EAAOyoD,OAAS,WAChBzoD,EAAO0oD,OAAS,WAChB,MAEJ,IAAK,UACL,IAAK,WACD1oD,EAAOyoD,OAAS,SAChBzoD,EAAO0oD,OAAS,SAChB,MAEJ,IAAK,UACL,IAAK,WACD1oD,EAAOyoD,OAAS,SAChBzoD,EAAO0oD,OAAS,SAChB,MAEJ,IAAK,cACL,IAAK,eACD1oD,EAAO0/C,UAAY,cACnB,MAEJ,IAAK,SACL,IAAK,UAGD1/C,EAAOyoD,OAAS,IAChBzoD,EAAO0oD,OAAS,IAChB,MACJ,SAQJ,OALA1oD,EAAOwoD,UAAY3sD,EAAK,IAAM,CAAC,CAAC0uD,MAAM,KAAM,CAACA,MAAM,KAAM,CAACA,MAAM,KAC5D,CAACA,MAAM,KAAM,CAACA,MAAM,KAAM,CAACA,MAAM,KACjC,CAACA,MAAM,KAAM,CAACA,MAAM,KAAM,CAACA,MAAM,KACjC,CAACA,MAAM,MAEJvqD,KAMXkqD,GAAkB,QAAS,GAAI,IAAI,WAY/B,MAAO,CACHY,aAAc,IACdrC,OAAQ,WACRC,OAAQ,IACRF,UAAW,CACP,CAAE+B,MAAO,KACT,CAAEK,IAAK,GACP,CAAEL,MAAO,UAMrBL,GAAkB,UAAW,GAAI,IAAI,WACjC,MAAO,MAMXA,GAAkB,SAAU,GAAI,IAAI,WAChC,MAAO,CAAC1B,UAAW,CAAC,CAAC+B,MAAM,UAK/BxE,GAAW,GAEXmB,GAAc,iBACdC,GAAkB,GAAQ,IAC1BA,GAAkB,GAAQ,KAI1BpB,GAAW,eACXqE,GAAe,CACX,WAAY,WAAY,WAAY,UAAW,WAC/C,QAAS,OAAQ,QAAS,UAAW,SAAU,QAAS,SACxD,SAAU,QAAS,QAAS,QAC5B,QAAS,QACT,SAAU,OAAQ,QAAS,SAAU,OAAQ,QAC7C,GAAI,MAAM,SAASzyD,GACnB,MAAO,CACHke,KAAM,MACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM7lC,EAAK6D,MAAM,GACjByrD,eAAgB,UAIxBL,GAAUF,GAAa,QAAS,QAAS,SAGzCE,GAAUJ,GAAU,WAAY,WAAY,WAAY,UAAW,WAC/D,WAAY,YAEhBI,GAAUJ,GAAU,WAAY,YAAa,YACzC,YAAa,aAEjBI,GAAUJ,GAAU,QAAS,OAAQ,UAAW,SAAU,QAAS,SAC/D,SAAU,QAAS,QAAS,QAC5B,OAAQ,OAAQ,QAChB,SAAU,OAAQ,SAAU,OAAQ,QAIxCT,GAAW,YAEXqE,GAAe,CACX,QAAS,QAAS,QAAS,QAAS,QACpC,OAAQ,OAAQ,OAAQ,SACxB,GAAI,MAAM,SAASzyD,GACnB,MAAO,CACHke,KAAM,MACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM7lC,EAAK6D,MAAM,GACjByrD,eAAgB,UAGxBL,GAAUF,GAAa,OAAQ,QAAS,SAExCE,GAAU,IAAK,SACfA,GAAUH,GAAQ,SAClBG,GAAUH,GAAQ,QAAS,SAG3B2D,GAAe,CAAC,QAAS,SACrB,GAAI,MAAM,SAASzyD,GACnB,MAAO,CACHke,KAAM,MACNk1C,OAAQ,SACR5lC,QAAQ,EACRqY,KAAM7lC,EAAK6D,MAAM,GACjByrD,eAAgB,UAGxBmD,GAAe,CAAC,QAAS,QAAS,SAC9B,GAAI,MAAM,SAASzyD,GACnB,MAAO,CACHke,KAAM,MACNk1C,OAAQ,SACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM7lC,EAAK6D,MAAM,GACjByrD,eAAgB,UAGxBL,GAAUF,GAAa,SACvBE,GAAUH,GAAQ,SAClBG,GAAUH,GAAQ,SAClBG,GAAUH,GAAQ,SAClBG,GAAUH,GAAQ,SAGlBV,GAAW,aAGXqE,GAAe,SAAU,8CAA+C,MACxE,SAASzyD,EAAMkE,GACX,MAAO,CACHga,KAAM,OACNJ,MAAO5Z,EAAK,GACZimD,MAAOjmD,EAAK,GACZ2hD,OAAQ3hD,EAAK,OAIrBuuD,GAAe,UAAW,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GACjE,MAAO,CAAEy/B,MAAOz/B,EAAK,OAOzBuuD,GAAe,cAAe,0BAA2B,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GACpF,MAAO,CAAEy/B,MAAOz/B,EAAK,OAGzB+qD,GAAU,EAAG,eAIbwD,GAAe,aAAc,UAAW,MAAM,SAASzyD,EAAMkE,GACzD,MAAO,CACHga,KAAM,OACN4L,SAAU,WACVwpC,cAAc,EACdztB,KAAM3hC,EAAK,OAEf+qD,GAAUH,GAAQ,cAEtB2D,GAAe,cAAe,UAAW,MAAM,SAASzyD,EAAMkE,GAC1D,MAAO,CAAEga,KAAM,OAAQ4L,SAAU,YAAawpC,cAAc,EAAMztB,KAAM3hC,EAAK,OAE7E+qD,GAAUH,GAAQ,eAEtB2D,GAAe,YAAa,iCAAkC,MAAM,SAASzyD,EAAMkE,GAC/E,MAAO,CAAEga,KAAM,YAAaq1C,WAAYrvD,EAAK,GAAIovD,cAAc,EAAMztB,KAAM3hC,EAAK,OAEhF+qD,GAAUH,GAAQ,aAEtB2D,GAAe,aAAc,iCAAkC,MAAM,SAASzyD,EAAMkE,GAChF,MAAO,CAAEga,KAAM,YAAas1C,YAAatvD,EAAK,GAAIovD,cAAc,EAAMztB,KAAM3hC,EAAK,OAEjF+qD,GAAUH,GAAQ,cAEtB2D,GAAe,CAAC,aAAc,cAAe,iCAAkC,MAC3E,SAASzyD,EAAMkE,GACf,MAAO,CACHga,KAAM,YACNq1C,WAAYrvD,EAAK,GACjBovD,cAAc,EACdztB,KAAM3hC,EAAK,GACXuvD,SAAmB,eAATzzD,EAAwB,OAAS,WAG/CivD,GAAUH,GAAQ,cAClBG,GAAU,EAAG,cAIjBwD,GAAe,SAAU,UAAW,MAAM,SAASzyD,EAAMkE,GACrD,MAAO,CAAEga,KAAM,UAAW00C,MAAO,QAASU,cAAc,EAAMztB,KAAM3hC,EAAK,OAEzE+qD,GAAU,IAAK,UAEnBwD,GAAe,SAAU,UAAW,MAAM,SAASzyD,EAAMkE,GACrD,MAAO,CAAEga,KAAM,UAAW00C,MAAO,OAAQU,cAAc,EAAMztB,KAAM3hC,EAAK,OAExE+qD,GAAU,GAAI,UAElBwD,GAAe,aAAc,UAAW,MAAM,SAASzyD,EAAMkE,GACzD,MAAO,CAAEga,KAAM,UAAWtd,KAAM,OAAQgyD,MAAO,QAASU,cAAc,EAAMztB,KAAM3hC,EAAK,OAEvF+qD,GAAUP,GAAS,cAEvB+D,GAAe,aAAc,UAAW,MAAM,SAASzyD,EAAMkE,GACzD,MAAO,CAAEga,KAAM,UAAWtd,KAAM,OAAQgyD,MAAO,OAAQU,cAAc,EAAMztB,KAAM3hC,EAAK,OAEtF+qD,GAAUP,GAAS,cAYvB+D,GAAe,UAAW,iBAAkB,MACxC,SAASzyD,EAAMkE,GACX,MAAO,CACHga,KAAM,MACNw1C,WAAY,QACZJ,cAAc,EACdztB,KAAM3hC,EAAK,OAInB+qD,GAAU,KAAM,WAEpBwD,GAAe,aAAc,yCAA0C,CAACjC,eAAe,IACnF,SAASxwD,EAAMkE,GACX,MAAO,CACHga,KAAM,MACNy1C,gBAAiBzvD,EAAK,GACtBovD,cAAc,EACdztB,KAAM3hC,EAAK,OAInB+qD,GAAUP,GAAS,cAIvB+D,GAAe,cAAe,4DAA6D,CAACjC,eAAe,IACvG,SAASxwD,EAAMkE,GACX,MAAO,CACHga,KAAM,MACNw1C,WAAYxvD,EAAK,GACjByvD,gBAAiBzvD,EAAK,GACtBovD,cAAc,EACdztB,KAAM3hC,EAAK,OAInB+qD,GAAUP,GAAS,eAWvB+D,GAAe,SAAU,qBAAsB,CAACjC,eAAe,IAC3D,SAASxwD,EAAMkE,GACX,OAAIA,EAAK,GACE,CACHga,KAAM,MACNstC,QAAStnD,EAAK,GAAGsnD,QACjBoI,OAAQ1vD,EAAK,GAAG0vD,OAChBD,gBAAiBzvD,EAAK,GAAGyvD,gBACzBL,cAAc,EACdztB,KAAM3hC,EAAK,IAGZ,CACHga,KAAM,MACNo1C,cAAc,EACdztB,KAAM3hC,EAAK,OAInB+qD,GAAUP,GAAS,UAOvB+D,GAAe,YAAa,6CAA8C,MACtE,SAASzyD,EAAMkE,GACX,IAAI2vD,EAAa3vD,EAAK,IAAM,GACtBmE,EAAS,CACX6V,KAAM,UACN41C,YAAa,eACbC,YAAa,EACbC,YAAa,QACbL,gBAAiB,cACjBnI,QAAS,OACTyI,OAAQ,OACRC,kBAAkB,EAClBruB,KAAM3hC,EAAK,IAIf,GAAIA,EAAK,GAAI,CAIT,IAAMyiD,EAASziD,EAAK,GAAGyH,MAAM,yCAJpB,uBAKT,YAAgBg7C,EAAhB,+CAAwB,KAAbnlD,EAAa,QACd2yD,EAAY3yD,EAAEwK,MAAM,2BAC1B,GAAImoD,EACA9rD,EAAO0rD,YAAc/J,GAAY3D,KAAK8N,EAAU,GAAI,MAC/C3nC,SAASnkB,EAAO0rD,eACjB1rD,EAAO0rD,YAAc,GAEzB1rD,EAAO2rD,YAAcG,EAAU,GAC/B9rD,EAAOyrD,YAAcK,EAAU,OAC5B,CACH,IAAMn4B,EAAYx6B,EAAEwK,MAAM,4BACtBgwB,IACqB,mBAAjBA,EAAU,GACV3zB,EAAOsrD,gBAAkB33B,EAAU,GACX,cAAjBA,EAAU,GACjB3zB,EAAOyrD,YAAc93B,EAAU,GACP,YAAjBA,EAAU,GACjB3zB,EAAOmjD,QAAUxB,GAAY3D,KAAKrqB,EAAU,GAAI,MACxB,WAAjBA,EAAU,KACjB3zB,EAAO4rD,OAASj4B,EAAU,OAxBjC,kFA6BkB,WAAvB3zB,EAAO2rD,YACP3rD,EAAO+rD,eAAiB,MACM,WAAvB/rD,EAAO2rD,cACd3rD,EAAO+rD,eAAiB,OAGhC/rD,EAAOgsD,YAAchsD,EAAO0rD,YAAc,MACtC1rD,EAAO2rD,YAAc,IAAM3rD,EAAOyrD,YAGtCD,EAAYA,EAAU9uD,WAAW4G,MAAM,QACnCkc,QAAO,SAAAypB,GAAC,OAAIA,EAAEnuC,OAAS,KAAG0gB,KAAI,SAAAytB,GAAC,OAAIA,EAAE71B,iBACzCpT,EAAOisD,SAAW,GAxDD,2BAyDjB,YAAuBT,EAAvB,+CAAkC,KAAvBS,EAAuB,QAC9BjsD,EAAOisD,SAASA,IAAY,GA1Df,kFAmEjB,OAPIjsD,EAAOisD,SAAS,qBAAoBjsD,EAAOisD,SAAS,qBAAsB,GAC1EjsD,EAAOisD,SAAS,SAChBjsD,EAAOisD,SAAS,SAAU,EAC1BjsD,EAAOisD,SAAS,UAAW,EAC3BjsD,EAAOisD,SAAS,WAAY,EAC5BjsD,EAAOisD,SAAS,QAAS,GAEtBjsD,KAIX4mD,GAAUP,GAAS,aAEvB+D,GAAe,WAAY,cAAe,MACtC,SAASzyD,EAAMkE,GACX,MAAO,CACHga,KAAM,UACN41C,YAAa,eACbC,YAAa,EACbC,YAAa,QACbK,YAAa,yBACbV,gBAAiB,cACjBnI,QAAS,OACTyI,OAAQ,OACRK,SAAU,CAAC,kBAAoB,GAC/BzuB,KAAM3hC,EAAK,OAKvBuuD,GAAe,YAAa,cAAe,MACvC,SAASzyD,EAAMkE,GACX,MAAO,CACHga,KAAM,UACN41C,YAAa,eACbC,YAAa,EACbC,YAAa,QACbK,YAAa,yBACbV,gBAAiB,cACjBnI,QAAS,OACTyI,OAAQ,OACRK,SAAU,CAAC,oBAAsB,GACjCzuB,KAAM3hC,EAAK,OAKvBuuD,GAAe,YAAa,cAAe,MACvC,SAASzyD,EAAMkE,GACX,MAAO,CACHga,KAAM,UACN41C,YAAa,eACbC,YAAa,EACbC,YAAa,QACbK,YAAa,yBACbV,gBAAiB,cACjBnI,QAAS,OACTyI,OAAQ,OACRK,SAAU,CAAC,kBAAoB,EAAM,oBAAsB,GAC3DzuB,KAAM3hC,EAAK,OAKnB+qD,GAAUP,GAAS,WAAY,YAAa,aAOhDN,GAAW,UAGXqE,GAAe,CACX,SAAU,eAAgB,iBAAkB,UAC5C,eACA,UAAW,UAAW,UAAW,SAAU,UAC5C,GAAI,CAACjC,eAAe,IACnB,SAASxwD,EAAMu0D,GACX,MAAO,CACHxK,SAAU,CACN,KAAQ,QACR,WAAc,QACd,aAAgB,QAChB,MAAS,QACT,WAAc,QACd,MAAS,QACT,MAAS,QACT,MAAS,QACT,KAAQ,QACR,KAAQ,UACV/pD,EAAK6D,MAAM,QAOzB4uD,GAAe,eAAgB,UAAW,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GACrE,MAAO,CAAEilD,WAAYmJ,GAAiBpuD,EAAK,QAG/CuuD,GAAe,OAAQ,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACtD,MAAO,CAAEpL,WAAY,QAGzBsJ,GAAe,OAAQ,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC9D,MAAO,CAAEpL,WAAY,QAIzBsJ,GAAe,SAAU,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACxD,MAAO,CAAE3zD,KAAM,OAAQuoD,WAAY,QAGvCsJ,GAAe,CAAC,WAAY,gBAAiB,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACpF,MAAO,CAAE3zD,KAAM,OAAQuoD,WAAY,IAAKF,UAAW,QAGvDwJ,GAAe,aAAc,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC5D,MAAO,CAAEpL,WAAY,QAGzBsJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEpL,WAAY,QAGzBsJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAE3zD,KAAM,OAAQuoD,WAAY,IAAKF,UAAW,QAGvDwJ,GAAe,aAAc,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC5D,MAAO,CAAEpL,WAAY,QAGzBsJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEpL,WAAY,QAMzBsJ,GAAe,cAAe,UAAW,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GACpE,MAAO,CAAE+kD,UAAWqJ,GAAiBpuD,EAAK,QAG9CuuD,GAAe,OAAQ,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACtD,MAAO,CAAEtL,UAAW,SAGxBwJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAE3zD,KAAM,OAAQuoD,WAAY,IAAKF,UAAW,SAGvDwJ,GAAe,YAAa,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC3D,MAAO,CAAEtL,UAAW,QAGxBwJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEtL,UAAW,QAGxBwJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEtL,UAAW,SAGxBwJ,GAAe,YAAa,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC3D,MAAO,CAAEtL,UAAW,SAGxBwJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEtL,UAAW,SAIxBwJ,GAAe,YAAa,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC3D,MAAO,CAAE3zD,KAAM,OAAQqoD,UAAW,SAGtCwJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEtL,UAAW,SAMxBwJ,GAAe,eAAgB,UAAW,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GACrE,MAAO,CAAE8kD,WAAYsJ,GAAiBpuD,EAAK,QAG/CuuD,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAE3zD,KAAM,OAAQooD,WAAY,MAAOG,WAAY,IAAKF,UAAW,QAG1EwJ,GAAe,aAAc,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC5D,MAAO,CAAEvL,WAAY,UAGzByJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEvL,WAAY,UAGzByJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAE3zD,KAAK,OAAQ0uD,eAAgB,OAAQnG,WAAY,IAAKF,UAAW,QAG9EwJ,GAAe,aAAc,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC5D,MAAO,CAAEvL,WAAY,WAGzByJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEvL,WAAY,WAGzByJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAE3zD,KAAK,OAAQ0uD,eAAgB,OAAQnG,WAAY,IAAKF,UAAW,QAG9EwJ,GAAe,aAAc,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC5D,MAAO,CAAEvL,WAAY,WAGzByJ,GAAe,WAAY,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAClE,MAAO,CAAEvL,WAAY,WAGzByJ,GAAe,CAAC,QAAS,YAAa,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAC7E,MAAO,CAAE3zD,KAAK,OAAQ0uD,eAAgB,SAG1CmD,GAAe,CAAC,SAAU,cAAe,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAChF,MAAO,CAAEjF,eAAgB,WAG7BmD,GAAe,YAAa,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACnE,MAAO,CAAE3zD,KAAK,OAAQ0uD,eAAgB,MAAOnG,WAAY,IAAKF,UAAW,QAG7EwJ,GAAe,YAAa,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACnE,MAAO,CAAE3zD,KAAK,OAAQ0uD,eAAgB,MAAOnG,WAAY,IAAKF,UAAW,QAKzEgG,GAAUF,GAAa,YACvBE,GAAU,KAAM,SAChBA,GAAU,EAAG,aACbA,GAAUH,GAAQ,cAClBG,GAAU,IAAK,UACfA,GAAUH,GAAQ,aAClBG,GAAUJ,GAAU,YACpBI,GAAUH,GAAQ,YAClBG,GAAUH,GAAQ,gBAOtB2D,GAAe,eAAgB,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACtE,MAAO,CAAEvL,WAAY,MAAOC,UAAW,IAAKE,WAAY,QAS5DsJ,GAAe,SAAU,WAAY,MAAM,SAACY,EAAOkB,GAC/C,MAAO,CAAEvL,WAAY,UAKzByJ,GAAe,SAAU,WAAY,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GAChE,MAAO,MAKX9B,GAAe,UAAW,6BAA8B,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GACnF,MAAO,CAAE6kD,SAAUuJ,GAAiBpuD,EAAK,QAI7CuuD,GAAe,UAAW,0BAA2B,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GAChF,MAAO,CAAE+mD,MAAOqH,GAAiBpuD,EAAK,IAAK2hC,KAAM3hC,EAAK,GAAIga,KAAM,YAIpEu0C,GAAe,OAAQ,GAAI,CAACjC,eAAe,IAAO,SAAC6C,EAAOkB,GACtD,MAAO,CAAExL,SAAU,WAAY7qC,KAAM,YAIzCu0C,GAAe,SAAU,UAAW,CAACjC,eAAe,IAAO,SAAC6C,EAAOnvD,GAC/D,MAAO,CAAE6kD,SAAU,WAAYljB,KAAM3hC,EAAK,GAAIga,KAAM,QAASo1C,cAAc,MAK/ErE,GAAUH,GAAQ,YAClBG,GAAUH,GAAQ,YAClBG,GAAUH,GAAQ,YAClBG,GAAUH,GAAQ,YAClBG,GAAU,IAAK,gBACfA,GAAUH,GAAQ,YAClBG,GAAU,IAAK,YACfA,GAAU,IAAK,UACfA,GAAU,GAAI,QAGdb,GAAW,YAGXqE,GAAe,SAAU,8BAA+B,MACxD,SAASzyD,EAAMkE,GACX,MAAO,CACHga,KAAM,OACN2nB,KAAM3hC,EAAK,GACX0I,MAAO1I,EAAK,OAGpB+qD,GAAUF,GAAa,UAEvBX,GAAW,YAEXqE,GAAe,CACX,SAAU,UAAW,UACrB,UACA,UAAW,WAAY,YACxB,2BAA4B,MAAM,SAASzyD,EAAMkE,GAChD,IAAMmE,EAAS,CACX6V,KAAM,UACNs2C,MAAOtwD,EAAK,GACZuwD,MAAOvwD,EAAK,GACZ6jD,UAAW,QAGf,OAAQ/nD,GACJ,IAAK,UACL,IAAK,SACL,IAAK,UACL,IAAK,UACDqI,EAAOqsD,YAAa,EACpB,MACJ,IAAK,eACDrsD,EAAOqsD,YAAa,EACpB,MACJ,IAAK,WACL,IAAK,UACL,IAAK,WACDrsD,EAAOqsD,YAAa,EACpBrsD,EAAOssD,UAAY,IACnBtsD,EAAOusD,WAAa,IACpB,MAGR,OAAQ50D,GACJ,IAAK,UACL,IAAK,WACDqI,EAAO0/C,UAAY,eACnB,MACJ,IAAK,UACL,IAAK,WACD1/C,EAAO0/C,UAAY,YACnB,MAOR,MAJa,YAAT/nD,IACAqI,EAAOwsD,oBAAqB,GAGzBxsD,KA8BXoqD,GAAe,CACX,SACA,SACA,YACD,GAAI,CAACtB,OAAO,IACP,SAASnxD,EAAMkE,GACnB,IAAMswD,EAAQtwD,EAAK,GACbuwD,EAAQvwD,EAAK,GACfwwD,GAAa,EACbC,EAAY,KACZC,EAAa,KAEjB,OAAQ50D,GACJ,IAAK,SACD,MACJ,IAAK,SACD00D,GAAa,EACb,MACJ,IAAK,WACDA,GAAa,EACbC,EAAY,IACZC,EAAa,IACb,MACJ,QACI,MAAM,IAAIl0B,MAAM,gCAExB,MAAO,CACHxiB,KAAM,UACNs2C,MAAOA,EACPC,MAAOA,EACPC,WAAYA,EACZC,UAAWA,EACXC,WAAYA,EACZ7M,UAAW,WAGfkH,GAAU,GAAI,UACdA,GAAU,GAAI,UACdA,GAAU,KAAM,YAEpBwD,GAAe,CACX,mBACA,oBAED,wCAAyC,CAACtB,OAAO,IAC5C,SAASnxD,EAAMkE,GACnB,MAAO,CACHga,KAAM,UACNs2C,MAAOtwD,EAAK,GACZuwD,MAAOvwD,EAAK,GACZwwD,YAAY,EACZC,UAAWzwD,EAAK,GAChB0wD,WAAY1wD,EAAK,GACjB6jD,UAAW,WAGfkH,GAAU,GAAI,oBACdA,GAAUH,GAAQ,oBAYtBV,GAAW,YACXqE,GAAe,UAAW,2BAA6B,MAAM,SAASqC,EAAW5wD,GAC7E,MAAO,CACHga,KAAM,UACNs2C,MAAOtwD,EAAK,GACZuwD,MAAOvwD,EAAK,GACZ6wD,YAAa,IACbC,YAAa,IACbN,YAAY,EACZC,UAAW,KACXC,WAAY,KACZ7M,UAAW,WASnBqG,GAAW,cACXc,GAAc,WAAasC,GAAOnC,GAAS,IAAUN,IACrDG,GAAc,WAAasC,GAAOnC,GAAS,IAAUN,IACrDG,GAAc,YAAcuC,GAAMpC,GAAS,IAAUN,IACrDG,GAAc,QAAUsC,GAAOG,GAAK,IAAU7C,IAC9CI,GAAc,QAAUsC,GAAOnC,GAAS,IAAUT,IAClDM,GAAc,QAAUsC,GAAOnC,GAAS,IAAUT,IAGlDR,GAAW,yBAGXqE,GAAe,CACX,QAAS,SAAU,WAAY,WAC/B,WAAY,WAAY,aAAc,aACtC,cACA,aAAc,YAAa,aAAc,aAAc,WACvD,GAAI,MAAM,SAASzyD,GACnB,MAAO,CACHke,KAAM,MACNk1C,OAAQ,OACR5lC,QAAQ,EACR8hC,eAAgB,MAChBzpB,KAAM,CACF,OAAU,IACV,OAAU,IACV,SAAY,IACZ,SAAY,IACZ,OAAU,IACV,OAAU,IACV,MAAS,IACT,KAAQ,IACR,IAAO,IACP,UAAa,IACb,SAAY,IACZ,QAAW,IACX,SAAY,IACZ,SAAY,KACV7lC,EAAK6D,MAAM,QAKzB4uD,GAAe,CAAC,QAAS,SAAU,UAAW,SAAU,UACpD,WAAY,iBAAkB,qBAC9B,qBAAsB,qBACvB,GAAI,MAAM,SAASzyD,GAClB,MAAO,CACHke,KAAM,MACNk1C,OAAQ,WACR5lC,QAAQ,EACRqY,KAAM,CACF,IAAO,IACP,KAAQ,IACR,MAAS,IACT,KAAQ,IACR,MAAS,IACT,OAAU,IACV,aAAgB,IAChB,iBAAoB,IACpB,iBAAoB,IACpB,gBAAmB,KACjB7lC,EAAK6D,MAAM,QAMzBorD,GAAUF,GAAa,QAAS,SAAU,WAAY,WAAY,SAElEE,GAAUH,GAAQ,aAAc,aAAc,SAAU,UACxDG,GAAUL,GAAM,aAAc,YAG9BK,GAAU,IAAK,YAEfA,GAAU,IAAK,cACfA,GAAU,KAAM,eAChBA,GAAU,IAAK,aACfA,GAAU,IAAK,cAEfA,GAAU,IAAM,WAEhBA,GAAU,GAAK,WAIfb,GAAW,UACXc,GAAc,UAAYsC,GAAOnC,GAAS,IAAUP,IACpDI,GAAc,SAAWsC,GAAOnC,GAAS,IAAU,KACnDH,GAAc,YAAcsC,GAAOnC,GAAS,IAAU,KACtDH,GAAc,MAAQsC,GAAOnC,GAAS,IAAUT,IAChDM,GAAc,MAAQsC,GAAOnC,GAAS,IAAUT,IAChDM,GAAc,aAAesC,GAAOnC,GAAS,IAAU,KACvDH,GAAc,cAAgBsC,GAAOnC,GAAS,IAAUV,IACxDO,GAAc,cAAgBsC,GAAOnC,GAAS,IAAUV,IACxDO,GAAc,gBAAkBsC,GAAOnC,GAAS,IAAUX,IAQ1DQ,GAAc,oBAAsBsC,GAAOG,GAAK,IAAU7C,IAE1DV,GAAW,gCAEXqE,GAAe,YAAa,oBAAqB,MACjD,SAASzyD,EAAMkE,GACX,IAAIisD,EAAYr7C,SAAS5Q,EAAK,IAE9B,OADKsoB,SAAS2jC,KAAYA,EAAY,OAC/B,CACHjyC,KAAM,OACN2nB,KAAMjkC,OAAO27C,cAAc4S,OAGnCjB,GAAc,cAAgBsC,GAAOnC,GAAS,MAE9CH,GAAc,IAAMsC,GAAOnC,GAAS,KACpCH,GAAc,IAAMsC,GAAOnC,GAAS,KAEpCH,GAAc,UAAYsC,GAAOnC,GAAS,IAAUN,IACpDG,GAAc,YAAcsC,GAAOnC,GAAS,IAAUN,IAEtDG,GAAc,QAAUsC,GAAOnC,GAAS,IAAUP,IAClDI,GAAc,eAAiBsC,GAAOnC,GAAS,KAE/CH,GAAc,eAAiBsC,GAAOnC,GAAS,KAG/CoD,GAAe,CAAC,OAAQ,QACpB,GAAI,MAAM,SAASzyD,GACnB,MAAO,CACHke,KAAM,MACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM,CAAC,OAAQ,IAAU,OAAQ,KAAU7lC,GAC3CsvD,eAAgB,WAKxBJ,GAAc,SAAWsC,GAAOnC,GAAS,IAAUP,IACnDI,GAAc,WAAauC,GAAMpC,GAAS,IAAUP,IAEpDI,GAAc,kBAAoB,MAAQG,GAAS,KACnDH,GAAc,OAAS,MAAQG,GAAS,KAExCH,GAAc,yBAA2B,MAAQG,GAAS,KAE1DH,GAAc,OAAS,MAAQG,GAAS,KACxCH,GAAc,iBAAmB,MAAQG,GAAS,KAIlDH,GAAc,SAAWuC,GAAMpC,GAAS,IAAU,GAClDH,GAAc,SAAWuC,GAAMpC,GAAS,IAAU,GAElDH,GAAc,OAASsC,GAAOnC,GAAS,IAAU,MACjDH,GAAc,QAAUuC,GAAMpC,GAAS,IAAU,IAEjDH,GAAc,QAAUuC,GAAMpC,GAAS,IAAU,KAEjDH,GAAc,SAAWuC,GAAMpC,GAAS,KACxCH,GAAc,yBAA2B,KAAOG,GAAS,KACzDH,GAAc,MAAQ,KAAOG,GAAS,KACtCH,GAAc,yBAA2B,KAAOG,GAAS,KACzDH,GAAc,MAAQ,KAAOG,GAAS,KACtCH,GAAc,yBAA2B,KAAOG,GAAS,KACzDH,GAAc,MAAQ,KAAOG,GAAS,KACtCH,GAAc,yBAA2B,KAAOG,GAAS,KACzDH,GAAc,MAAQ,KAAOG,GAAS,KACtCH,GAAc,yBAA2B,KAAOG,GAAS,KACzDH,GAAc,MAAQ,KAAOG,GAAS,KACtCH,GAAc,yBAA2B,KAAOG,GAAS,KACzDH,GAAc,MAAQ,KAAOG,GAAS,KAEtCH,GAAc,mBAAqB,MAAQG,GAAS,KACpDH,GAAc,mBAAqB,MAAQG,GAAS,KACpDH,GAAc,mBAAqB,MAAQG,GAAS,KAEpDH,GAAc,mBAAqB,OAASG,GAAS,KACrDH,GAAc,mBAAqB,OAASG,GAAS,KACrDH,GAAc,mBAAqB,OAASG,GAAS,KACrDH,GAAc,mBAAqB,OAASG,GAAS,KAGrDH,GAAc,WAAasC,GAAOnC,GAAS,IAAU,KACrDH,GAAc,QAAUuC,GAAMpC,GAAS,IAAU,IACjDH,GAAc,SAAWsC,GAAOnC,GAAS,IAAU,GAUnDjB,GAAW,UACXc,GAAc,eAAiBsC,GAAOE,GAAK,KAC3CxC,GAAc,WAAasC,GAAOE,GAAK,IAAU5C,IACjDI,GAAc,QAAUsC,GAAOE,GAAK,IAAU5C,IAC9CI,GAAc,SAAWsC,GAAOE,GAAK,IAAU,KAC/CxC,GAAc,kBAAoBsC,GAAOE,GAAK,KAC9CxC,GAAc,YAAcsC,GAAOE,GAAK,IAAU,KAClDxC,GAAc,YAAcuC,GAAMpC,GAAS,IAAU,IAKrDjB,GAAW,SAEXc,GAAc,mBAAqBsC,GAAOG,GAAK,IAAU5C,IACzDG,GAAc,eAAiBsC,GAAOG,GAAK,IAAU5C,IACrDG,GAAc,mBAAqBsC,GAAOG,GAAK,IAAU5C,IACzDG,GAAc,eAAiBsC,GAAOG,GAAK,IAAU5C,IAErDG,GAAc,eAAiBsC,GAAOG,GAAK,IAAU7C,IACrDI,GAAc,WAAasC,GAAOG,GAAK,IAAU7C,IAEjDI,GAAc,uBAAyBsC,GAAOG,GAAK,IAAU7C,IAE7DI,GAAc,oBAAsBuC,GAAME,GAAK,IAAU7C,IAEzDI,GAAc,cAAgBsC,GAAOG,GAAK,IAAU7C,IAEpDI,GAAc,mBAAqBuC,GAAME,GAAK,IAAU7C,IAExDI,GAAc,YAAcsC,GAAOG,GAAK,IAAU7C,IAClDI,GAAc,cAAgBsC,GAAOG,GAAK,IAAU7C,IAEpDI,GAAc,mBAAqBsC,GAAOG,GAAK,IAAU7C,IACzDI,GAAc,mBAAqBsC,GAAOG,GAAK,IAAU7C,IACzDI,GAAc,sBAAwBsC,GAAOG,GAAK,IAAU7C,IAE5DI,GAAc,cAAgBsC,GAAOG,GAAK,IAAU,MACpDzC,GAAc,uBAAyBsC,GAAOG,GAAK,IAAU,MAC7DzC,GAAc,kBAAoBsC,GAAOG,GAAK,IAAU,KACxDzC,GAAc,kBAAoBsC,GAAOG,GAAK,IAAU,KAExDzC,GAAc,YAAcsC,GAAOG,GAAK,IAAU,MAClDzC,GAAc,YAAcsC,GAAOG,GAAK,IAAU,MAClDzC,GAAc,YAAcsC,GAAOG,GAAK,IAAU,KAClDzC,GAAc,YAAcsC,GAAOG,GAAK,IAAU,KAElDzC,GAAc,YAAcsC,GAAOG,GAAK,IAAU,KAClDzC,GAAc,cAAgBsC,GAAOG,GAAK,IAAU,KACpDzC,GAAc,gBAAkBsC,GAAOG,GAAK,IAAU,KACtDzC,GAAc,gBAAkBsC,GAAOG,GAAK,IAAU,KAEtDzC,GAAc,kBAAoBsC,GAAOG,GAAK,IAAU,KACxDzC,GAAc,kBAAoBsC,GAAOG,GAAK,IAAU,IACxDzC,GAAc,oBAAsBsC,GAAOG,GAAK,IAAU,IAC1DzC,GAAc,qBAAuBsC,GAAOG,GAAK,IAAU,IAE3DzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,KAEzDzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,KACxDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,GACvDzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,GACxDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,GACpDzC,GAAc,qBAAuBuC,GAAME,GAAK,IAAU,IAC1DzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,IACvDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,GACvDzC,GAAc,sBAAwBuC,GAAME,GAAK,IAAU,KAC3DzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,KACzDzC,GAAc,QAAUuC,GAAME,GAAK,IAAU,IAC7CzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IACpDzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,IACzDzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,KAClDzC,GAAc,wBAA0BuC,GAAME,GAAK,IAAU,IAC7DzC,GAAc,sBAAwBuC,GAAME,GAAK,IAAU,KAC3DzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,KACxDzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,IACxDzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,KACzDzC,GAAc,qBAAuBuC,GAAME,GAAK,IAAU,IAC1DzC,GAAc,QAAUuC,GAAME,GAAK,IAAU,IAC7CzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,GACxDzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,KACxDzC,GAAc,qBAAuBuC,GAAME,GAAK,IAAU,IAC1DzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,KACzDzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,IACrDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,IACrDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAUjD,IACvDQ,GAAc,qBAAuBuC,GAAME,GAAK,IAAUjD,IAG1DN,GAAW,iBACXc,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,KACrDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,KACrDzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,IACzDzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,IACzDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,GACpDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,GAGpDvD,GAAW,oBACXc,GAAc,UAAYuC,GAAME,GAAK,IAAU,KAC/CzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IACnDzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,IAC9CzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,IAC/CzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,IAE/CzC,GAAc,UAAYuC,GAAMC,GAAK,IAAU,KAC/CxC,GAAc,UAAYuC,GAAMC,GAAK,IAAU,IAE/CxC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,GACnDzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,GAC/CzC,GAAc,aAAeuC,GAAME,GAAK,IAAUjD,IAClDQ,GAAc,UAAYuC,GAAME,GAAK,IAAU,IAC/CzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,IACjDzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,GAClDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,GACrDzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,IAC9CzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,GACnDzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,KAC9CzC,GAAc,WAAauC,GAAME,GAAK,IAAU,KAChDzC,GAAc,WAAauC,GAAME,GAAK,IAAU,KAChDzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,IAC9CzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IACnDzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,IAC/CzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,IAC9CzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,IAC/CzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,GACnDzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,GAC/CzC,GAAc,aAAeuC,GAAME,GAAK,IAAUjD,IAClDQ,GAAc,UAAYuC,GAAME,GAAK,IAAU,IAC/CzC,GAAc,YAAcuC,GAAME,GAAK,IAAUjD,IACjDQ,GAAc,aAAeuC,GAAME,GAAK,IAAU,GAClDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAUjD,IACrDQ,GAAc,UAAYuC,GAAME,GAAK,IAAU,KAC/CzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,GACxDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IACnDzC,GAAc,WAAauC,GAAME,GAAK,IAAU,GAChDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,GACpDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,KACnDzC,GAAc,iBAAmBuC,GAAME,GAAK,IAAU,GACtDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IACpDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,GACvDzC,GAAc,WAAauC,GAAME,GAAK,IAAU,KAChDzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,IAClDzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,GAClDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IAIpDvD,GAAW,UACXc,GAAc,cAAgBuC,GAAMpC,GAAS,IAAU,MAEvDH,GAAc,WAAauC,GAAMpC,GAAS,IAAU,KACpDH,GAAc,aAAeuC,GAAMpC,GAAS,IAAU,KAEtDH,GAAc,kBAAoBuC,GAAMpC,GAAS,IAAU,KAC3DH,GAAc,mBAAqBuC,GAAMpC,GAAS,IAAU,KAE5DH,GAAc,cAAgBuC,GAAMpC,GAAS,IAAU,KACvDH,GAAc,oBAAsBuC,GAAMpC,GAAS,IAAUX,IAE7DN,GAAW,SACXc,GAAc,QAAUsC,GAAOE,GAAK,IAAU3C,IAC9CG,GAAc,SAAWsC,GAAOE,GAAK,IAAU5C,IAC/CI,GAAc,YAAcsC,GAAOE,GAAK,IAAU,MAClDxC,GAAc,YAAcuC,GAAMpC,GAAS,IAAU,KACrDH,GAAc,YAAcuC,GAAMpC,GAAS,IAAU,KACrDH,GAAc,iBAAmBuC,GAAMpC,GAAS,IAAU,KAC1DH,GAAc,YAAcuC,GAAMpC,GAAS,IAAU,KAGrDjB,GAAW,SACXc,GAAc,UAAYsC,GAAOnC,GAAS,IAAU,MACpDH,GAAc,SAAWuC,GAAMpC,GAAS,IAAU,IAClDH,GAAc,WAAauC,GAAMpC,GAAS,IAAU,IACpDH,GAAc,UAAYuC,GAAMpC,GAAS,IAAU,IAInDjB,GAAW,SAEXc,GAAc,WAAasC,GAAOI,GAAM,IAAK7C,IAC7CG,GAAc,WAAasC,GAAOK,GAAO,IAAK9C,IAC9CG,GAAc,WAAasC,GAAOI,GAAM,IAAU9C,IAClDI,GAAc,WAAasC,GAAOK,GAAO,IAAU/C,IACnDI,GAAc,WAAasC,GAAOI,GAAM,IAAU9C,IAClDI,GAAc,WAAasC,GAAOK,GAAO,IAAS/C,IAClDI,GAAc,UAAYsC,GAAOI,GAAM,IAAU9C,IACjDI,GAAc,UAAYsC,GAAOK,GAAO,IAAU/C,IAElDI,GAAc,SAAWsC,GAAOnC,GAAS,IAAUN,IACnDG,GAAc,UAAYsC,GAAOG,GAAK,KACtCzC,GAAc,UAAYsC,GAAOI,GAAM,IAAU,KACjD1C,GAAc,UAAYsC,GAAOK,GAAO,IAAU,KAClD3C,GAAc,MAAQsC,GAAOnC,GAAS,KACtCH,GAAc,SAAWsC,GAAOnC,GAAS,IAAUN,IACnDG,GAAc,UAAYsC,GAAOnC,GAAS,KAC1CH,GAAc,UAAYsC,GAAOI,GAAM,IAAU,KACjD1C,GAAc,UAAYsC,GAAOK,GAAO,IAAUnD,IAElDQ,GAAc,WAAasC,GAAOI,GAAM,IAAK,KAC7C1C,GAAc,WAAasC,GAAOK,GAAO,IAAK,KAC9C3C,GAAc,MAAQsC,GAAOI,GAAM,KACnC1C,GAAc,MAAQsC,GAAOK,GAAO,KAGpC3C,GAAc,IAAMsC,GAAOI,GAAM,KACjC1C,GAAc,IAAMsC,GAAOK,GAAO,KAClC3C,GAAc,IAAMsC,GAAOI,GAAM,KACjC1C,GAAc,IAAMsC,GAAOK,GAAO,KAElC3C,GAAc,aAAeuC,GAAMG,GAAM,IAAU,KACnD1C,GAAc,aAAeuC,GAAMI,GAAO,IAAU,KACpD3C,GAAc,aAAeuC,GAAMG,GAAM,IAAU,KACnD1C,GAAc,aAAeuC,GAAMI,GAAO,IAAU,KAIpD3C,GAAc,WAAasC,GAAOI,GAAM,IAAU,IAClD1C,GAAc,WAAasC,GAAOK,GAAO,IAAU,IACnD3C,GAAc,eAAiBsC,GAAOI,GAAM,IAAUlD,IACtDQ,GAAc,eAAiBsC,GAAOK,GAAO,IAAUnD,IAEvD+D,GAAe,CAAC,YAAa,WAAY,MAAM,SAASzyD,EAAMkE,GAC1D,MAAO,CAACga,KAAM,QAAS+2C,MAAO/wD,EAAK,OAIvCkqD,GAAW,SAGX,IAAM8G,GAAiB,CACnB,SAAW,CAACC,OAAQ,QAAYxkD,KAAM,GACtC,SAAW,CAACwkD,OAAQ,QAAYxkD,KAAM,GACtC,UAAW,CAACwkD,OAAQ,QAAYxkD,KAAM,GACtC,UAAW,CAACwkD,OAAQ,QAAYxkD,KAAM,GACtC,SAAW,CAACwkD,OAAQ,SAAYxkD,KAAM,GACtC,SAAW,CAACwkD,OAAQ,SAAYxkD,KAAM,GACtC,UAAW,CAACwkD,OAAQ,SAAYxkD,KAAM,GACtC,UAAW,CAACwkD,OAAQ,SAAYxkD,KAAM,GACtC,SAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,GACtC,SAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,GACtC,UAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,GACtC,UAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,GACtC,QAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,GACtC,QAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,GACtC,SAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,GACtC,SAAW,CAACwkD,OAAQ,OAAYxkD,KAAM,IAgV1C,SAASykD,GAAgBC,GACrB,IAAIhtD,EAAS,GACTitD,GAAU,EAFc,uBAG5B,YAAmBD,EAAnB,+CAA0B,KAAfE,EAAe,QACG,kBAAdA,EAAK1vB,KACZx9B,GAAUktD,EAAK1vB,KAEfyvB,GAAU,GAPU,kFAU5B,OAAOA,EAAUjtD,EAAS,GAtV9BoqD,GAAe,CACX,SAAU,SAAU,UAAW,UAC/B,SAAU,SAAU,UAAW,UAC/B,SAAU,SAAU,UAAW,UAC/B,QAAU,QAAU,SAAW,UAChC,WAAY,MAAM,SAASzyD,EAAMkE,GAEhC,MAAO,CACHga,KAAM,aACNvN,KAAMukD,GAAel1D,GAAM2Q,KAC3B05C,IAAK6K,GAAel1D,GAAMm1D,OAC1BF,MAAO/wD,EAAK,OAOpBkqD,GAAW,YACXc,GAAc,IAAMsC,GAAOG,GAAK,IAAK5C,IACrCG,GAAc,OAASsC,GAAOG,GAAK,IAAU5C,IAC7CG,GAAc,QAAUsC,GAAOG,GAAK,IAAU7C,IAG9CI,GAAc,IAAMsC,GAAOG,GAAK,IAAK5C,IACrCG,GAAc,OAASsC,GAAOG,GAAK,IAAK7C,IACxCI,GAAc,IAAMsC,GAAOG,GAAK,IAAK5C,IACrCG,GAAc,OAASsC,GAAOG,GAAK,IAAK7C,IAExCI,GAAc,OAASsC,GAAOG,GAAK,IAAU7C,IAC7CI,GAAc,OAASsC,GAAOG,GAAK,IAAU7C,IAE7CI,GAAc,aAAeuC,GAAME,GAAK,IAAU5C,IAClDG,GAAc,aAAeuC,GAAME,GAAK,IAAU5C,IAElDG,GAAc,QAAUsC,GAAOG,GAAK,IAAU7C,IAC9CI,GAAc,QAAUsC,GAAOG,GAAK,IAAU7C,IAE9CI,GAAc,OAASsC,GAAOG,GAAK,KACnCzC,GAAc,OAASsC,GAAOG,GAAK,IAAU7C,IAC7CI,GAAc,YAAcsC,GAAOG,GAAK,IAAU,GAClDzC,GAAc,WAAasC,GAAOG,GAAK,KACvCzC,GAAc,UAAYsC,GAAOG,GAAK,KACtCzC,GAAc,YAAcsC,GAAOG,GAAK,KAGxCzC,GAAc,IAAMsC,GAAOG,GAAK,KAChCzC,GAAc,SAAWsC,GAAOG,GAAK,IAAU7C,IAE/CI,GAAc,UAAYsC,GAAOG,GAAK,IAAU7C,IAEhDI,GAAc,SAAWsC,GAAOG,GAAK,IAAU7C,IAC/CI,GAAc,WAAasC,GAAOG,GAAK,IAAU7C,IACjDI,GAAc,SAAWsC,GAAOG,GAAK,IAAU7C,IAC/CI,GAAc,WAAasC,GAAOG,GAAK,IAAU,MAEjDzC,GAAc,SAAWsC,GAAOG,GAAK,IAAU7C,IAC/CI,GAAc,aAAesC,GAAOG,GAAK,IAAU7C,IAEnDI,GAAc,WAAasC,GAAOG,GAAK,IAAU7C,IACjDI,GAAc,UAAYsC,GAAOG,GAAK,KAEtCzC,GAAc,UAAYsC,GAAOG,GAAK,IAAU7C,IAChDI,GAAc,UAAYsC,GAAOG,GAAK,IAAU7C,IAIhDI,GAAc,QAAUsC,GAAOG,GAAK,IAAU7C,IAC9CI,GAAc,WAAauC,GAAME,GAAK,IAAU7C,IAGhDI,GAAc,WAAasC,GAAOG,GAAK,IAAU5C,IAEjDG,GAAc,aAAeuC,GAAME,GAAK,IAAU,KAClDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,KACrDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,KACpDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IACnDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IACpDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAUjD,IAGpDQ,GAAc,aAAeuC,GAAME,GAAK,IAAU,KAClDzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,IAC/CzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IACnDzC,GAAc,UAAYsC,GAAOG,GAAK,IAAUjD,IAChDQ,GAAc,YAAcuC,GAAME,GAAK,IAAUjD,IAEjDQ,GAAc,SAAWuC,GAAME,GAAK,IAAU,KAC9CzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,KAE9CzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IACpDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IACpDzC,GAAc,WAAasC,GAAOG,GAAK,IAAU,KAEjDzC,GAAc,UAAYsC,GAAOG,GAAK,IAAU,KAEhDzC,GAAc,eAAiBsC,GAAOG,GAAK,IAAU,MACrDzC,GAAc,eAAiBsC,GAAOG,GAAK,IAAU,KAGrDzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,MAC9CzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,IAErDzC,GAAc,QAAUuC,GAAME,GAAK,IAAU,KAC7CzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,KACnDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAUjD,IACpDQ,GAAc,iBAAmBuC,GAAME,GAAK,IAAU,GACtDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,IACvDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IACnDzC,GAAc,WAAauC,GAAME,GAAK,KACtCzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,KAClDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,KACrDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,IACrDzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,KAC/CzC,GAAc,WAAauC,GAAME,GAAK,IAAU,IAChDzC,GAAc,WAAauC,GAAME,GAAK,IAAU,IAChDzC,GAAc,WAAauC,GAAME,GAAK,IAAU,IAChDzC,GAAc,SAAWuC,GAAME,GAAK,IAAU,KAC9CzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IACpDzC,GAAc,QAAUuC,GAAME,GAAK,IAAU,KAC7CzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,KACnDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,IAEpDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,GACnDzC,GAAc,WAAauC,GAAME,GAAK,IAAU,IAChDzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,IAClDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,KACrDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,IACrDzC,GAAc,UAAYuC,GAAME,GAAK,IAAU,KAC/CzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,IAClDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,IACvDzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IACnDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,KACnDzC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,KACrDzC,GAAc,WAAauC,GAAME,GAAK,IAAUjD,IAChDQ,GAAc,UAAYuC,GAAME,GAAK,IAAUjD,IAC/CQ,GAAc,QAAUuC,GAAMC,GAAK,IAAU,KAC7CxC,GAAc,QAAUuC,GAAMC,GAAK,IAAU,KAC7CxC,GAAc,SAAWsC,GAAOG,GAAK,IAAU,IAE/CzC,GAAc,UAAYsC,GAAOG,GAAK,IAAU,MAChDzC,GAAc,aAAeuC,GAAME,GAAK,IAAU,IAClDzC,GAAc,UAAYuC,GAAME,GAAK,IAAUjD,IAC/CQ,GAAc,WAAauC,GAAME,GAAK,IAAU,GAChDzC,GAAc,WAAauC,GAAME,GAAK,IAAU,IAChDzC,GAAc,YAAcuC,GAAMC,GAAK,IAAU,IACjDxC,GAAc,WAAauC,GAAMC,GAAK,IAAU,IAKhDxC,GAAc,MAAQsC,GAAOG,GAAK,KAGlCvD,GAAW,QACXc,GAAc,mBAAqBsC,GAAOG,GAAK,IAAU5C,IACzDG,GAAc,mBAAqBsC,GAAOG,GAAK,IAAU5C,IAEzDG,GAAc,OAASsC,GAAOG,GAAK,IAAU5C,IAC7CG,GAAc,WAAasC,GAAOG,GAAK,IAAU7C,IACjDI,GAAc,UAAYsC,GAAOG,GAAK,IAAU7C,IAEhDI,GAAc,cAAgBuC,GAAME,GAAK,IAAU,MACnDzC,GAAc,YAAcuC,GAAME,GAAK,IAAU,KACjDzC,GAAc,YAAcsC,GAAOG,GAAK,IAAU,MAClDzC,GAAc,SAAWsC,GAAOG,GAAK,IAAU,KAC/CzC,GAAc,UAAYsC,GAAOG,GAAK,IAAU,KAChDzC,GAAc,cAAgBsC,GAAOG,GAAK,IAAUjD,IACpDQ,GAAc,kBAAoBsC,GAAOG,GAAK,IAAUjD,IACxDQ,GAAc,iBAAmBsC,GAAOG,GAAK,IAAUjD,IAGvDN,GAAW,YACXc,GAAc,IAAMsC,GAAOE,GAAK,IAAK3C,IACrCG,GAAc,IAAMsC,GAAOE,GAAK,IAAU3C,IAC1CG,GAAc,IAAWsC,GAAOE,GAAK,IAAU3C,IAC/CG,GAAc,OAASsC,GAAOE,GAAK,IAAU5C,IAC7CI,GAAc,OAASsC,GAAOE,GAAK,IAAU5C,IAC7CI,GAAc,IAAMsC,GAAOE,GAAK,IAAU5C,IAC1CI,GAAc,UAAYsC,GAAOE,GAAK,IAAU5C,IAChDI,GAAc,QAAUsC,GAAOE,GAAK,IAAU5C,IAC9CI,GAAc,SAAWsC,GAAOnC,GAAS,IAAUP,IAEnDI,GAAc,YAAcsC,GAAOE,GAAK,IAAUhD,IAIlDQ,GAAc,WAAauC,GAAMC,GAAK,IAAU,KAChDxC,GAAc,WAAauC,GAAMC,GAAK,IAAU,KAChDxC,GAAc,mBAAqBuC,GAAMC,GAAK,IAAU,IACxDxC,GAAc,oBAAsBuC,GAAMC,GAAK,IAAU,IACzDxC,GAAc,aAAeuC,GAAMC,GAAK,IAAU,KAClDxC,GAAc,YAAcuC,GAAMC,GAAK,IAAU,IACjDxC,GAAc,cAAgBuC,GAAMC,GAAK,IAAU,KACnDxC,GAAc,mBAAqBuC,GAAMC,GAAK,IAAU,GACxDxC,GAAc,kBAAoBuC,GAAMC,GAAK,IAAU,IACvDxC,GAAc,SAAWsC,GAAOE,GAAK,IAAUhD,IAG/CN,GAAW,SACXc,GAAc,UAAYsC,GAAOnC,GAAS,IAAUN,IACpDG,GAAc,UAAYsC,GAAOpC,GAAK,IAAUL,IAChDG,GAAc,gBAAkBsC,GAAOnC,GAAS,KAChDH,GAAc,UAAYsC,GAAOnC,GAAS,IAAUP,IACpDI,GAAc,IAAMsC,GAAOnC,GAAS,KACpCH,GAAc,MAAQsC,GAAOnC,GAAS,KACtCH,GAAc,MAAQsC,GAAOnC,GAAS,KACtCH,GAAc,MAAQsC,GAAOnC,GAAS,KAEtCjB,GAAW,QAEXc,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,SAAWsC,GAAOpC,GAAK,IAAUN,IAC/CI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,YAAcsC,GAAOpC,GAAK,IAAUN,IAClDI,GAAc,eAAiBsC,GAAOpC,GAAK,KAC3CF,GAAc,SAAWsC,GAAOpC,GAAK,IAAUN,IAC/CI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,aAAesC,GAAOpC,GAAK,IAAUN,IACnDI,GAAc,SAAWsC,GAAOpC,GAAK,IAAUN,IAC/CI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,aAAeuC,GAAMrC,GAAK,IAAUN,IAClDI,GAAc,WAAasC,GAAOpC,GAAK,IAAUN,IACjDI,GAAc,OAASsC,GAAOpC,GAAK,IAAUN,IAC7CI,GAAc,OAASsC,GAAOpC,GAAK,IAAUN,IAC7CI,GAAc,OAASsC,GAAOpC,GAAK,IAAUN,IAC7CI,GAAc,YAAcsC,GAAOpC,GAAK,KACxCF,GAAc,OAASsC,GAAOpC,GAAK,IAAUN,IAC7CI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,WAAasC,GAAOpC,GAAK,IAAUN,IACjDI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,aAAesC,GAAOpC,GAAK,IAAUN,IACnDI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,WAAasC,GAAOpC,GAAK,IAAUN,IACjDI,GAAc,YAAcsC,GAAOpC,GAAK,IAAUN,IAClDI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAEhDI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,WAAasC,GAAOpC,GAAK,IAAUN,IACjDI,GAAc,OAASsC,GAAOpC,GAAK,IAAUN,IAC7CI,GAAc,OAASsC,GAAOpC,GAAK,IAAUN,IAC7CI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAChDI,GAAc,YAAcsC,GAAOpC,GAAK,IAAUN,IAClDI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,QAAUsC,GAAOpC,GAAK,IAAUN,IAC9CI,GAAc,UAAYsC,GAAOpC,GAAK,IAAUN,IAGhDI,GAAc,YAAcuC,GAAMrC,GAAK,IAAU,KAEjDhB,GAAW,SACXc,GAAc,aAAesC,GAAOnC,GAAS,IAAUN,IACvDG,GAAc,eAAiBuC,GAAMpC,GAAS,IAAUN,IAIxDX,GAAW,gBACXc,GAAc,QAAUsC,GAAOE,GAAK,IAAU3C,IAC9CG,GAAc,QAAUsC,GAAOE,GAAK,IAAU3C,IAC9CG,GAAc,aAAesC,GAAOE,GAAK,IAAU5C,IACnDI,GAAc,kBAAoBuC,GAAMC,GAAK,IAAU,KACvDxC,GAAc,eAAiBuC,GAAMpC,GAAS,IAAU,KAExDjB,GAAW,gBACXc,GAAc,OAASsC,GAAOG,GAAK,IAAU5C,IAC7CG,GAAc,UAAYsC,GAAOG,GAAK,IAAU5C,IAChDG,GAAc,QAAUsC,GAAOG,GAAK,IAAU7C,IAC9CI,GAAc,OAASsC,GAAOG,GAAK,IAAU7C,IAC7CI,GAAc,SAAWsC,GAAOG,GAAK,IAAU,IAC/CzC,GAAc,WAAasC,GAAOG,GAAK,IAAU5C,IACjDG,GAAc,WAAasC,GAAOG,GAAK,IAAU5C,IACjDG,GAAc,aAAesC,GAAOG,GAAK,IAAU5C,IACnDG,GAAc,aAAesC,GAAOG,GAAK,IAAU5C,IACnDG,GAAc,cAAgBuC,GAAME,GAAK,IAAU,MACnDzC,GAAc,iBAAmBuC,GAAME,GAAK,IAAU,KACtDzC,GAAc,eAAiBuC,GAAME,GAAK,IAAU,KACpDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,IACvDzC,GAAc,YAAcuC,GAAME,GAAK,IAAUjD,IACjDQ,GAAc,YAAcuC,GAAME,GAAK,IAAUjD,IACjDQ,GAAc,cAAgBuC,GAAME,GAAK,IAAU,KACnDzC,GAAc,cAAgBuC,GAAME,GAAK,IAAU,IAGnDvD,GAAW,UAEXc,GAAc,MAAQsC,GAAOQ,GAAS,KACtC9C,GAAc,IAAMsC,GAAOQ,GAAS,KACpC9C,GAAc,UAAYsC,GAAOQ,GAAS,KAE1C9C,GAAc,MAAQsC,GAAOQ,GAAS,MACtC9C,GAAc,MAAOsC,GAAOQ,GAAU,MACtC9C,GAAc,MAAQsC,GAAOQ,GAAS,MACtC9C,GAAc,MAAQsC,GAAOQ,GAAS,MACtC9C,GAAc,WAAasC,GAAOQ,GAAS,MAE3C9C,GAAc,YAAcsC,GAAOQ,GAAS,KAAM,KAClD9C,GAAc,SAAWsC,GAAOQ,GAAS,KAAMlD,IAC/CI,GAAc,UAAYsC,GAAOQ,GAAS,KAAMlD,IAEhD2D,GAAe,CACX,WAAY,aAGb,eAAgB,CAACjC,eAAe,IAAO,SAAS6C,EAAOnvD,GACtD,MAAO,CACHga,KAAM,UACNisC,MAAOjmD,EAAK,IAAM,MAyB1BuuD,GAAe,CACX,WAAY,YAAa,YAAa,aACtC,cAAe,cAAe,YAAa,eAC5C,UAAW,MAAM,SAASzyD,EAAMkE,GAC/B,IAAMmE,EAAS,CACX6V,KAAM,CACF,WAAY,MACZ,YAAa,OACb,YAAa,OACb,aAAc,QACd,cAAe,SACf,cAAe,SACf,YAAa,OACb,cAAe,UACjBle,GACF6lC,KAAMuvB,GAAgBlxD,EAAK,KAAOA,EAAK,GACvCgwD,kBAAkB,EAClB5E,eAAyB,aAATtvD,EAAsB,OAAS,IAMnD,MAJa,aAATA,IACAqI,EAAO+qD,OAAS,WAChB/qD,EAAOmjC,YAAa,GAEjBnjC,KAGXoqD,GAAe,CACX,iBAAkB,mBACnB,oBAAqB,MAAM,SAASzyD,EAAMkE,GACzC,IAAMmE,EAAS,CACX6V,KAAM,MACNo1C,cAAc,EACdztB,KAAM3hC,EAAK,GACXsnC,YAAY,EACZ8jB,eAAgB,OASpB,MANa,mBAATtvD,EACAqI,EAAO+qD,OAAS,WACA,oBAATpzD,IACPqI,EAAO+qD,OAAS,UAGb/qD,KAKX+lD,GAAW,cACXc,GAAc,UAAYsC,GAAOM,GAAO,IAAKhD,IAC7CI,GAAc,UAAYsC,GAAOM,GAAO,IAAUhD,IAClDI,GAAc,UAAYsC,GAAOO,GAAO,IAAUjD,IAClDI,GAAc,UAAYsC,GAAOO,GAAO,IAAUjD,IAClDI,GAAc,UAAYsC,GAAOO,GAAO,IAAUjD,IAClDI,GAAc,iBAAmBsC,GAAOO,GAAO,IAAU,IACzD7C,GAAc,UAAYsC,GAAOnC,GAAS,IAAUP,IACpDI,GAAc,UAAYsC,GAAOM,GAAO,IAAU,IAClD5C,GAAc,IAAKsC,GAAMM,GAAQ,KACjC5C,GAAc,IAAMsC,GAAOM,GAAO,KAGlC1D,GAAW,oBACXc,GAAc,UAAYsC,GAAOE,GAAK,IAAU3C,IAChDG,GAAc,QAAUsC,GAAOE,GAAK,IAAU3C,IAE9CG,GAAc,SAAWsC,GAAOnC,GAAS,IAAUP,IACnDI,GAAc,QAAUsC,GAAOnC,GAAS,IAAUN,IAElDG,GAAc,SAAWsC,GAAOE,GAAK,IAAU,KAC/CxC,GAAc,QAAUsC,GAAOE,GAAK,IAAU,KAC9CxC,GAAc,aAAeuC,GAAMC,GAAK,IAAU,IAClDxC,GAAc,WAAauC,GAAMC,GAAK,IAAU,IAChDxC,GAAc,QAAUuC,GAAMC,GAAK,IAAU,GAC7CxC,GAAc,eAAiBuC,GAAMC,GAAK,IAAU,IACpDxC,GAAc,aAAeuC,GAAMC,GAAK,IAAU,IAElDtD,GAAW,QACXc,GAAc,WAAauC,GAAMpC,GAAS,IAAUP,IACpDI,GAAc,QAAUuC,GAAMpC,GAAS,IAAUP,IACjDI,GAAc,gBAAkBuC,GAAMpC,GAAS,IAAU,MACzDH,GAAc,aAAeuC,GAAMC,GAAK,IAAU,IAClDxC,GAAc,YAAcuC,GAAMC,GAAK,IAAU,KACjDxC,GAAc,aAAeuC,GAAMC,GAAK,IAAU,KAClDxC,GAAc,WAAauC,GAAMC,GAAK,IAAU,KAEhDtD,GAAW,UACXc,GAAc,SAAWsC,GAAOE,GAAK,IAAU3C,IAC/CG,GAAc,YAAcsC,GAAOE,GAAK,IAAU,KAClDxC,GAAc,WAAasC,GAAOE,GAAK,IAAU5C,IACjDI,GAAc,gBAAkBuC,GAAMC,GAAK,IAAU5C,IACrDI,GAAc,eAAiBuC,GAAMC,GAAK,IAAU,KACpDxC,GAAc,UAAYsC,GAAOE,GAAK,IAAU5C,IAChDI,GAAc,WAAasC,GAAOE,GAAK,IAAU,MACjDxC,GAAc,WAAasC,GAAOE,GAAK,IAAU5C,IACjDI,GAAc,SAAWsC,GAAOE,GAAK,IAAU5C,IAC/CI,GAAc,gBAAkBuC,GAAMC,GAAK,IAAU,IACrDxC,GAAc,WAAasC,GAAOE,GAAK,IAAU,KACjDxC,GAAc,aAAeuC,GAAMpC,GAAS,IAAU,IACtDH,GAAc,aAAeuC,GAAMpC,GAAS,IAAU,MAGtDjB,GAAW,YACXc,GAAc,aAAesC,GAAOnC,GAAS,IAAUP,IACvDI,GAAc,cAAgBuC,GAAME,GAAK,IAAU7C,IACnDI,GAAc,kBAAoBsC,GAAOE,GAAK,IAAU,MACxDxC,GAAc,gBAAkBuC,GAAME,GAAK,IAAU,KAErDzC,GAAc,iBAAmBuC,GAAMpC,GAAS,IAAU,KAC1DH,GAAc,oBAAsBsC,GAAOE,GAAK,IAAU,KAE1DxC,GAAc,iBAAmBsC,GAAOE,GAAK,IAAU,KACvDxC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,KACzDzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,KACxDzC,GAAc,kBAAoBuC,GAAME,GAAK,IAAU,IACvDzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,IAEzDzC,GAAc,kBAAoBsC,GAAOE,GAAK,IAAU,KACxDxC,GAAc,qBAAuBuC,GAAME,GAAK,IAAU,KAC1DzC,GAAc,oBAAsBuC,GAAME,GAAK,IAAU,IACzDzC,GAAc,mBAAqBuC,GAAME,GAAK,IAAU,IACxDzC,GAAc,qBAAuBuC,GAAME,GAAK,IAAU,GAE1DzC,GAAc,kBAAoBuC,GAAMpC,GAAS,IAAU,KAC3DH,GAAc,sBAAwBuC,GAAMpC,GAAS,IAAU,KAC/DH,GAAc,sBAAwBuC,GAAME,GAAK,IAAU,KAC3DzC,GAAc,uBAAyBuC,GAAME,GAAK,IAAU,KAI5DvD,GAAW,SACXc,GAAc,MAAQsC,GAAOpC,GAAK,KAClCF,GAAc,IAAMsC,GAAO,UAAW,KAGtCpD,GAAW,gBACXc,GAAc,UAAYsC,GAAOE,GAAK,IAAU,MAChDxC,GAAc,UAAYsC,GAAOE,GAAK,IAAU,KAChDxC,GAAc,UAAYsC,GAAOE,GAAK,IAAU,KAChDxC,GAAc,OAASsC,GAAOE,GAAK,IAAU,KAC7CxC,GAAc,QAAUuC,GAAMC,GAAK,IAAU,GAC7CxC,GAAc,QAAUuC,GAAMC,GAAK,IAAU,GAC7CxC,GAAc,cAAgBuC,GAAMC,GAAK,IAAU,GACnDxC,GAAc,cAAgBuC,GAAMC,GAAK,IAAU,GACnDxC,GAAc,UAAYsC,GAAOE,GAAK,IAAUhD,IAChDQ,GAAc,QAAUsC,GAAOE,GAAK,KAEpCtD,GAAW,UAgBXqE,GAAe,CACX,UAAW,UAAW,QAAS,SAAU,aACzC,UAAW,QAAS,UAAW,UAAW,QAAS,SACpD,cAAe,MAAM,SAASzyD,EAAMkE,GACnC,MAAO,CACHga,KAAM,SACNs3C,OAAQ,CACJ,UAAW,IACX,UAAW,IACX,QAAS,IACT,SAAU,IACV,aAAc,IACd,UAAW,IACX,QAAS,IACT,UAAW,IACX,UAAW,IACX,QAAS,IACT,QAAS,KACXx1D,GACFozD,OAAQ,SAIRE,cAAc,EACdztB,KAAM3hC,EAAK,OAInB+qD,GAAUH,GAAQ,QAAS,SAAU,UAAW,UAAW,WAC3DG,GAAU,KAAM,WAChBA,GAAU,IAAK,WACfA,GAAUF,GAAa,SAKvBX,GAAW,gCACXc,GAAc,UAAYsC,GAAOnC,GAAS,KAC1CH,GAAc,UAAYsC,GAAOnC,GAAS,KAE1CjB,GAAW,SACXc,GAAc,WAAasC,GAAOnC,GAAS,IAAU,IAErDjB,GAAW,SACXc,GAAc,IAAMsC,GAAOnC,GAAS,KACpCH,GAAc,IAAMsC,GAAOnC,GAAS,KAMpCjB,GAAW,SAEXqE,GAAe,MAAO,YAClB,CAACjC,eAAe,IAChB,SAASxwD,EAAMkE,GACf,MAAO,CACHga,KAAM,OACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM3hC,EAAK,IACN,CAAC,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IACtC,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,KAAKA,EAAK,KAC9C,IACJorD,eAAgB,UAIxBmD,GAAe,MAAO,YAClB,CAACjC,eAAe,IAChB,SAASxwD,EAAMkE,GACf,MAAO,CACHga,KAAM,OACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM3hC,EAAK,IACN,CAAC,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IACtC,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,KAAKA,EAAK,KAC9C,IACJorD,eAAgB,UAKxBmD,GAAe,MAAO,YAClB,CAACjC,eAAe,IAChB,SAASxwD,EAAMkE,GACf,MAAO,CACHga,KAAM,OACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM3hC,EAAK,IACN,CAAC,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IACtC,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,IAAI,EAAI,KAAKA,EAAK,KAC9C,IACJorD,eAAgB,UAIxBmD,GAAe,MAAO,YAClB,CAACjC,eAAe,IAChB,SAASxwD,EAAMkE,GACf,MAAO,CACHga,KAAM,OACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM3hC,EAAK,IACN,CAAC,EAAI,IAAK,EAAI,IAAK,EAAI,IAAK,EAAI,IAAK,EAAI,IAAK,EAAI,KAAKA,EAAK,KAC7D,IACJorD,eAAgB,UAIxBmD,GAAe,MAAO,YAClB,CAACjC,eAAe,IAChB,SAASxwD,EAAMkE,GACf,MAAO,CACHga,KAAM,OACNk1C,OAAQ,WACR5lC,QAAQ,EACRge,YAAY,EACZ3F,KAAM3hC,EAAK,IACN,CAAC,EAAI,IAAK,EAAI,KAAKA,EAAK,KACzB,GACJorD,eAAgB,UAOxB,IAAMQ,GAAe,CACjB,MAAqB,IACrB,MAAqB,IACrB,MAAqB,IACrB,MAAqB,IACrB,MAAqB,IACrB,SAAqB,IACrB,YAAqB,IACrB,MAAqB,IACrB,MAAqB,IACrB,iBAAqB,IACrB,UAAqB,IACrB,iBAAqB,IACrB,cAAqB,KACrB,IAAqB,IACrB2F,IAAqB,IACrB,KAAqB,IACrB,KAAqB,IACrB,WAAqB,IACrB,oBAAqB,IACrB,mBAAqB,IACrB,yBAA8B,IAC9B,kBAAoB,KACpB,kBAAoB,IACpB,mBAAoB,IACpB,eAAoB,IACpB,eAAoB,IACpB,iBAAoB,IACpB,IAAoB,IACpB,IAAoB,IACpB,IAAoB,IACpB,IAAoB,IACpB,IAAoB,IACpB,IAAoB,IACpB,IAAoB,IACpB,OAAoB,IACpB,OAAoB,IACpB,OAAoB,IACpB,OAAoB,IACpB,OAAoB,IACpB,MAAoB,IACpB,MAAoB,IACpB,MAAoB,IACpB,OAAoB,IACpB,OAAoB,KAKlBC,GAA0B,kDAO1BC,GACmB,qBAAdC,WAA6B,gBAAgBj0D,KAAKi0D,UAAUlpC,WAC/D,0KACA,+pOAGFmpC,GACmB,qBAAdD,WAA6B,gBAAgBj0D,KAAKi0D,UAAUlpC,WAC/D,6KACA,+pOAGO,IACXijC,kBACAY,kBACAL,wBACAE,wBACAE,wBACAU,WACAP,YACAC,sBACAa,WACAvC,mBACAc,gBACAzB,gBACAE,gBAEAE,eACAH,aACAE,UAEAkH,2BACAC,UACAE,sBChoGEzJ,GAAa9D,GAAK8D,WAClBD,GAAW7D,GAAK6D,SAChBqB,GAAYlF,GAAKkF,UAWvB,SAASsI,GAAe53C,EAAM+2C,EAAOl8B,EAAOg9B,EAAQp3B,EAAS4pB,GACzD,IAAMyN,EAAO5J,GAAW,cAAe6J,GAAYxF,SAAS,OAAQwE,IAE9DvJ,EAAOpD,GAAK2E,cAAc/uC,EAAM83C,EAAMr3B,EAAQopB,UAAWhvB,EAAOwvB,GAStE,OAPIwN,GACArK,EAAKwC,QAAQ,EAAIvvB,EAAQopB,UAAUrB,eAAiB3tB,EAAM2tB,gBACtD/nB,EAAQopB,UAAUpC,QAAQ3B,YAElC0H,EAAK7C,SAAS,QAASlqB,EAAQgF,OACA,kBAApBhF,EAAQupB,SAAsBwD,EAAK7C,SAAS,UAAWlqB,EAAQupB,SAEnEwD,EASX,SAASwK,GAAeh4C,EAAM+2C,EAAOtkD,EAAMolD,EAAQp3B,EAAS4pB,GACxD,IAAM4N,EAAQ/J,GAAW,OAASz7C,EAAO,WACrCslD,GAAYxF,SAAS,OAAQwE,IAE3B5sD,EAASigD,GAAK2E,cAAe/uC,EAC3BiuC,GAASgK,EAAO,mBAAqBxlD,GACrCguB,EAAQopB,UAAWxB,GAAUoB,KAAMY,GAS3C,OAPIwN,GACA1tD,EAAO6lD,QAAQ,EAAIvvB,EAAQopB,UAAUrB,gBACjC/nB,EAAQopB,UAAUpC,QAAQ3B,YAElC37C,EAAOwgD,SAAS,QAASlqB,EAAQgF,OACF,kBAApBhF,EAAQupB,SAAsB7/C,EAAOwgD,SAAS,UAAWlqB,EAAQupB,SAErE7/C,EASX,SAAS0kD,GAAUv/B,EAAQ4oC,GACvB,IAAIC,EAAY,GAEH,kBAATD,EACAC,EAAY,eACI,kBAATD,IACPC,EAAY,gBAKhB,IAAMF,EAAQhK,GAASC,GAAWgK,EAC9BH,GAAYxF,SAAS,OAAQjjC,IAAU,mBAAqB6oC,GAEhE,OAAOF,EASX,SAASG,GAAiBp4C,EAAM+2C,EAAOsB,EAAaR,EAAQp3B,EAC5B4pB,GAG5B,IAAI2B,EACA5V,EACAhuC,EACAsnD,EACJ1D,EAAM5jD,EAASsnD,EAASqI,GAAYxF,SAAS,OAAQwE,GACrD3gB,EAAS,KAET,IAAI8hB,EAAO,gBAKG,WAAVnB,GAAgC,YAAVA,GAAiC,YAAVA,GAAiC,YAAVA,GAAiC,UAAVA,EAC3F3uD,EAAS4jD,EAAM0D,EAAS,IACP,WAAVqH,GAAgC,YAAVA,GACX,YAAVA,GAAiC,YAAVA,GAAiC,QAAVA,EACtD3uD,EAAS4jD,EAAM0D,EAAS,IACP,cAAVqH,EACP3uD,EAASsnD,EAAS,IACD,cAAVqH,EACP3uD,EAASsnD,EAAS,IACD,gBAAVqH,EACP/K,EAAM5jD,EAAS,IACE,gBAAV2uD,EACP/K,EAAM5jD,EAAS,IACE,kBAAV2uD,GACP/K,EAAM,IACN5jD,EAAS,IACTsnD,EAAS,KACQ,kBAAVqH,GACP/K,EAAM,IACN5jD,EAAS,IACTsnD,EAAS,KACQ,MAAVqH,GAA2B,aAAVA,GACxB/K,EAAM,IACN5jD,EAAS,IACTsnD,EAAS,IACTwI,EAAO,iBACU,MAAVnB,GAA2B,aAAVA,GACxB/K,EAAM,IACN5jD,EAAS,IACTsnD,EAAS,IACTwI,EAAO,iBACU,aAAVnB,GACP3uD,EAAS4jD,EAAM,IACf0D,EAAS,IACTwI,EAAO,iBACU,YAAVnB,GACP/K,EAAM,IACN5jD,EAASsnD,EAAS,IAClBwI,EAAO,iBACU,aAAVnB,GACP3uD,EAAS4jD,EAAM,IACf0D,EAAS,IACTwI,EAAO,iBACU,YAAVnB,GACP/K,EAAM,IACN5jD,EAASsnD,EAAS,IAClBwI,EAAO,iBACU,MAAVnB,GACP/K,EAAM,IACN5jD,EAAS,IACTsnD,EAAS,IACTwI,EAAO,iBACU,MAAVnB,GACP/K,EAAM,IACN5jD,EAAS,IACTsnD,EAAS,IACTwI,EAAO,iBACU,QAAVnB,GAA6B,aAAVA,GAC1B/K,EAAM,IACN5V,EAAS,IACTsZ,EAAS,IACTtnD,EAAS,IACT8vD,EAAO,iBACU,QAAVnB,GAA6B,aAAVA,GAC1B/K,EAAM,IACN5V,EAAS,IACTsZ,EAAS,IACTtnD,EAAS,IACT8vD,EAAO,iBACU,aAAVnB,GACP/K,EAAM,IACN0D,EAAS,IACTtnD,EAAS,IACT8vD,EAAO,iBACU,aAAVnB,GACP/K,EAAM,IACN0D,EAAS,IACTtnD,EAAS,IACT8vD,EAAO,iBACU,iBAAVnB,GACP/K,EAAM,IACN0D,EAAS,IACTtnD,EAAS,IACT8vD,EAAO,iBACU,iBAAVnB,GACP/K,EAAM,IACN0D,EAAS,IACTtnD,EAAS,IACT8vD,EAAO,iBACU,WAAVnB,GACP/K,EAAM,IACN0D,EAAS,IACTtnD,EAAS,IACT8vD,EAAO,iBACU,eAAVnB,GACP/K,EAAM,IACN5jD,EAASsnD,EAAS,KACD,eAAVqH,GACP/K,EAAM,IACN5jD,EAASsnD,EAAS,KACD,eAAVqH,GACPrH,EAAS,IACTtnD,EAAS4jD,EAAM,KACE,eAAV+K,IACP/K,EAAM,IACN5jD,EAAS4jD,EAAM,KAInB,IAAMsM,EAAaxM,GAAYzE,oBACvB0Q,GAAYxF,SAAS,OAAQvG,GAAMkM,GACrCK,EAAiBD,EAAW3Q,OAAS2Q,EAAWpvB,MAChDsvB,EAAgB1M,GAAYzE,oBAC1B0Q,GAAYxF,SAAS,OAAQnqD,GAAS8vD,GACxCO,EAAoBD,EAAc7Q,OAAS6Q,EAActvB,MACzDwvB,EAAgB5M,GAAYzE,oBAC1B0Q,GAAYxF,SAAS,OAAQ7C,GAASwI,GACxCS,EAAoBD,EAAc/Q,OAAS+Q,EAAcxvB,MAC3D0vB,EAAoB,EACpBC,EAAe,EACnB,GAAe,OAAXziB,EAAiB,CACjB,IAAM0iB,EAAgBhN,GAAYzE,oBAC1B0Q,GAAYxF,SAAS,OAAQnc,GAAS8hB,GAC9CU,EAAoBE,EAAcnR,OAASmR,EAAc5vB,MACzD2vB,EAAe,EAKnB,IAAME,EAAYR,EAAiBI,EAAoBC,EAGjDI,EAAcj1D,KAAKuE,MACpB+vD,EAAcU,IAAcF,EAAeJ,IAG1CQ,EACFF,EAAYC,EAAcH,EAAeJ,EAMzC3S,EAAarlB,EAAQopB,UAAUpC,QAAQ3B,WACvC+R,IACA/R,GAAcrlB,EAAQopB,UAAUrB,gBAGpC,IAAMtf,EAAQ+vB,EAAkB,EAAInT,EAK9BoT,EAAS,GAKf,GAFAA,EAAOlsD,KAAK6hD,GAAUa,EAAQwI,IAEf,OAAX9hB,EAEA,IAAK,IAAI70C,EAAI,EAAGA,EAAIy3D,EAAaz3D,IAC7B23D,EAAOlsD,KAAK6hD,GAAUzmD,EAAQ8vD,QAE/B,CAGH,IAAK,IAAI32D,EAAI,EAAGA,EAAIy3D,EAAaz3D,IAC7B23D,EAAOlsD,KAAK6hD,GAAUzmD,EAAQ8vD,IAElCgB,EAAOlsD,KAAK6hD,GAAUzY,EAAQ8hB,IAC9B,IAAK,IAAI32D,EAAI,EAAGA,EAAIy3D,EAAaz3D,IAC7B23D,EAAOlsD,KAAK6hD,GAAUzmD,EAAQ8vD,IAKtCgB,EAAOlsD,KAAK6hD,GAAU7C,EAAKkM,IAG3B,IAAMD,EAAQ3I,GAAU7uB,EAASy4B,EAAQ,SAAUhwB,GAInD,OAHA+uB,EAAMtN,SAAS,QAASlqB,EAAQgF,OACD,kBAApBhF,EAAQupB,SAAsBiO,EAAMtN,SAAS,UAAWlqB,EAAQupB,SAEpEI,GAAK2E,cAAc/uC,EAAMiuC,GAASgK,EAAO,oBAC5Cx3B,EAAQopB,UAAWxB,GAAUoB,KAAMY,GAK3C,IAAM8O,GAAuB,CACzB,IAAK,IAAK,IAAK,WAAY,IAAK,WAChC,MAAO,WAAY,MAAO,WAC1B,WAAY,WAAY,UAAW,UACnC,UAIEC,GAAwB,CAC1B,YAAa,cAAe,gBAC5B,YAAa,cAAe,gBAC5B,IAAK,MAAO,SAAU,SACtB,UAAW,UAAW,UAAW,UACjC,UAAW,QACX,WAAY,WAAY,eAAgB,gBAItCC,GAAuB,CACzB,IAAK,IAAK,WAAY,WAAY,IAAK,cAAe,OAAQ,QAM5DC,GAAkB,CAAC,EAAG,IAAK,IAAK,IAAK,GAO3C,SAASC,GAAev5C,EAAM+2C,EAAOtkD,EAAMguB,EAAS4pB,GAChD,MAAc,MAAV0M,EAGOyC,GAAcx5C,EAAMygB,EAAS4pB,IAK1B,MAAV0M,GAA2B,SAAVA,EACjBA,EAAQ,WACS,MAAVA,GAA2B,SAAVA,IACxBA,EAAQ,YAIRoC,GAAqB5iD,SAASwgD,IAC9BsC,GAAqB9iD,SAASwgD,GACvBiB,GAAeh4C,EAAM+2C,EAAOtkD,GAAM,EAAOguB,EAAS4pB,GAClD+O,GAAsB7iD,SAASwgD,GAC/BqB,GACHp4C,EAAM+2C,EAAOuC,GAAgB7mD,IAAO,EAAOguB,EAAS4pB,IAE5DtjC,QAAQu8B,QAAO,EAAO,sBAAyByT,EAAQ,KAChD,OAgBX,IAAM0C,GAA8B,CAChC,CAACz5C,KAAM,QAAS6pC,UAAWxB,GAAUqB,cACrC,CAAC1pC,KAAM,QAAS6pC,UAAWxB,GAAUtuB,QACrC,CAAC/Z,KAAM,QAAS6pC,UAAWxB,GAAUoB,MACrC,CAACzpC,KAAM,QAASvN,KAAM,GACtB,CAACuN,KAAM,QAASvN,KAAM,GACtB,CAACuN,KAAM,QAASvN,KAAM,GACtB,CAACuN,KAAM,QAASvN,KAAM,IAIpBinD,GAA+B,CACjC,CAAC15C,KAAM,QAAS6pC,UAAWxB,GAAUqB,cACrC,CAAC1pC,KAAM,QAAS6pC,UAAWxB,GAAUtuB,QACrC,CAAC/Z,KAAM,QAAS6pC,UAAWxB,GAAUoB,MACrC,CAACzpC,KAAM,UAKL25C,GAA8B,CAChC,CAAC35C,KAAM,QAAS6pC,UAAWxB,GAAUqB,cACrC,CAAC1pC,KAAM,QAAS6pC,UAAWxB,GAAUtuB,QACrC,CAAC/Z,KAAM,QAAS6pC,UAAWxB,GAAUoB,MACrC,CAACzpC,KAAM,QAASvN,KAAM,GACtB,CAACuN,KAAM,QAASvN,KAAM,GACtB,CAACuN,KAAM,QAASvN,KAAM,GACtB,CAACuN,KAAM,QAASvN,KAAM,GACtB,CAACuN,KAAM,UAMX,SAAS45C,GAAgB55C,GACrB,MAAkB,UAAdA,EAAKA,KACE,eACc,UAAdA,EAAKA,KACL,OAASA,EAAKvN,KAAO,YAEhCsU,QAAQu8B,OAAqB,UAAdtjC,EAAKA,MACb,iBAUX,SAAS65C,GAAiB9C,EAAOpP,EAAQvhB,EAAU3F,GAM/C,IADA,IAAMv3B,EAAQnF,KAAKkJ,IAAI,EAAG,EAAIwzB,EAAQopB,UAAUp3C,MACvClR,EAAI2H,EAAO3H,EAAI6kC,EAASnhC,OAAQ1D,IAAK,CAC1C,GAAyB,UAArB6kC,EAAS7kC,GAAGye,KAEZ,MAGJ,IAAMynC,EAAUqE,GAAYzE,oBACpB0P,EACA6C,GAAgBxzB,EAAS7kC,KACjC,GAAIkmD,EAAQI,eAGR,MAAO,CAAC7nC,KAAM,QAAS6pC,UAAWxB,GAAUtuB,QAEhD,IAAI+/B,EAAcrS,EAAQE,OAASF,EAAQve,MAU3C,GALyB,UAArB9C,EAAS7kC,GAAGye,OACZ85C,GAAe1zB,EAAS7kC,GAAGsoD,UAAUrB,gBAIrCsR,EAAcnS,EACd,OAAOvhB,EAAS7kC,GAKxB,OAAO6kC,EAASA,EAASnhC,OAAS,GAiBtC,SAAS80D,GAAqB/5C,EAAM+2C,EAAOpP,EAAQkQ,EAAQp3B,EAAS4pB,GAChE,IAAK0M,GAA0B,IAAjBA,EAAM9xD,QAA0B,MAAV8xD,EAChC,OAAOyC,GAAcx5C,EAAMygB,EAASzgB,GAUxC,IAAIomB,EAPU,MAAV2wB,GAA2B,SAAVA,EACjBA,EAAQ,WACS,MAAVA,GAA2B,SAAVA,IACxBA,EAAQ,YAMR3wB,EADAizB,GAAqB9iD,SAASwgD,GACnB0C,GACJN,GAAqB5iD,SAASwgD,GAC1B4C,GAEAD,GAIf,IAAMM,EAAYH,GAAiB9B,GAAYxF,SAAS,OAAQwE,GAC5DpP,EAAQvhB,EAAU3F,GAItB,MAAuB,UAAnBu5B,EAAUh6C,KACH43C,GAAe53C,EAAM+2C,EAAOiD,EAAUnQ,UAAWgO,EAAQp3B,EAC1C4pB,GACI,UAAnB2P,EAAUh6C,KACVg4C,GAAeh4C,EAAM+2C,EAAOiD,EAAUvnD,KAAMolD,EAAQp3B,EACrC4pB,IAE1BtjC,QAAQu8B,OAA0B,UAAnB0W,EAAUh6C,MAClBo4C,GAAiBp4C,EAAM+2C,EAAOpP,EAAQkQ,EAAQp3B,EAAS4pB,IAUlE,SAAS4P,GAAmBj6C,EAAM+2C,EAAOpP,EAAQze,EAAOzI,EAAS4pB,GAE7D,GAAc,MAAV0M,EACA,OAAOyC,GAAcx5C,EAAMygB,EAAS4pB,GAIxC,IAAMvE,EACFrlB,EAAQopB,UAAUpC,QAAQ3B,WAAarlB,EAAQopB,UAAUrB,eAGvD0R,EAAkB,IAClBC,EAAqB,EAAMrO,GAAYxF,QAAQD,QAEjD+T,EAASlxB,EAAQ4c,EACjBuU,EAAS1S,EAAS7B,EACtBuU,EAASt2D,KAAKsR,IAAI+kD,EAAQC,GAE1B,IAAInlB,EAAUmlB,EAASH,EAAmB,IAoB1C,OAnBAE,EAAU,EAAIC,EAASF,EACvBjlB,EAAQnxC,KAAKsR,IAAI6/B,EAAOklB,GAkBjBL,GAAqB/5C,EAAM+2C,EAAO7hB,GAAO,EAAMzU,EAAS4pB,GAUnE,SAASmP,GAAcx5C,EAAMygB,EAAS4pB,GAClC,OAAOD,GAAKmE,eAAevuC,EAAM,GAC7B,SAEAygB,EAAQopB,UAAUsF,SAAS9G,GAAUoB,MAErC,mBACGY,GAAW,KAMP,QACXkP,kBACAQ,wBACAE,uB,m5BC7kBJ,IAAMhM,GAAW7D,GAAK6D,SAChBQ,GAAUrE,GAAKqE,QACfI,GAAYzE,GAAKyE,UACjBK,GAAY9E,GAAK8E,UACjBI,GAAYlF,GAAKkF,UACVgL,GAAc,kIAGrBC,GAAoB,kEAGpBC,GAAoB,CACtBrP,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,EACPC,MAAO,IACPC,MAAO,KACPC,MAAO,KACPC,MAAO,KACPC,OAAQ,MAgFN6O,G,WAQF,WAAY/3D,EAAMsd,EAAM2nB,EAAM9M,GAAO,WACjC15B,KAAKuB,KAAOA,EACZvB,KAAK6e,KAAOA,EACZ7e,KAAKwmC,KAAOA,EAIZxmC,KAAKu5D,WAAW7/B,G,8CAIhB,MAAO,CACH4K,MAAOtkC,KAAKw5D,QAAU,cAAgBx5D,KAAKskC,MAC3CmlB,gBAAiBzpD,KAAKw5D,QAAU,cAAgBx5D,KAAKypD,gBACrDE,WAAY3pD,KAAKiwD,gBAAkBjwD,KAAK2pD,YAAc3pD,KAAKy5D,eAC3D7P,UAAW5pD,KAAK4pD,UAChBE,WAAY9pD,KAAK8pD,WACjBY,SAAU1qD,KAAK0qD,SACfkB,MAAO5rD,KAAK4rD,MACZlC,SAAU1pD,KAAK0pD,Y,iCAIZhwB,GA6BP,GAzBA54B,OAAO6V,OAAO3W,KAAM05B,GAEI,SAApB15B,KAAK2pD,aACL3pD,KAAK2pD,WAAa,IAEC,SAAnB3pD,KAAK4pD,YACL5pD,KAAK4pD,UAAY,IAEG,SAApB5pD,KAAK8pD,aACL9pD,KAAK8pD,WAAa,IAEH,SAAf9pD,KAAKskC,QACLtkC,KAAKskC,MAAQ,IAEY,SAAzBtkC,KAAKypD,kBACLzpD,KAAKypD,gBAAkB,IAEL,SAAlBzpD,KAAK0qD,WACL1qD,KAAK0qD,SAAW,IAGhB1qD,KAAK0qD,WACL1qD,KAAKqpD,YAAcgQ,GAAkBr5D,KAAK0qD,WAG5B,SAAd1qD,KAAKuB,KAAiB,CACtB,IAAM4sB,EAA8B,kBAAdnuB,KAAKwmC,KAAoBxmC,KAAKwmC,KAAO,GAC3DxmC,KAAKy5D,eAAiB,MAClBL,GAAkB92D,KAAK6rB,GAIvBnuB,KAAKy5D,eAAiB,OACf,2BAA2Bn3D,KAAK6rB,GAGvCnuB,KAAKy5D,eAAiB,SACdN,GAAY72D,KAAK6rB,IAAmC,SAAxBnuB,KAAKiwD,iBACzCjwD,KAAKy5D,eAAiB,WAEL,SAAdz5D,KAAKuB,OAGM,SAAdvB,KAAK6e,OAAiB7e,KAAK6e,KAAO,WAC/B7e,KAAKiwD,sBACLjwD,KAAKy5D,kB,8CAKhB,IAAIzwD,EAAShJ,KAQb,OAPI+R,MAAMmE,QAAQlW,KAAKwmC,OAASxmC,KAAKwmC,KAAK1iC,OAAS,IACrB,UAAtB9D,KAAKwmC,KAAK,GAAG3nB,KACb7V,EAAShJ,KAAKwmC,KAAK,GAAGkzB,wBACf15D,KAAKwmC,KAAK,KACjBx9B,EAAShJ,KAAKwmC,KAAK,GAAGkzB,0BAGvB1wD,I,4CAKP,OAAI+I,MAAMmE,QAAQlW,KAAKwmC,OAASxmC,KAAKwmC,KAAK1iC,OAAS,EACxC9D,KAAKwmC,KAAKxmC,KAAKwmC,KAAK1iC,OAAS,GAAG61D,sBAEpC35D,O,uCAKP,IAAM6d,EAAO7d,KAAK05D,wBAClB,MAAO,+CAA+Cp3D,KAAKub,EAAKgB,Q,8BAI5D+6C,GAEJ,GADAA,EAAG55D,MACC+R,MAAMmE,QAAQlW,KAAKwmC,MAAO,4BAC1B,YAAmBxmC,KAAKwmC,KAAxB,oDAAW0vB,EAAX,QAAkCA,GAAMA,EAAKhtD,QAAQ0wD,IAD3B,0FAEnB55D,KAAKwmC,MAA6B,WAArB,GAAOxmC,KAAKwmC,OAGhCozB,EAAG55D,KAAKwmC,MAEZ,GAAIxmC,KAAK65D,YAAa,4BAClB,YAAmB75D,KAAK65D,YAAxB,oDAAW3D,EAAX,QAAyCA,GAAMA,EAAKhtD,QAAQ0wD,IAD1C,qFAGtB,GAAI55D,KAAK85D,UAAW,4BAChB,YAAmB95D,KAAK85D,UAAxB,oDAAW5D,EAAX,QAAuCA,GAAMA,EAAKhtD,QAAQ0wD,IAD1C,qFAGpB,GAAI55D,KAAKk0D,WAAY,4BACjB,YAAmBl0D,KAAKk0D,WAAxB,oDAAWgC,EAAX,QAAwCA,GAAMA,EAAKhtD,QAAQ0wD,IAD1C,qFAGrB,GAAI55D,KAAKm0D,YAAa,4BAClB,YAAmBn0D,KAAKm0D,YAAxB,oDAAW+B,EAAX,QAAyCA,GAAMA,EAAKhtD,QAAQ0wD,IAD1C,qFAGtB,GAAI55D,KAAKm1D,MAAO,4BACZ,YAAmBn1D,KAAKm1D,MAAxB,oDAAWe,EAAX,QAAmCA,GAAMA,EAAKhtD,QAAQ0wD,IAD1C,qFAGhB,GAAI55D,KAAKo1D,MAAO,4BACZ,YAAmBp1D,KAAKo1D,MAAxB,oDAAWc,EAAX,QAAmCA,GAAMA,EAAKhtD,QAAQ0wD,IAD1C,qFAGhB,GAAI55D,KAAKuN,MAAO,4BACZ,YAAmBvN,KAAKuN,MAAxB,oDAAW2oD,EAAX,QAAmCA,GAAMA,EAAKhtD,QAAQ0wD,IAD1C,qFAGhB,GAAI55D,KAAKuS,MAAO,4BACZ,YAAkBvS,KAAKuS,MAAvB,+CAA8B,KAAnBohD,GAAmB,kCAC1B,cAAmBA,GAAnB,mDAAwB,KAAboG,GAAa,mCACpB,cAAmBA,GAAnB,wDAAW7D,GAAX,SAAyBA,GAAKhtD,QAAQ0wD,IADlB,6FADE,6FADlB,wF,6BAmBbA,GACH,IAAI5wD,EAAS,GACT4wD,EAAG55D,OAAOgJ,EAAO6C,KAAK7L,MAC1B,cAAuB,CAAC,OAAQ,cAAe,YAC3C,aAAc,cACd,QAAS,QAAS,SAFtB,eAEgC,CAF3B,IAAMg6D,EAAQ,KAGf,GAAIjoD,MAAMmE,QAAQlW,KAAKg6D,IAAY,4BAC/B,YAAmBh6D,KAAKg6D,GAAxB,+CAAmC,KAAxB9D,EAAwB,QAC3BA,IAAMltD,EAASA,EAAO3D,OAAO6wD,EAAK1tC,OAAOoxC,MAFlB,oFAMvC,GAAI7nD,MAAMmE,QAAQlW,KAAKuS,OAAQ,4BAC3B,YAAkBvS,KAAKuS,MAAvB,+CAA8B,KAAnBohD,EAAmB,+BAC1B,YAAmBA,EAAnB,+CAAwB,KAAboG,EAAa,QAChBA,IAAM/wD,EAASA,EAAO3D,OAAO00D,EAAKvxC,OAAOoxC,MAFvB,oFADH,mFAO/B,OAAO5wD,I,qCAIIs2B,GAOX,IAAM26B,EAAe36B,EAAQypB,MAAM,CAACL,UAAW1oD,KAAK0oD,YAC9C2D,EAAOiB,GAAQ4M,GAAUD,EAAcj6D,KAAKwmC,OAMlD,OALIxmC,KAAK4rD,QAAOS,EAAKT,MAAQ5rD,KAAK4rD,OAClCS,EAAKkN,WAAW,CACZ9P,gBAAiBzpD,KAAKypD,gBACtBC,SAAU1pD,KAAK0pD,WAEZ2C,I,qCAII/sB,GAGX,IAAIkyB,EAAYxxD,KAAKwxD,UACjBA,GAAkC,IAArBA,EAAU1tD,SACvB0tD,EAAY,CAAC,CAAE+B,MAAO,OAErB/B,IACDA,EAAY,CAAC,CAAE+B,MAAO,KAAO,CAAEA,MAAO,KAAO,CAAEA,MAAO,KACtD,CAAEA,MAAO,KAAO,CAAEA,MAAO,KAAO,CAAEA,MAAO,KAAO,CAAEA,MAAO,KAAO,CAAEA,MAAO,KACzE,CAAEA,MAAO,KAAO,CAAEA,MAAO,OAI7B,IAAMhhD,EAAQ,GACV4nD,EAAS,EAfO,uBAgBpB,YAAsB3I,EAAtB,+CAAiC,KAAtB4I,EAAsB,QACzBA,EAAQ7G,OAAO4G,KAjBH,+GAmBpB,YAAkBn6D,KAAKuS,MAAvB,+CAA8B,KAAnBohD,EAAmB,QACtB0G,EAAW,EACf,MAAOA,EAAW1G,EAAI7vD,OAAQ,CAC1B,IAAMw2D,EAAS,GACTC,EAAU33D,KAAKkJ,IAAI6nD,EAAI7vD,OAAQu2D,EAAWF,GAChD,MAAOE,EAAWE,EACdD,EAAOzuD,KAAK8nD,EAAI0G,MAEpB9nD,EAAM1G,KAAKyuD,KA3BC,oFA+BmB,IAAnC/nD,EAAMA,EAAMzO,OAAS,GAAGA,QACc,IAAtCyO,EAAMA,EAAMzO,OAAS,GAAG,GAAGA,QAC3ByO,EAAMgH,MAcV,IAZA,IAAMmvC,EAAYxB,GAAUiB,YAAYnoD,KAAK0oD,YACzCppB,EAAQopB,UAGNoL,EAAe9zD,KAAK8zD,cAAgB,EACpC0G,EAAY1G,EAAe2G,EAAY5U,aACvC6U,EAAgB,GAAMF,EACtBG,EAAe,GAAMH,EACvBI,EAAc,EACdC,EAAK,EACHr0B,EAAO,GACPs0B,EAAKvoD,EAAMzO,OACR5C,EAAI,EAAGA,EAAI45D,IAAM55D,EAAG,CACzB,IAAM65D,EAAQxoD,EAAMrR,GACpB25D,EAAKj4D,KAAKsR,IAAI2mD,EAAIE,EAAMj3D,QAIxB,IAHA,IAAI0iD,EAASkU,EACT3yB,EAAQ4yB,EACNK,EAAS,GACNv6D,EAAI,EAAGA,EAAIs6D,EAAMj3D,SAAUrD,EAAG,CACnC,IAAMw5D,EAAe36B,EAAQypB,MAAM,CAACL,UAAW1oD,KAAK0oD,YAC9CqR,EAAOG,GAAUD,EAAcc,EAAMt6D,KAAO,GAC5Cw6D,EAAM,CAAC3N,GAAQ,OAAOjoD,OAAO00D,GACnChyB,EAAQnlC,KAAKsR,IAAI6zB,EAAOkhB,GAAKlhB,MAAMkzB,IACnCzU,EAAS5jD,KAAKsR,IAAIsyC,EAAQyC,GAAKzC,OAAOyU,IACtCD,EAAOnvD,KAAKovD,GAEhB,IAAIpH,EAAM3yD,IAAM45D,EAAK,EAAI,EAAK96D,KAAK6zD,KAAO,EACtC7zD,KAAKk7D,SAAWl7D,KAAKk7D,QAAQh6D,KAC7B2yD,EAAM7zD,KAAKk7D,QAAQh6D,GACf2yD,EAAM,IACNA,GAAO8G,EACH5yB,EAAQ8rB,IACR9rB,EAAQ8rB,GAEZA,EAAM,IAGdmH,EAAOxU,OAASA,EAChBwU,EAAOjzB,MAAQA,EACf6yB,GAAepU,EACfwU,EAAO1oC,IAAMsoC,EACbA,GAAe7yB,EAAQ8rB,EACvBrtB,EAAK36B,KAAKmvD,GAId,IAFA,IAAM7pD,EAASypD,EAAc,EAAIlS,EAAUpC,QAAQ3B,WAC7CwW,EAAc,GACXd,EAAW,EAAGA,EAAWQ,EAAIR,IAAY,CAC9C,IAAMe,EAAM,GADkC,uBAE9C,YAAkB50B,EAAlB,+CAAwB,KAAbmtB,EAAa,QACd3K,EAAO2K,EAAI0G,GACZrR,IAGLA,EAAKjhB,MAAQ4rB,EAAI5rB,MACjBihB,EAAKxC,OAASmN,EAAInN,OAElB4U,EAAIvvD,KAAKm9C,GACToS,EAAIvvD,KAAK8nD,EAAIrhC,IAAMnhB,KAXuB,oFAa1CiqD,EAAIt3D,OAAS,GACbq3D,EAAYtvD,KAAKsiD,GAAU7uB,EAAS87B,EAAK,oBAMjD,IAAMC,EAAO,GACTC,GAAiB,EACjBC,GAAc,EACdC,EAAoB,EACpBC,IAAez7D,KAAKyxD,OAzGJ,0BA0GpB,cAAsBD,EAAtB,mDAAiC,KAAtBkK,GAAsB,SAC7B,GAAIA,GAAQnI,OAASiI,GAAqBL,EAAYr3D,OAClD,MACG,GAAI43D,GAAQnI,OAASiI,EAAoBL,EAAYr3D,OAEpDw3D,EAGAD,EAAKxvD,KAAK8vD,GAAW,EAAIlB,EAAY7U,eAC9B2V,GAAeE,KAGtBJ,EAAKxvD,KAAK8vD,GAAWlB,EAAY7U,cAErCyV,EAAKxvD,KAAKihD,GAASqO,EAAYK,GAAoB,aAAeE,GAAQnI,QAC1EiI,IACAF,GAAiB,EACjBC,GAAc,EACdE,IAAc,OACX,GAA2B,qBAAhBC,GAAQ9H,IAEK,kBAAhB8H,GAAQ9H,IAGfyH,EAAKxvD,KAAK8vD,GAAWD,GAAQ9H,MAK7ByH,EAAKxvD,KAAK+vD,GAA2Bt8B,EAASkH,EAAMr1B,EAAQuqD,GAAQ9H,MAExE0H,GAAiB,EACjBC,GAAc,EACdE,IAAc,OACX,GAAIC,GAAQG,KAAM,CAErB,IAAMtvD,GAAYugD,GAAS,KAAM,sBACjCvgD,GAAUi9C,SAAS,SAAUoR,EAAa,MAG1CruD,GAAUi9C,SAAS,aAAc,EAAIlqB,EAAQopB,UAAUpC,QAAQ3B,WAAaxzC,EAAQ,MACpF5E,GAAUi9C,SAAS,iBAAkB,OAErC,IAAIoK,GAAM,EACN2H,EACA3H,GAAM6G,EAAY9U,cAAgB8U,EAAY3U,eACvCwV,IACP1H,GAAM6G,EAAY7U,YAAc6U,EAAY3U,gBAEhDv5C,GAAUuvD,QAAQlI,GAAK,MACvByH,EAAKxvD,KAAKU,IACV+uD,GAAiB,EACjBC,GAAc,EACdE,IAAc,IA/JF,2FAsKpB,GAJIH,IAAmBt7D,KAAK0xD,QAExB2J,EAAKxvD,KAAK8vD,GAAWlB,EAAY7U,gBAE/B5lD,KAAKyxD,QAA0B,MAAhBzxD,KAAKyxD,WACpBzxD,KAAK0xD,QAA0B,MAAhB1xD,KAAK0xD,QAGtB,OAAOpE,GAAQ+N,EAAM,UAKzB,IAAMvE,GAAQhK,GAASuO,EAAM,UACvBU,GAAc9S,GAAKzC,OAAOsQ,IAC1BkF,GAAa/S,GAAKlhB,MAAM+uB,IAC9B,OAAOxJ,GAAQ,CACXttD,KAAK4B,KAAK09B,EAAS28B,GAAWnD,mBAAmB,QAAS94D,KAAKyxD,OAAQsK,GAAaC,GAAY18B,IAChGw3B,GACA92D,KAAK4B,KAAK09B,EAAS28B,GAAWnD,mBAAmB,SAAU94D,KAAK0xD,OAAQqK,GAAaC,GAAY18B,Q,uCAmBxFA,GACb,IAAMopB,EAA+B,SAAnB1oD,KAAK0oD,UACnBppB,EAAQopB,UAAYxB,GAAUiB,YAAYnoD,KAAK0oD,WAC7CwT,EAAa58B,EAAQypB,MAAM,CAACL,UAAWA,IACzCyM,EAAQ,GACRn1D,KAAK01D,aACLP,EAAMtpD,KAAKyhD,GAAQttD,KAAK01D,cAE5B,IAAMyG,EAAiBn8D,KAAKw1D,mBACxB9M,EAAYA,EAAUnB,UAC1B4N,EAAQA,EAAM9vD,OAAO60D,GAAUgC,EAAWnT,MAAM,CAACL,UAAWyT,IAAkBn8D,KAAKm1D,QACnF,IAAMiH,EAAarO,GAAUoH,EAAO71B,EAAQopB,UAAUsF,SAASmO,IAC3D/G,EAAQ,GACRp1D,KAAK21D,aACLP,EAAMvpD,KAAKyhD,GAAQttD,KAAK21D,cAE5B,IAAM0G,EAAmBr8D,KAAKw1D,mBAC1B9M,EAAYA,EAAUlB,UAC1B4N,EAAQA,EAAM/vD,OAAO60D,GAAUgC,EAAWnT,MAAM,CAACL,UAAW2T,IAAoBr8D,KAAKo1D,QACrF,IAGIkH,EACAC,EACAC,EALEC,EAAa1O,GAAUqH,EAAO91B,EAAQopB,UAAUsF,SAASqO,IACzDK,EAAa18D,KAAKq1D,WAAiBoF,EAAYrV,qBAAuBsD,EAAUrB,eAAjD,EAKjCqB,EAAUp3C,OAAS41C,GAAUmB,QAAQ/2C,MACrCgrD,EAAW5T,EAAUpC,QAAQzC,KAEzB0Y,EADAG,EAAY,EACA,EAAIA,EAEJ,EAAIjC,EAAYrV,qBAEhCoX,EAAa9T,EAAUpC,QAAQtC,SAE3B0Y,EAAY,GACZJ,EAAW5T,EAAUpC,QAAQxC,KAC7ByY,EAAYG,IAEZJ,EAAW5T,EAAUpC,QAAQvC,KAC7BwY,EAAY,EAAI9B,EAAYrV,sBAEhCoX,EAAa9T,EAAUpC,QAAQrC,QAEnC,IAEI0Y,EAFEC,EAAaR,EAAaA,EAAWr0B,MAAQ,EAC7C80B,EAAcJ,EAAaA,EAAWjW,OAAS,EAErD,GAAkB,IAAdkW,EAAiB,CAGjB,IAAMI,EAAsBR,EAAWM,GAAeC,EAAcL,GAChEM,EAAqBP,IACrBD,GAAY,IAAOC,EAAYO,GAC/BN,GAAc,IAAOD,EAAYO,IAErCH,EAAOxO,GAAU+N,EAAY,CAACE,GAAaE,EAAUG,EAAYD,GAAa,uBAC3E,CAGH,IAAM7X,EAAa+D,EAAUpC,QAAQ3B,WAChC2X,EAAWM,GAAejY,EAAa,GAAM+X,GAC9CH,IACAD,GACIC,GAAcD,EAAWM,GACpBjY,EAAa,GAAM+X,KAE3B/X,EAAa,GAAM+X,GAAcG,EAAcL,GAChDD,IACAC,GACID,GAAc5X,EAAa,GAAM+X,GAC5BG,EAAcL,KAE3B,IAAMO,EAAMjQ,GAAS,KACiC,cACtDiQ,EAAIxD,WAAWv5D,KAAKg9D,YAIpBD,EAAIvW,OAASkW,EACb,IAAM7lB,EAAW,GACbulB,IACAvlB,EAAShrC,KAAKuwD,GACdvlB,EAAShrC,MAAMywD,IAEnBzlB,EAAShrC,KAAKkxD,GACdlmB,EAAShrC,KAAK6wD,EAAY,EAAI/X,GAC1B8X,IACA5lB,EAAShrC,KAAK4wD,GACd5lB,EAAShrC,KAAK2wD,IAElBG,EAAOxO,GAAU+N,EAAYrlB,EAAU,mBAI3C8lB,EAAKzT,SAAW,SAGhByT,EAAKnW,QAAUkC,EAAUrB,eAAiB/nB,EAAQopB,UAAUrB,eAC5DsV,EAAK50B,OAAS2gB,EAAUrB,eAAiB/nB,EAAQopB,UAAUrB,eAQ3D,IAAM4V,EAAYvU,EAAUp3C,OAAS41C,GAAUmB,QAAQ/2C,KACnDo3C,EAAUpC,QAAQ7B,OAClBiE,EAAUpC,QAAQ5B,OAEhB4Q,EAAYt1D,KAAK4B,KAAK09B,EAAS28B,GAAWrD,qBAAqB,QAC7D54D,KAAKs1D,UACL2H,GACA,EACA39B,EAAQypB,MAAM,CAACL,UAAWA,MAE5B6M,EAAav1D,KAAK4B,KAAK09B,EAAS28B,GAAWrD,qBAAqB,SAC9D54D,KAAKu1D,WACL0H,GACA,EACA39B,EAAQypB,MAAM,CAACL,UAAWA,MAElC4M,EAAUiE,WAAWv5D,KAAKg9D,YAC1BzH,EAAWgE,WAAWv5D,KAAKg9D,YAE3B,IAAMh0D,EAASskD,GAAQ,CAACgI,EAAWqH,EAAMpH,GAAej2B,EAAQspB,aAAetpB,EAAQhuB,KAClF,gBAAkBguB,EAAQspB,WAAa,IAAMtpB,EAAQhuB,KAAQ,IAClE,OAAOtR,KAAK4B,KAAK09B,EAASt2B,K,yCAeXs2B,GACf,IAAKt/B,KAAKwmC,KAEN,OAAIxmC,KAAKs1D,UACE,IAAIgE,EAAS,OAAQ,QAASt5D,KAAKs1D,WAAW4E,UAAU56B,GAE/Dt/B,KAAKu1D,WACE,IAAI+D,EAAS,OAAQ,SAAUt5D,KAAKu1D,YAAY2E,UAAU56B,GAE9D,KAKX,IAAM26B,EAAe36B,EAAQypB,QACvB+N,EAAQoD,GAAUD,EAAcj6D,KAAKwmC,MACrCkiB,EAAYuR,EAAavR,UAC3BqT,EAAc,EACdC,EAAa,EACbhzD,EAAS,GAiBb,GAZA+yD,EAAc9S,GAAKzC,OAAOsQ,GAASpO,EAAUrB,eAC7C2U,EAAa/S,GAAKlhB,MAAM+uB,GAASpO,EAAUrB,eAEvCrnD,KAAKs1D,YACLtsD,EAAO6C,KAAK7L,KAAK4B,KAAK09B,EAAS28B,GAAWnD,mBACtC,QACA94D,KAAKs1D,UACLyG,EAAaC,EACb/B,KAEJjxD,EAAOA,EAAOlF,OAAS,GAAGy1D,WAAWv5D,KAAKg9D,aAE1ClG,EAAO,CAGP,IAAK,IAAI12D,EAAI,EAAGA,EAAI02D,EAAMhzD,OAAQ1D,IAC9B,GAAI02D,EAAM12D,GAAGw1D,MAAO,CAChB,IAAMsH,EAAapG,EAAM12D,GAAG0rD,MACtBqR,EAAgB,eAAe76D,KAAKw0D,EAAM12D,GAAG8oD,SACnD4N,EAAM12D,GAAKJ,KAAK4B,KAAK09B,EAAS28B,GAAWnD,mBAAmB,SACxDhC,EAAM12D,GAAGw1D,MACTmG,EACAC,EACA/B,IACJnD,EAAM12D,GAAG0rD,MAAQoR,EACjBpG,EAAM12D,GAAGmpD,SAAS4T,GAG1Bn0D,EAASA,EAAO3D,OAAOyxD,GAG3B,GAAI92D,KAAKu1D,WAAY,CACjB,IACIrM,EADA0M,EAAQ51D,KAAKu1D,WAEH,MAAVK,IAEAA,EAAQ,CACR,IAAK,IAAK,MAAO,MAAO,MAAO,MAAO,WAAY,WAC9C,WAAY,WAAY,WAAY,WAAY,UAAW,UAC3D,SAAU,SAAU,UAAW,UAAW,SAAU,SACpD,UAAW,UAAW,WAAY,WAClC,aAAc,aAAc,aAAc,aAC1C,WAAY,WAAY,eAAgB,gBAC1C51D,KAAKs1D,WACPM,EAAQA,GAAS51D,KAAKs1D,UACtBpM,EAAU,0BAEdlgD,EAAO6C,KAAK7L,KAAK4B,KAAK09B,EAAS28B,GAAWnD,mBAAmB,SACzDlD,EACAmG,EAAaC,EACb/B,EACA/Q,KAEJlgD,EAAOA,EAAOlF,OAAS,GAAGy1D,WAAWv5D,KAAKg9D,YAI9C,OAAIh9D,KAAK82D,MAAcpJ,GAAU1kD,EAAQ0/C,EAAUsC,OAI5ChiD,I,oCAIGs2B,GAGV,IAAMopB,EAAYppB,EAAQopB,UAGpBoO,EAAQoD,GAAU56B,EAAQmoB,QAASznD,KAAKwmC,MACxCk2B,EAAYjC,EAAYrV,qBAC1BsD,EAAUrB,eACV+V,EAAMV,EACNhU,EAAUhnC,GAAKwlC,GAAUoB,KAAK5mC,KAC9B07C,EAAM1U,EAAUpC,QAAQ5C,SAG5B,IAAI2Z,EAAgBX,EAAYU,EAAM,EAChCE,EAAmB16D,KAAKsR,IAAI,EAAIkpD,GAAMnU,GAAKzC,OAAOsQ,GAAS7N,GAAKlhB,MAAM+uB,IAAUpO,EAAUrB,gBAC1FkW,EAAqBD,GAAoBD,EAAgBX,GAGzD9G,EAAQ9I,GAASmP,GAAWrD,qBAAqB,GAAI,SAAU2E,GAAoB,EAAOj+B,GAAU,aAC1Gs2B,EAAM2D,WAAWv5D,KAAKg9D,YAEtB,IAAMQ,EAAc5H,EAAMpP,OAASoP,EAAM7tB,MAAS20B,EAG9Cc,EAAavU,GAAKzC,OAAOsQ,GAAS7N,GAAKlhB,MAAM+uB,GAASuG,IACtDA,GACKA,EAAgBG,GAAcvU,GAAKzC,OAAOsQ,GAAS7N,GAAKlhB,MAAM+uB,KAAW,GAIlFlB,EAAM/G,OAAQ+G,EAAMpP,OAASyC,GAAKzC,OAAOsQ,IACpCuG,EAAgBX,IACrB,IAAMzZ,EAAO6J,GAAS,KAAMxtB,EAAQopB,UAAUsF,SAAS9G,GAAUoB,MAAQ,cACzErF,EAAKsW,WAAWv5D,KAAKg9D,YACrB/Z,EAAKuD,OAASkW,EAEd,IAAMl2B,EAAO2nB,GAAU7uB,EAAS,CAACw3B,EAAOuG,EAAepa,EAAMyZ,IAE7D,IAAK18D,KAAKuN,MACN,OAAOvN,KAAK4B,KAAK09B,EAASguB,GAAQ,CAACsI,EAAOpvB,GAAO,SAKrD,IAAMi3B,EAAan+B,EAAQypB,MAAM,CAACL,UAAWxB,GAAUqB,eACjD9oD,EAAOqtD,GAASoN,GAAUuD,EAAYz9D,KAAKuN,OAAQm7C,EAAUsF,SAAS9G,GAAUqB,eAEhFmV,EAAkB96D,KAAKsR,IAAI0hD,EAAMpP,OAAQhgB,EAAKggB,QAC9CmX,EAAiB/6D,KAAKsR,IAAI0hD,EAAM7tB,MAAOvB,EAAKuB,OAG5C61B,EAAU,IAAOF,EAAkBC,GAEnCE,EAAY1P,GAAU7uB,EAAS,CAAC7/B,GAAO,SAAUm+D,GAGvD,OAAO59D,KAAK4B,KAAK09B,EAASguB,GAAQ,CAACR,GAAS+Q,EAAW,QAASjI,EAAOpvB,GAAO,W,sCAIlElH,GAEZ,IAAMopB,EAAYppB,EAAQopB,UAEtB7qC,EAAOq8C,GAAU56B,EAAQmoB,QAASznD,KAAKwmC,OACvCxmC,KAAK65D,aAAe75D,KAAK85D,aAKzBj8C,EAAO7d,KAAK89D,aAAax+B,EAASguB,GAAQzvC,GAAO,SAOrD,IAAIk1B,EAAO,EACPhhC,MAAMmE,QAAQlW,KAAKwmC,OAA8B,IAArBxmC,KAAKwmC,KAAK1iC,QAAgB9D,KAAKwmC,KAAK,GAAGu3B,mBACnEhrB,EAAOkW,GAAKlW,KAAKl1B,IAGrB,IAAM0+C,EAAY35D,KAAKkJ,IAAIm9C,GAAKzC,OAAO3oC,GAAO6qC,EAAUpC,QAAQ5C,SAE1DyS,EAASlN,GAAK8D,WAAW,eAAgB/sD,KAAKm2D,OAAQ,QAG5DA,EAAO1P,OAAS,EAIhB,IAAMuX,EAA2B,MAAhBh+D,KAAKm2D,OAAsB,cAAgB,GACxD8H,EAAanR,GAASA,GAASqJ,GAAS,cAAgB6H,GAM5D,OALAC,EAAa9P,GAAU7uB,EAAS,CAACzhB,GAAO0+C,EAAW0B,IAInDA,EAAW9U,SAAS,GAAG2S,QAAQ,EAAI/oB,GAC5Bua,GAAQ2Q,EAAY,Y,oCAUjB3+B,GACV,IASI4+B,EATExV,EAAYppB,EAAQopB,UAEpBoO,EAAQoD,GAAU56B,EAAQmoB,QAASznD,KAAKwmC,MACxCk2B,EAAYjC,EAAYrV,qBAC1BsD,EAAUrB,eACRpE,EAAO6J,GAAS,KAAMxtB,EAAQopB,UAAUsF,SAAS9G,GAAUoB,MAC7D,IAAMtoD,KAAKyqB,SAAW,SAI1B,GAHAw4B,EAAKuD,OAASkW,EACdzZ,EAAKoG,YAAc,EAEG,aAAlBrpD,KAAKyqB,SACLyzC,EAAQ/P,GAAU7uB,EAAS,CAACw3B,EAAO,EAAI4F,EAAWzZ,EAAMyZ,QACrD,CACH,IAAMyB,EAAYrR,GAASgK,GAC3BoH,EAAQ/P,GAAU7uB,EAAS,CAACo9B,EAAWzZ,EAAM,EAAIyZ,EAAWyB,GAAY,MAAOlV,GAAKzC,OAAO2X,IAE/F,OAAO7Q,GAAQ4Q,EAAOl+D,KAAKyqB,Y,yCAIZ6U,GACf,IAAMzhB,EAAOq8C,GAAU56B,EAASt/B,KAAKwmC,MAC/B43B,EAAkB9+B,EAAQypB,MAAM,CAACL,UAAW,gBAC5C2V,EAAQr+D,KAAKk0D,WAAapH,GAASoN,GAAUkE,EAAiBp+D,KAAKk0D,YAAa50B,EAAQopB,UAAUsF,SAASoQ,EAAgB1V,YAAc,KACzI4V,EAAQt+D,KAAKm0D,YAAcrH,GAASoN,GAAUkE,EAAiBp+D,KAAKm0D,aAAc70B,EAAQopB,UAAUsF,SAASoQ,EAAgB1V,YAAc,KACjJ,OAAO6V,GAAUj/B,EAASzhB,EAAM,EAAG,EAAGwgD,EAAOC,EAAOt+D,KAAKo0D,UAAY,U,uCAIxD90B,GACb,IAAMw3B,EAAQhK,GAASoN,GAAU56B,EAASt/B,KAAKwmC,MAAO,SACtD,OAAO8mB,GAAQ,CAACwJ,EAAOhK,GAAS,KAAM,QAAyB,SAAf9sD,KAAKuzD,MAAmB,OAAS,U,oCAUvEj0B,GACV,IAAMopB,EAAYppB,EAAQopB,UACpB1/C,EAASskD,GAAQ,GAAI,QACvB7uC,EAAQze,KAAKye,QAAU6e,MAAMt9B,KAAKye,OAASze,KAAKye,MAAQ,EAC5DA,GAAgBiqC,EAAUrB,eAC1B,IAAMyD,EAAS9qD,KAAK8qD,MAASpC,EAAUrB,eACjCb,EAAUxmD,KAAKwmD,OAAUkC,EAAUrB,eAQzC,OAPAr+C,EAAOwgD,SAAS,qBAAsBsB,EAAO,MAC7C9hD,EAAOwgD,SAAS,mBAAoBhD,EAAQ,MAC5Cx9C,EAAOwgD,SAAS,eAAgBhD,EAAS/nC,GAAQ,MACjDzV,EAAOwgD,SAAS,eAAgBlqB,EAAQgF,OACxCt7B,EAAO8hD,MAAQA,EACf9hD,EAAOw9C,OAASA,EAAS/nC,EACzBzV,EAAO++B,OAAStpB,EACTzV,I,kCAICs2B,GAER,IAOIzhB,EAPE6qC,EAAYppB,EAAQopB,UACtB8V,GAAQ,EACR9V,EAAUp3C,OAAS41C,GAAUmB,QAAQ/2C,MAChB,kBAAdtR,KAAKwmC,MAAmC,eAAdxmC,KAAKwmC,OAEtCg4B,GAAQ,GAGZ,IAAIC,EAAY,EACZlb,EAAQ,EACZ,GAAIvjD,KAAKmuB,OAAQ,CAEb,IAAMk4B,EAAWmY,EAAQ,gBAAkB,gBAC3C3gD,EAAOorC,GAAK8D,WAAW1G,EAAUrmD,KAAKwmC,KAAM,cAAgBg4B,EAAQ,WAAa,aACjF3gD,EAAKgB,KAAO,MAMZ4/C,GAAa5gD,EAAK2oC,OAAS3oC,EAAKkqB,OAAS,EACrC2gB,EAAUpC,QAAQ3B,WAAa+D,EAAUrB,eAE7C9D,EAAQ1lC,EAAK4oC,OAGbzmD,KAAK4B,KAAK09B,EAASzhB,QACZ9L,MAAMmE,QAAQlW,KAAKwmC,OAE1B3oB,EAAOorC,GAAKoE,OAAO6M,GAAU56B,EAASt/B,KAAKwmC,OAG3CxmC,KAAK4B,KAAK09B,EAASzhB,KAInB+H,QAAQu8B,OAAqB,QAAdniD,KAAK6e,MACpBhB,EAAO7d,KAAK8sD,SAASxtB,EAASt/B,KAAKwmC,OAEvC,GAAIxmC,KAAK65D,aAAe75D,KAAK85D,UAAW,CACpC,IAAM/F,EAAS/zD,KAAK+zD,QAAU,OAC9B,OAAI/zD,KAAK0+D,oBACM,WAAX3K,GACY,SAAXA,GAAqBrL,EAAUp3C,OAAS41C,GAAUmB,QAAQ/2C,KACpDtR,KAAK2+D,aAAar/B,EAASzhB,EAAM4gD,EAAWlb,GAEhDvjD,KAAK89D,aAAax+B,EAASzhB,EAAM,OAG5C,OADI7d,KAAKmuB,QAAQtQ,EAAKgxC,OAAO4P,GACtB5gD,I,mCAKEyhB,GAET,IAAMzhB,EAAOyvC,GAAQ4M,GAAU56B,EAASt/B,KAAKwmC,OAIvCo4B,EAAM9R,KACZ8R,EAAIpV,SAAS,WAAY,YAGzB,IAAM2C,EAAkC,kBAAjBnsD,KAAKmsD,QAAuBnsD,KAAKmsD,QAAUsO,EAAY1U,QAE9E6Y,EAAIpV,SAAS,SAAU3rC,EAAK2oC,OAAS3oC,EAAKkqB,MAAQ,EAAIokB,EAAS,MAC/C,IAAZA,EACAyS,EAAIpV,SAAS,QAAS,eAAkB,EAAI2C,EAAW,OAEvDyS,EAAIpV,SAAS,QAAS,QAG1BoV,EAAIpV,SAAS,OAAQ2C,EAAS,MAC9ByS,EAAIpV,SAAS,QAAS2C,EAAS,MAC/ByS,EAAIpV,SAAS,UAAW,MAEpBxpD,KAAKs0D,iBAAiBsK,EAAIpV,SAAS,mBAAoBxpD,KAAKs0D,iBAC5Dt0D,KAAKq0D,YAAYuK,EAAIpV,SAAS,SAAUiR,EAAYzU,SAAW,YAAchmD,KAAKq0D,YAClFr0D,KAAKu0D,QAAQqK,EAAIpV,SAAS,SAAUxpD,KAAKu0D,QAE7C12C,EAAK2rC,SAAS,UAAW,gBACzB3rC,EAAK2rC,SAAS,SAAU3rC,EAAK2oC,OAAS3oC,EAAKkqB,MAAO,MAClDlqB,EAAK2rC,SAAS,kBAAmB3rC,EAAKkqB,MAAQokB,EAAS,MAGvD,IAAMnjD,EAAS8jD,GAAS,CAAC8R,EAAK/gD,IAY7B,OATD7U,EAAOwgD,SAAS,WAAY,YAC5BxgD,EAAOwgD,SAAS,kBAAmB2C,EAAUtuC,EAAKkqB,MAAO,MAGzD/+B,EAAOw9C,OAAS3oC,EAAK2oC,OAAS2F,EAC9BnjD,EAAO++B,MAAQlqB,EAAKkqB,MAAQokB,EAC5BnjD,EAAO8yD,QAAQ3P,GACfnjD,EAAOgkD,SAASb,GAERnjD,I,uCAIKs2B,GACb,IAAMzhB,EAAOyvC,GAAQ4M,GAAU56B,EAASt/B,KAAKwmC,OACvCx9B,EAAS6U,EAETsuC,EAA2B,SAAjBnsD,KAAKmsD,QAAqB,GAAKnsD,KAAKmsD,QACpDnjD,EAAOwgD,SAAS,UAAW2C,EAAS,MACpCnjD,EAAOwgD,SAAS,UAAW,gBAC3BxgD,EAAOwgD,SAAS,SAAUxgD,EAAOw9C,OAASx9C,EAAO++B,MAAO,MACxD/+B,EAAOwgD,SAAS,QAAS2C,EAAS,MAC9BnsD,KAAKs0D,iBAA4C,gBAAzBt0D,KAAKs0D,iBAC7BtrD,EAAOwgD,SAAS,mBAAoBxpD,KAAKs0D,iBAE7C,IAiHQlI,EAjHJyS,EAAM,GAgHV,OA/GI7+D,KAAKi1D,SAAS2J,KAAK51D,EAAOwgD,SAAS,SAAUxpD,KAAKg1D,aAClDh1D,KAAKi1D,SAAS6J,YACd91D,EAAOwgD,SAAS,aAAcxpD,KAAKg1D,aACnChsD,EAAOwgD,SAAS,eAAgBxpD,KAAKg1D,cAErCh1D,KAAKi1D,SAAS8J,UACd/1D,EAAOwgD,SAAS,gBAAiBxpD,KAAKg1D,aACtChsD,EAAOwgD,SAAS,eAAgBxpD,KAAKg1D,cAErCh1D,KAAKi1D,SAAS+J,aACdh2D,EAAOwgD,SAAS,iBAAkBP,GAAKzC,OAAOx9C,GAAUigD,GAAKlhB,MAAM/+B,IAAW,EAAG,MACjFA,EAAOwgD,SAAS,SAAUxpD,KAAKg1D,cAE/Bh1D,KAAKi1D,SAASgK,SACdj2D,EAAOwgD,SAAS,gBAAiB,OACjCxgD,EAAOwgD,SAAS,SAAUxpD,KAAKg1D,cAE/Bh1D,KAAKi1D,SAASpK,KAAK7hD,EAAOwgD,SAAS,aAAcxpD,KAAKg1D,aACtDh1D,KAAKi1D,SAASpmD,MAAM7F,EAAOwgD,SAAS,cAAexpD,KAAKg1D,aACxDh1D,KAAKi1D,SAASz/C,OAAOxM,EAAOwgD,SAAS,eAAgBxpD,KAAKg1D,aAC1Dh1D,KAAKi1D,SAAS1G,QAAQvlD,EAAOwgD,SAAS,gBAAiBxpD,KAAKg1D,aAC5Dh1D,KAAKi1D,SAASiK,mBACdL,GAAO,4CACPA,GAAO,kBAAJ,OAAsB7+D,KAAK00D,YAA3B,qBAAmD10D,KAAKy0D,YAAxD,KACHoK,GAAO,0BACH7+D,KAAK+0D,iBACL8J,GAAO,sBAAJ,OAA0B7+D,KAAK+0D,eAA/B,MAEP8J,GAAO,MAEP7+D,KAAKi1D,SAASkK,iBACdN,GAAO,4CACPA,GAAO,kBAAJ,OAAsB7+D,KAAK00D,YAA3B,qBAAmD10D,KAAKy0D,YAAxD,KACHoK,GAAO,0BACH7+D,KAAK+0D,iBACL8J,GAAO,sBAAJ,OAA0B7+D,KAAK+0D,eAA/B,MAEP8J,GAAO,MAEP7+D,KAAKi1D,SAASmK,mBACdP,GAAO,2CACPA,GAAO,kBAAJ,OAAsB7+D,KAAK00D,YAA3B,qBAAmD10D,KAAKy0D,YAAxD,KACHoK,GAAO,0BACH7+D,KAAK+0D,iBACL8J,GAAO,sBAAJ,OAA0B7+D,KAAK+0D,eAA/B,MAEP8J,GAAO,MAEP7+D,KAAKi1D,SAASoK,qBACdR,GAAO,2CACPA,GAAO,kBAAJ,OAAsB7+D,KAAK00D,YAA3B,qBAAmD10D,KAAKy0D,YAAxD,KACHoK,GAAO,0BACH7+D,KAAK+0D,iBACL8J,GAAO,sBAAJ,OAA0B7+D,KAAK+0D,eAA/B,MAEP8J,GAAO,MAwDPA,GAEoB,SAAhB7+D,KAAK40D,SAEDxI,EADgB,SAAhBpsD,KAAK40D,OACM,sFAEA,uBAAyB50D,KAAK40D,OAAS,KAGnD3L,GAAKgF,QAAQjlD,EAAQ61D,EAAKzS,IAE9BpjD,I,gCAcDs2B,EAASggC,GACf15C,QAAQu8B,OAAO7iB,aAAmBC,GAAQA,SAC1C,IAAIv2B,EAAS,KACb,IAAKhJ,KAAK6e,MAAQ,oDAAoDvc,KAAKtC,KAAK6e,MAIxE7V,EADqB,kBAAdhJ,KAAKwmC,KACHxmC,KAAK8sD,SAASxtB,EAASt/B,KAAKwmC,MAE5BxmC,KAAK8sD,SAASxtB,EAAS46B,GAAU56B,EAASt/B,KAAKwmC,OAE5Dx9B,EAAO6V,KAAO7e,KAAK6e,UAChB,GAAkB,UAAd7e,KAAK6e,MAAkC,SAAd7e,KAAK6e,KACrC7V,EAAShJ,KAAKu/D,eAAejgC,QAC1B,GAAkB,UAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAKw/D,eAAelgC,QAC1B,GAAkB,YAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAKy/D,iBAAiBngC,QAC5B,GAAkB,SAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAK0/D,cAAcpgC,QACzB,GAAkB,WAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAK2/D,gBAAgBrgC,QAC3B,GAAkB,cAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAK4/D,mBAAmBtgC,QAC9B,GAAkB,UAAdt/B,KAAK6e,KACZ7V,EAAS8jD,GAAS,KAAM,IACxB9jD,EAAO4sD,MAAQ51D,KAAK41D,WACjB,GAAkB,eAAd51D,KAAK6e,KACZ7V,EAAShJ,KAAK4B,KAAK09B,EAAS28B,GAAW7D,eAAep4D,KAAKgrD,IAAKhrD,KAAK41D,MAAO51D,KAAKsR,KAAMguB,SACpF,GAAkB,SAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAK6/D,cAAcvgC,QACzB,GAAkB,cAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAK8/D,mBAAmBxgC,QAC9B,GAAkB,YAAdt/B,KAAK6e,KAKZ7V,EAAShJ,KAAK+/D,iBAAiBzgC,QAC5B,GAAkB,SAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAKggE,cAAc1gC,QACzB,GAAkB,YAAdt/B,KAAK6e,WAIT,GAAkB,YAAd7e,KAAK6e,KAEZ7V,EAASskD,GAAQ,KACbgS,IACAt2D,EAAOw9C,OAAS8Y,EAAY,GAAG9Y,OAC/Bx9C,EAAO++B,MAAQu3B,EAAY,GAAGv3B,YAE/B,GAAkB,QAAd/nC,KAAK6e,KACZ7V,EAAShJ,KAAKigE,YAAY3gC,QACvB,GAAkB,UAAdt/B,KAAK6e,KAEZ7V,EAAShJ,KAAK8sD,SAASxtB,EAAS,UAC7B,GAAkB,YAAdt/B,KAAK6e,KAEZ,GAAkB,MAAd7e,KAAKwmC,KAELx9B,EAAShJ,KAAK8sD,SAASxtB,EAAS,UAC7B,GAAkB,MAAdt/B,KAAKwmC,KAERx9B,EADc,SAAdhJ,KAAKuB,KACIvB,KAAK8sD,SAASxtB,EAAS,KAEvBt/B,KAAK8sD,SAASxtB,EAAS,UAEjC,GAAIt/B,KAAK8qD,MACZ9hD,EAAS8jD,GAAS,IAAU,WACxB9sD,KAAK8qD,MAAQ,EACb9hD,EAAOk3D,SAASlgE,KAAK8qD,OAErB9hD,EAAOwgD,SAAS,cAAexpD,KAAK8qD,MAAO,UAE5C,CACH,IAAMqV,EAAa,CACf,MAAS,QACT,KAAQ,OACR,QAAW,UACX,IAAK,aACL,IAAK,cACL,IAAK,YACL,IAAK,qBACPngE,KAAKwmC,OAAS,OAChBx9B,EAAS8jD,GAAS,IAAU,UAAYqT,OAEvB,cAAdngE,KAAK6e,KACZygB,EAAQ8gC,aAAapgE,KAAK0oD,WACL,QAAd1oD,KAAK6e,KACZ7V,EAAShJ,KAAKqgE,aAAa/gC,GACN,YAAdt/B,KAAK6e,KACZ7V,EAAShJ,KAAKsgE,iBAAiBhhC,GACV,YAAdt/B,KAAK6e,MAAoC,UAAd7e,KAAK6e,MACvC7V,EAAShJ,KAAK8sD,SAASxtB,EAASt/B,KAAKwmC,MACrCx9B,EAAOkgD,QAAU,GACblpD,KAAKgG,QACLgD,EAAOkgD,SAAW,cAElBlpD,KAAKugE,aACLv3D,EAAOkgD,SAAW,oBAED,gBAAdlpD,KAAK6e,KACZ7V,EAAShJ,KAAK8sD,SAASxtB,EAAS,KACX,UAAdt/B,KAAK6e,KAKZ7V,EAAShJ,KAAK8sD,SAASxtB,EAAS,KAKhC1Z,QAAQu8B,QAAO,EAAO,2BAA6BniD,KAAK6e,KAAO,KAEnE,IAAK7V,EAAQ,OAAOA,EAWpB,GAVIhJ,KAAK8rD,OAAuB,YAAd9rD,KAAK6e,MACL,YAAd7e,KAAK6e,MAAoC,YAAd7e,KAAK6e,MAClB,gBAAd7e,KAAK6e,MAAwC,UAAd7e,KAAK6e,OAChC9M,MAAMmE,QAAQlN,GACdA,EAAOA,EAAOlF,OAAS,GAAGgoD,MAAQ9rD,KAAK8rD,MAEvC9iD,EAAO8iD,MAAQ9rD,KAAK8rD,QAIvB9rD,KAAK+zD,SAAW/zD,KAAK65D,aAAe75D,KAAK85D,WAG1C,GAAI/nD,MAAMmE,QAAQlN,GAAS,CACvB,IAAMw3D,EAAWx3D,EAAOA,EAAOlF,OAAS,GACxCkF,EAAOA,EAAOlF,OAAS,GACnB9D,KAAK89D,aAAax+B,EAASkhC,EAAUA,EAAS3hD,WAElD7V,EAAS,CAAChJ,KAAK89D,aAAax+B,EAASt2B,EAAQA,EAAO6V,OAG5D,OAAO9M,MAAMmE,QAAQlN,GAAUA,EAAS,CAACA,K,mCAIhCs2B,EAASmhC,EAAS5hD,GAE3B,IAAK7e,KAAK65D,cAAgB75D,KAAK85D,UAAW,OAAO2G,EAIjD,IAAM/X,EAAYppB,EAAQopB,UACtBgY,EAAS,KACTC,EAAS,KACb,GAAI3gE,KAAK65D,YAAa,CAClB,IAAMnmC,EAAMwmC,GAAU56B,EAAQ5L,MAAO1zB,KAAK65D,aAC1C6G,EAAS5T,GAASp5B,EAAKg1B,EAAUsF,SAAStF,EAAUh1B,QAExD,GAAI1zB,KAAK85D,UAAW,CAChB,IAAM7yC,EAAMizC,GAAU56B,EAAQrY,MAAOjnB,KAAK85D,WAC1C6G,EAAS7T,GAAS7lC,EAAKyhC,EAAUsF,SAAStF,EAAUzhC,QAGxD,IAOI25C,EAPAC,EAAW,EACXC,EAAW,EACV9gE,KAAK+9D,mBACN8C,EAAW5X,GAAKzC,OAAOia,GAAW/X,EAAUpC,QAAQ/B,QACpDuc,EAAW7X,GAAKlhB,MAAM04B,GAAW/X,EAAUpC,QAAQ9B,SAKnDoc,EADAlY,IAAcxB,GAAUmB,QACVK,EAAUpC,QAAQpC,KACzBwE,EAAUtB,QACHsB,EAAUpC,QAAQlC,KAElBsE,EAAUpC,QAAQnC,KAIpC,IAAMgD,EAAaD,GAAUoB,KAAKjB,eAC9BqB,EAAUrB,eACR0Z,EAAe,GAAMtG,EAAYvV,QAAWiC,EAC9C6Z,EAAS,KACb,GAAIL,GAAUD,EAAQ,CAElBG,EAAWj+D,KAAKsR,IAAI2sD,EAAUD,EAAaF,EAAO34B,MAAQ,IAAO2gB,EAAUpC,QAAQ5C,SACnFod,EAAWl+D,KAAKsR,IAAI4sD,EAAUpY,EAAUpC,QAAQhC,MAChD,IAAMoY,EAAYjC,EAAYrV,qBAC9B,GAAKyb,EAAW5X,GAAKlhB,MAAM24B,IAAYzX,GAAKzC,OAAOma,GAAUG,GACzD,EAAIpE,EAAW,CACfoE,EAAW,EAAIpE,GAAamE,EAAWH,EAAO34B,OAASkhB,GAAKzC,OAAOma,GACnE,IAAMM,EAAM,GAAMvY,EAAUpC,QAAQ5C,SAAWmd,EAAW5X,GAAKlhB,MAAM24B,IACjEO,EAAM,IACNJ,GAAYI,EACZH,GAAYG,GAGpBD,EAAS7S,GAAU7uB,EAAS,CACxBqhC,EAAQG,EACRJ,GAASG,GACV,mBAIC7gE,KAAKmuB,QACL6yC,EAAO7X,SAAS,GAAG2S,SAAS7S,GAAKxC,OAAOga,SAErCE,IAAWD,GAElBI,EAAWl+D,KAAKsR,IAAI4sD,EAAUpY,EAAUpC,QAAQjC,KAAM4E,GAAKzC,OAAOma,GAAU,GAAMjY,EAAUpC,QAAQ5C,SACpGsd,EAAS7S,GAAU7uB,EAAS,CAACqhC,GAAS,QAASG,GAC/CE,EAAO7X,SAAS,GAAG6D,SAAS+T,GACxB/gE,KAAK+9D,kBACLiD,EAAO7X,SAAS,GAAG2S,SAAS7S,GAAKxC,OAAOga,MAEpCE,GAAUD,IAElBG,EAAWj+D,KAAKsR,IAAI2sD,EAAUD,EAAaF,EAAO34B,MAAQ,IAAO2gB,EAAUpC,QAAQ5C,SACnFsd,EAAS7S,GAAU7uB,EAAS,CAACohC,GAAS,SAAUG,GAChDG,EAAO7X,SAAS,GAAG6D,SAAS+T,IAIhC,IAAMG,EAAkBpU,GAASkU,EAAQ,WAIzC,OAHIhhE,KAAK8rD,QACLoV,EAAgBpV,MAAQ9rD,KAAK8rD,OAE1B7C,GAAKmE,eAAevuC,EAAM,CAAC4hD,EAASS,M,mCAIlC5hC,EAASmhC,EAASU,EAAc5d,GACzC,IAAM6d,EAAaphE,KAAK65D,YAAc/M,GAASoN,GAAU56B,EAAQ5L,MAAO1zB,KAAK65D,aAAcv6B,EAAQopB,UAAUsF,SAAS1uB,EAAQopB,UAAUh1B,QAAU,KAC5I2tC,EAAarhE,KAAK85D,UAAYhN,GAASoN,GAAU56B,EAAQrY,MAAOjnB,KAAK85D,WAAYx6B,EAAQopB,UAAUsF,SAAS1uB,EAAQopB,UAAUzhC,QAAU,KAC9I,OAAOs3C,GAAUj/B,EAASmhC,EAASU,EAAc5d,EAAO6d,EAAYC,EAAY,S,2BAY/E/hC,EAAS+sB,GAQV,MAPkB,UAAdrsD,KAAK6e,MAAkC,MAAd7e,KAAKwmC,OAC9BxmC,KAAK0hB,GAAK4/C,GAAOhiC,GACbt/B,KAAK0hB,KACA2qC,EAAK/nC,aAAY+nC,EAAK/nC,WAAa,IACxC+nC,EAAK/nC,WAAW,gBAAkBtkB,KAAK0hB,KAGxC2qC,I,+BAcF/sB,EAASkH,GACd,IAAM3nB,EAAqB,YAAd7e,KAAK6e,KAAqB,OAAS7e,KAAK6e,KAC/C7V,EAASigD,GAAKmE,eAAevuC,EAAM2nB,GAYnC9M,EAAS15B,KAAKg9D,WACpBh0D,EAAOuwD,WAAW7/B,GAGlB,IAAMpoB,EAAOooB,GAASA,EAAMgxB,SAAWhxB,EAAMgxB,SAAW,QAiCxD,OAhCIp5C,IAASguB,EAAQspB,YACjB5/C,EAAOkgD,SAAW,iBAAmB5pB,EAAQspB,WAC7C5/C,EAAOkgD,SAAW,IAAM53C,GAEjBguB,EAAQspB,aAAetpB,EAAQhuB,OACtCtI,EAAOkgD,SAAW,iBAAmB5pB,EAAQspB,WAC7C5/C,EAAOkgD,SAAW,IAAM5pB,EAAQhuB,MAEpCtI,EAAOqgD,YAAczmD,KAAKsR,IAAIlL,EAAOqgD,YAAa/pB,EAAQ+nB,gBAAkB,GAI1D,SAAdrnD,KAAKuB,OAAiByH,EAAOkgD,SAAW,aACxC5pB,EAAQopB,UAAU6C,YAAWviD,EAAOuiD,SAAU,GAEhC,SAAdvrD,KAAKuB,OAAiByH,EAAOy9C,OAAS,GAC1Cz9C,EAAOgkD,SAAShkD,EAAOy9C,QAEQ,kBAApBnnB,EAAQupB,SAAsB7/C,EAAOwgD,SAAS,UAAWlqB,EAAQupB,SAK5E7oD,KAAK4B,KAAK09B,EAASt2B,GACfhJ,KAAK8rD,QAGA9rD,KAAK65D,aAAgB75D,KAAK85D,YAC3B9wD,EAAO8iD,MAAQ9rD,KAAK8rD,MAChBxsB,EAAQopB,UAAU6C,YAAWviD,EAAOuiD,SAAU,KAGnDviD,M,KAcf,SAAS2yD,GAAW7Q,GAChB,IAAMv+C,EAAYugD,GAAS,IAAU,eAErC,OADAvgD,EAAU2zD,SAASpV,EAAO,MACnBv+C,EAQX,SAASqvD,GAA2Bt8B,EAASkH,EAAMr1B,EAAQ63C,GACvD,IAAMoS,EAAM,GADiD,uBAE7D,YAAkB50B,EAAlB,+CAAwB,KAAbmtB,EAAa,QACdoG,EAAOjN,GAASoN,GAAU56B,EAAS0pB,IACzC+Q,EAAKhyB,MAAQ4rB,EAAI5rB,MACjBgyB,EAAKvT,OAASmN,EAAInN,OAClB4U,EAAIvvD,KAAKkuD,GACTqB,EAAIvvD,KAAK8nD,EAAIrhC,IAAMnhB,IAPsC,kFAS7D,OAAOg9C,GAAU7uB,EAAS87B,EAAK,mBAInC,SAASkG,GAAOhiC,GACZ,IAAIt2B,EAYJ,MAXkC,mBAAvBs2B,EAAQmpB,YAA4BnpB,EAAQmpB,WACnDz/C,EAASX,KAAK4Z,MAAMvc,SAAS,IAAIlB,OAAO,GACpC5B,KAAK2U,MAAsB,IAAhB3U,KAAK8f,UAAoBhd,SAAS,IACZ,WAA9B,GAAO45B,EAAQmpB,cAClBnpB,EAAQmpB,WAAW8Y,WACnBv4D,EAASs2B,EAAQmpB,WAAW8Y,YAE5Bv4D,EAASs2B,EAAQmpB,WAAW+Y,KAAK97D,SAAS,IAC1C45B,EAAQmpB,WAAW+Y,MAAQ,IAG5Bx4D,EA8BX,SAASu1D,GAAUj/B,EAASmhC,EAASU,EAAc5d,EAAO8a,EAAOC,EAAOz/C,GAEpE,IAAKw/C,IAAUC,EAAO,OAAOmC,EAK7BA,EAAU3T,GAAS2T,GAEnB,IAAIgB,EAAa,EACbC,EAAa,EAEbrD,IACAoD,EAAa7+D,KAAKsR,IACdumD,EAAYpV,cACZoV,EAAYlV,cAAgB8Y,EAAMt2B,QAEtCu2B,IACAoD,EAAa9+D,KAAKsR,IACdumD,EAAYnV,cACZmV,EAAYjV,cAAgB8Y,EAAM9X,SAG1C,IAAIx9C,EAAS,KAEb,GAAIs1D,GAASD,EAAO,CAChB,IAAM9P,EAASkM,EAAYhV,cACvBwD,GAAKzC,OAAO8X,GAASrV,GAAKlhB,MAAMu2B,GAChCoD,EACAzY,GAAKlhB,MAAM04B,GAAWU,EAE1Bn4D,EAASmlD,GAAU7uB,EAAS,CACxBm7B,EAAYhV,cACZ6Y,EAAOoD,EACPjB,EAASgB,EACTpD,EAAO5D,EAAYhV,eACpB,SAAU8I,GAMbvlD,EAAOmgD,SAAS,GAAG2S,SAASvY,GAC5Bv6C,EAAOmgD,SAAS,GAAG2S,QAAQvY,QAExB,GAAI+a,IAAUD,EAAO,CACxB,IAAMxT,EAAM5B,GAAKzC,OAAOia,GAAWU,EAEnCn4D,EAASmlD,GAAU7uB,EAAS,CACxBm7B,EAAYhV,cACZ6Y,EACAoD,EACAjB,GACD,MAAO5V,GAGV7hD,EAAOmgD,SAAS,GAAG2S,SAASvY,QACzB,IAAK+a,GAASD,EAAO,CACxB,IAAM9P,EAAStF,GAAKlhB,MAAM04B,GAAWU,EAErCn4D,EAASmlD,GAAU7uB,EAAS,CACxBmhC,EAASgB,EACTpD,EAAO5D,EAAYhV,eACpB,SAAU8I,GAGbvlD,EAAOmgD,SAAS,GAAG2S,QAAQvY,GAG/B,OAAO0F,GAAKmE,eAAevuC,EAAM7V,EAAQ,aAiB7C,SAASkxD,GAAU56B,EAAS02B,GAClB12B,aAAmBC,GAAQA,UAG7BD,EAAU,IAAIC,GAAQA,QAAQD,IAMlC,IAAMqiC,GAAoBriC,EAAQmpB,aAAenpB,EAAQmpB,WAAWmZ,aAEhE54D,EAAS,GACb,GAAI+I,MAAMmE,QAAQ8/C,GAAQ,CACtB,GAAqB,IAAjBA,EAAMlyD,OACN,OAAOkF,EAEJ,GAAqB,IAAjBgtD,EAAMlyD,OACbkF,EAASgtD,EAAM,GAAGkE,UAAU56B,GACxBt2B,GAAU24D,GAAoB3L,EAAM,GAAG1M,YACvCtgD,EAAOE,SAAQ,SAAA9F,GAAC,OAAIA,EAAEmmD,UAAS,MAEnC3jC,QAAQu8B,QAAQn5C,GAAU+I,MAAMmE,QAAQlN,QAErC,CAMH,IALA,IAAIoiD,EAAe,OACfyW,EAAW7L,EAAM,GAAGn3C,KACpBijD,EAAa,GACbC,EAAgB,KAChBzC,EAAc,KACTl/D,EAAI,EAAGA,EAAI41D,EAAMlyD,OAAQ1D,IAAK,CAQb,SAAlB41D,EAAM51D,GAAGye,OACL,wCAAwCvc,KAAK8oD,IAC7C,0BAA0B9oD,KAAKu/D,MAC/B7L,EAAM51D,GAAGye,KAAO,QAOF,MAAlBm3C,EAAM51D,GAAGomC,OACHwvB,EAAM51D,GAAGy5D,aAAgB7D,EAAM51D,GAAG05D,aACxCwF,EAAc,MAGdhgC,EAAQmpB,WAAWmZ,cACnBG,GACkB,SAAlB/L,EAAM51D,GAAGye,MACT,UAAUvc,KAAK0zD,EAAM51D,GAAG4hE,SACxB1iC,EAAQmpB,WAAW8Y,WAAaQ,GAEpC,IAAM1V,EAAO2J,EAAM51D,GAAG85D,UAAU56B,EAASggC,GAIzC,GAHIhgC,EAAQmpB,aACRnpB,EAAQmpB,WAAW8Y,WAAa,MAEhClV,EAAM,CAGN,IAAM1oD,EAAO,GAAG0B,OAAOC,MAAM,GAAI+mD,GACjCiT,EAAc37D,EAGV27B,EAAQmpB,YAAcnpB,EAAQmpB,WAAWmZ,eACnB,SAAlB5L,EAAM51D,GAAGye,MACT,UAAUvc,KAAK0zD,EAAM51D,GAAG4hE,SACnBD,IACDA,EAAgB/L,EAAM51D,GAAGshB,MAGV,SAAlBs0C,EAAM51D,GAAGye,MACV,UAAUvc,KAAK0zD,EAAM51D,GAAG4hE,QACxBhM,EAAM51D,GAAGy5D,aACT7D,EAAM51D,GAAG05D,YAAciI,IAEvBA,EAAgB,OAKpBJ,GAAoB3L,EAAM51D,GAAGkpD,YAC7BwY,EAAYA,EAAUz8D,OAAO1B,GAC7Bm+D,EAAU54D,SAAQ,SAAA9F,GAAC,OAAIA,EAAEmmD,UAAS,QAE9BuY,EAAUh+D,OAAS,IAGnBkF,EAAS,GAAH,UAAOA,GAAP,GAAkB84D,IACxBA,EAAY,IAEhB94D,EAASA,EAAO3D,OAAO1B,IAO/BynD,EAAe4K,EAAM51D,GAAGu5D,sBAAsB96C,KAC9CgjD,EAAW7L,EAAM51D,EAAI,GAAK41D,EAAM51D,EAAI,GAAGs5D,wBAAwB76C,KAAO,OAItEijD,EAAUh+D,OAAS,IACnBkF,EAAS,GAAH,UAAOA,GAAP,GAAkB84D,IACxBA,EAAY,UAGb9L,IAEPhtD,EAASgtD,EAAMkE,UAAU56B,GACrBt2B,GAAU24D,GAAoB3L,EAAM1M,YACpCtgD,EAAOE,SAAQ,SAAA9F,GAAC,OAAIA,EAAEmmD,UAAS,OAKvC,IAAKvgD,GAA4B,IAAlBA,EAAOlF,OAAc,OAAO,KAM3C,GAJA8hB,QAAQu8B,OAAOpwC,MAAMmE,QAAQlN,IAAWA,EAAOlF,OAAS,GAIpDw7B,EAAQopB,YAAcppB,EAAQqpB,gBAAiB,CAC/C,IAAM9B,EAASvnB,EAAQopB,UAAUrB,eACzB/nB,EAAQqpB,gBAAgBtB,eAFe,uBAG/C,YAAmBr+C,EAAnB,+CAA2B,KAAhBqjD,EAAgB,QACvBzmC,QAAQu8B,QAAQpwC,MAAMmE,QAAQm2C,IAC9BzmC,QAAQu8B,OAA8B,kBAAhBkK,EAAK7F,QAAuBr5B,SAASk/B,EAAK7F,SAChE6F,EAAK7F,QAAUK,EACfwF,EAAKtkB,OAAS8e,GAP6B,mFAYnD,GAAIvnB,EAAQhuB,OAASguB,EAAQspB,WAAY,CACrC,IAAM/B,EAASwS,GAAkB/5B,EAAQhuB,MACjC+nD,GAAkB/5B,EAAQspB,YAFG,uBAGrC,YAAmB5/C,EAAnB,+CAA2B,KAAhBqjD,EAAgB,QACvBzmC,QAAQu8B,QAAQpwC,MAAMmE,QAAQm2C,IAC9BzmC,QAAQu8B,OAA8B,kBAAhBkK,EAAK7F,QAAuBr5B,SAASk/B,EAAK7F,SAChE6F,EAAK7F,QAAUK,EACfwF,EAAKtkB,OAAS8e,GAPmB,mFAWzC,OAAO79C,EAcX,SAASi5D,GAAS1R,EAAW/pB,GACzB+pB,EAAYA,GAAa,OACzB,IAAMvnD,EAAU,IAAIswD,GAAS/I,EAAW,OAAQ/pB,GAAQ,IAIxD,OAH2B,IAAvBx9B,EAAOw9B,KAAK1iC,QAAwC,UAAxBkF,EAAOw9B,KAAK,GAAG3nB,MAC3C7V,EAAOw9B,KAAKhsB,QAAQ,IAAI8+C,GAAS,GAAI,UAElCtwD,EAMI,QACXswD,YACAY,aACA+H,YACA9I,gBChxDE+I,GAAqB,CACvB,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,WA8BJC,GAAc,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIEC,GAAc,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAiBEC,GAAe,CACjB,QAAW,UACX,WAAc,UACd,YAAe,UACf,MAAS,UACT,KAAQ,UACR,UAAa,UACb,WAAc,UACd,SAAY,UACZ,MAAS,UACT,YAAe,UACf,UAAa,UACb,cAAiB,UACjB,SAAY,UACZ,eAAkB,UAClB,KAAQ,UACR,UAAa,UACb,WAAc,UACd,QAAW,UACX,YAAe,UACf,QAAW,UACX,UAAa,UACb,KAAQ,UACR,MAAS,UACT,YAAe,UACf,YAAe,UACf,SAAY,UACZ,UAAa,UACb,QAAW,UACX,SAAY,UACZ,OAAU,UACV,MAAS,UACT,aAAgB,UAChB,SAAY,UACZ,SAAY,UACZ,WAAc,UACd,OAAU,UACV,UAAa,UACb,OAAU,UACV,MAAS,UACT,WAAc,UACd,UAAa,UACb,KAAQ,UACR,YAAe,UACf,OAAU,UACV,UAAa,UACb,IAAO,UACP,UAAa,UACb,UAAa,UACb,UAAa,UACb,UAAa,UACb,YAAe,UACf,UAAa,UACb,OAAU,UACV,SAAY,UACZ,MAAS,UACT,QAAW,UACX,YAAe,UACf,IAAO,UACP,SAAY,UACZ,QAAW,UACX,UAAa,UACb,OAAU,UACV,UAAa,UACb,MAAS,UACT,eAAkB,UAClB,OAAU,UACV,YAAe,UACf,aAAgB,WAuLpB,SAASC,GAAcngE,GACnB,IAEIogE,EACAC,EACAC,EAJEC,EAAYvgE,EAAEia,cAAc9P,MAAM,KAKpCq2D,EAAM,IACNC,EAAQ,IACRC,EAAO,IACPC,GAAO,EAGLC,EAAgBL,EAAU5+D,OAAS,GAAgC,MAA3B4+D,EAAU,GAAG/pD,OAAO,GAC9DoqD,IAAeL,EAAU,GAAKA,EAAU,GAAGl+D,MAAM,IAGrD,IAAK,IAAIpE,EAAI,EAAGA,EAAIsiE,EAAU5+D,OAAQ1D,IAAK,CACvCmiE,EAAUI,EACVH,EAAYI,EACZH,EAAWI,EAEX,IAAIG,EAAYN,EAAUtiE,GAAGuM,MAAM,eAC/Bq2D,IAAWA,EAAYA,EAAU,IAErC,IAAI1+B,EAAQ+9B,GAAaW,IAAcd,GAAmBc,GACrD1+B,IAAOA,EAAQo+B,EAAUtiE,IAE9B,IAAII,EAAI8jC,EAAM33B,MAAM,+CACpB,GAAInM,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAEvBmiE,EAAM//D,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAK2J,SAASjV,EAAE,GAAI,MAC/CoiE,EAAQhgE,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAK2J,SAASjV,EAAE,GAAI,MACjDqiE,EAAOjgE,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAK2J,SAASjV,EAAE,GAAI,WAGhD,GADAA,EAAI8jC,EAAM33B,MAAM,qBACZnM,GAAKA,EAAE,GAAI,CAEX,IAAMyiE,EAAKxtD,SAASjV,EAAE,GAAG,GAAI,IACvB0iE,EAAKztD,SAASjV,EAAE,GAAG,GAAI,IACvB2iE,EAAK1tD,SAASjV,EAAE,GAAG,GAAI,IAC7BmiE,EAAM//D,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAU,GAALm3D,EAAUA,IAC1CL,EAAQhgE,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAU,GAALo3D,EAAUA,IAC5CL,EAAOjgE,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAU,GAALq3D,EAAUA,QACxC,CAGH,GADA3iE,EAAI8jC,EAAM33B,MAAM,sDACZnM,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,IAKvB,OAAO,KAJPmiE,EAAM//D,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAK2J,SAASjV,EAAE,MAC3CoiE,EAAQhgE,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAK2J,SAASjV,EAAE,MAC7CqiE,EAAOjgE,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAK2J,SAASjV,EAAE,MAMpDsiE,GAAO,IACPH,GAAO,EAAMG,GAAOH,EAAOG,EAAMP,EACjCK,GAAS,EAAME,GAAOF,EAAQE,EAAMN,EACpCK,GAAQ,EAAMC,GAAOD,EAAOC,EAAML,EAClCK,GAAO,GAEP1iE,EAAI,EAAIsiE,EAAU5+D,SAClBg/D,EAAMlgE,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAI,IAAK2J,SAASitD,IAAYtiE,MAAQ,KAgBrE,OAZI0iE,GAAO,IACPH,EAAMG,EAAMH,GAAO,EAAMG,GAAOP,EAChCK,EAAQE,EAAMF,GAAS,EAAME,GAAON,EACpCK,EAAOC,EAAMD,GAAQ,EAAMC,GAAOL,GAGlCM,IACAJ,EAAM,IAAMA,EACZC,EAAQ,IAAMA,EACdC,EAAO,IAAMA,GAGV,KACF,KAAOjgE,KAAK2zB,MAAMosC,GAAKj9D,SAAS,KAAKlB,OAAO,IAC5C,KAAO5B,KAAK2zB,MAAMqsC,GAAOl9D,SAAS,KAAKlB,OAAO,IAC9C,KAAO5B,KAAK2zB,MAAMssC,GAAMn9D,SAAS,KAAKlB,OAAO,GAGtD,SAAS4+D,GAAc9+B,GACnB,IAAIt7B,EAASs7B,EAAM++B,cAEnB,IAAK,IAAM5iE,KAAK4hE,GACZ,GAAIA,GAAa5hE,KAAOuI,EAAQ,CAC5BA,EAASvI,EACT,MAIR,IAAK,IAAMA,KAAKyhE,GACZ,GAAIA,GAAmBzhE,KAAOuI,EAAQ,CAClCA,EAASvI,EACT,MAIR,OAAOuI,EAII,QACXs5D,iBACAc,iBACAjB,eACAC,gB,+/BCzcJ,IAAM9I,GAAWgK,GAAehK,SAwC1BiK,G,WACF,WAAYC,EAAQ3+D,EAAM2jD,GAAQ,WAC9BxoD,KAAKwjE,OAASA,EACdxjE,KAAKuN,MAAQ,EACbvN,KAAK6E,KAAOA,EACZ7E,KAAKwoD,OAASA,EACdxoD,KAAKyjE,SAAW,GAChBzjE,KAAK05B,MAAQ,GACb15B,KAAKuwD,UAAY,OACjBvwD,KAAK0jE,aAAc,EACnB1jE,KAAK2jE,SAAW,E,gDAEPC,GACT,IAAM56D,EAAShJ,KAAKyjE,SAEpB,OADAzjE,KAAKyjE,SAAWG,GAAe,GACxB56D,I,oCAEGzH,GACV,IAAMyH,EAAShJ,KAAKuwD,UAEpB,OADAvwD,KAAKuwD,UAAYhvD,EACVyH,I,4BAYP,OADAhJ,KAAK2jE,WACE3jE,KAAKuN,OAASvN,KAAKwjE,OAAO1/D,QAAU9D,KAAK2jE,SAAW,M,4BAI3D,OADA3jE,KAAK2jE,SAAW,EACT3jE,KAAKuN,MAAQvN,KAAKwjE,OAAO1/D,OAAS9D,KAAKwjE,OAAOxjE,KAAKuN,SAAW,O,2BAEpE4D,GACD,IAAM5D,EAAQvN,KAAKuN,OAAS4D,GAAkB,GAC9C,OAAO5D,EAAQvN,KAAKwjE,OAAO1/D,OAAS9D,KAAKwjE,OAAOj2D,GAAS,O,qCASzD,IAAMs2D,EAAoC,IAAzB7jE,KAAKyjE,SAAS3/D,OAAe,OAC1C9D,KAAKyjE,SAASzjE,KAAKyjE,SAAS3/D,OAAS,GAAG+a,KAC5C,GAAiB,QAAbglD,GAAmC,YAAbA,EAAwB,CAE9C,IAAMC,EAAW,IAAIxK,GAASt5D,KAAKuwD,UAAW,UAAW,KACzDuT,EAASx/C,WAAa,CAAE,eAAe,GACvCtkB,KAAKyjE,SAAS53D,KAAKi4D,GAEvB,OAAO9jE,KAAKyjE,SAASzjE,KAAKyjE,SAAS3/D,OAAS,K,+BAQvC+a,GACL,IAAMtR,EAAQvN,KAAKuN,MACnB,OAAOA,EAAQvN,KAAKwjE,OAAO1/D,QACvB9D,KAAKwjE,OAAOj2D,GAAOsR,OAASA,I,iCAUzBxd,GACP,IAAMkM,EAAQvN,KAAKuN,MACnB,OAAOA,EAAQvN,KAAKwjE,OAAO1/D,SACK,YAA5B9D,KAAKwjE,OAAOj2D,GAAOsR,QACjBxd,GAASrB,KAAKwjE,OAAOj2D,GAAOlM,QAAUA,M,wCAS9BumB,GACd,OAAO5nB,KAAK+jE,SAAS,YACjBn8C,EAAQtlB,KAAKtC,KAAKwjE,OAAOxjE,KAAKuN,OAAOlM,S,iCAElCohD,GACP78B,QAAQu8B,OAAmB,OAAZM,GAA0C,OAAtBA,EAAQ9pC,OAAO,GAAa,sCAC/D,IAAMpL,EAAQvN,KAAKuN,MACnB,OAAOA,EAAQvN,KAAKwjE,OAAO1/D,SACK,YAA5B9D,KAAKwjE,OAAOj2D,GAAOsR,MACnB7e,KAAKwjE,OAAOj2D,GAAOlM,QAAUohD,K,wCAGjC,IAAMl1C,EAAQvN,KAAKuN,MACnB,GAAIA,EAAQvN,KAAKwjE,OAAO1/D,QACQ,YAA5B9D,KAAKwjE,OAAOj2D,GAAOsR,KAAoB,CACvC,IAAMijB,EAAO80B,GAAYjF,QAAQ,KAAO3xD,KAAKwjE,OAAOj2D,GAAOlM,MAAOrB,KAAKuwD,UAAWvwD,KAAKwoD,QACvF,OAAO1mB,GAAQA,EAAKgwB,MAExB,OAAO,I,2CAGP,IAAMvkD,EAAQvN,KAAKuN,MACnB,SAAOvN,KAAK0jE,aAAen2D,EAAQvN,KAAKwjE,OAAO1/D,UACf,YAA5B9D,KAAKwjE,OAAOj2D,GAAOsR,MACU,MAA7B7e,KAAKwjE,OAAOj2D,GAAOlM,S,wCAGvB,IAAMkM,EAAQvN,KAAKuN,MACnB,SAAOvN,KAAK0jE,aAAen2D,EAAQvN,KAAKwjE,OAAO1/D,UACf,YAA5B9D,KAAKwjE,OAAOj2D,GAAOsR,OACW,OAA7B7e,KAAKwjE,OAAOj2D,GAAOlM,OACa,OAA7BrB,KAAKwjE,OAAOj2D,GAAOlM,U,6CAG3B,QAAIrB,KAAKgkE,uBACLhkE,KAAKuN,SACE,K,oCASX,GAAIvN,KAAK6E,MAAkC,kBAAnB7E,KAAK6E,KAAK,KAG9B,OAAOo/D,GAAY7hB,EAAMS,SAAS7iD,KAAK6E,KAAK,MAAO7E,KAAKuwD,UAAW,KAAMvwD,KAAKwoD,QAGlF,IAAMx/C,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,cAAe,IAAKvwD,KAAK05B,OAErE,OADA1wB,EAAO6rD,kBAAmB,EACnB,CAAC7rD,K,yCAEOk7D,GACf,GAAIlkE,KAAKuN,MAAQvN,KAAKwjE,OAAO1/D,OAAQ,CACjC,IAAMq/C,EAAQnjD,KAAKwjE,OAAOxjE,KAAKuN,OAC/B,GAAmB,YAAf41C,EAAMtkC,KACN,OAAOqlD,EAAS9uD,SAAS+tC,EAAM9hD,OAGvC,OAAO,I,0CAGP,QAAIrB,KAAKmkE,oBACLnkE,KAAKuN,SACE,K,iCASJsR,GACP,QAAI7e,KAAK+jE,SAASllD,KACd7e,KAAKuN,SACE,K,uCAKX,IAAI24B,GAAQ,EACZ,MAAOlmC,KAAK+jE,SAAS,SACjB/jE,KAAKuN,QACL24B,GAAQ,EAEZ,OAAOA,I,qCAEIrnB,GACX,OAAQ7e,KAAKgI,QAAUhI,KAAKokE,WAAWvlD,GACnC7e,KAAKiB,Q,mCAGAwhD,GACT,QAAIziD,KAAKqkE,WAAW5hB,KAChBziD,KAAKuN,SACE,K,mCAIF+2D,GACT,QAAItkE,KAAKukE,WAAWD,KAChBtkE,KAAKuN,SACE,K,oCAKX,IAAIi3D,GAAU,EACV72D,GAAO,EACX,EAAG,CACC,IAAM82D,EAAezkE,KAAK0kE,iBACpBC,EAAe3kE,KAAK4kE,aAAa,SACvCJ,EAAUA,GAAWC,GAAgBE,EACrCh3D,GAAQ82D,IAAiBE,SACnBh3D,GACV,OAAO62D,I,mCAeEK,GACT,IAAMC,EAAa9kE,KAAKuN,MACpBI,EAAO3N,KAAKgI,MACZ3G,EAAQ,GACZ,OAAQsM,EAAM,CACV,IAAMw1C,EAAQnjD,KAAKiB,MACA,YAAfkiD,EAAMtkC,OACNxd,GAAS8hD,EAAM9hD,OAEnBsM,EAAO3N,KAAKgI,OAAwB,YAAfm7C,EAAMtkC,MACvBxd,EAAMyC,QAAU+gE,EAAQ/gE,OAEhC,IAAMihE,EAAaF,EAAQxB,gBAAkBhiE,EAAMgiE,cAInD,OAHK0B,IACD/kE,KAAKuN,MAAQu3D,GAEVC,I,mCAaP,IAAI/7D,EAAS,GACT2E,EAAO3N,KAAKgI,MAChB,OAAQ2F,EAAM,CACV,GAAI3N,KAAKukE,WAAW,KAChB52D,GAAO,OACJ,GAAI3N,KAAK+jE,SAAS,WACrB/6D,GAAUhJ,KAAKiB,MAAMI,WAClB,GAAIrB,KAAK0kE,iBACZ17D,GAAU,SACP,GAAIhJ,KAAK+jE,SAAS,WAAY,CACjC,IAAM5gB,EAAQnjD,KAAKiB,MACC,UAAhBkiD,EAAM9hD,MAIN2H,GAAU,IAKVA,GAAUm6C,EAAM9hD,WAGpBsM,GAAO,EAEXA,EAAOA,GAAQ3N,KAAKgI,MAExB,OAAOgB,I,kCAQP,OAAOg8D,GAAM1C,cAActiE,KAAKilE,gB,iCAgBzB74C,GACP,IAAM84C,EAAWllE,KAAKmlE,aAAa,KAE9BD,GAAUllE,KAAKmlE,aAAa,KACjCnlE,KAAK0kE,iBACLt4C,IAAcA,EACd,IAAIhT,EAAQ,GACRszB,EAAS,QACT1sC,KAAKmlE,aAAa,MAElB/rD,EAAQ,EACRszB,EAAS,QACTtgB,GAAY,IACLpsB,KAAKmlE,aAAa,MAAQnlE,KAAKmlE,aAAa,QAInD/rD,EAAQ,GAERszB,EAAS,WACTtgB,GAAY,GAEhB,IAAI/qB,EAAQ,GACZ,MAAOrB,KAAKolE,kBAAkB14B,GAC1BrrC,GAASrB,KAAKiB,MAAMI,MAGxB,IAAK+qB,IAAcpsB,KAAKmlE,aAAa,MAAQnlE,KAAKmlE,aAAa,MAAO,CAClE9jE,GAAS,IACT,MAAOrB,KAAKolE,kBAAkB14B,GAC1BrrC,GAASrB,KAAKiB,MAAMI,MAG5B,IAAM2H,EAASojB,EAAY3W,SAASpU,EAAO+X,GAASqc,WAAWp0B,GAC/D,OAAO6jE,GAAYl8D,EAASA,I,kCAc5B,IAEIA,EAFE3H,EAAQrB,KAAKqlE,YAAW,GA6B9B,OA5BArlE,KAAK0kE,iBAGD17D,EADAhJ,KAAKslE,aAAa,MACT3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAC1BrB,KAAKslE,aAAa,MAChB3a,GAAY5D,KAAK1lD,EAAO,MAGxBspD,GAAY5D,KAAK1lD,EAAO,MAE9B2H,I,iCAGP,IAAMA,EAAShJ,KAAKulE,YAgBpB,OAbAvlE,KAAK0kE,iBAID1kE,KAAKslE,aAAa,SAElBtlE,KAAKulE,YAETvlE,KAAK0kE,iBACD1kE,KAAKslE,aAAa,UAElBtlE,KAAKulE,YAEFv8D,I,oCAGPhJ,KAAK0kE,iBACL,IAAM17D,EAAS,GACf,OAAQhJ,KAAKgI,QAAWhI,KAAK+jE,SAAS,OAAQ/jE,KAAKukE,WAAW,KAC1D,GAAIvkE,KAAKukE,aAAc,CACnB,IAAMD,EAAUtkE,KAAKiB,MAAMI,MAC3B,GAAI,MAAM+T,SAASkvD,GACft7D,EAAO6C,KAAK,CAAE0nD,MAAO+Q,SAClB,GAAgB,MAAZA,EACPt7D,EAAO6C,KAAK,CAAEgwD,MAAM,SACjB,GAAgB,MAAZyI,EAAiB,CACxB,GAAItkE,KAAKokE,WAAW,KAAM,CACtB,IAAMoB,EAAiBxlE,KAAKylE,cAAc,QAC1Cz8D,EAAO6C,KAAK,CAAE+nD,IAAK5zD,KAAK0lE,mBAAkB,SAAAviB,GAAK,MAAmB,MAAfA,EAAMtkC,UACzD7e,KAAKylE,cAAcD,GAEvBxlE,KAAKokE,WAAW,MAI5B,OAAOp7D,I,oCASP,IAAI28D,EAGJ,GAFI3lE,KAAK4kE,aAAa,OAAMe,EAAQ,MAC/BA,GAAS3lE,KAAK4kE,aAAa,OAAMe,EAAQ,MACzCA,EAAO,OAAO,KACnB,IAAMH,EAAiBxlE,KAAKylE,cAAc,QACpCz8D,EAAS,IAAIswD,GAAS,OAAQ,SAKpC,OAJAtwD,EAAO0/C,UAAsB,MAAVid,EAAgB,YAAc,eACjD38D,EAAOw9B,KAAOxmC,KAAK0lE,mBAAkB,SAAAviB,GAAK,MAAmB,YAAfA,EAAMtkC,MAAsBskC,EAAM9hD,QAAUskE,KAC1F3lE,KAAK4kE,aAAae,GAClB3lE,KAAKylE,cAAcD,GACdx8D,EAAOw9B,MAA+B,IAAvBx9B,EAAOw9B,KAAK1iC,OACzBkF,EAD8C,O,sCASrD,IAAKhJ,KAAK+jE,SAAS,OAAS/jE,KAAK+jE,SAAS,MAAO,OAAO,KACxD,IAAM4B,EAAQ3lE,KAAKiB,MAAM4d,KACnB7V,EAAS,IAAIswD,GAAS,OAAQ,SACpCtwD,EAAO0/C,UAAsB,MAAVid,EAAgB,YAAc,eACjD38D,EAAO48D,UAAiC,cAArB58D,EAAO0/C,UAA4B,IAAM,KAC5D1/C,EAAO68D,WAAa78D,EAAO48D,UAC3B,IAAMJ,EAAiBxlE,KAAKylE,cAAc,QAI1C,OAHAz8D,EAAOw9B,KAAOxmC,KAAK0lE,mBAAkB,SAAAviB,GAAK,OAAIA,EAAMtkC,OAAS8mD,KAC7D3lE,KAAKokE,WAAWuB,GAChB3lE,KAAKylE,cAAcD,GACdx8D,EAAOw9B,MAA+B,IAAvBx9B,EAAOw9B,KAAK1iC,OACzBkF,EAD8C,O,wCAUrD,IAAKhJ,KAAK4kE,aAAa,SAAU,OAAO,KAGxC,IAAMkB,EAAU9lE,KAAK+lE,QAAQ,UACvBC,EAAMpP,GAAYvF,mBAAmByU,GAErCjhE,EAAO,GACb,GAAImhE,GAAOA,EAAItgC,OAAQ,4BACnB,YAAoBsgC,EAAItgC,OAAxB,+CAAgC,KAArBugC,EAAqB,QAE5B,GAAIA,EAAMlU,SAAU,CAEhB,IAAM/sC,EAAMhlB,KAAKkmE,gBAAgBD,EAAMpnD,MAEvCha,EAAKgH,KAAKmZ,QAMVngB,EAAKgH,KAAK7L,KAAK+lE,QAAQE,EAAMpnD,QAblB,mFAkBvB,IAAMsnD,EAAYnmE,KAAKuwD,UACjB6V,EAAmBpmE,KAAK0jE,YACxB2C,EAAgBrmE,KAAKsmE,aAAa,IAExCtmE,KAAK0jE,YAAcsC,EAAIzU,QACvB,IAAMh/C,EAAQ,GACR2oD,EAAU,GACZvH,EAAM,GACNhmD,GAAO,EACX,GAKI,GAJAA,EAAO3N,KAAKgI,OACP2F,GAAQ3N,KAAK4kE,aAAa,SAC3Bj3D,EAAO3N,KAAK+lE,QAAQ,YAAcD,IAEjCn4D,EACD,GAAI3N,KAAKumE,uBACL5S,EAAI9nD,KAAK7L,KAAKsmE,aAAa,UACxB,GAAItmE,KAAKwmE,oBAAqB,CACjC7S,EAAI9nD,KAAK7L,KAAKsmE,aAAa,KAC3B,IAAI1S,EAAM,EACV5zD,KAAK0kE,iBACD1kE,KAAKmlE,aAAa,OAClBvR,EAAM5zD,KAAKulE,YACXvlE,KAAK0kE,iBACL1kE,KAAKmlE,aAAa,MAEtBjK,EAAQrvD,KAAK+nD,GAAO,GACpBrhD,EAAM1G,KAAK8nD,GACXA,EAAM,QAEN3zD,KAAKyjE,SAAWzjE,KAAKyjE,SAASp+D,OAAOrF,KAAK0lE,4BAG5C/3D,GACVgmD,EAAI9nD,KAAK7L,KAAKsmE,aAAa,KACvB3S,EAAI7vD,OAAS,GAAGyO,EAAM1G,KAAK8nD,GAC/B,IAAMiQ,EAAc5jE,KAAKsmE,aAAaD,GAKtC,GAHAzgD,QAAQu8B,QAAQniD,KAAK0jE,aAAsC,IAAvBE,EAAY9/D,OAAc,kCAC9D9D,KAAKuwD,UAAY4V,EACjBnmE,KAAK0jE,YAAc0C,GACdJ,EAAIzU,SAAkC,IAAvBqS,EAAY9/D,OAAc,OAAO,KACrD,GAAIkiE,EAAIzU,SAA4B,IAAjBh/C,EAAMzO,OAAc,OAAO,KAC9C,IAAMkF,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,QAASqT,EACjDoC,EAAI1U,OAAS0U,EAAI1U,OAAOwU,EAASjhE,EAAM0N,GAAS,IAKpD,OAJAvJ,EAAOuJ,MAAQA,EACfvJ,EAAOkyD,QAAUA,EACjBlyD,EAAOg9D,IAAP,MAAiBA,GACjBh9D,EAAOg9D,IAAIrlE,KAAOmlE,EACX98D,I,wCAeO2E,GAGd,IAAM84D,EAAazmE,KAAK05B,MACnB/rB,IACDA,EAAO,SAAAw1C,GAAK,MAAmB,MAAfA,EAAMtkC,MACF,YAAfskC,EAAMtkC,MAAsC,MAAhBskC,EAAM9hD,OACnB,YAAf8hD,EAAMtkC,MAAsB,gBAAgBvc,KAAK6gD,EAAM9hD,SAIhE,IAwBI2H,EAxBA8oD,EAAQ,KACR4U,EAAS,KACPC,EAAgB3mE,KAAKsmE,aAAa,IAGxC,OAAQtmE,KAAKgI,QAAU2F,EAAK3N,KAAKwiD,QAC7B,GAAIxiD,KAAK4mE,mBAAmB,CAAC,eAAgB,YAAa,cAAe,sBAAuB,CAI5F5mE,KAAKuwD,UAAY,OACjB,IAAM2F,EAAO,IAAIoD,GAAS,OAAQ,aAClCpD,EAAKxN,UAAY1oD,KAAKiB,MAAMI,MAC5BrB,KAAKyjE,SAAS53D,KAAKqqD,QACZl2D,KAAK6mE,oBAAsB/U,GAGlCA,EAAQ9xD,KAAKiB,MAEbylE,EAAS1mE,KAAKsmE,aAAa,KAE3BtmE,KAAK8mE,YAIb,GAAIhV,EAAO,CACP,IAAMiV,EAAS/mE,KAAKsmE,aAAaK,GAK3B7kC,EAAO80B,GAAYjF,QAAQ,KAAOG,EAAMzwD,MAAO,OAAQrB,KAAKwoD,QAE9Dx/C,EADA84B,EACS,CAAC,IAAIw3B,GAASt5D,KAAKuwD,UACxBzuB,EAAKjjB,KACLijB,EAAKzgC,OAASywD,EAAMzwD,MACpBygC,EAAKwxB,MAAQxxB,EAAKwxB,MAAM,KAAOxB,EAAMzwD,MAAO,CAACqlE,EAAQK,IACrD,OAEK,CAAC,IAAIzN,GAASt5D,KAAKuwD,UAAW,MAAOuB,EAAMzwD,aAGxD2H,EAAShJ,KAAKsmE,aAAaK,GAK/B,OAFA3mE,KAAK05B,MAAQ+sC,EAENz9D,I,kCAcP,IAAKhJ,KAAKokE,WAAW,KAAM,OAAO,KAClC,IAAMp7D,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,SAK5C,OAJAvnD,EAAOw9B,KAAOxmC,KAAK0lE,mBAAkB,SAAAviB,GAAK,MAAmB,MAAfA,EAAMtkC,QACpD7e,KAAKokE,WAAW,KAChBp7D,EAAO48D,UAAY,IACnB58D,EAAO68D,WAAa,IACb78D,I,uCAIP,GADAhJ,KAAK0kE,kBACA1kE,KAAKmlE,aAAa,KAAM,OAAO,KAEpC,IAAMn8D,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,aAC5CvnD,EAAOssD,UAAY,IACnBtsD,EAAO8tD,OAAQ,EACf,IAAMuP,EAAgBrmE,KAAKsmE,aAAa,IACpCU,EAAY,EAChB,OAAQhnE,KAAKgI,OAAuB,IAAdg/D,EACdhnE,KAAKukE,WAAW,OAAMyC,GAAa,GACnChnE,KAAKukE,WAAW,OAAMyC,GAAa,GACrB,IAAdA,GAAiBhnE,KAAK8mE,YAK9B,OAHkB,IAAdE,GAAiBhnE,KAAKmlE,aAAa,KACvCn8D,EAAOusD,WAA2B,IAAdyR,EAAkB,IAAM,IAC5Ch+D,EAAOw9B,KAAOxmC,KAAKsmE,aAAaD,GACzBr9D,I,kCAWPhJ,KAAK0kE,iBACL,IAAMvhB,EAAQnjD,KAAKiB,MACnB,IAAKkiD,EAAO,OAAO,KACnB,IAAIyS,EAAQ,IACO,YAAfzS,EAAMtkC,KACN+2C,EAAQ,KAAOzS,EAAM9hD,MACC,YAAf8hD,EAAMtkC,OACb+2C,EAAQzS,EAAM9hD,OAElB,IAAMygC,EAAO80B,GAAYjF,QAAQiE,EAAO,OAAQ51D,KAAKwoD,QACrD,OAAK1mB,EACa,UAAdA,EAAKjjB,MAAkC,WAAdijB,EAAKjjB,KACvB+2C,EAMP,wIAAwItzD,KAAKszD,GACtIA,EAEJ,KAXW,O,sCAyBlB,GAAI51D,KAAK4kE,aAAa,UAAY5kE,KAAK4kE,aAAa,UAAW,CAE3D,IAAM57D,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,aAK5C,OAHAvnD,EAAOusD,WAAav1D,KAAKinE,aAAe,GAGjCj+D,EAGX,IAAMy9D,EAAazmE,KAAK05B,MAEpBP,EAAQ,QACZ,IAAKn5B,KAAK4kE,aAAa,QAAS,CAC5B,IAAK5kE,KAAK4kE,aAAa,SAAU,OAAO,KACxCzrC,EAAQ,SAIZ,IAAMm8B,EAAYt1D,KAAKinE,aAAe,GAChCZ,EAAgBrmE,KAAKsmE,aAAa,IACxC,OAAQtmE,KAAKgI,QAAUhI,KAAK4kE,aAAazrC,GACrCn5B,KAAK8mE,YAET9mE,KAAK05B,MAAQ+sC,EAKb,IAAMlR,EAAav1D,KAAKinE,YAClBj+D,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,aAK5C,OAJAvnD,EAAOssD,UAAYA,EACnBtsD,EAAOusD,WAAaA,EACpBvsD,EAAO8tD,MAAkB,UAAV39B,EACfnwB,EAAOw9B,KAAOxmC,KAAKsmE,aAAaD,GACzBr9D,I,oCAaP,GAAuB,SAAnBhJ,KAAKuwD,UAAsB,OAAO,EAItC,IAAIvnD,GAAS,EACb,MAAOhJ,KAAKukE,WAAW,MAAQvkE,KAAKukE,WAAW,MAAQvkE,KAAKukE,WAAW,KAAM,CACzE,IAAIvD,OAAM,EAMV,GALIhhE,KAAKukE,WAAW,KAChBvD,EAAS,cACFhhE,KAAKukE,WAAW,OACvBvD,EAAS,aAEThhE,KAAKmlE,aAAa,MAAQnlE,KAAKmlE,aAAa,KAAM,CAClD,IAAMngD,EAAMhlB,KAAK+lE,UACjB,GAAI/gD,EAAK,CACL,IAAMkxC,EAAOl2D,KAAKknE,eAClBhR,EAAK8K,GAAU9K,EAAK8K,IAAW,GAC/B9K,EAAK8K,GAAU9K,EAAK8K,GAAQ37D,OAAO2f,GACnChc,GAAS,QAEV,GAAIhJ,KAAKmlE,aAAa,KAAM,CAG/B,IAAMjP,EAAOl2D,KAAKknE,eAClBhR,EAAK2D,YAAc3D,EAAK2D,aAAe,GACvC3D,EAAK2D,YAAYhuD,KAAK,IAAIytD,GAASpD,EAAK3F,UAAW,OAAQ,MAC3DvnD,GAAS,GAGjB,OAAOA,I,oCAmBP,GAAIhJ,KAAK4kE,aAAa,UAAW,CAC7B,IAAMd,EAAW9jE,KAAKknE,eAKtB,OAJApD,EAAS/P,OAAS,SAGlB+P,EAASqD,gBAAiB,GACnB,EAEX,GAAInnE,KAAK4kE,aAAa,YAAa,CAC/B,IAAMd,EAAW9jE,KAAKknE,eAKtB,OAJApD,EAAS/P,OAAS,WAGlB+P,EAASqD,gBAAiB,GACnB,EAEX,OAAO,I,sCAEK5W,GAGZ,GAFAA,EAAcA,GAA2B,SAAdA,EAAyCA,EAAjBvwD,KAAKuwD,UACxDvwD,KAAK0kE,kBACA1kE,KAAKmlE,aAAa,KAAM,OAAO,KACpC,IAAMiC,EAAiBpnE,KAAKuwD,UAC5BvwD,KAAKuwD,UAAYA,EACjB,IACIvnD,EADE29D,EAAgB3mE,KAAKsmE,eAE3B,OAAQtmE,KAAKgI,QAAUhI,KAAKmlE,aAAa,KACrC,GAAkB,WAAd5U,EACAvnD,EAAShJ,KAAKilE,kBACX,GAAkB,WAAd1U,EACPvnD,EAAShJ,KAAKqlE,kBACX,GAAkB,UAAd9U,EACPvnD,EAAShJ,KAAKulE,iBACX,GAAkB,SAAdhV,EACPvnD,EAAShJ,KAAKqnE,gBACX,GAAkB,YAAd9W,EACPvnD,EAAShJ,KAAKsnE,mBACX,GAAkB,UAAd/W,EACPvnD,EAAShJ,KAAKunE,aAAe,eAC1B,GAAkB,SAAdhX,EAAsB,CAO7B,IAAMzrD,EAAO9E,KAAKilE,aAAa7oD,cAAcoK,OAAOla,MAAM,yCAP7B,uBAQ7B,YAAmBxH,EAAnB,+CAAyB,KAAdkkD,EAAc,QACf1kB,EAAQ0gC,GAAM1C,cAActZ,GAClC,GAAI1kB,EACAt7B,EAASA,GAAU,GACnBA,EAAOsrD,gBAAkBhwB,MACtB,CACH,IAAM9jC,EAAIwoD,EAAKr8C,MAAM,gCACrB,GAAInM,EACAwI,EAASA,GAAU,GACnBA,EAAOmjD,QAAUxB,GAAY5D,KAAKvmD,EAAE,GAAIA,EAAE,QACvC,CACH,IAAMA,EAAIwoD,EAAKr8C,MAAM,yBACjBnM,IACAwI,EAASA,GAAU,GACnBA,EAAOurD,OAAS/zD,EAAE,OAtBL,wFA4B7BolB,QAAQu8B,OAAqB,SAAdoO,EAAsB,2BAA6BA,EAAY,KAC9EvwD,KAAKyjE,SAAWzjE,KAAKyjE,SAASp+D,OAAOrF,KAAK0lE,mBAAkB,SAAAviB,GAAK,MAAmB,YAAfA,EAAMtkC,MAAsC,MAAhBskC,EAAM9hD,UAG/GrB,KAAKuwD,UAAY6W,EACjB,IAAM3D,EAAWzjE,KAAKsmE,aAAaK,GACnC,OAAO39D,GAAkBy6D,I,8BAarBlT,GAGJ,IAAIvnD,EAKJ,GAPAunD,EAAcA,GAA2B,SAAdA,EAAyCA,EAAjBvwD,KAAKuwD,UACxDvwD,KAAKwnE,eAMAxnE,KAAKokE,WAAW,KAAM,CACvB,GAAkB,UAAd7T,EACA,OAAOvwD,KAAKinE,aAAe,IACxB,GAAI,gBAAgB3kE,KAAKiuD,GAAY,CAExC,IAAM6W,EAAiBpnE,KAAKuwD,UAC5BvwD,KAAKuwD,UAAYA,EACjB,IAAM2F,EAAOl2D,KAAKynE,YAElB,OADAznE,KAAKuwD,UAAY6W,EACbr1D,MAAMmE,QAAQggD,GAAcA,EACzBA,EAAO,CAACA,GAAQ,MAK/B,GAAIl2D,KAAK+jE,SAAS,KAAM,CACpB,IAAM2D,EAAa1nE,KAAKiB,MAExB,OADAjB,KAAK2nE,eAAe,KACK,MAArBD,EAAWrmE,MACJrB,KAAKiyD,cAEZjyD,KAAK6E,UAC+Bd,IAAhC/D,KAAK6E,KAAK6iE,EAAWrmE,aACF0C,IAAnB/D,KAAK6E,KAAK,KACH7E,KAAKiyD,cAETjyD,KAAK6E,KAAK6iE,EAAWrmE,QAAU,KAEnC,KAEX,IAAM+lE,EAAiBpnE,KAAKuwD,UAC5BvwD,KAAKuwD,UAAYA,EACjB,IAAM8V,EAAgBrmE,KAAKsmE,aAAa,IACxC,GAAkB,WAAd/V,EACAvnD,EAAShJ,KAAKilE,aACdjlE,KAAK2nE,eAAe,UACjB,GAAkB,WAAdpX,EACPvnD,EAAShJ,KAAKqlE,aACdrlE,KAAK2nE,eAAe,UACjB,GAAkB,UAAdpX,EACPvnD,EAAShJ,KAAKulE,YACdvlE,KAAK2nE,eAAe,UACjB,GAAkB,SAAdpX,EACPvnD,EAAShJ,KAAKqnE,WACdrnE,KAAK2nE,eAAe,UACjB,GAAkB,YAAdpX,EACPvnD,EAAShJ,KAAKsnE,cACdtnE,KAAK2nE,eAAe,UACjB,GAAkB,UAAdpX,EACPvnD,EAAShJ,KAAKunE,aAAe,UAC7BvnE,KAAK2nE,eAAe,UACjB,GAAkB,UAAdpX,EACPvnD,EAAShJ,KAAKinE,aAAe,IAC7BjnE,KAAK2nE,eAAe,SACjB,CACH/hD,QAAQu8B,OAAO,gBAAgB7/C,KAAKiuD,GAAY,2BAA6BA,EAAY,KACzF,GACIvwD,KAAKyjE,SAAWzjE,KAAKyjE,SAASp+D,OAAOrF,KAAK0lE,4BACpC1lE,KAAKokE,WAAW,OAASpkE,KAAKgI,OAE5ChI,KAAKuwD,UAAY6W,EACjB,IAAM3D,EAAWzjE,KAAKsmE,aAAaD,GACnC,OAAOr9D,GAAkBy6D,I,kCAQzB,IAAMtgB,EAAQnjD,KAAKiB,MACnB,IAAKkiD,EAAO,OAAO,KACnB,IAAIn6C,EAAS,KACb,GAAmB,UAAfm6C,EAAMtkC,KACiB,SAAnB7e,KAAKuwD,YACLvnD,EAAS,IAAIswD,GAAS,OAAQ,GAAI,IAAKt5D,KAAK05B,aAE7C,GAAmB,gBAAfypB,EAAMtkC,KAEb7V,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,cAAepN,EAAM9hD,OAC3D2H,EAAO6rD,kBAAmB,OACvB,GAAmB,YAAf1R,EAAMtkC,MAEb,GAAoB,gBAAhBskC,EAAM9hD,MACN2H,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,cAAevwD,KAAK+lE,QAAQ,UAAW/lE,KAAK05B,OAClF1wB,EAAO6rD,kBAAmB,OAEvB,GAAoB,SAAhB1R,EAAM9hD,MAAkB,CAG/B,IAAIyvD,EAAYluD,KAAK2U,MAAMvX,KAAKqlE,YAAW,MACtCl4C,SAAS2jC,IAAcA,EAAY,GAAKA,EAAY,WACrDA,EAAY,OAEhB9nD,EAAS,IAAIswD,GAASt5D,KAAKuwD,UACJ,SAAnBvwD,KAAKuwD,UAAuB,OAAS,GACrChuD,OAAO27C,cAAc4S,IACzB9nD,EAAOg5D,MAAQ,YACV,SAAWlR,EAAUprD,SAAS,KAAK29D,cAAcuE,QAAQ,GAAK,SAEhE,GAAoB,UAAhBzkB,EAAM9hD,OAAqC,SAAhB8hD,EAAM9hD,MAAkB,CAG1D,IAAMypD,EAAQ9qD,KAAKqnE,WACfl6C,SAAS29B,KACT9hD,EAAS,IAAIswD,GAASt5D,KAAKuwD,UAAW,UAAW,KAAMvwD,KAAK05B,OAC5D1wB,EAAO8hD,MAAQA,GAEnB9hD,EAAQg5D,MAAQ,KAAO7e,EAAM9hD,WAI7B,GADA2H,EAAShJ,KAAK6nE,UAAU1kB,EAAM9hD,QACzB2H,EAAQ,CACT,IAAM84B,EAAO80B,GAAYjF,QAAQ,KAAOxO,EAAM9hD,MAAOrB,KAAKuwD,UAAWvwD,KAAKwoD,QACpE3jD,EAAO,GACTijE,EAAY,GAYZC,EAAgB,GACpB,GAAIjmC,GAAQA,EAAK4D,OAAQ,4BACrB,YAAoB5D,EAAK4D,OAAzB,+CAAiC,KAAtBugC,EAAsB,QAE7B,GAAIA,EAAMlU,SAAU,CAEhB,IAAM/sC,EAAMhlB,KAAKkmE,gBAAgBD,EAAMpnD,MAEvCha,EAAKgH,KAAKmZ,QACP,GAAIihD,EAAMpnD,KAAKke,SAAS,KAC3BgrC,EAAgB9B,EAAMpnD,KAAKra,MAAM,GAAI,OAClC,CAIH,IAAMwgB,EAAMhlB,KAAK+lE,QAAQE,EAAMpnD,MAK/B,GAJImG,GAAsB,IAAfA,EAAIlhB,QACK,gBAAhBkhB,EAAI,GAAGnG,MAA0BonD,EAAMhU,cACvCjtC,EAAI,GAAG3jB,MAAQ4kE,EAAMhU,aAErBjtC,EACAngB,EAAKgH,KAAKmZ,QACP,GAAIihD,EAAMhU,YAAa,CAC1B,IAAMA,EAAc,IAAIqH,GAASt5D,KAAKuwD,UAAW,cAAe0V,EAAMhU,aACtEA,EAAY4C,kBAAmB,EAE/BhwD,EAAKgH,KAAK,CAAComD,SAEXptD,EAAKgH,KAAK7L,KAAKiyD,eAEA,SAAfgU,EAAMpnD,MAAkC,kBAARmG,IAChC8iD,GAAa9iD,KA9BJ,mFAmCzB,GAAI8c,IAASA,EAAKgwB,MAAO,CAQrB,GAAIhwB,EAAKwxB,MAAO,CACZ,IAAMhvC,EAAawd,EAAKwxB,MAAM,KAAOnQ,EAAM9hD,MAAOwD,GAClD,GAAKyf,EAAWzF,KAwBZ7V,EAAS,IAAIswD,GAASt5D,KAAKuwD,UACvBzuB,EAAKjjB,KACLkpD,EAAgB/nE,KAAK+lE,QAAQgC,GAAiB,KAFzC,MAGD/nE,KAAK05B,MAHJ,GAGcpV,QA3BL,CAGlB,IAAM6hD,EAAYnmE,KAAKuwD,UAQvB,GAPIjsC,EAAW/iB,OAEXvB,KAAKuwD,UAAYjsC,EAAW/iB,YACrB+iB,EAAW/iB,MAIlBwmE,EAAe,CAEf,IAAMC,EAAYhoE,KAAK05B,MACvB15B,KAAK05B,MAAL,MAAiB15B,KAAK05B,MAAtB,GAAgCpV,GAChCtb,EAAShJ,KAAK+lE,QAAQgC,GACtB/nE,KAAK05B,MAAQsuC,OAGbhoE,KAAK05B,MAAL,MAAiB15B,KAAK05B,MAAtB,GAAgCpV,GAEpCtkB,KAAKuwD,UAAY4V,OAQlB,CACH,IAAMzsC,EAAQ,MAAI15B,KAAK05B,OACnBoI,EAAKmuB,iBAAgBv2B,EAAMu2B,eAAiBnuB,EAAKmuB,gBACrDjnD,EAAS,IAAIswD,GAASt5D,KAAKuwD,UACvBzuB,EAAKjjB,MAAQ,MACbijB,EAAKzgC,OAAS8hD,EAAM9hD,MACpBq4B,GAEAoI,EAAKmyB,eACLjrD,EAAOirD,cAAe,GAG9B,GAAIjrD,IAAW,4BAA4B1G,KAAK6gD,EAAM9hD,SAClD2H,EAAOg5D,MAAQ,KAAO7e,EAAM9hD,MACxBymE,IACA9+D,EAAOg5D,OAAS,IAAM8F,EAAY,KAElC9+D,EAAOmjC,YAAcnsC,KAAKioE,YAAY,CAGtC,IAAMA,EAAajoE,KAAKkoE,iBACpBD,IACAj/D,EAAS,CAACA,EAAQi/D,KAM7BnmC,IAED94B,EAAS,IAAIswD,GAASt5D,KAAKuwD,UACvB,QAAS,KAAOpN,EAAM9hD,OAC1B2H,EAAOg5D,MAAQ,KAAO7e,EAAM9hD,aAKrC,GAAmB,YAAf8hD,EAAMtkC,KAAoB,CACjC,IAAMijB,EAAO80B,GAAYjF,QAAQxO,EAAM9hD,MAAOrB,KAAKuwD,UAAWvwD,KAAKwoD,QACnE,GAAI1mB,EAAM,CACN,IAAMpI,EAAQ,MAAI15B,KAAK05B,OACnBoI,EAAKmuB,iBAAgBv2B,EAAMu2B,eAAiBnuB,EAAKmuB,gBACrDjnD,EAAS,IAAIswD,GAASt5D,KAAKuwD,UACvBzuB,EAAKjjB,KACLijB,EAAKzgC,OAAS8hD,EAAM9hD,MACpBq4B,GACAoI,EAAKqK,aACLnjC,EAAOmjC,YAAa,QAGxBnjC,EAAS,IAAIswD,GAASt5D,KAAKuwD,UACJ,SAAnBvwD,KAAKuwD,UAAuB,OAAS,GACrCpN,EAAM9hD,MAAOrB,KAAK05B,OAI1B,GAFA1wB,EAAOg5D,MAAQpL,GAAYtG,eAAetwD,KAAKuwD,UAC3CpN,EAAM9hD,MAAMu8C,YAAY,IACxB9b,GAAQA,EAAKqK,YAAcnsC,KAAKioE,WAAY,CAG5C,IAAMA,EAAajoE,KAAKkoE,iBACpBD,IACAj/D,EAAS,CAACA,EAAQi/D,UAGvB,GAAmB,MAAf9kB,EAAMtkC,MAEb,GAAoB,MAAhBskC,EAAM9hD,MAEN2H,EAAShJ,KAAKiyD,mBACX,GAAIjyD,KAAK6E,KAEZ,GADAmE,EAAShJ,KAAK6E,KAAKs+C,EAAM9hD,QAAU,KAC/B0Q,MAAMmE,QAAQlN,IAA6B,IAAlBA,EAAOlF,OAChCkF,EAASA,EAAO,QACb,GAAI+I,MAAMmE,QAAQlN,GAAS,CAC9B,IAAMm/D,EAAQ,IAAI7O,GAASt5D,KAAKuwD,UAAW,SAC3C4X,EAAM3hC,KAAOx9B,EACbA,EAASm/D,OAGTn/D,EAAShJ,KAAKiyD,mBAItBrsC,QAAQwiD,KAAK,0BAA4BjlB,EAAMtkC,KAC3C,cAAgBskC,EAAM9hD,MAAQ,KAEtC,OAAO2H,I,gCAMDq/D,GACN,IAAKroE,KAAKwoD,SAAWxoD,KAAKwoD,OAAO6f,GAAQ,OAAO,KAChD,IACIzW,EADE/sD,EAAO,GAETgtD,EAAW,EACmB,kBAAvB7xD,KAAKwoD,OAAO6f,IACnBzW,EAAM5xD,KAAKwoD,OAAO6f,GAEd,cAAc/lE,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,GACpC,cAAcvvD,KAAKsvD,KAAMC,EAAW,KAExCD,EAAM5xD,KAAKwoD,OAAO6f,GAAOzW,IACzBC,EAAY7xD,KAAKwoD,OAAO6f,GAAOxjE,MAAQ,GAE3C,IAAK,IAAIzE,EAAI,EAAGA,GAAKyxD,EAAUzxD,IAC3ByE,EAAKzE,GAAKJ,KAAK+lE,UAGf/lE,KAAK6E,MAAkC,kBAAnB7E,KAAK6E,KAAK,OAC9BA,EAAK,KAAO7E,KAAK6E,KAAK,MAK1B,IAAMqxD,EAAO,IAAIoD,GAASt5D,KAAKuwD,UAAW,QAAS0T,GAAY7hB,EAAMS,SAAS+O,GAAM5xD,KAAKuwD,UAAW1rD,EAAM7E,KAAKwoD,SAC/G0N,EAAKrB,kBAAmB,EACxBqB,EAAK8L,MAAQ,KAAOqG,EAEpB,IADA,IAAIP,EAAY,GACP1nE,EAAI,EAAGA,GAAKyxD,EAAUzxD,IAAK,CAEhC,GADA0nE,GAAa,IACT/1D,MAAMmE,QAAQrR,EAAKzE,IACnB,IAAK,IAAIuqB,EAAI,EAAGA,EAAI9lB,EAAKzE,GAAG0D,OAAQ6mB,IAChCm9C,GAAajjE,EAAKzE,GAAGuqB,GAAGq3C,MAGhC8F,GAAa,IAGjB,OADA5R,EAAK8L,OAAS8F,GAAwB,GAC/B5R,I,kCASP,IAAIltD,EAAShJ,KAAKsoE,mBACdtoE,KAAKuoE,iBACLvoE,KAAKwoE,eACLxoE,KAAKyoE,aACLzoE,KAAK0oE,gBACT,QAAK1/D,IAAWhJ,KAAK2oE,gBAAiB3oE,KAAK4oE,iBACtC5/D,IAAQA,EAAShJ,KAAKynE,aAIvB11D,MAAMmE,QAAQlN,GACdhJ,KAAKyjE,SAAWzjE,KAAKyjE,SAASp+D,OAAO2D,GAC9BA,GACPhJ,KAAKyjE,SAAS53D,KAAK7C,GAEL,OAAXA,O,KAuBf,SAASi7D,GAAYT,EAAQjT,EAAW1rD,EAAM2jD,EAAQyf,GAClD,IAAIY,EAAW,GACTvX,EAAS,IAAIiS,GAAOC,EAAQ3+D,EAAM2jD,GACxC8I,EAAOf,UAAYA,GAAa,OAC5B0X,IAAY3W,EAAO2W,YAAa,GAEpC,OAAO3W,EAAOtpD,MACV6gE,EAAWA,EAASxjE,OAAOisD,EAAOoU,qBAEtC,OAAOmD,EAII,QACXtF,OAAQA,GACRU,YAAaA,IClzCjB,SAAS6E,GAAa9sD,EAAM+sD,GACxB,IAAI//D,EAAS,GADmB,uBAEhC,YAAsBgT,EAAtB,+CAA4B,KAAjBG,EAAiB,QACxBnT,GAAUmT,EAAQ69C,SAAW,IAAM79C,EAAQhL,OAAS,KAHxB,kFAQhC,OAHI43D,IACA//D,GAAU,IAAM+/D,GAEb//D,EAWX,SAASggE,GAAev8D,GAEpB,IAAMzD,EAAS,CAACgT,KAAM,GAAI+sD,OAAQ,GAG5BE,EAAax8D,EAAOH,MAAM,KAC5B28D,EAAWnlE,OAAS,IACpBkF,EAAO+/D,OAAStzD,SAASwzD,EAAW,KAIxC,IAAMC,EAAWD,EAAW,GAAG38D,MAAM,KAXT,uBAY5B,YAAsB48D,EAAtB,+CAAgC,KAArB/sD,EAAqB,QACtBgtD,EAAKhtD,EAAQxP,MAAM,gBACrBw8D,GACAngE,EAAOgT,KAAKnQ,KAAK,CACbmuD,SAAUmP,EAAG,GACbh4D,OAAQsE,SAAS0zD,EAAG,OAjBJ,kFAsB5B,OAAOngE,EAYX,SAASogE,GAAmBlnE,EAAG4L,GAC3B,IAAM9E,EAAS,GACTmR,EAAWvX,KAAKkJ,IAAI5J,EAAE4B,OAAS,EAAGgK,EAAEhK,OAAS,GAC/C1D,EAAI,EACR,MAAQA,GAAK+Z,GACLjY,EAAE9B,GAAG45D,WAAalsD,EAAE1N,GAAG45D,UACvB93D,EAAE9B,GAAG+Q,SAAWrD,EAAE1N,GAAG+Q,OACzBnI,EAAO6C,KAAK3J,EAAE9B,IACdA,GAAK,EAET,OAAO4I,EAaX,SAASqgE,GAAannE,EAAG4L,GACpB,IAAI9E,EAAS,EACT5I,GAAK,EACLuN,GAAO,EACX,OAAQA,EACLvN,GAAK,EACLuN,EAAOvN,GAAK8B,EAAE4B,QAAU1D,GAAK0N,EAAEhK,OAC/B6J,EAAOA,KACDzL,EAAE9B,GAAG45D,WAAalsD,EAAE1N,GAAG45D,UACzB93D,EAAE9B,GAAG+Q,SAAWrD,EAAE1N,GAAG+Q,QAa5B,OATGnI,EAFA5I,IAAM8B,EAAE4B,QAAU1D,IAAM0N,EAAEhK,OAEjB,EACF1D,EAAI,IAAM8B,EAAE4B,QAAU1D,EAAI,IAAM0N,EAAEhK,QACzC5B,EAAE9B,GAAG45D,WAAalsD,EAAE1N,GAAG45D,SAEd,EAEA,EAGLhxD,EAKZ,SAAS+/C,GAAM/sC,GACX,OAAOgtD,GAAeF,GAAa9sD,IAAOA,KAG/B,QACXgtD,kBACAF,gBACAO,gBACAD,sBACArgB,UChFEugB,GAAqB,CACvB,KAA4B,qBAC5B,MAA4B,iBAC5B,GAA4B,SAC5B,KAA4B,WAE5B,aAA4B,uBAC5B,cAA4B,mBAC5B,WAA4B,WAC5B,aAA4B,aAE5B,UAA4B,qBAC5B,UAA4B,qBAE5B,IAA4B,iBAC5B,gBAA4B,iBAE5B,WAA4B,qBAC5B,YAA4B,iBAE5B,iBAA4B,uBAC5B,kBAA4B,mBAE5B,YAA4B,mBAC5B,aAA4B,iBAE5B,kBAA4B,qBAC5B,mBAA4B,mBAE5B,gBAA4B,kBAC5B,sBAA4B,mBAE5B,KAA4B,uBAC5B,gBAA4B,uBAC5B,aAA4B,yBAC5B,sBAA4B,yBAE5B,IAA4B,qBAC5B,iBAA4B,qBAC5B,YAA4B,uBAC5B,uBAA4B,uBAE5B,OAA4B,mBAC5B,SAA4B,iBAE5B,WAA4B,wBAC5B,UAA4B,wBAC5B,iBAA4B,4BAC5B,gBAA4B,4BAE5B,WAA4B,wBAC5B,UAA4B,wBAC5B,iBAA4B,4BAC5B,gBAA4B,4BAE5B,WAA4B,CAAC,cAAe,WAC5C,iBAA4B,CAAC,cAAe,WAC5C,qBAA4B,CAAC,cAAe,WAE5C,iBAA4B,CAAC,cAAe,CAAC/nE,KAAM,SACnD,iBAA4B,CAAC,cAAe,CAACA,KAAM,SAEnD,cAA4B,CAAC,WAAY,CAACgoE,SAAS,IACnD,cAA4B,CAAC,WAAY,CAACC,kBAAkB,IAC5D,iBAA4B,WAC5B,gBAA4B,WAC5B,oBAA4B,CAAC,WAAY,CAACD,SAAS,IAEnD,eAA4B,iBAC5B,kBAA4B,iBAC5B,aAA4B,qBAE5B,iBAAuB,YACvB,gBAAuB,YAGvB,IAA4B,MAC5B,KAA4B,OAC5B,MAA4B,QAC5B,MAA4B,SAE5B,iBAA4B,OAC5B,gBAA4B,OAC5B,KAA4B,OAC5B,iBAA4B,OAC5B,sBAA4B,OAC5B,uBAA4B,OAC5B,sBAA4B,OAC5B,KAA4B,OAE5B,SAA4B,mBAI5B,gBAA4B,qBAC5B,gBAA4B,iBAC5B,gBAA4B,SAC5B,gBAA4B,WAC5B,gBAA4B,uBAC5B,gBAA4B,qBAE5B,sBAA4B,uBAC5B,sBAA4B,mBAC5B,sBAA4B,WAC5B,sBAA4B,aAC5B,sBAA4B,yBAC5B,sBAA4B,uBAC5B,oBAA4B,qBAC5B,oBAA4B,iBAC5B,0BAA4B,uBAC5B,0BAA4B,mBAE5B,gBAA4B,qBAC5B,gBAA4B,iBAC5B,gBAA4B,iBAC5B,gBAA4B,YAE5B,mBAA4B,CAAC,cAAe,OAAQ,GAAI,KACxD,mBAA4B,CAAC,cAAe,OAAQ,IAAK,IAGzD,mBAA6B,CAAC,SAAU,cACxC,mBAA6B,iBAC7B,mBAA6B,oBAC7B,kBAA6B,kBAC7B,uBAA6B,CAAC,SAAU,qCACxC,6BAA+B,CAAC,SAAU,qCAC1C,cAA6B,cAC7B,aAA6B,cAC7B,kBAA6B,iBAO7B,gBAA6B,CAAC,SAAU,WACxC,gBAA6B,CAAC,SAAU,QACxC,gBAA6B,CAAC,SAAU,cACxC,gBAA6B,CAAC,SAAU,qBACxC,gBAA6B,CAAC,SAAU,mBACxC,gBAA6B,CAAC,SAAU,SACxC,gBAA6B,CAAC,SAAU,SACxC,gBAA6B,CAAC,SAAU,cACxC,gBAA6B,CAAC,SAAU,mBACxC,sBAA6B,CAAC,SAAU,gBACxC,sBAA6B,CAAC,SAAU,aACxC,sBAA6B,CAAC,SAAU,sBACxC,sBAA6B,CAAC,SAAU,YACxC,sBAA6B,CAAC,SAAU,YACxC,sBAA6B,CAAC,SAAU,YACxC,sBAA6B,CAAC,SAAU,YACxC,kBAA6B,CAAC,SAAU,WACxC,kBAA6B,CAAC,SAAU,WACxC,wBAA6B,CAAC,SAAU,SACxC,kBAA6B,CAAC,SAAU,KACxC,kBAA6B,CAAC,SAAU,KACxC,2BAA6B,CAAC,SAAU,KACxC,qBAA6B,CAAC,SAAU,eACxC,aAA6B,CAAC,SAAU,kBACxC,iBAA6B,CAAC,SAAU,kBACxC,oBAA6B,CAAC,SAAU,kBACxC,wBAA6B,CAAC,SAAU,kBACxC,uBAA6B,CAAC,SAAU,OACxC,uBAA6B,CAAC,SAAU,OAGxC,iBAA4B,yBAC5B,YAA4B,wBAa5B,mBAA8B,CAAC,QAAS,SAAU,CAACE,kBAAkB,IACrE,mBAA8B,CAAC,QAAS,SAAU,CAACA,kBAAkB,IACrE,qBAA8B,CAAC,QAAS,MAAO,CAACA,kBAAkB,IAClE,qBAA8B,CAAC,QAAS,MAAO,CAACA,kBAAkB,IAClE,qBAA8B,CAAC,QAAS,OAAQ,CAACA,kBAAkB,IACnE,qBAA8B,CAAC,QAAS,OAAQ,CAACA,kBAAkB,IACnE,sBAA8B,CAAC,QAAS,QAAS,CAACA,kBAAkB,IACpE,sBAA8B,CAAC,QAAS,QAAS,CAACA,kBAAkB,IACpE,uBAA8B,CAAC,QAAS,YAAa,CAACA,kBAAkB,IACxE,uBAA8B,CAAC,QAAS,YAAa,CAACA,kBAAkB,IAExE,yBAA8B,CAAC,QAAS,SAAU,CAACA,kBAAkB,IACrE,yBAA8B,CAAC,QAAS,SAAU,CAACA,kBAAkB,IACrE,2BAA8B,CAAC,QAAS,MAAO,CAACA,kBAAkB,IAClE,2BAA8B,CAAC,QAAS,MAAO,CAACA,kBAAkB,IAClE,2BAA8B,CAAC,QAAS,OAAQ,CAACA,kBAAkB,IACnE,2BAA8B,CAAC,QAAS,OAAQ,CAACA,kBAAkB,IACnE,4BAA8B,CAAC,QAAS,QAAS,CAACA,kBAAkB,IACpE,4BAA8B,CAAC,QAAS,QAAS,CAACA,kBAAkB,IACpE,6BAA8B,CAAC,QAAS,YAAa,CAACA,kBAAkB,IACxE,6BAA8B,CAAC,QAAS,YAAa,CAACA,kBAAkB,KAiBtEC,GAA6B,CAC/B,UAA4B,WAC5B,SAA4B,CAAC,WAAY,eACzC,OAA4B,WAC5B,SAA4B,iBAC5B,QAA4B,WAC5B,QAA4B,WAC5B,QAA4B,WAC5B,QAA4B,WAC5B,WAA4B,iBAC5B,WAA4B,iBAC5B,WAA4B,iBAC5B,WAA4B,iBAC5B,UAA4B,aAC5B,UAA4B,aAC5B,QAA4B,mBAC5B,kBAA4B,WAC5B,YAA4B,iBAC5B,SAA4B,QAC5B,aAA4B,WAC5B,eAA4B,iBAC5B,MAA4B,KAW1BC,GAAmB,CAGrB,KAAwB,CAAEpoE,KAAM,OAAQF,MAAO,oBAG/C,MAAwB,UACxB,MAAwB,UACxB,MAAwB,UACxB,GAAwB,CAAEE,KAAM,OAAQF,MAAO,QAC/C,MAAwB,CAAEE,KAAM,OAAQF,MAAO,SAC/C,GAAwB,CAAEE,KAAM,OAAQF,MAAO,QAC/C,MAAwB,UACxB,MAAwB,UAGxB,GAAwB,CAAEuhD,MAAO,2FACLvhD,MAAO,gBACnC,GAAwB,CAAEuhD,MAAO,2FACLvhD,MAAO,gBACnC,GAAwB,CACIE,KAAM,OACNqhD,MAAO,2FACPvhD,MAAO,kBAGnC,MAAwB,CAAEE,KAAM,OAAQF,MAAO,WAC/C,KAAwB,CAAEE,KAAM,OAAQF,MAAO,WAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,aAE/C,IAAwB,UAGxB,GAAwB,CACIE,KAAM,OACNqhD,MAAO,6EACPvhD,MAAO,WAInC,IAAwB,CAAEE,KAAM,OAAQF,MAAO,SAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,mBAC/C,KAAwB,CAAEE,KAAM,OAAQF,MAAO,oBAC/C,KAAwB,CAAEE,KAAM,OAAQF,MAAO,UAE/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,mBAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,mBAG/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,SAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,SAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,SAC/C,KAAwB,CAAEE,KAAM,OAAQF,MAAO,UAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,SAC/C,GAAwB,CAAEE,KAAM,OAAQF,MAAO,QAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,SAC/C,IAAwB,CAAEE,KAAM,OAAQF,MAAO,cAI/C,GAAwB,oBACxB,GAAwB,oBACxB,GAAwB,oBAGxB,GAAwB,CAAEE,KAAM,OAAQF,MAAO,YAC/C,GAAwB,CAAEE,KAAM,OAAQF,MAAO,YAC/C,MAAwB,CAAEE,KAAM,OAAQF,MAAO,aAC/C,KAAwB,CAAEE,KAAM,OAAQF,MAAO,UAE/C,IAAyB,CACGE,KAAM,OACNqhD,MAAO,2CACPvhD,MAAO,UAEnC,GAAwB,CACIE,KAAM,OACNqhD,MAAO,4BACPvhD,MAAO,QAEnC,MAAwB,CAAEE,KAAM,OAAQF,MAAO,WAG/C,GAAwB,MACxB,GAAwB,MACxB,GAAwB,MACxB,GAAwB,MACxB,GAAwB,MACxB,GAAwB,MAIxB,KAAwB,OAGxB,KAAwB,OACxB,KAAwB,OACxB,KAAwB,OACxB,KAAwB,OACxB,KAAwB,OACxB,KAAwB,WAGxB,IAAwB,WACxB,KAAwB,YACxB,IAAwB,QACxB,IAAwB,QACxB,KAAwB,YACxB,KAAwB,UAGxB,KAAwB,WACxB,KAAwB,WAGxB,KAAwB,SACxB,IAAwB,QACxB,QAAwB,YACxB,WAAwB,eACxB,IAAwB,CACIE,KAAM,OACNqhD,MAAO,2FACPvhD,MAAO,SAEnC,OAAwB,CACIE,KAAM,OACNqhD,MAAO,2FACPvhD,MAAO,UAEnC,MAAwB,UACxB,MAAwB,UACxB,KAAwB,SACxB,MAAwB,UACxB,OAAwB,WACxB,OAAwB,WACxB,GAAwB,CACIE,KAAM,OACNqhD,MAAO,2FACPvhD,MAAO,QAEnC,MAAyB,CACGE,KAAM,OACNqhD,MAAO,2FACPvhD,MAAO,SAEnC,GAAwB,CACIE,KAAM,OACNqhD,MAAO,2FACPvhD,MAAM,QAElC,MAAyB,CACGE,KAAM,OACNqhD,MAAO,2FACPvhD,MAAM,SAElC,IAAwB,OACxB,IAAwB,CACIuhD,MAAO,2FACPvhD,MAAO,SAEnC,IAAwB,CACIuhD,MAAO,2FACPvhD,MAAM,SAElC,OAAwB,WACxB,IAAwB,CACIuhD,MAAO,2FACPvhD,MAAO,SAEnC,IAAwB,CACIuhD,MAAO,2FACPvhD,MAAM,SAElC,IAAwB,CACIuhD,MAAO,2FACPvhD,MAAO,SAEnC,MAAwB,UACxB,MAAwB,UACxB,IAAwB,CACIuhD,MAAO,2FACPvhD,MAAO,SAEnC,SAAwB,aACxB,QAAwB,YACxB,GAAwB,CACIuhD,MAAO,2FACPvhD,MAAM,QAClC,GAAwB,CACIuhD,MAAO,2FACPvhD,MAAM,QAClC,KAAwB,SACxB,MAAwB,UACxB,MAAwB,UACxB,IAAwB,UAGxB,OAAwB,WACxB,OAAwB,CACIE,KAAM,OACNF,MAAM,YAElC,UAAwB,CACIE,KAAM,OACNF,MAAO,aAEnC,KAAwB,CACIE,KAAM,OACNF,MAAM,eAKlC,OAAwB,gCACxB,OAAwB,gCACxB,OAAwB,gCACxB,OAAwB,gCACxB,IAAwB,QACxB,IAAwB,CACIE,KAAM,OACNF,MAAM,SAClC,IAAwB,CACIE,KAAM,OACNF,MAAM,SAClC,IAAwB,CACIE,KAAM,OACNF,MAAM,SAClC,IAAwB,sBACxB,KAAwB,uBACxB,OAAwB,CACIE,KAAM,OACNF,MAAM,0BAClC,KAAwB,CACIE,KAAM,OACNF,MAAO,wBAEnC,OAAwB,CACIE,KAAM,OACNF,MAAO,0BACnC,IAAwB,CACIE,KAAM,OACNF,MAAM,uBAClC,IAAwB,CACIE,KAAM,OACNF,MAAM,uBAClC,IAAwB,CACIE,KAAM,OACNF,MAAM,uBAClC,WAAwB,6BACxB,cAAwB,gCACxB,GAAwB,CACIE,KAAM,OACNF,MAAM,sBAClC,GAAwB,CACIE,KAAM,OACNF,MAAM,sBAGlC,GAAwB,CAAIE,KAAM,OACNqhD,MAAO,gBACPvhD,MAAQ,sBAEpC,GAAwB,CAAIE,KAAM,OACNqhD,MAAO,gBACPvhD,MAAQ,sBAEpC,GAAwB,CAAIE,KAAM,OACNqhD,MAAO,gBACPvhD,MAAQ,sBAEpC,GAAwB,CAAIE,KAAM,OACNqhD,MAAO,gBACPvhD,MAAQ,sBAMpC,MAAwB,UACxB,OAAwB,WACxB,OAAwB,WACxB,QAAwB,cAExB,KAAwB,OACxB,MAAwB,WACxB,SAAwB,mBAExB,MAAwB,kBACxB,KAAwB,eACxB,MAAwB,mBAExB,MAAwB,mBACxB,MAAwB,mBAExB,MAAwB,SACxB,MAAwB,UACxB,MAAwB,WACxB,MAAwB,WACxB,MAAwB,WAGxB,KAAwB,SACxB,IAAwB,MACxB,IAAwB,MAExB,IAAwB,UA6F5B,SAASuoE,GAAiBznE,EAAG0nE,GAGzB,IAFA,IAAM7gE,EAAS,GADkB,WAGxB5I,GACL,IAAM0pE,EAAK3nE,EAAE4nE,UAAU3pE,GACjB4pE,EAAuBH,GAAUA,EAAOI,+BACzCD,GACDlpE,OAAOwiB,KAAKqmD,IAAkBzgE,SAAQ,SAAAvH,GAC9BA,EAAI+e,WAAWopD,KAAQ9gE,EAAOoM,SAASzT,IACvCqH,EAAO6C,KAAKlK,MAKxB,IAAMuoE,EAAwBL,GAAUA,EAAOM,gBAC3CN,EAAOM,gBAAkB,KACzBD,GACAppE,OAAOwiB,KAAK4mD,GAAuBhhE,SAAQ,SAAAvH,GACnCA,EAAI+e,WAAWopD,IACf9gE,EAAO6C,KAAKlK,OAhBnBvB,EAAI,EAAGA,GAAK+B,EAAE2B,OAAS,EAAG1D,IAAK,EAA/BA,GAqBT,OAAO4I,EAWX,SAASohE,GAAiB7oE,EAAM8oE,EAAUC,GACtC,IAAKA,EAAU,OAAOA,EAEtB,GAAwB,kBAAbA,EAAuB,OAAOA,EAEzC,GAA6B,kBAAlBA,EAAS/oE,MAAqB+oE,EAAS/oE,OAASA,EAAM,OAAO,KAGxE,IAAK8oE,EAAU,OAAOC,EAAWA,EAASjpE,WAAQ0C,EAElD,IAAIwmE,GAAU,EACVC,GAAS,EACT32B,GAAQ,EACR1H,GAAa,EACbwwB,GAAO,EACP8N,GAAO,EACPC,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EACRr4D,GAAQ,EACRs4D,GAAY,EACZC,GAAa,EACbnU,GAAO,EACPxrB,GAAQ,EACR4/B,EAAUV,EAASA,EAASvmE,OAAS,GACrCyJ,EAAQ88D,EAASvmE,OAAS,EAC9B,MAAOinE,GAAW,sBAAsBzoE,KAAKyoE,EAAQlsD,MACjDtR,GAAS,EACTw9D,EAAUV,EAAS98D,GAmBvB,OAjBAg9D,GAAWQ,GAA4B,UAAjBA,EAAQlsD,KAC1BksD,IACApU,EAAwB,SAAjBoU,EAAQxpE,KACfipE,GAAU7T,GAAyB,SAAjBoU,EAAQlsD,MAAmB+3C,GAAYN,OAAOh0D,KAAKyoE,EAAQvkC,MAC7EqN,GAAS8iB,GAAyB,SAAjBoU,EAAQlsD,MAAmB,UAAUvc,KAAKyoE,EAAQvkC,MACnE2F,GAAcwqB,GAAQoU,EAAQ5+B,WAC9BwwB,EAAwB,YAAjBoO,EAAQlsD,KACf4rD,EAAwB,SAAjBM,EAAQlsD,KACf6rD,EAAyB,SAAjBK,EAAQlsD,KAChB8rD,EAAyB,SAAjBI,EAAQlsD,KAChB+rD,EAAyB,WAAjBG,EAAQlsD,MAAsC,WAAjBksD,EAAQlsD,KAC7CtM,EAAQw4D,EAAQx4D,MAChBs4D,EAA6B,UAAjBE,EAAQlsD,KACpBisD,EAA8B,WAAjBC,EAAQlsD,MAAsC,cAAjBksD,EAAQlsD,KAClDssB,EAAyB,UAAjB4/B,EAAQlsD,MAGU,qBAAnByrD,EAAS1nB,MAEP,UAAUtgD,KAAKgoE,EAAS1nB,QAAU2nB,GAClC,SAASjoE,KAAKgoE,EAAS1nB,QAAU4nB,GACjC,QAAQloE,KAAKgoE,EAAS1nB,QAAU/O,GAChC,WAAWvxC,KAAKgoE,EAAS1nB,QAAUzW,GACnC,OAAO7pC,KAAKgoE,EAAS1nB,QAAU+Z,GAC/B,OAAOr6D,KAAKgoE,EAAS1nB,QAAU6nB,GAC/B,QAAQnoE,KAAKgoE,EAAS1nB,QAAU8nB,GAChC,QAAQpoE,KAAKgoE,EAAS1nB,QAAU+nB,GAChC,QAAQroE,KAAKgoE,EAAS1nB,QAAUgoB,GAChC,QAAQtoE,KAAKgoE,EAAS1nB,QAAUrwC,GAChC,YAAYjQ,KAAKgoE,EAAS1nB,QAAUioB,GACpC,aAAavoE,KAAKgoE,EAAS1nB,QAAUkoB,GACrC,OAAOxoE,KAAKgoE,EAAS1nB,QAAU+T,GAC/B,QAAQr0D,KAAKgoE,EAAS1nB,QAAUzX,EAC9Bm/B,EAASjpE,MAEb,KAGJipE,EAASjpE,MAgBpB,SAAS2pE,GAAUzpE,EAAM+9B,EAASn9B,EAAG0nE,GACjC,IAAI7gE,EAAS,GAEPghE,EAAuBH,GAAUA,EAAOI,+BACzCD,IACDhhE,EAASohE,GAAiB7oE,EAAM+9B,EAASqqC,GAAiBxnE,KAG9D,IAEI8oE,EAFEf,EAAwBL,GAAUA,EAAOM,gBAC3CN,EAAOM,gBAAkB,KAM7B,OAJID,IACAe,EAAeb,GAAiB7oE,EAAM+9B,EAAS4qC,EAAsB/nE,KAGlE8oE,GAAgBjiE,EAoB3B,SAASkiE,GAAShpE,GACd,IAAI8G,EAAS,QAiBb,OAhBIutD,WAAaA,UAAU2U,UAAY3U,UAAUlpC,YACzC,UAAU/qB,KAAKi0D,UAAU2U,UACzBliE,EAAS,MACF,UAAU1G,KAAKi0D,UAAU2U,UAChCliE,EAAS,MACF,aAAa1G,KAAKi0D,UAAUlpC,WACnCrkB,EAAS,UACF,YAAY1G,KAAKi0D,UAAUlpC,YAC1B,UAAU/qB,KAAKi0D,UAAUlpC,YACzB,UAAU/qB,KAAKi0D,UAAUlpC,WACjCrkB,EAAS,MACF,YAAY1G,KAAKi0D,UAAUlpC,aAClCrkB,EAAS,aAIVA,IAAW9G,EAAIA,EAAI,IAAMA,EAYpC,SAASipE,GAAqB5pE,EAAM6pE,GAChC,cAAgB,CACZF,GAAS,OAAS,IAAM3pE,EAAO,IAAM6pE,EACrCF,GAAS,OAAS,IAAM3pE,EAAO,IAAM6pE,EACrCF,GAAS,OAAS,IAAM3pE,EAAO,IAAM6pE,EACrCF,GAAS,WAAa,IAAM3pE,EAAO,IAAM6pE,EACzCF,GAAS,YAAc,IAAM3pE,EAAO,IAAM6pE,EAC1CF,GAAS,SAAW,IAAM3pE,EAAO,IAAM6pE,EAEvCF,GAAS,OAAS,IAAME,EACxBF,GAAS,OAAS,IAAME,EACxBF,GAAS,OAAS,IAAME,EACxBF,GAAS,WAAa,IAAME,EAC5BF,GAAS,YAAc,IAAME,EAE7B7pE,EAAO,IAAM6pE,EAEbA,GAhBJ,eAiBG,CAjBE,IAAM3qE,EAAC,KAkBR,GAAI6oE,GAAmB7oE,GACnB,OAAO6oE,GAAmB7oE,GAIlC,MAAO,GAGX,SAAS4qE,GAAgB5oB,GACrB,IAAIz5C,EAASy5C,EAMb,OAJI1wC,MAAMmE,QAAQlN,IAAWA,EAAOlF,OAAS,IACzCkF,EAASA,EAAO,GAAK,IAAMA,EAAOxE,MAAM,GAAGQ,KAAK,IAAM,KAGnDgE,EAGX,SAASsiE,GAAW7oB,GAChB,IAAIz5C,EAAS,GAEb,GAAuB,kBAAZy5C,EAAsB,CAC7B,IAAM8oB,EAAY7B,GAA2BjnB,GACzC1wC,MAAMmE,QAAQq1D,GACdviE,EAASuiE,EAAU/mE,QACZ+mE,GACPviE,EAAO6C,KAAK0/D,GAMpB9oB,EAAU4oB,GAAgB5oB,GAE1B,IAAM+oB,EAAQ,IAAIv/D,OAAO,IACrBw2C,EAAQnkC,QAAQ,KAAK,QACjBA,QAAQ,IAAK,OACbA,QAAQ,IAAK,OACbA,QAAQ,IAAK,OACbA,QAAQ,IAAK,OACf,kBASN,OARAxd,OAAOwiB,KAAKgmD,IAAoBpgE,SAAQ,SAAAohE,GAChC,GAAIkB,EAAMlpE,KAAK+oE,GAAgB/B,GAAmBgB,KAAa,CAC3D,IAAM9pE,EAAI8pE,EAAS39D,MAAM,aACrBnM,GAAGwI,EAAO6C,KAAKrL,EAAE,QAK1B0qC,GAAUliC,GAUrB,SAASkiC,GAAUugC,EAAWzmE,GAC1B,IAAIgE,EAAS,GACR+I,MAAMmE,QAAQu1D,KAAYA,EAAY,CAACA,IAFZ,2BAGhC,YAAuBA,EAAvB,+CAAkC,KAAvBnB,EAAuB,QAC1BoB,OAAgB,EACdC,EAAYrB,EAAS39D,MAAM,aAC3Bi/D,EAAOD,EAAYA,EAAU,GAAK,GAExC,GAAIC,IAASV,GAAS,QAClBU,IAASV,GAAS,QAClBU,IAASV,GAAS,QAClBU,IAASV,GAAS,YAClBU,IAASV,GAAS,aAClBU,IAASV,GAAS,SAAU,CAE5B,IAAM1qE,EAAI8pE,EAAS39D,MAAM,aACzB++D,EAAmBlrE,EAAIA,EAAE,GAAK8pE,OAC3B,IAAK,CAAC,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,UACtD,WAAY,WAAY,YAAa,QAAS,UAAUl1D,SAASw2D,GAAO,CACxE,IAAMprE,EAAI8pE,EAAS39D,MAAM,aACzB++D,EAAmBlrE,EAAIA,EAAE,GAAK8pE,EAElC,GAAIoB,EAAkB,CAElB,IAAMG,EAAgC,QAApBX,GAAS,QACa,QAApBA,GAAS,OACvBY,EAAYJ,EAAiB5nE,OAAS,EACxC4nE,EAAiBp/D,MAAM,KAAO,CAACo/D,GAC/BK,EAAiB,GANH,uBAOlB,YAAuBD,EAAvB,+CAAkC,KAAvBE,EAAuB,SACzBH,GAAaE,EAAejoE,OAAS,IACtCioE,GAAkB,4CAEQ,QAA1BC,EAASpE,OAAO,EAAG,GACnBmE,GAAkBC,EAASpE,OAAO,EAAG,GACJ,UAA1BoE,EAASpE,OAAO,EAAG,GAC1BmE,GAAkBC,EAASpE,OAAO,EAAG,GAErCmE,GAAkB,CACd,KAAgBF,EAAY,IAAW,UACvC,MAAgBA,EAAY,IAAW,QACvC,IAAgBA,EAAY,IAAW,MACvC,KAAgBA,EAAY,IAAW,UACvC,KAAgBA,EAAY,IAAW,SACvC,OAAgBA,EAAY,IAAW,SACvC,MAAgBA,EAAY,IAAW,QACvC,IAAgBA,EAAY,IAAW,MAEvC,IAAgB,MAEhB,UAAgBA,EAAY,IAAW,YACvC,IAAgBA,EAAY,IAAW,MACvC,OAAgBA,EAAY,IAAW,UACvC,SAAgBA,EAAY,IAAW,YACvC,KAAgBA,EAAY,IAAW,OACvC,IAAgBA,EAAY,IAAW,MACvC,SAAgB,QAChB,UAAgB,IAChB,OAAgB,IAChB,MAAgB,IAChB,MAAgB,IAChB,MAAgB,IAChB,MAAgB,IAChB,YAAgB,IAChB,aAAgB,IAChB,UAAgB,KAChB,cAAoB,KACpB,UAAgB,IAChB,MAAgB,IAChB,eAAkB,cAClB,aAAgB,cAChB,eAAkB,cAClB,UAAgB,cAChB,cAAoB,cACpB,YAAkB,cAClB,KAAgB,OAChB,KAAgB,IAChB,GAAgB,IAChB,MAAgB,IAChB,KAAgB,KAClBG,IAAaA,GA1DL,kFA8DdhjE,EAAOlF,OAAS,IAChBkF,GAAUhE,GAAQ,QAOtBgE,GAAU+iE,IA5Fc,kFAgGhC,OAAO/iE,EAGI,QACXsgE,sBACAK,oBACAz+B,aACA0+B,oBACAoB,aACAG,wBACAG,e,8wCCphCJ,SAASW,GAAgBpD,GACrB,OACwB,IAApBA,EAAS/kE,QACY,IAApB+kE,EAAS/kE,QAAqC,UAArB+kE,EAAS,GAAGhqD,KAmC9C,SAASqtD,GAAiBrC,EAAQ5mE,GAC9BjD,KAAKP,KAAO65D,GAAS2I,WACrBjiE,KAAKgc,KAAO,CAAC,CAAEg+C,SAAU,OAAQ7oD,OAAQ,IACzCnR,KAAK+oE,OAAS,EAEd/oE,KAAK6pE,OAASA,EAAS,MAAKA,GAAW,GACvC7pE,KAAKiD,OAASA,EAEdjD,KAAKmsE,6BAA8B,EAGvC,SAASpjB,GAAM8f,GACX,IAAM7/D,EAASlI,OAAO6V,OAClB,IAAIu1D,GAAiBrD,EAASgB,OAAQhB,EAAS5lE,QAC/C4lE,GAGJ,OADA7/D,EAAOgT,KAAOowD,GAASrjB,MAAM8f,EAAS7sD,MAC/BhT,EAkcX,SAASqjE,GAAW95D,EAAO+5D,GAGvB,IAFA,IAAItjE,EAAS,EAEJ5I,EAAI,EAAGA,EAAIksE,EAAO3Y,IAAKvzD,IAC5B,IAAK,IAAIuqB,EAAI,EAAGA,EAAIpY,EAAMnS,GAAG0D,OAAQ6mB,IACjC3hB,GAAU,EAKlB,OAFAA,GAAUsjE,EAAOlR,IAEVpyD,EAYX,SAASujE,GAAYh6D,EAAOhF,GACxB,GAAqB,kBAAVA,EAAoB,CAC3B,IAAM/M,EAAI+M,EAAMZ,MAAM,iBAClBnM,IAAG+M,EAAQkI,SAASjV,EAAE,KAE9B,IAAMwI,EAAS,CAAE2qD,IAAK,EAAGyH,IAAK,GAC9B,MAAO7tD,EAAQ,EACXvE,EAAOoyD,KAAO,IACT7oD,EAAMvJ,EAAO2qD,MAAQ3qD,EAAOoyD,KAAO7oD,EAAMvJ,EAAO2qD,KAAK7vD,UACtDkF,EAAOoyD,IAAM,EACbpyD,EAAO2qD,KAAO,GAElBpmD,GAAS,EAGb,OAAOvE,EAWX,SAASwjE,GAAUj6D,EAAOk6D,GAEtB,IAAIzjE,EAQJ,MATsB,WAAlB,GAAOyjE,KAAqBA,EAASF,GAAYh6D,EAAOk6D,IAExD16D,MAAMmE,QAAQ3D,EAAMk6D,EAAO9Y,QAC3B3qD,EAASuJ,EAAMk6D,EAAO9Y,KAAK8Y,EAAOrR,MAAQ,OAG1CpyD,GAA6B,IAAlBA,EAAOlF,QAAmC,UAAnBkF,EAAO,GAAG6V,MAC5C7V,EAAOwR,QAAQkyD,MAEZ1jE,EAQX,SAAS2jE,GAAep6D,GACpB,IAAIvJ,EAAS,EACT4jE,EAAU,EACVC,EAAU,EAHa,uBAI3B,YAAkBt6D,EAAlB,+CAAyB,KAAdohD,EAAc,QACrBiZ,GAAW,EACPjZ,EAAI7vD,OAAS+oE,IAASA,EAAUlZ,EAAI7vD,SANjB,kFAS3B,OADAkF,EAAS4jE,EAAUC,EACZ7jE,EAWX,SAAS8jE,GAAiBnZ,EAAKpnD,EAAWmtB,GACtC,IAAKi6B,EAAK,MAAO,GACZpnD,IAAWA,EAAY,KAC5B,IACIy2C,EADAh6C,EAAS,GAHgC,uBAK7C,YAAiB2qD,EAAjB,+CAAsB,KAAboG,EAAa,QACdA,GAAQA,EAAKj2D,OAAS,GAAsB,UAAjBi2D,EAAK,GAAGl7C,OAEnCk7C,EAAOA,EAAKv1D,MAAM,IAElBu1D,GAAQA,EAAKj2D,OAAS,IAClBk/C,EACAh6C,EAAO6C,KAAKm3C,GAEZA,EAAM,IAAIsW,GAASA,SAAS,OAAQ,SAAU/sD,EAAWmtB,GAE7D1wB,EAASA,EAAO3D,OAAO00D,KAhBc,kFAmB7C,OAAO/wD,EAWX,SAAS+jE,GAAcx6D,EAAOy6D,EAAYtzC,GACjCszC,IAAYA,EAAa,CAAC,IAAK,MACpC,IACIhqB,EADAh6C,EAAS,GAFgC,uBAI7C,YAAkBuJ,EAAlB,+CAAyB,KAAdohD,EAAc,QACjB3Q,EACAh6C,EAAO6C,KAAKm3C,GAEZA,EAAM,IAAIsW,GAASA,SAAS,OAAQ,SAAU0T,EAAW,GAAItzC,GAEjE1wB,EAASA,EAAO3D,OAAOynE,GAAiBnZ,EAAKqZ,EAAW,MAVf,kFAY7C,OAAOhkE,EAUX,SAASikE,GAAqB16D,EAAO6oD,GACjC,IAAIpyD,EAAS,EACPkkE,EAAS,CAAE9R,IAAKA,EAAKzH,IAAK,GAChC,MAAOuZ,EAAOvZ,IAAMphD,EAAMzO,OAAQ,CAC9B,IAAMi2D,EAAOyS,GAAUj6D,EAAO26D,GAC9B,GAAInT,GAAQA,EAAKj2D,OAAS,EAAG,CACzB,IAAIqpE,EAAUpT,EAAKj2D,OACE,UAAjBi2D,EAAK,GAAGl7C,OAAkBsuD,GAAW,GACrCA,EAAU,IACVnkE,GAAU,GAGlBkkE,EAAOvZ,KAAO,EAElB,OAAO3qD,EASX,SAASokE,GAAkB76D,EAAO6oD,GAC9B,IAAIzH,EAAM,EACV,MAAOA,EAAMphD,EAAMzO,OACXyO,EAAMohD,GAAKyH,IACX7oD,EAAMohD,GAAK3tB,OAAOo1B,EAAK,GAE3BzH,GAAO,EAUf,SAAS0Z,GAAe96D,EAAOohD,GAC3BphD,EAAMyzB,OAAO2tB,EAAK,GAStB,SAAS2Z,GAAoB/6D,GACzB,IAAM26D,EAAS,CAAE9R,IAAK,EAAGzH,IAAK,GAC9B,MAAOuZ,EAAOvZ,IAAMphD,EAAMzO,SAAW0oE,GAAUj6D,EAAO26D,GAClDA,EAAOvZ,KAAO,EAElB,OAAO6Y,GAAUj6D,EAAO26D,GAAU,OAASb,GAAW95D,EAAO26D,GAAU,GAY3E,SAASK,GAAeh7D,EAAO26D,EAAQM,GACnC,IAAMxkE,EAAS,MAAKkkE,GAEpB,GADAlkE,EAAO2qD,KAAO6Z,EACVxkE,EAAO2qD,IAAM,EAAG,CAGhB,GAFA3qD,EAAOoyD,KAAOoS,EACdxkE,EAAO2qD,IAAMphD,EAAMzO,OAAS,EACxBkF,EAAOoyD,IAAM,EAAG,OAAO,KAC3B,MAAOpyD,EAAO2qD,KAAO,IAAM6Y,GAAUj6D,EAAOvJ,GACxCA,EAAO2qD,KAAO,EAElB,GAAI3qD,EAAO2qD,IAAM,EAAG,OAAO,UACxB,GAAI3qD,EAAO2qD,KAAOphD,EAAMzO,OAAQ,CACnCkF,EAAOoyD,KAAOoS,EACdxkE,EAAO2qD,IAAM,EACb,MAAO3qD,EAAO2qD,IAAMphD,EAAMzO,SAAW0oE,GAAUj6D,EAAOvJ,GAClDA,EAAO2qD,KAAO,EAElB,GAAI3qD,EAAO2qD,IAAMphD,EAAMzO,OAAS,EAAG,OAAO,KAE9C,OAAOkF,EA4MX,SAASykE,GAASvX,GACd,QAAKA,IAEc,SAAdA,EAAKr3C,MAAmB,SAASvc,KAAK4zD,EAAK1vB,OAC7B,WAAd0vB,EAAKr3C,MAAmC,MAAdq3C,EAAK1vB,MAyFxC,SAASknC,GAAaxX,EAAMjzD,GACxB,IAAKizD,EAAM,OAAO,EAClB,GAAInkD,MAAMmE,QAAQggD,GAAO,4BACrB,YAAoBA,EAApB,+CAA0B,KAAf7K,EAAe,QACtB,GAAIqiB,GAAariB,EAAOpoD,GAAS,OAAO,GAFvB,uFAIlB,CACH,GAAIizD,IAASjzD,EAAQ,OAAO,EAE5B,GACI,CACI,OACA,QACA,QACA,QACA,YACA,cACA,cACA,cACF8iB,MAAK,SAAS1kB,GACZ,OAAOA,IAAU4B,GAAUyqE,GAAaxX,EAAK70D,GAAQ4B,MAGzD,OAAO,EACX,GAAIizD,EAAK3jD,MACL,IAAK,IAAInS,EAAIusE,GAAezW,EAAK3jD,OAAQnS,GAAK,EAAGA,IAC7C,GAAIstE,GAAalB,GAAUtW,EAAK3jD,MAAOnS,GAAI6C,GACvC,OAAO,EAKvB,OAAO,EA0KX,SAAS0qE,GAA4BzX,GACjC,GAAKA,EACL,GAAInkD,MAAMmE,QAAQggD,GACd,IAAK,IAAI91D,EAAI81D,EAAKpyD,OAAS,EAAG1D,GAAK,EAAGA,IACb,YAAjB81D,EAAK91D,GAAGye,KACRq3C,EAAKlwB,OAAO5lC,EAAG,GAGfutE,GAA4BzX,EAAK91D,SAe7C,GATAutE,GAA4BzX,EAAK1vB,MACjCmnC,GAA4BzX,EAAK2D,aACjC8T,GAA4BzX,EAAK4D,WACjC6T,GAA4BzX,EAAK/B,aACjCwZ,GAA4BzX,EAAKhC,YACjCyZ,GAA4BzX,EAAKf,OACjCwY,GAA4BzX,EAAKd,OACjCuY,GAA4BzX,EAAK3oD,OAE7B2oD,EAAK3jD,MACL,IAAK,IAAIoY,EAAIgiD,GAAezW,EAAK3jD,OAAQoY,GAAK,EAAGA,IAC7CgjD,GAA4BnB,GAAUtW,EAAK3jD,MAAOoY,IAkzB9D,SAASijD,GAAY9oE,GACjB,GAAKA,EAUL,OAPoB,IAAhBA,EAAKhB,QACY,cAAjBgB,EAAK,GAAG+Z,MACc,MAAtB/Z,EAAK,GAAGwwD,YAERxwD,EAAOA,EAAK,GAAG0hC,MAGZ1hC,EA0EX,SAAS+oE,GAA0B3X,EAAMx8B,GAChCw8B,GAASx8B,IACV3nB,MAAMmE,QAAQggD,GAEdA,EAAKhtD,SAAQ,SAAA9F,GAAC,OAAIyqE,GAA0BzqE,EAAGs2B,MACxB,WAAhB,GAAOw8B,KAETA,EAAK5xB,OACL4xB,EAAKzM,iBACLyM,EAAKvM,YACLuM,EAAKtM,WACLsM,EAAKpM,YACLoM,EAAKxL,WAENwL,EAAKqD,WAAW7/B,GAChBm0C,GAA0B3X,EAAK1vB,KAAM9M,GACrCm0C,GAA0B3X,EAAKf,MAAOz7B,GACtCm0C,GAA0B3X,EAAKd,MAAO17B,GACtCm0C,GAA0B3X,EAAK3oD,MAAOmsB,GACtCm0C,GAA0B3X,EAAKhC,WAAYx6B,GAC3Cm0C,GAA0B3X,EAAK/B,YAAaz6B,GAC5Cm0C,GAA0B3X,EAAK4D,UAAWpgC,GAC1Cm0C,GAA0B3X,EAAK2D,YAAangC,MA60CjD,SAASo0C,GAAgB3rE,EAAG0nE,GAC/B,OAAK1nE,EAGDA,EAAE2B,QAAU,EAAU3B,GAGrB0nE,GAA4B,cAAlBA,EAAOkE,SAClB5rE,EAAIA,EAAEmc,QAAQ,iBAAkB,SAG9BurD,GAA4B,cAAlBA,EAAOkE,SAA2B,KAAKzrE,KAAKH,IAU5DA,EAAIA,EAAEmc,QAAQ,UAAY,IAC1Bnc,EAAIA,EAAEmc,QAAQ,UAAY,KAC1Bnc,EAAIA,EAAEmc,QAAQ,UAAY,KAE1Bnc,EAAIA,EAAEmc,QAAQ,eAAgB,aAC9Bnc,EAAIA,EAAEmc,QAAQ,eAAgB,cAC9Bnc,EAAIA,EAAEmc,QAAQ,UAAW,KAElB0vD,GAAoB7rE,EAAG0nE,IAXnB1nE,GAjBI,GA+BnB,SAAS6rE,GAAoB7rE,EAAG0nE,GAC5B,IAAK1nE,EAAG,MAAO,GACf,IACI3B,EADAmN,GAAO,EAqFX,GAlFKA,GAAkB,MAATxL,EAAE,IAAuB,MAATA,EAAE,KAE5B3B,EAAIytE,GAAkB9rE,EAAEylE,OAAO,GAAV,MAAmBiC,EAAnB,CAA2BqE,QAAQ,KACxD/rE,EAAIA,EAAE,GAAK,IAAM3B,EAAEmM,MAAQ,IAC3BxK,GAAK6rE,GAAoBxtE,EAAE2tE,KAAMtE,GACjCl8D,GAAO,GAGNA,IACDnN,EAAI2B,EAAEwK,MAAM,sBACRnM,IAEAA,EAAIytE,GAAkBztE,EAAE,GAAH,MAAYqpE,EAAZ,CAAoBqE,QAAQ,KACjD/rE,EAAI,UAAY3B,EAAEmM,MAAQ,IAC1BxK,GAAK6rE,GAAoBxtE,EAAE2tE,KAAMtE,GACjCl8D,GAAO,IAIVA,IACDnN,EAAI2B,EAAEwK,MAAM,wBACRnM,IAEAA,EAAIytE,GAAkBztE,EAAE,GAAH,MAAYqpE,EAAZ,CAAoBqE,QAAQ,KACjD/rE,EAAI,aAAe3B,EAAEmM,MAAQ,IAC7BxK,GAAK6rE,GAAoBxtE,EAAE2tE,KAAMtE,GACjCl8D,GAAO,IAIVA,IACDnN,EAAI2B,EAAEwK,MAAM,YACRnM,IAEAA,EAAIytE,GAAkBztE,EAAE,GAAH,MAAYqpE,EAAZ,CAAoBqE,QAAQ,KACjD/rE,EAAI,UAAY3B,EAAEmM,MAAQ,WAC1BxK,GAAK6rE,GAAoBxtE,EAAE2tE,KAAMtE,GACjCl8D,GAAO,IAIVA,IACDnN,EAAI2B,EAAEwK,MAAM,wBACRnM,IAEA2B,EAAI,UAAY3B,EAAE,GAAK,IACvB2B,GAAK6rE,GAAoBxtE,EAAE,GAAIqpE,GAC/Bl8D,GAAO,IAIVA,IACDnN,EAAI2B,EAAEwK,MAAM,+BAGRnM,IACA2B,EAAIisE,GAAe5tE,EAAE,GAAIqpE,GACzB1nE,GAAK6rE,GAAoBxtE,EAAE,GAAIqpE,GAC/Bl8D,GAAO,KAIVA,GAAQ,oBAAoBrL,KAAKH,KAElC3B,EAAIytE,GAAkB9rE,EAAE4nE,UAAU,GAAIF,GACtC1nE,EAAIA,EAAE,GACNA,GAAK3B,EAAEmM,MACPxK,GAAK6rE,GAAoBxtE,EAAE2tE,KAAMtE,GACjCl8D,GAAO,GAGNA,IACDnN,EAAI2B,EAAEwK,MAAM,oBACRnM,IAGA2B,EAAIisE,GAAe5tE,EAAE,GAAIqpE,GACzB1nE,GAAK6rE,GAAoBxtE,EAAE,GAAIqpE,GAC/Bl8D,GAAO,KAIVA,EAED,GADAnN,EAAIytE,GAAkB9rE,EAAD,MAAS0nE,EAAT,CAAiBqE,QAAQ,KAC1C1tE,EAAEmM,OAAuB,MAAdnM,EAAE2tE,KAAK,GAAY,CAE9B,IAAMhF,EAAK8E,GAAkBztE,EAAE2tE,KAAKvG,OAAO,GAAf,MACrBiC,EADqB,CAExBqE,QAAQ,KAER/E,EAAGx8D,QACHxK,EACI,UACA3B,EAAEmM,MACF,KACAw8D,EAAGx8D,MACH,IACAqhE,GAAoB7E,EAAGgF,KAAMtE,IAErCl8D,GAAO,OACAnN,EAAEmM,OAAS,eAAerK,KAAKH,EAAE,KAGxCA,EACI,SACAA,EAAE,GACF3B,EAAEmM,MACF,UACA,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,KAAMxK,EAAE,IACnC6rE,GAAoBxtE,EAAE2tE,KAAMtE,GAChCl8D,GAAO,GACAnN,EAAEmM,QACTxK,EAAI3B,EAAEmM,MACNxK,GAAK6rE,GAAoBxtE,EAAE2tE,KAAMtE,GACjCl8D,GAAO,GAaf,OATKA,IACDnN,EAAI2B,EAAEwK,MAAM,eAERnM,IACA2B,EAAI,IAAM6rE,GAAoBxtE,EAAE,GAAIqpE,GACpCl8D,GAAO,IAIRxL,EAgBX,SAAS8rE,GAAkB9rE,EAAG0nE,GAC1B,IAAIl9D,EAAQ,GACZxK,EAAIA,EAAEqkB,OACN,IAAI2nD,EAAOhsE,EACLsvD,EAAStvD,EAAEwW,OAAO,GAClB+4C,EAAS,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,KAAMD,GAChD,GAAIC,EAAQ,CAER,IAAI2c,EAAQ,EACRjuE,EAAI,EACR,MAAOA,EAAI+B,EAAE2B,QAAUuqE,EAAQ,EACvBlsE,EAAE/B,KAAOqxD,GAAQ4c,IACjBlsE,EAAE/B,KAAOsxD,GAAQ2c,IACrBjuE,IAEU,IAAViuE,GAGI1hE,EADAk9D,EAAOqE,QAAqB,MAAXzc,GAA6B,MAAXC,EAC3Bsc,GAAoB7rE,EAAE4nE,UAAU,EAAG3pE,EAAI,GAAIypE,GAG/C,UACApY,EACAuc,GAAoB7rE,EAAE4nE,UAAU,EAAG3pE,EAAI,GAAIypE,GAC3C,WACAnY,EAERyc,EAAOhsE,EAAE4nE,UAAU3pE,KAGnBuM,EAAQxK,EAAE4nE,UAAU,EAAG3pE,GACvB+tE,EAAO,QAER,CACH,IAAI3tE,EAAI2B,EAAEwK,MAAM,gBAChB,GAAInM,EAAG,CAEH,IAAI8pE,EAAWgE,GAAUtD,UAAU,OAAQ,KAAM7oE,EAAG0nE,GACpD,GAAIS,EAGA,OAFAA,EAAWA,EAAShsD,QAAQ,QAAS,IACrCgsD,EAAWA,EAAShsD,QAAQ,QAAS,IAC9B,CAAE3R,MAAO29D,EAAU6D,KAAMhsE,EAAE4nE,UAAUO,EAASxmE,SAK7D,GADAtD,EAAI2B,EAAEwK,MAAM,eACRnM,EAEA,MAAO,CAAEmM,MAAOnM,EAAE,GAAI2tE,KAAMhsE,EAAE4nE,UAAU,IAI5C,GADAvpE,EAAI2B,EAAEwK,MAAM,oBACRnM,EAEA,MAAO,CAAEmM,MAAOnM,EAAE,GAAI2tE,KAAMhsE,EAAE4nE,UAAUvpE,EAAE,GAAGsD,SAG5C,kBAAkBxB,KAAKH,KAExB3B,EAAI2B,EAAEwK,MAAM,kBACRnM,IACA2tE,EAAOhsE,EAAE4nE,UAAUvpE,EAAE,GAAGsD,QACxB6I,EAAQnM,EAAE,KAKtB,MAAO,CAAEmM,MAAOA,EAAOwhE,KAAMA,GAGjC,SAASC,GAAejsE,EAAG0nE,GACvB,IAAI7gE,EAASslE,GAAUtD,UAAU,OAAQ,KAAM7oE,EAAG0nE,GAQlD,OAPI7gE,GACAA,EAASA,EAAOsV,QAAQ,QAAS,IACjCtV,EAASA,EAAOsV,QAAQ,QAAS,IACjCtV,GAAU,KAEVA,EAAS7G,EAEN6G,EAGX,SAAS0jE,KACL,OAAO,IAAIpT,GAASA,SAAS,GAAI,SA3pHrC4S,GAAiBlqE,UAAUusE,UAAY,SAAS9rB,EAASomB,EAAU7S,GACzB,oBAA3Bh2D,KAAK6pE,OAAO2E,YACnBxuE,KAAK6pE,OAAO2E,WAAWxuE,KAAKiD,OAAQw/C,EAASomB,EAAU7S,IAiB/DkW,GAAiBlqE,UAAUwmB,OAAS,SAASoxC,EAAI4T,GAC7CA,EAAMA,EAAM,GAAK,EAAI,EAErB,IAAMxkE,EAAS,GAETm6B,EAAO,IAAI+oC,GACjB/oC,EAAKnnB,KAAOowD,GAASrjB,MAAM/oD,KAAKgc,MAChCmnB,EAAK4lC,OAAS/oE,KAAK+oE,OACnB5lC,EAAK1jC,KAAOO,KAAKP,KAEb+tE,GAAO,EACPrqC,EAAKsrC,mBAELtrC,EAAKurC,mBACLvrC,EAAKwrC,KAAK,IAEd,IAAMC,EAAgBzrC,EAAK/xB,SAC3B,GACQwoD,EAAGh4D,KAAKuhC,EAARy2B,CAAcz2B,EAAKnnB,KAAMmnB,EAAK/xB,WAC9BpI,EAAO6C,KAAKs3B,EAAKz9B,YAEjB8nE,GAAO,EACPrqC,EAAKrxB,KAAK,CAAE+8D,YAAY,IAExB1rC,EAAKrQ,SAAS,CAAE+7C,YAAY,UAE3BD,IAAkBzrC,EAAK/xB,UAEhC,OAAOpI,GASXkjE,GAAiBlqE,UAAUkH,QAAU,SAAS0wD,GAC1C55D,KAAKP,KAAKyJ,QAAQ0wD,IAUtBsS,GAAiBlqE,UAAU8sE,gBAAkB,SAASlV,EAAIrlD,GACtDA,EAAUA,GAAW,GACrBA,EAAQw6D,UACyB,qBAAtBx6D,EAAQw6D,WAA4Bx6D,EAAQw6D,UACvD,IAAM1E,EAAWrqE,KAAKqqE,WAChB2E,EAAchvE,KAAKivE,cAAgB,EACnCC,EAAalvE,KAAKmvE,YAAc,EACtC,GAAI56D,EAAQw6D,UACR,IAAK,IAAI3uE,EAAI4uE,EAAa5uE,EAAI8uE,EAAY9uE,IAClCiqE,EAASjqE,IAA2B,UAArBiqE,EAASjqE,GAAGye,MAC3BwrD,EAASjqE,GAAG8I,QAAQ0wD,QAI5B,IAAK,IAAIx5D,EAAI4uE,EAAa5uE,EAAI8uE,EAAY9uE,IAClCiqE,EAASjqE,IAA2B,UAArBiqE,EAASjqE,GAAGye,MAC3B+6C,EAAGyQ,EAASjqE,KAe5B8rE,GAAiBlqE,UAAU0D,SAAW,WAClC,OAAO0mE,GAAStD,aAAa9oE,KAAKgc,KAAMhc,KAAK+oE,SAQjDmD,GAAiBlqE,UAAUotE,kBAAoB,WAG3C,IAAM/E,EAAWrqE,KAAKqqE,WACtB,GAAIA,GAAYA,EAASvmE,QAAU,EAAG,CAClC,IAAImuD,EACE+H,EAAWh6D,KAAKg6D,WAatB,GAZiB,UAAbA,EACA/H,EAAc,YACM,UAAb+H,EACP/H,EAAc,cACgB,SAAvBjyD,KAAKmvC,SAAStwB,MAAgC,SAAbm7C,EAExC/H,EAAc,WACgB,cAAvBjyD,KAAKmvC,SAAStwB,MAAqC,SAAbm7C,EAC7C/H,EAAc,OACM,gBAAb+H,GAA2C,eAAbA,IACrC/H,EAAc,cAEdA,EAAa,CAEb,IAAMod,EAAkB,CACpB,IAAI/V,GAASA,SACT,OACA,cACA,IACAt5D,KAAKsvE,gBAGbv9D,MAAM/P,UAAUgkC,OAAO1gC,MACnB+kE,EACA,CAAC,EAAG,GAAGhlE,OAAOgqE,OAM9BnD,GAAiBlqE,UAAUutE,oBAAsB,WAEI,oBAAtCvvE,KAAK6pE,OAAO2F,uBAClBxvE,KAAKmsE,6BAENnsE,KAAK6pE,OAAO2F,sBAAsBxvE,KAAKiD,SAI/CipE,GAAiBlqE,UAAUytE,mBAAqB,WAEI,oBAArCzvE,KAAK6pE,OAAO6F,sBAClB1vE,KAAKmsE,6BAENnsE,KAAK6pE,OAAO6F,qBAAqB1vE,KAAKiD,SAI9CipE,GAAiBlqE,UAAU2tE,kBAAoB,WAEI,oBAApC3vE,KAAK6pE,OAAO+F,qBAClB5vE,KAAKmsE,6BAENnsE,KAAK6pE,OAAO+F,oBAAoB5vE,KAAKiD,SAI7CipE,GAAiBlqE,UAAU6tE,iBAAmB,WAEI,oBAAnC7vE,KAAK6pE,OAAOiG,oBAClB9vE,KAAKmsE,6BAENnsE,KAAK6pE,OAAOiG,mBAAmB9vE,KAAKiD,SAY5CipE,GAAiBlqE,UAAU+tE,QAAU,SAASjO,EAAWiH,GAErD,GAAyB,kBAAdjH,EACPA,EAAYsK,GAASpD,eAAelH,QACjC,GAAI/vD,MAAMmE,QAAQ4rD,GAAY,CAEjC,IAAMkO,EAAU5D,GAASrjB,MAAM+Y,GACzBmO,EAAUjwE,KAAKgc,KACrBhc,KAAKgc,KAAOg0D,EACG,IAAXjH,GAAuC,gBAAvB/oE,KAAKoR,SAASyN,OAE9BmxD,EAAQA,EAAQlsE,OAAS,GAAGqN,OAAS,EACrC43D,EAAS,GAEbjH,EAAY,CACR9lD,KAAMg0D,EACNjH,OAAQA,GAAU,GAEtB/oE,KAAKgc,KAAOi0D,EAGhB,IAAMC,EAAmE,IAArD9D,GAAS/C,aAAarpE,KAAKgc,KAAM8lD,EAAU9lD,MACzDm0D,EAAgBrO,EAAUiH,SAAW/oE,KAAK+oE,OA8BhD,OA5BImH,GAAeC,KACXD,GACAlwE,KAAKovE,oBAETpvE,KAAKuvE,sBAELvvE,KAAKgc,KAAOowD,GAASrjB,MAAM+Y,EAAU9lD,MAEjChc,KAAKqqE,WAAWvmE,OAAS9D,KAAKowE,gBAG9BxqD,QAAQwiD,KACJ,sBACIpoE,KAAK0F,WACL,QACA1F,KAAKP,KAAK4wE,UACV,KAGRrwE,KAAKgc,KAAO,CAAC,CAAEg+C,SAAU,OAAQ7oD,OAAQ,IACzCnR,KAAK+oE,OAAS,GAEd/oE,KAAKswE,UAAUxO,EAAUiH,QAG7B/oE,KAAKyvE,sBAGFS,GAAeC,GAG1BjE,GAAiBlqE,UAAUuuE,aAAe,SAASv0D,EAAMwxD,GACrDA,EAAMA,EAAM,GAAK,EAAI,EAErB,IAAMrqC,EAAO,IAAI+oC,GACjB/oC,EAAKnnB,KAAOowD,GAASrjB,MAAM/sC,GAC3BmnB,EAAK1jC,KAAOO,KAAKP,KAEjB,IAAIW,EAAI,EACR,MACI+iC,EAAK4nC,QAAQ3qE,IACY,SAAzB+iC,EAAK4nC,QAAQ3qE,GAAGmB,MAChBq1D,GAAYJ,kBAAkBl0D,KAAK6gC,EAAK4nC,QAAQ3qE,GAAGomC,MAEnDpmC,GAAKotE,EAIT,OAFKrqC,EAAK4nC,QAAQ3qE,KAAIA,GAAKotE,GAC3BrqC,EAAKnnB,KAAKmnB,EAAKnnB,KAAKlY,OAAS,GAAGqN,QAAU/Q,EACnC+iC,EAAKnnB,MAiChBkwD,GAAiBlqE,UAAUwuE,mBAAqB,SAASr/D,EAAQq8D,GAC7DA,EAAMA,EAAM,GAAK,EAAI,EAErB,IAIIxkE,EAJEqhE,EAAWrqE,KAAKqqE,WACtB,IAAKA,EAASl5D,GAAS,OAAOA,EAC9B,GAA8B,SAA1Bk5D,EAASl5D,GAAQ5P,KAAiB,OAAO4P,EAG7C,GAAIylD,GAAYJ,kBAAkBl0D,KAAK+nE,EAASl5D,GAAQq1B,MAAO,CAE3D,IACI75B,EADAvM,EAAI+Q,EAER,GACIxE,EACyB,SAArB09D,EAASjqE,GAAGmB,MACZq1D,GAAYJ,kBAAkBl0D,KAAK+nE,EAASjqE,GAAGomC,MACnDpmC,GAAKotE,QACAnD,EAASjqE,IAAMuM,GACxB3D,EAASqhE,EAASjqE,GAAKA,EAAI,EAAIotE,EAAMptE,EAAIotE,OACtC,GAAI,KAAKlrE,KAAK+nE,EAASl5D,GAAQq1B,MAAO,CAIzC,IAAIpmC,EAAI+Q,EACR,MACIk5D,EAASjqE,IACY,SAArBiqE,EAASjqE,GAAGmB,MACZ,KAAKe,KAAK+nE,EAASjqE,GAAGomC,MAEtBpmC,GAAKotE,EAET,GAAKnD,EAASjqE,GAGP,CACH,IAAIuM,GAAQ,EACZ,GACIA,EACyB,SAArB09D,EAASjqE,GAAGmB,OAAoB,KAAKe,KAAK+nE,EAASjqE,GAAGomC,MAC1DpmC,GAAKotE,QACAnD,EAASjqE,IAAMuM,GACxB3D,EAASqhE,EAASjqE,GAAKA,EAAI,EAAIotE,EAAMptE,EAAIotE,OARzCxkE,EAAS5I,EAAIotE,MAUd,CAEH,IAAIptE,EAAI+Q,EAER,MACIk5D,EAASjqE,IACY,SAArBiqE,EAASjqE,GAAGmB,OACX,KAAKe,KAAK+nE,EAASjqE,GAAGomC,MAEvBpmC,GAAKotE,EAETxkE,EAASqhE,EAASjqE,GAAKA,EAAIA,EAAIotE,EAC/B,IAAI7gE,GAAQ,EACZ,MAAO09D,EAASjqE,IAAMuM,EAClBA,EAA6B,SAArB09D,EAASjqE,GAAGmB,MAAmB,KAAKe,KAAK+nE,EAASjqE,GAAGomC,MACzD75B,IAAO3D,EAAS5I,GACpBA,GAAKotE,EAETxkE,EAASqhE,EAASjqE,GAAKA,EAAI,EAAIotE,EAAMptE,EAAIotE,EAG7C,OAAOxkE,GAAUwkE,EAAM,EAAI,EAAI,IAcnCtB,GAAiBlqE,UAAUyuE,SAAW,SAASjhE,EAAMD,EAAIgF,GACrDA,EAAUA,GAAW,GAErB,IAAMm8D,EAAWtE,GAAS/C,aAAa75D,EAAMD,GAC7C,GAAiB,IAAbmhE,EAGA,OAAIn8D,EAAQo8D,sBACRnhE,EAAOxP,KAAKuwE,aAAa/gE,GAAO,GAChCD,EAAKvP,KAAKuwE,aAAahhE,EAAI,GACpBvP,KAAKywE,SAASjhE,EAAMD,IAIxBvP,KAAK+vE,QAAQ3D,GAASrjB,MAAMv5C,GAAO,GAG9C,GAAiB,IAAbkhE,EAAgB,CAChB,IAAM3H,EAASx5D,EAAGA,EAAGzL,OAAS,GAAGqN,OAAS3B,EAAKA,EAAK1L,OAAS,GAAGqN,OAChE,OAAIoD,EAAQo8D,sBACRnhE,EAAOxP,KAAKuwE,aAAa/gE,EAAMu5D,EAAS,EAAI,GAAM,GAClDx5D,EAAKvP,KAAKuwE,aAAahhE,EAAIw5D,EAAS,GAAK,EAAI,GACtC/oE,KAAKywE,SAASjhE,EAAMD,IAGxBvP,KAAK+vE,QAAQ3D,GAASrjB,MAAMv5C,GAAOu5D,GAM9C,IAAI6H,EAAiBxE,GAAShD,mBAAmB55D,EAAMD,GACjDshE,EAAgBD,EAAe9sE,OACrC,GACI0L,EAAK1L,SAAW+sE,GAChBthE,EAAGzL,SAAW+sE,GACdrhE,EAAKqhE,GAAe7W,WAAazqD,EAAGshE,GAAe7W,SAEnD,OAAOh6D,KAAK+vE,QAAQa,GAAiB,GAGzCA,EAAe/kE,KAAK2D,EAAKqhE,IACzBD,EAAiBxE,GAASrjB,MAAM6nB,GAEhC,IAAI7H,EAASx5D,EAAGshE,GAAe1/D,OAAS3B,EAAKqhE,GAAe1/D,OAAS,EAsBrE,OApBI43D,GAAU,EACNx5D,EAAGzL,OAAS+sE,EAAgB,GAE5BD,EAAeC,GAAe7W,SAAWzqD,EAAGshE,GAAe7W,SAC3D4W,EAAeC,GAAe1/D,OAAS5B,EAAGshE,GAAe1/D,OACzDy/D,EAAeA,EAAe9sE,OAAS,GAAGqN,QAAU,EACpD43D,EAAmB,EAATA,IAGV6H,EAAeC,GAAe7W,SAAWzqD,EAAGshE,GAAe7W,SAC3D4W,EAAeC,GAAe1/D,OAAS5B,EAAGshE,GAAe1/D,OACzD43D,EAAmB,EAATA,GAEPx5D,EAAGzL,QAAU0L,EAAK1L,OAEzB8sE,EAAeA,EAAe9sE,OAAS,GAAGqN,QAAU,EAC7C5B,EAAGzL,OAAS0L,EAAK1L,SACxB8sE,EAAeC,GAAe1/D,QAAU,GAGrCnR,KAAK+vE,QAAQa,EAAgB7H,IAsPxCmD,GAAiBlqE,UAAU8uE,SAAW,SAASA,GAG3C,GAAIA,EAAW9wE,KAAKgc,KAAKlY,OAAQ,OAAO,KAMxC,IAHA,IAAIkF,EAAShJ,KAAKP,KAGTW,EAAI,EAAGA,EAAIJ,KAAKgc,KAAKlY,OAASgtE,EAAU1wE,IAAK,CAClD,IAAM+b,EAAUnc,KAAKgc,KAAK5b,GAC1B,GAAI4I,EAAOuJ,MACPvJ,EAASwjE,GAAUxjE,EAAOuJ,MAAO4J,EAAQ69C,UAAU79C,EAAQhL,YACxD,KAAKnI,EAAOmT,EAAQ69C,UAEvB,OAAO,KAKiC,IAApChxD,EAAOmT,EAAQ69C,UAAUl2D,QACY,UAArCkF,EAAOmT,EAAQ69C,UAAU,GAAGn7C,MAGa,WAArC,GAAO7V,EAAOmT,EAAQ69C,YACtBhxD,EAAOmT,EAAQ69C,UAAUx/C,QAAQkyD,MAGzC,IAAMv7D,EAASvO,KAAKkJ,IAChBqQ,EAAQhL,OACRnI,EAAOmT,EAAQ69C,UAAUl2D,OAAS,GAEtCkF,EAASA,EAAOmT,EAAQ69C,UAAU7oD,IAI1C,OAAOnI,GAWXkjE,GAAiBlqE,UAAUoP,OAAS,WAChC,GAAIpR,KAAKmvC,SAAS58B,MACd,OAAOi6D,GAAUxsE,KAAKmvC,SAAS58B,MAAOvS,KAAKg6D,YACvCh6D,KAAKowE,gBAGb,IAAM/F,EAAWrqE,KAAKqqE,WACtB,OAAOA,EAASznE,KAAKkJ,IAAIu+D,EAASvmE,OAAS,EAAG9D,KAAKowE,kBAGvDlE,GAAiBlqE,UAAUmtC,OAAS,WAChC,OAAOnvC,KAAK8wE,SAAS,IAGzB5E,GAAiBlqE,UAAUg4D,SAAW,WAClC,OAAOh6D,KAAKgc,KAAKlY,OAAS,EAAI9D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAAW,IAG7EkS,GAAiBlqE,UAAUouE,aAAe,WACtC,OAAOpwE,KAAKgc,KAAKlY,OAAS,EAAI9D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,OAAS,GAG3E+6D,GAAiBlqE,UAAU+uE,YAAc,WACrC,OAAO/wE,KAAKgc,KAAKlY,OAAS,EACpB9D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,OAASnR,KAAK+oE,OAC9C,GAkBVmD,GAAiBlqE,UAAUitE,YAAc,WACrC,OAAOrsE,KAAKkJ,IAAI9L,KAAK+wE,cAAe/wE,KAAKowE,iBAU7ClE,GAAiBlqE,UAAUmtE,UAAY,WACnC,OAAOvsE,KAAKsR,IAAIlU,KAAK+wE,cAAe/wE,KAAKowE,iBAW7ClE,GAAiBlqE,UAAUgvE,gBAAkB,WACzChxE,KAAKqqE,YAQT6B,GAAiBlqE,UAAUqoE,SAAW,WAClC,OAAyB,IAArBrqE,KAAKgc,KAAKlY,OAAqB,IAG/B9D,KAAKmvC,SAAS58B,MACd83D,EAAWmC,GAAUxsE,KAAKmvC,SAAS58B,MAAOvS,KAAKg6D,aAE/CqQ,EAAWrqE,KAAKmvC,SAASnvC,KAAKg6D,aAAe,GACrB,kBAAbqQ,IAAuBA,EAAW,KAIzB,IAApBA,EAASvmE,QAAqC,UAArBumE,EAAS,GAAGxrD,MACrCwrD,EAAS7vD,QAAQkyD,MAGdrC,GAbP,IAAIA,GAwBR6B,GAAiBlqE,UAAU+oE,QAAU,SAAS55D,GAC1C,OAAOnR,KAAKqqE,WAAWrqE,KAAKivE,cAAgB99D,IAQhD+6D,GAAiBlqE,UAAUivE,YAAc,WACrC,OAAuB,IAAhBjxE,KAAK+oE,QAQhBmD,GAAiBlqE,UAAUsuE,UAAY,SAASvH,GAC5C/oE,KAAK+oE,OAASA,GAGlBmD,GAAiBlqE,UAAUysE,gBAAkB,WACzC,OAAoB,IAAhBzuE,KAAK+oE,SAET/oE,KAAKkxE,aAAalxE,KAAKmvE,cAChB,IAGXjD,GAAiBlqE,UAAU0sE,iBAAmB,WAC1C,OAAoB,IAAhB1uE,KAAK+oE,SAET/oE,KAAKkxE,aAAalxE,KAAKivE,gBAChB,IAyBX/C,GAAiBlqE,UAAUmvE,aAAe,WACtC,IAAM9G,EAAWrqE,KAAKqqE,WACtB,GAA0B,SAAtBrqE,KAAKoxE,aAAyB,CAC9B,IAAIrpE,EAAQ/H,KAAKivE,cACbjnE,EAAMhI,KAAKmvE,YAEf,MACI9E,EAAStiE,IACgB,SAAzBsiE,EAAStiE,GAAOxG,MAChBq1D,GAAYJ,kBAAkBl0D,KAAK+nE,EAAStiE,GAAOy+B,MAEnDz+B,GAAS,EAEb,MACIsiE,EAASriE,IACc,SAAvBqiE,EAASriE,GAAKzG,MACdq1D,GAAYJ,kBAAkBl0D,KAAK+nE,EAASriE,GAAKw+B,MAEjDx+B,GAAO,EAGX,GADAA,GAAO,EACHD,GAASC,EAGT,YADAhI,KAAKkxE,aAAalxE,KAAKmvE,YAAc,EAAG,GAI5CnvE,KAAKkxE,aAAanpE,EAAOC,EAAMD,QAG/B,GAC6B,SAAzB/H,KAAK+qE,QAAQ,GAAGlsD,MAChB,UAAUvc,KAAKtC,KAAK+qE,QAAQ,GAAGvkC,MACjC,CAEE,IAAIz+B,EAAQ/H,KAAKivE,cACbjnE,EAAMhI,KAAKmvE,YAEf,MAAO1B,GAASpD,EAAStiE,IAASA,GAAS,EAC3C,MAAO0lE,GAASpD,EAASriE,IAAOA,GAAO,EACvCA,GAAO,EACPhI,KAAKkxE,aAAanpE,EAAOC,EAAMD,QAE/B/H,KAAKkxE,aAAa,EAAG,QAUjChF,GAAiBlqE,UAAUqvE,WAAa,WACpCrxE,KAAKgc,KAAO,CAAC,CAAEg+C,SAAU,OAAQ7oD,OAAQ,IACzCnR,KAAKkxE,aAAa,EAAG,QAQzBhF,GAAiBlqE,UAAUsvE,WAAa,WACpCtxE,KAAKqxE,aACLrxE,KAAKuxE,WAuDTrF,GAAiBlqE,UAAUwvE,SAAW,SAAStb,GAC3C,GAAIl2D,KAAKixE,cAAe,OAAO,EAI/B,IAHA,IAAM5G,EAAWrqE,KAAKqqE,WAChB2E,EAAchvE,KAAKivE,cACnBC,EAAalvE,KAAKmvE,YACf/uE,EAAI4uE,EAAa5uE,EAAI8uE,EAAY9uE,IACtC,GAAIstE,GAAarD,EAASjqE,GAAI81D,GAAO,OAAO,EAEhD,OAAO,GASXgW,GAAiBlqE,UAAUyvE,iBAAmB,WAC1C,GAAIzxE,KAAKixE,cAAe,OAAO,KAK/B,IAJA,IAAMjoE,EAAS,GACTqhE,EAAWrqE,KAAKqqE,WAChB2E,EAAchvE,KAAKivE,cAAgB,EACnCC,EAAalvE,KAAKmvE,YAAc,EAC7B/uE,EAAI4uE,EAAa5uE,EAAI8uE,EAAY9uE,IAClCiqE,EAASjqE,IAA2B,UAArBiqE,EAASjqE,GAAGye,MAC3B7V,EAAO6C,KAAKw+D,EAASjqE,IAG7B,OAAO4I,GAYXkjE,GAAiBlqE,UAAU0vE,eAAiB,WACxC,IAAMrH,EAAWrqE,KAAKqqE,WACtB,GAAIA,EAASvmE,QAAU,EAAG,OAAO,KAEjC,IAAIiE,EAAQnF,KAAKkJ,IAAI9L,KAAKmvE,YAAa9E,EAASvmE,OAAS,GAEzD,GAA6B,YAAzBumE,EAAStiE,GAAO8W,KAAoB,OAAO,KAC/C,MAAO9W,EAAQ,GAA8B,YAAzBsiE,EAAStiE,GAAO8W,KAAoB9W,GAAS,EAEjE,IAAIC,EAAMhI,KAAKivE,cAAgB,EAC/B,MAAOjnE,GAAOqiE,EAASvmE,OAAS,GAA4B,YAAvBumE,EAASriE,GAAK6W,KAC/C7W,GAAO,EACX,OAAIA,EAAMD,EACC,CAAEA,MAAOA,EAAQ,EAAGC,IAAKA,GAE7B,MAQXkkE,GAAiBlqE,UAAU2vE,yCAA2C,SAClEC,GAEA,IAAI5oE,EAAS,GAEPy5C,EAAUziD,KAAK0xE,iBACrB,GAAIjvB,EAKA,IAJA,IAAMz6C,EAAM4pE,EACN5xE,KAAKowE,eAAiB,EACtB3tB,EAAQz6C,IACRqiE,EAAWrqE,KAAKqqE,WACbjqE,EAAIqiD,EAAQ16C,MAAO3H,EAAI4H,EAAK5H,IAGjC4I,GAAUqhE,EAASjqE,GAAGomC,MAAQ,GAGtC,OAAOx9B,GAUXkjE,GAAiBlqE,UAAU6vE,0CAA4C,SACnExwE,GAEA,IAAMohD,EAAUziD,KAAK0xE,iBACrB,GAAIjvB,EAEA,IADA,IAAM4nB,EAAWrqE,KAAKqqE,WACbjqE,EAAIqiD,EAAQ16C,MAAO3H,EAAIqiD,EAAQz6C,IAAK5H,IACzCiqE,EAASjqE,GAAG4F,MAAQ3E,GAUhC6qE,GAAiBlqE,UAAU8vE,wCAA0C,WACjE,IAAMrvB,EAAUziD,KAAK0xE,iBACrB,GAAIjvB,EAGA,IAFA,IAAM4nB,EAAWrqE,KAAKqqE,WAChB+F,EAAepwE,KAAKowE,eAAiB,EAClChwE,EAAIqiD,EAAQ16C,MAAO3H,EAAIgwE,EAAchwE,IACtCiqE,EAASjqE,KACTiqE,EAASjqE,GAAGmgE,YAAa,IAMzC2L,GAAiBlqE,UAAU+vE,wCAA0C,SACjElJ,GAEA,IAAMpmB,EAAUziD,KAAK0xE,iBACrB,GAAIjvB,EAAS,CAIT,GAFAziD,KAAK2vE,oBAEA9G,EAGE,CACH92D,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAAC5nB,EAAQ16C,MAAO06C,EAAQz6C,IAAMy6C,EAAQ16C,OAAO1C,OAAOwjE,IAExD,IAAImJ,EAAkB,GALnB,uBAMH,YAAmBnJ,EAAnB,+CAA6B,KAAlB3S,EAAkB,QACzB8b,EAAkBA,EAAgB3sE,OAC9B6wD,EAAK1tC,QAAO,SAAA0tC,GAAI,MAAkB,gBAAdA,EAAKr3C,UAR9B,kFAWH7e,KAAKswE,UAAU,GAKftwE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,OAASsxC,EAAQ16C,MAAQ,EAE1B,IAA3BiqE,EAAgBluE,QAAiB9D,KAAKiyE,KAAK,GAAI,IAC/CjyE,KAAKkxE,aAAazuB,EAAQ16C,MAAQ8gE,EAAS/kE,OAAS,QArBxD9D,KAAKqqE,WAAWrkC,OAAOyc,EAAQ16C,MAAO06C,EAAQz6C,IAAMy6C,EAAQ16C,OAC5D/H,KAAKkxE,aAAazuB,EAAQ16C,MAAQ,EAAG,GAyBzC/H,KAAK6vE,qBAkCb3D,GAAiBlqE,UAAUkwE,oBAAsB,WAC7ClyE,KAAK2vE,oBACL,IAAMwC,EAAqBnyE,KAAKmsE,4BAChCnsE,KAAKmsE,6BAA8B,EAEnCwB,GAA4B3tE,KAAKP,KAAK+mC,MAEtCxmC,KAAKmsE,4BAA8BgG,EACnCnyE,KAAK6vE,oBAQT3D,GAAiBlqE,UAAUowE,+BAAiC,WACxD,IAAM/H,EAAWrqE,KAAKqqE,WACtB,GAAIA,EAASvmE,QAAU,EAAG,MAAO,GAEjC,IAAMkF,EAAS,GACX5I,EAAIJ,KAAKivE,cACb,GAAyB,SAArB5E,EAASjqE,GAAGmB,KACZ,MAAOnB,GAAK,GAA0B,SAArBiqE,EAASjqE,GAAGmB,KACzByH,EAAOwR,QAAQ6vD,EAASjqE,IACxBA,SAGJ,MACIA,GAAK,GACL,sCAAsCkC,KAAK+nE,EAASjqE,GAAGye,MAEvD7V,EAAOwR,QAAQ6vD,EAASjqE,IACxBA,IAIR,OAAO4I,GAsBXkjE,GAAiBlqE,UAAUkvE,aAAe,SAAS//D,EAAQ43D,EAAQ/O,GAC/D7oD,EAASA,GAAU,EACnB43D,EAASA,GAAU,EAInB,IAAMsJ,EAAcryE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAC/CA,IAAUA,EAAWqY,GAG1B,IAAMljC,EAASnvC,KAAKmvC,SACpB,IAAKA,GAAuB,SAAb6qB,EAAqB,OAAO,EAC3C,IAAMsY,EAAgBtY,EAASt5C,WAAW,QAC1C,IACM4xD,IAAkBnjC,EAAO6qB,IAC1BsY,IAAkBnjC,EAAO58B,MAE1B,OAAO,EAEX,IAAMggE,EAAkBvY,IAAaqY,EAGrCryE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAAWA,EAK3C,IAAMqQ,EAAWrqE,KAAKqqE,WAChBmI,EAAgBnI,EAASvmE,OAG/B9D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAAWqY,EAE3C,IAAMI,EAAYzyE,KAAK+oE,OACR,QAAXA,EACAA,EAASyJ,EAAgBrhE,EAAS,EAChB,UAAX43D,IACPA,GAAU53D,GAEdnR,KAAKswE,UAAUvH,GACf,IAAMoH,EAAgBnwE,KAAK+oE,SAAW0J,EACtCzyE,KAAKswE,UAAUmC,GAMXthE,EAAS,IACTA,EAASqhE,EAAgBrhE,GAE7BA,EAASvO,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAIqF,EAAQqhE,EAAgB,IAEtD,IAAME,EAAY1yE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,OAC5CwhE,EAAgBD,IAAcvhE,EAepC,OAbIohE,GAAmBI,GAAiBxC,KAChCoC,GACAvyE,KAAKovE,oBAETpvE,KAAKuvE,sBAELvvE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAAWA,EAC3Ch6D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,OAASA,EACzCnR,KAAKswE,UAAUvH,GAEf/oE,KAAKyvE,uBAGF,GAQXvD,GAAiBlqE,UAAU8P,KAAO,SAASyC,GACvCA,EAAUA,GAAW,GAErB,IAAMq+D,EAAgB,CAClBpsC,KAAM,QACN2uB,MAAO,QACPC,MAAO,QACP7nD,MAAO,aACP2mD,WAAY,cACZC,YAAa,YACb2F,UAAW,eAGf,GAAI95D,KAAKowE,iBAAmBpwE,KAAKqqE,WAAWvmE,OAAS,EAArD,CA2DA9D,KAAKkxE,aAAalxE,KAAKowE,eAAiB,GACxC,IAAMh/D,EAASpR,KAAKoR,SAIpB,GAAIA,IAAWA,EAAOyjD,iBAAkB,CACpC,IAAImF,EACJ,GAAI5oD,EAAOmB,MAAO,CAEd,IAAIsgE,EAAY,EAChB7Y,EAAW,GACX,IAAM8Y,EAAenG,GAAev7D,EAAOmB,OAC3C,OAAQynD,GAAY6Y,EAAYC,EAExBtG,GAAUp7D,EAAOmB,MAAOsgE,KACxB7Y,EAAW,OAAS6Y,EAAUntE,YAElCmtE,GAAa,EAKjB,OAHAjtD,QAAQu8B,OAAO6X,GACfh6D,KAAKgc,KAAKnQ,KAAK,CAAEmuD,SAAUA,EAAU7oD,OAAQ,SAC7CnR,KAAKkxE,aAAa,EAAG,EAAGlX,GAG5BA,EAAW,OACX,MAAOA,EAAU,CACb,GAAIjoD,MAAMmE,QAAQ9E,EAAO4oD,IAKrB,OAJAh6D,KAAKgc,KAAKnQ,KAAK,CAAEmuD,SAAUA,EAAU7oD,OAAQ,IAC7CnR,KAAKgxE,wBACAz8D,EAAQs6D,YAAcz9D,EAAO6iD,cAC9Bj0D,KAAK8R,KAAKyC,IAGlBylD,EAAW4Y,EAAc5Y,SA5FjC,CACIh6D,KAAKovE,oBAIL,IAAIpV,EAAW4Y,EAAc5yE,KAAKg6D,YAC5B7qB,EAASnvC,KAAKmvC,SACpB,MAAO6qB,IAAa7qB,EAAO6qB,GACvBA,EAAW4Y,EAAc5Y,GAI7B,GAAIA,EAEA,YADAh6D,KAAKkxE,aAAa,EAAG,EAAGlX,GAK5B,GAAIh6D,KAAKmvC,SAAS58B,MAAO,CACrB,IAAMugE,EAAenG,GAAe3sE,KAAKmvC,SAAS58B,OAC9CsgE,EACAp9D,SAASzV,KAAKg6D,WAAWrtD,MAAM,iBAAiB,IAAM,EAC1D,MAAOkmE,EAAYC,EAAc,CAC7B,IAAM/Y,EAAOyS,GAAUxsE,KAAKmvC,SAAS58B,MAAOsgE,GAE5C,GAAI9Y,GAAQ/5D,KAAKkxE,aAAa,EAAG,EAAG,OAAS2B,GAEzC,YADA7yE,KAAKyvE,qBAGToD,GAAa,GAKrB,GAAyB,IAArB7yE,KAAKgc,KAAKlY,QAGN9D,KAAKmsE,8BACJnsE,KAAK6pE,OAAOkJ,aACb/yE,KAAK6pE,OAAOkJ,YAAY/yE,KAAM,cAG9BA,KAAKgc,KAAK,GAAG7K,OAAS,OAEvB,CAGH,IAAM6hE,GAAQz+D,EAAQs6D,YAAc7uE,KAAKmvC,SAAS8kB,aAClDj0D,KAAKgc,KAAKzC,MACNy5D,GACAhzE,KAAK8R,KAAKyC,GAIlBvU,KAAKyvE,uBA2CbvD,GAAiBlqE,UAAU8wB,SAAW,SAASve,GAC3CA,EAAUA,GAAW,GAErB,IAAM0+D,EAAoB,CACtB9d,MAAO,OACPC,MAAO,QACP7nD,MAAO,QACP2mD,WAAY,QACZC,YAAa,aACb2F,UAAW,cACXD,YAAa,aAUjB,IAPKtlD,EAAQs6D,YACe,IAAxB7uE,KAAKowE,gBACLpwE,KAAKmvC,UACLnvC,KAAKmvC,SAAS8kB,cAEdj0D,KAAKkxE,aAAa,GAElBlxE,KAAKowE,eAAiB,EAAG,CAGzB,IAAIpW,EAAWiZ,EAAkBjzE,KAAKg6D,YACtC,MAAOA,IAAah6D,KAAKkxE,cAAc,EAAG,EAAGlX,GACzCA,EAAWiZ,EAAkBjZ,GAIjC,IAAMkZ,EAAalzE,KAAKmvC,SAAWnvC,KAAKmvC,SAAStwB,KAAO,OAQxD,GANiB,SAAbm7C,GACgB,YAAfkZ,GAA2C,QAAfA,IAE7BlZ,EAAW,MAGXA,EAAU,OAOd,GALAh6D,KAAKovE,oBAELpvE,KAAKuvE,sBAGDvvE,KAAKg6D,WAAWt5C,WAAW,QAAS,CACpC,IAAImyD,EACAp9D,SAASzV,KAAKg6D,WAAWrtD,MAAM,iBAAiB,IAAM,EAC1D,MAAOkmE,GAAa,EAAG,CACnB,IAAM9Y,EAAOyS,GAAUxsE,KAAKmvC,SAAS58B,MAAOsgE,GAC5C,GAAI9Y,GAAQ/5D,KAAKkxE,cAAc,EAAG,EAAG,OAAS2B,GAE1C,YADA7yE,KAAKyvE,qBAGToD,GAAa,GAqBrB,OAhByB,IAArB7yE,KAAKgc,KAAKlY,QAGN9D,KAAKmsE,8BACJnsE,KAAK6pE,OAAOkJ,aACb/yE,KAAK6pE,OAAOkJ,YAAYnxE,KAAK5B,KAA7BA,EAAoC,MAGpCA,KAAKgc,KAAK,GAAG7K,OAASnR,KAAKP,KAAK+mC,KAAK1iC,OAAS,IAGlD9D,KAAKgc,KAAKzC,MACVvZ,KAAKkxE,aAAalxE,KAAKowE,eAAiB,SAG5CpwE,KAAKyvE,qBAKT,IAAMr+D,EAASpR,KAAKoR,SAGpB,IAAKA,EAAOyjD,iBAAkB,CAC1B,IAAImF,EACJ,GAAI5oD,EAAOmB,MAAO,CACdynD,EAAW,GACX,IAAM8Y,EAAenG,GAAev7D,EAAOmB,OACvCsgE,EAAYC,EAAe,EAC/B,OAAQ9Y,GAAY6Y,EAAYC,EAExBtG,GAAUp7D,EAAOmB,MAAOsgE,KACxB7Y,EAAW,OAAS6Y,EAAUntE,YAElCmtE,GAAa,EASjB,OAPAA,GAAa,EACbjtD,QAAQu8B,OAAO6X,GACfh6D,KAAKgc,KAAKnQ,KAAK,CACXmuD,SAAUA,EACV7oD,OAAQq7D,GAAUp7D,EAAOmB,MAAOsgE,GAAW/uE,OAAS,SAExD9D,KAAKkxE,cAAc,EAAG,EAAGlX,GAG7BA,EAAW,cACX,MAAOA,EAAU,CACb,GAAIjoD,MAAMmE,QAAQ9E,EAAO4oD,IAOrB,OANAh6D,KAAKgc,KAAKnQ,KAAK,CACXmuD,SAAUA,EACV7oD,OAAQC,EAAO4oD,GAAUl2D,OAAS,SAGtC9D,KAAKkxE,cAAc,EAAG,EAAGlX,GAG7BA,EAAWiZ,EAAkBjZ,IAKrCh6D,KAAKkxE,aAAalxE,KAAKowE,eAAiB,IAGnC77D,EAAQs6D,YACT7uE,KAAK+qE,QAAQ,IACb/qE,KAAK+qE,QAAQ,GAAG9W,cAEhBj0D,KAAK8yB,SAASve,IAItB23D,GAAiBlqE,UAAU2sE,KAAO,SAASwE,EAAM5+D,GAC7CA,EAAUA,GAAW,CAAE6+D,QAAQ,GAC/B,IAAMA,EAAS7+D,EAAQ6+D,SAAU,EAIjC,GAFApzE,KAAKqzE,mBAEDD,EACApzE,KAAKozE,OAAOD,EAAM5+D,OACf,CACH,IAAM07D,EAAUlnB,GAAM/oD,MAKtB,GAAImzE,EAAO,EAAG,CACNnzE,KAAKyuE,mBAAmB0E,IAC5B,MAAOA,EAAO,EACVnzE,KAAK8R,OACLqhE,SAED,GAAIA,EAAO,EAAG,CACbnzE,KAAK0uE,oBAAoByE,IAC7B,MAAgB,IAATA,EACHnzE,KAAK8yB,WACLqgD,IAWRnzE,KAAKuuE,UAAU,OAAQ0B,KAI/B/D,GAAiBlqE,UAAUsxE,GAAK,SAAS/+D,GACrCA,EAAUA,GAAW,CAAE6+D,QAAQ,GAC/B,IAAMA,EAAS7+D,EAAQ6+D,SAAU,EAEjCpzE,KAAK0uE,mBACL,IAAM1U,EAAWh6D,KAAKg6D,WAEtB,GAAiB,UAAbA,EACIoZ,GACApzE,KAAKuvE,sBACLvvE,KAAKgc,KAAKzC,MACVvZ,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,EAC1CnR,KAAKswE,UAAU,GACftwE,KAAKyvE,sBAELzvE,KAAKkxE,aAAalxE,KAAKowE,eAAgB,EAAG,SAE9CpwE,KAAKuuE,UAAU,eACZ,GAAIvuE,KAAKmvC,SAAS58B,MAAO,CAE5B,IAAI26D,EAASX,GAAYvsE,KAAKmvC,SAAS58B,MAAOynD,GAC9CkT,EAASK,GAAevtE,KAAKmvC,SAAS58B,MAAO26D,GAAS,GAClDA,GAAUV,GAAUU,IACpBltE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAC5B,OAASqS,GAAWrsE,KAAKmvC,SAAS58B,MAAO26D,GAC7CltE,KAAKkxE,aAAalxE,KAAKowE,gBAEvBpwE,KAAKuuE,UAAU,WAEfvuE,KAAK2uE,MAAM,EAAGp6D,QAGlBvU,KAAKuuE,UAAU,SAIvBrC,GAAiBlqE,UAAUuxE,KAAO,SAASh/D,GACvCA,EAAUA,GAAW,CAAE6+D,QAAQ,GAC/B,IAAMA,EAAS7+D,EAAQ6+D,SAAU,EAEjCpzE,KAAKyuE,kBACL,IAAMzU,EAAWh6D,KAAKg6D,WACtB,GAAiB,UAAbA,EACIoZ,GACApzE,KAAKuvE,sBACLvvE,KAAKgc,KAAKzC,MACVvZ,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,EAC1CnR,KAAKswE,UAAU,GACftwE,KAAKyvE,sBAELzvE,KAAKkxE,aAAalxE,KAAKowE,eAAgB,EAAG,SAE9CpwE,KAAKuuE,UAAU,iBACZ,GAAIvuE,KAAKmvC,SAAS58B,MAAO,CAE5B,IAAI26D,EAASX,GAAYvsE,KAAKmvC,SAAS58B,MAAOynD,GAC9CkT,EAASK,GAAevtE,KAAKmvC,SAAS58B,MAAO26D,EAAQ,GACjDA,GAAUV,GAAUU,IACpBltE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAC5B,OAASqS,GAAWrsE,KAAKmvC,SAAS58B,MAAO26D,GAC7CltE,KAAKkxE,aAAalxE,KAAKowE,gBAEvBpwE,KAAKuuE,UAAU,aAEfvuE,KAAK2uE,KAAK,EAAIp6D,QAGlBvU,KAAKuuE,UAAU,SAYvBrC,GAAiBlqE,UAAUoxE,OAAS,SAASD,GACzC,IAAIhiE,EAASnR,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,OACzC43D,EAAS,EACPkH,EAAUlnB,GAAM/oD,MAEtB+oE,EAAS/oE,KAAK+oE,OAASoK,EAEvB,IAAMK,EAAiBriE,EAAS43D,EAChC,GAAIyK,EAAiB,GAAgB,IAAXzK,EAAc,CAGpC,GAAI/oE,KAAKgc,KAAKlY,OAAS,EAOnB,OANA9D,KAAKuvE,sBACLvvE,KAAKgc,KAAKzC,MAEVvZ,KAAKswE,WAAW,GAChBtwE,KAAKyvE,0BACLzvE,KAAKuuE,UAAU,OAAQ0B,GAK3B9+D,EAASnR,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,OACzC43D,EAAS/oE,KAAK+oE,YACX,GAAIyK,GAAkBxzE,KAAKqqE,WAAWvmE,OAAQ,CAGjD,GAAI9D,KAAKgc,KAAKlY,OAAS,EAOnB,OANA9D,KAAKuvE,sBACLvvE,KAAKgc,KAAKzC,MACVvZ,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,EAC1CnR,KAAKswE,UAAU,GACftwE,KAAKyvE,0BACLzvE,KAAKuuE,UAAU,OAAQ0B,GAIvBjwE,KAAKixE,gBACL9/D,GAAU,GAEd43D,GAAU,EAEd/oE,KAAKkxE,aAAa//D,EAAQ43D,GAC1B/oE,KAAKuuE,UAAU,OAAQ0B,IAc3B/D,GAAiBlqE,UAAUgxE,KAAO,SAASxF,EAAKj5D,GAC5CA,EAAUA,GAAW,CAAE6+D,QAAQ,GAC/B,IAAMA,EAAS7+D,EAAQ6+D,SAAU,EACjC5F,EAAMA,EAAM,GAAK,EAAI,EAErB,IAAMyC,EAAUlnB,GAAM/oD,MAEhBqqE,EAAWrqE,KAAKqqE,WAChBoJ,EAAQzzE,KAAK+wE,cACf5/D,EAASsiE,EAAQjG,EAErB,GADI4F,IAAQjiE,EAASvO,KAAKkJ,IAAIlJ,KAAKsR,IAAI,EAAG/C,GAASk5D,EAASvmE,OAAS,IACjEqN,EAAS,GAAKA,GAAUk5D,EAASvmE,OAEjC9D,KAAK2uE,KAAKnB,EAAKj5D,OAFnB,CAKA,GAAI81D,EAASl5D,IAAqC,SAA1Bk5D,EAASl5D,GAAQ5P,KAAiB,CAGtD,GADA4P,EAASnR,KAAKwwE,mBAAmBr/D,EAAQq8D,GACrCr8D,EAAS,IAAMiiE,EAEf,YADApzE,KAAKkxE,aAAa,GAGtB,GAAI//D,EAASk5D,EAASvmE,OAGlB,OAFA9D,KAAKkxE,aAAa7G,EAASvmE,OAAS,QACpC9D,KAAK2uE,KAAKnB,EAAKj5D,OAGhB,CACH,IAAMsK,EAAOwrD,EAASl5D,GAAUk5D,EAASl5D,GAAQ0N,KAAO,GACxD,GAAc,UAATA,GAAoB2uD,EAAM,GAAgB,WAAT3uD,GAAqB2uD,EAAM,EAAI,CAIjE,IAAIa,EAAiB,UAATxvD,EAAmB,GAAK,EACpC1N,GAAUq8D,EAAM,EAAI,GAAK,EACzB,MAAOr8D,GAAU,GAAKA,EAASk5D,EAASvmE,QAAoB,IAAVuqE,EAChB,UAA1BhE,EAASl5D,GAAQ0N,KACjBwvD,GAAS,EACwB,WAA1BhE,EAASl5D,GAAQ0N,OACxBwvD,GAAS,GAEbl9D,GAAUq8D,EAEA,IAAVa,IAEAl9D,EAASsiE,EAAQjG,GAEjBA,EAAM,IAAGr8D,GAAkB,OAC5B,CACH,MACIk5D,EAASl5D,IACiB,SAA1Bk5D,EAASl5D,GAAQ5P,MACjB8oE,EAASl5D,GAAQ0N,OAASA,EAE1B1N,GAAUq8D,EAEdr8D,GAAUq8D,EAAM,EAAI,EAAI,GAIhC,GAAI4F,EAAQ,CACR,IAAMhiE,EAASpR,KAAKowE,eACpBpwE,KAAKkxE,aAAa9/D,EAAQD,EAASC,QAEnCpR,KAAKkxE,aAAa//D,GAEtBnR,KAAKuuE,UAAU,OAAQ0B,KAQ3B/D,GAAiBlqE,UAAU0xE,KAAO,SAASlG,EAAKj5D,GAC5CA,EAAUA,GAAW,CAAE6+D,QAAQ,GAC/B,IAAMA,EAAS7+D,EAAQ6+D,SAAU,EACjC5F,EAAMA,EAAM,GAAK,EAAI,EAErB,IAAMnD,EAAWrqE,KAAKqqE,WAClBoJ,EAAQzzE,KAAK+wE,cACbvD,EAAM,IAAGiG,EAAQ7wE,KAAKkJ,IAAI2nE,EAAQ,EAAGpJ,EAASvmE,OAAS,IAE3D,IAAMqN,EAASq8D,EAAM,EAAI,EAAInD,EAASvmE,OAAS,EAE3CsvE,EACApzE,KAAKozE,OAAOjiE,EAASsiE,GAErBzzE,KAAK2uE,KAAKx9D,EAASsiE,IAI3BvH,GAAiBlqE,UAAU2xE,wBAA0B,SAASnG,EAAKj5D,GAC/DA,EAAUA,GAAW,CAAE6+D,QAAQ,GAC/B,IAAMA,EAAS7+D,EAAQ6+D,SAAU,EACjC5F,EAAMA,GAAO,EACbA,EAAMA,EAAM,GAAK,EAAI,EAErB,IAEIzE,EAFEkH,EAAUlnB,GAAM/oD,MAChBgc,EAAO,CAAC,CAAEg+C,SAAU,OAAQ7oD,OAAQnR,KAAKgc,KAAK,GAAG7K,SAGlDiiE,EAMG5F,EAAM,EACFxxD,EAAK,GAAG7K,OAAS,IACjB43D,GAAU/sD,EAAK,GAAG7K,QAKlB6K,EAAK,GAAG7K,OAASnR,KAAKqqE,WAAWvmE,OAAS,IAC1CilE,EAAS/oE,KAAKqqE,WAAWvmE,OAAS,EAAIkY,EAAK,GAAG7K,SAZtD6K,EAAK,GAAG7K,OAASq8D,EAAM,EAAI,EAAIxtE,KAAKP,KAAK+mC,KAAK1iC,OAAS,EACvDilE,EAAS,GAkBb/oE,KAAK+vE,QAAQ/zD,EAAM+sD,GACnB/oE,KAAKuuE,UAAU,OAAQ0B,IAS3B/D,GAAiBlqE,UAAUiwE,KAAO,SAASzE,EAAKoG,GAAa,WACzDpG,EAAMA,GAAO,EACbA,EAAMA,EAAM,GAAK,EAAI,EACrBoG,EAAcA,IAAe,EAC7B,IAAMC,EAAmC7zE,KAAKmsE,4BAC9CnsE,KAAKmsE,6BAA8B,EACnC,IAAM8D,EAAUlnB,GAAM/oD,MAChByyE,EAAYzyE,KAAK+oE,OACvB/oE,KAAK2uE,KAAKnB,GAEiB,gBAAvBxtE,KAAKoR,SAASyN,MAGd7e,KAAK2uE,KAAKnB,GAKd,IAAMsG,EAAe9zE,KAAKwoB,QACtB,SAACxM,EAAMk6C,GAAP,MACkB,gBAAdA,EAAKr3C,MACJ7C,EAAKlY,OAAS,GAAgC,IAA3B,EAAKumE,WAAWvmE,SACxC0pE,GAKJ,GAA4B,IAAxBsG,EAAahwE,OAAc,CAG3B,GADA9D,KAAK+vE,QAAQE,EAASwC,GAClBmB,EACA,GAAI5zE,KAAK6pE,OAAOkK,WACZ/zE,KAAK6pE,OAAOkK,WACR/zE,KAAKiD,OACLuqE,EAAM,EAAI,UAAY,iBAEvB,GAAI3zC,SAASm6C,cAAe,CAC/B,IAAMC,EAAqB,+UAYrBC,EAAaniE,MAAM/P,UAAUwmB,OAAOjoB,KACtCs5B,SAASs6C,iBAAiBF,IAC1B,SAAA/rC,GAAO,OACDA,EAAQksC,YAAc,GACpBlsC,EAAQmsC,aAAe,KACtBnsC,EAAQspC,SAAS33C,SAASm6C,gBAC/B9rC,IAAYrO,SAASm6C,iBAEzBzmE,EAAQ2mE,EAAW5+D,QAAQukB,SAASm6C,eAAiBxG,EACrDjgE,EAAQ,IAAGA,EAAQ2mE,EAAWpwE,OAAS,GACvCyJ,GAAS2mE,EAAWpwE,SAAQyJ,EAAQ,GACxC2mE,EAAW3mE,GAAOkmE,QAI1B,OADAzzE,KAAKmsE,4BAA8B0H,GAC5B,EAUX,OANA7zE,KAAKuvE,sBACLvvE,KAAK+vE,QAAQ+D,EAAa,IACC,gBAAvB9zE,KAAKoR,SAASyN,MAAwB7e,KAAKswE,WAAW,GAC1DtwE,KAAKuuE,UAAU,OAAQ0B,GACvBjwE,KAAKyvE,qBACLzvE,KAAKmsE,4BAA8B0H,GAC5B,GAGX3H,GAAiBlqE,UAAUovE,WAAa,WACpC,IACIpoE,EADEoI,EAASpR,KAAKixE,cAAgBjxE,KAAKoR,SAAWpR,KAAK+qE,QAAQ,GAEjE,GAAI35D,EAAQ,CACR,GAAoB,mBAAhBA,EAAOyN,MAA6C,YAAhBzN,EAAOyN,KAC3C,MAAO,UACX7V,EAASoI,EAAO7P,KAEpB,IAAInB,EAAI,EACJ0wE,EAAW9wE,KAAK8wE,SAAS1wE,GAC7B,OAAQ4I,GAAU8nE,EACVA,IAAU9nE,EAAS8nE,EAASvvE,MAChCnB,GAAK,EACL0wE,EAAW9wE,KAAK8wE,SAAS1wE,GAE7B,OAAO4I,GAGXkjE,GAAiBlqE,UAAUstE,YAAc,WACrC,IACItmE,EADEoI,EAASpR,KAAKixE,cAAgBjxE,KAAKoR,SAAWpR,KAAK+qE,QAAQ,GAEjE,GAAI35D,GAA0B,UAAhBA,EAAOyN,KAAkB,CACnC,GAAoB,mBAAhBzN,EAAOyN,MAA6C,YAAhBzN,EAAOyN,KAC3C,MAAO,GACX7V,EAAS,CACLs7B,MAAOlzB,EAAOkzB,MACdmlB,gBAAiBr4C,EAAOq4C,gBACxBE,WAAYv4C,EAAOu4C,WACnBC,UAAWx4C,EAAOw4C,UAClBE,WAAY14C,EAAO04C,WACnBY,SAAUt5C,EAAOs5C,UAGzB,IAAItqD,EAAI,EACJ0wE,EAAW9wE,KAAK8wE,SAAS1wE,GAC7B,OAAQ4I,GAAU8nE,EACVA,IACA9nE,EAAS,CACLs7B,MAAOwsC,EAASxsC,MAChBmlB,gBAAiBqnB,EAASrnB,gBAC1BE,WAAYmnB,EAASnnB,WACrBC,UAAWknB,EAASlnB,UACpBE,WAAYgnB,EAAShnB,WACrBY,SAAUomB,EAASpmB,WAG3BtqD,GAAK,EACL0wE,EAAW9wE,KAAK8wE,SAAS1wE,GAE7B,OAAO4I,GAqBXkjE,GAAiBlqE,UAAUsyE,cAAgB,SAASte,GAAO,WACvD,GAAIA,GAASh2D,KAAK6pE,OAAO0K,4BAA6B,CAClD,IAAK,IAAIn0E,EAAI,EAAG41D,EAAM51D,GAAIA,IACtB,GAAsB,cAAlB41D,EAAM51D,GAAGye,MAA+C,MAAvBm3C,EAAM51D,GAAGk1D,WACtCvjD,MAAMmE,QAAQ8/C,EAAM51D,GAAGomC,MAAO,CAI9B,IAHA,IAAIguC,EAAe,EACfC,EAAe,EACfC,EAAkB,EACb/pD,EAAI,EAAGqrC,EAAM51D,GAAGomC,KAAK7b,GAAIA,IACA,YAA1BqrC,EAAM51D,GAAGomC,KAAK7b,GAAG9L,OACjB21D,IACAC,EAAe9pD,GAEW,UAA1BqrC,EAAM51D,GAAGomC,KAAK7b,GAAG9L,MACjB61D,IAEgB,IAApBA,GAA0C,IAAjBF,IAEzBxe,EAAM51D,GAAK41D,EAAM51D,GAAGomC,KAAKiuC,IAMzCze,EAAM9sD,SAAQ,SAAAgtD,GAkCV,GAjCkB,YAAdA,EAAKr3C,OACL,EAAKy1D,cAAcpe,EAAKf,OACxB,EAAKmf,cAAcpe,EAAKd,OACxBc,EAAKf,MAAQyY,GAAY1X,EAAKf,OAC9Be,EAAKd,MAAQwY,GAAY1X,EAAKd,QAE9Bc,EAAK2D,cACL,EAAKya,cAAcpe,EAAK2D,aACxB3D,EAAK2D,YAAc+T,GAAY1X,EAAK2D,cAEpC3D,EAAK4D,YACL,EAAKwa,cAAcpe,EAAK4D,WACxB5D,EAAK4D,UAAY8T,GAAY1X,EAAK4D,YAElC5D,EAAK/B,cACL,EAAKmgB,cAAcpe,EAAK/B,aACxB+B,EAAK/B,YAAcyZ,GAAY1X,EAAK/B,cAEpC+B,EAAKhC,aACL,EAAKogB,cAAcpe,EAAKhC,YACxBgC,EAAKhC,WAAa0Z,GAAY1X,EAAKhC,aAEnCgC,EAAK3oD,QACL,EAAK+mE,cAAcpe,EAAK3oD,OACxB2oD,EAAK3oD,MAAQqgE,GAAY1X,EAAK3oD,QAEhB,SAAd2oD,EAAKr3C,MACL,EAAKy1D,cAAcpe,EAAK1vB,MACxB0vB,EAAK1vB,KAAOonC,GAAY1X,EAAK1vB,OACtB0vB,EAAK1vB,MAAQz0B,MAAMmE,QAAQggD,EAAK1vB,OACvC,EAAK8tC,cAAcpe,EAAK1vB,MAGxB0vB,EAAK3jD,MACL,IAAK,IAAInS,EAAIusE,GAAezW,EAAK3jD,OAAQnS,GAAK,EAAGA,IAC7C,EAAKk0E,cAAc9H,GAAUtW,EAAK3jD,MAAOnS,SAwE7D8rE,GAAiBlqE,UAAU2yE,OAAS,SAASxyE,EAAGoS,GAI5C,GAHAA,EAAUA,GAAW,IAGjBA,EAAQ0zD,aAAcjoE,KAAK40E,kBAAkBzyE,EAAGoS,EAAQmlB,OAA5D,CAIA,IAAMyyC,EAA8BnsE,KAAKmsE,4BACrC53D,EAAQ43D,8BACRnsE,KAAKmsE,6BAA8B,GAGvCnsE,KAAK2vE,oBACL,IAAMwC,EAAqBnyE,KAAKmsE,4BAChCnsE,KAAKmsE,6BAA8B,EAE9B53D,EAAQsgE,gBAAetgE,EAAQsgE,cAAgB,oBAC/CtgE,EAAQugE,gBAAevgE,EAAQugE,cAAgB,eAC/CvgE,EAAQw5D,SAAQx5D,EAAQw5D,OAAS,QACtCx5D,EAAQi0C,OAASj0C,EAAQi0C,QAAUxoD,KAAK6pE,OAAOrhB,OAE/C,IACIqgB,EADEuI,EAAa78D,EAAQhT,MAAQvB,KAAKoxE,aAIlCvsE,EAAO,CAAC7E,KAAKyxE,yBAGS1tE,IAAxBwQ,EAAQ09C,cACRptD,EAAK,KAAO0P,EAAQ09C,aAIM,qBAA1B19C,EAAQsgE,eAAyC70E,KAAKixE,cAErB,eAA1B18D,EAAQsgE,eAEf70E,KAAKP,KAAK+mC,KAAKR,OAAO,GACtBhmC,KAAKgc,KAAO,CAAC,CAAEg+C,SAAU,OAAQ7oD,OAAQ,IACzCnR,KAAK+oE,OAAS,GACmB,iBAA1Bx0D,EAAQsgE,cACf70E,KAAK0uE,mBAC4B,gBAA1Bn6D,EAAQsgE,eACf70E,KAAKyuE,kBATLzuE,KAAKuxE,UAaT,IAAMlH,EAAWrqE,KAAKqqE,WAChB2E,EAAchvE,KAAKivE,cAezB,GAbID,EAAc,EAAI3E,EAASvmE,QAC3BumE,EAAS2E,EAAc,IACY,gBAAnC3E,EAAS2E,EAAc,GAAGnwD,KAE1B7e,KAAKuxE,QAAQ,GAEbvC,EAAc,GACd3E,EAAS2E,IACsB,gBAA/B3E,EAAS2E,GAAanwD,MAEtB7e,KAAKuxE,SAAS,GAGC,SAAfH,GAA4C,cAAnB78D,EAAQw5D,OACjC5rE,EAAI2rE,GAAgB3rE,EAAD,MAASnC,KAAK6pE,OAAd,CAAsBkE,OAAQ,eACjDlF,EAAWkM,GAAa9Q,YACpB7hB,EAAMS,SAAS1gD,GACf,OACA,KACAoS,EAAQi0C,QACR,GAGJxoD,KAAKs0E,cAAczL,QAChB,GAAmB,SAAfuI,GAA4C,SAAnB78D,EAAQw5D,OACxC,GAAmB,YAAfqD,EAA0B,CAE1BvI,EAAW,GAFe,2BAG1B,YAAgB1mE,EAAhB,+CAAmB,KAAR1B,EAAQ,QACXm2D,GAAYP,wBAAwB/zD,KAAK7B,IACzCooE,EAASh9D,KACL,IAAIytD,GAASA,SAAS,UAAW,UAAW74D,KAN9B,uFAUb,MAAN0B,EAEP0mE,EAAW,CAAC,IAAIvP,GAASA,SAAS,UAAW,UAAW,QAExDn3D,EAAI2rE,GAAgB3rE,EAAGnC,KAAK6pE,QAExBhlE,EAAK,GAEL1C,EAAIA,EAAEmc,QAAQ,eAAgB,QACvB,cAAchc,KAAKH,IAG1BA,EAAIA,EAAEmc,QAAQ,eAAgB,QAC9BzZ,EAAK,GAAK7E,KAAKoyE,iCAEfpyE,KAAKg1E,cAAcnwE,EAAK,GAAGf,QAEvBiO,MAAMmE,QAAQrR,EAAK,KAA0B,IAAnBA,EAAK,GAAGf,SAClCe,EAAK,QAAKd,IAGd5B,EAAIA,EAAEmc,QAAQ,eAAgB,QAGlCuqD,EAAWkM,GAAa9Q,YACpB7hB,EAAMS,SAAS1gD,GACfivE,EACAvsE,EACA0P,EAAQi0C,OACRj0C,EAAQ0zD,YAIZjoE,KAAKs0E,cAAczL,QAEG,UAAnBt0D,EAAQw5D,OACflF,EAAWkM,GAAa9Q,YACpB7hB,EAAMS,SAAS1gD,GACfivE,EACAvsE,EACA0P,EAAQi0C,OACRj0C,EAAQ0zD,YAEU,SAAfmJ,GAA4C,SAAnB78D,EAAQw5D,SAGxC5rE,EAAIA,EAAEmc,QAAQ,MAAO,oBAErBnc,EAAIA,EAAEmc,QAAQ,KAAM,OACpBnc,EAAIA,EAAEmc,QAAQ,MAAO,OACrBnc,EAAIA,EAAEmc,QAAQ,KAAM,OACpBnc,EAAIA,EAAEmc,QAAQ,KAAM,OAIpBnc,EAAIA,EAAEmc,QAAQ,KAAM,OACpBnc,EAAIA,EAAEmc,QAAQ,KAAM,oBACpBnc,EAAIA,EAAEmc,QAAQ,KAAM,qBACpBnc,EAAIA,EAAEmc,QAAQ,MAAO,sBACrBnc,EAAIA,EAAEmc,QAAQ,KAAM,qBACpBnc,EAAIA,EAAEmc,QAAQ,KAAM,mBAEpBuqD,EAAWkM,GAAa9Q,YACpB7hB,EAAMS,SAAS1gD,GACf,OACA0C,EACA0P,EAAQi0C,QACR,IAQRqlB,GAA0BhF,EAAUt0D,EAAQmlB,OAG5C,IAAMyV,EAASnvC,KAAKmvC,SA6BpB,GA3BInvC,KAAK6pE,OAAO0K,6BACZplC,GACgB,cAAhBA,EAAOtwB,MACc,MAArBswB,EAAOmmB,WACP2W,GAAgB98B,EAAO3I,OACvBqiC,GACoB,IAApBA,EAAS/kE,QACY,YAArB+kE,EAAS,GAAGhqD,MAGZ7e,KAAKgc,KAAKzC,MACVvZ,KAAKqqE,WAAWrqE,KAAKowE,gBAAkBvH,EAAS,IAEhD92D,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAiB,EAAG,GAAG/qE,OAAOwjE,IAK5C7oE,KAAKgxE,kBAILhxE,KAAKmsE,4BAA8BgG,EAGL,gBAA1B59D,EAAQugE,cAAiC,CAEzC,IAAI9C,EAAkB,GAFmB,uBAGzC,YAAmBnJ,EAAnB,+CAA6B,KAAlB3S,EAAkB,QACzB8b,EAAkBA,EAAgB3sE,OAC9B6wD,EAAK1tC,QAAO,SAAA0tC,GAAI,MAAkB,gBAAdA,EAAKr3C,UALQ,kFAQV,IAA3BmzD,EAAgBluE,QAAiB9D,KAAKiyE,KAAK,GAAI,GAK/CjyE,KAAKuuE,UAAU,QAHfvuE,KAAKkxE,aAAalxE,KAAKowE,eAAiBvH,EAAS/kE,YAKpB,WAA1ByQ,EAAQugE,gBAEkB,UAA1BvgE,EAAQugE,cACf90E,KAAKkxE,aAAalxE,KAAKowE,eAAiBvH,EAAS/kE,QAChB,SAA1ByQ,EAAQugE,eACf90E,KAAKkxE,aAAalxE,KAAKowE,eAAgBvH,EAAS/kE,SAGpD9D,KAAK6vE,mBAEL7vE,KAAKmsE,4BAA8BA,IAWvCD,GAAiBlqE,UAAU4yE,kBAAoB,SAASK,EAAOv7C,GAC3D,IAAMyV,EAASnvC,KAAKmvC,SAGpB,GAAoB,cAAhBA,EAAOtwB,MAA6C,MAArBswB,EAAOmmB,WAClC,iCAAiChzD,KAAK2yE,GAMtC,OALAj1E,KAAK20E,OAAO,cAAgBM,EAAQ,OAAQ,CACxC1zE,KAAM,OACNwsE,OAAQ,QACRr0C,MAAOA,KAEJ,EAGD,MAAVu7C,GAA2B,QAAVA,IAAiBA,EAAQ,YAChC,MAAVA,GAA2B,QAAVA,IAAiBA,EAAQ,YAChC,MAAVA,GAA2B,QAAVA,IAAiBA,EAAQ,YAChC,MAAVA,GAA2B,QAAVA,IAAiBA,EAAQ,YAE9C,IAmCIC,EAnCEC,EAASve,GAAYxH,YAAY6lB,GACvC,GAAIE,IAA4B,cAAhBhmC,EAAOtwB,MAA6C,MAArBswB,EAAOmmB,WAAoB,CAEtE,IAAInzD,EAAI,GACFizE,EACFp1E,KAAKixE,eAAwC,gBAAvBjxE,KAAKoR,SAASyN,KAMpC1c,EAJAnC,KAAK+qE,QAAQ,GAAG5+B,WAIZ,UAAY8oC,EAAQ,WAEpB,SAAWA,EAAQ,UAE3B9yE,GAAKizE,EAAY,IAAMD,EAEvB,IAAIn8C,EAAU,GAcd,OAbIo8C,IAEAp8C,EAAUh5B,KAAKqqE,WAAWrkC,OACtBhmC,KAAKowE,eAAiB,EACtBpwE,KAAKqqE,WAAWvmE,SAGxB9D,KAAK20E,OAAOxyE,EAAG,CAAEZ,KAAM,OAAQwsE,OAAQ,QAASr0C,MAAOA,IACnD07C,IAEAp1E,KAAK+qE,QAAQ,GAAGvkC,KAAOxN,EACvBh5B,KAAK2uE,MAAM,KAER,EAQX,GAHA7tE,OAAOwiB,KAAKszC,GAAYxH,aAAalmD,SAAQ,SAAA0sD,GACrCqf,IAAUre,GAAYxH,YAAYwG,KAAQsf,EAAStf,MAEvDsf,EAAQ,CAMR,GACI/lC,GACgB,cAAhBA,EAAOtwB,MACP7e,KAAKmvE,cAAgBnvE,KAAKqqE,WAAWvmE,OAAS,EAM9C,OAJA9D,KAAK2vE,oBACLxgC,EAAOomB,WAAa0f,EACpBj1E,KAAK2uE,KAAK,GACV3uE,KAAK6vE,oBACE,EAMX,IACIzvE,EADEiqE,EAAWrqE,KAAKqqE,WAEtB,IAAKjqE,EAAIJ,KAAKmvE,YAAa/uE,GAAK,EAAGA,IAC/B,GACyB,cAArBiqE,EAASjqE,GAAGye,MACe,MAA3BwrD,EAASjqE,GAAGm1D,WAEZ,MAER,GAAIn1D,GAAK,EASL,OARAJ,KAAK2vE,oBACLtF,EAASjqE,GAAGm1D,WAAa0f,EACzB5K,EAASjqE,GAAGomC,KAAO6jC,EAASjqE,GAAGomC,KAAKnhC,OAChCglE,EAAS7lE,MAAMpE,EAAI,EAAGJ,KAAKmvE,YAAc,IAE7C9E,EAASrkC,OAAO5lC,EAAI,EAAGJ,KAAKmvE,YAAc/uE,GAC1CJ,KAAKkxE,aAAa9wE,GAClBJ,KAAK6vE,oBACE,EAMX,GACI1gC,GACgB,cAAhBA,EAAOtwB,MACe,MAAtBswB,EAAOomB,WACT,CACEv1D,KAAK2vE,oBACLxgC,EAAOomB,WAAa0f,EAEpB,IAAMI,EAAOhL,EAAS7lE,MAAMxE,KAAKmvE,YAAc,GAU/C,OATA9E,EAASrkC,OAAOhmC,KAAKmvE,YAAc,GACnCnvE,KAAKgc,KAAKzC,MAEVxH,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKmvE,YAAc,EAAG,GAAG9pE,OAAOgwE,IAErCr1E,KAAK6vE,oBAEE,EAMX,IAAMyF,EAAct1E,KAAK8wE,SAAS,GAClC,OACIwE,GACqB,cAArBA,EAAYz2D,MACe,MAA3By2D,EAAY/f,YACZv1D,KAAKmvE,cAAgB9E,EAASvmE,OAAS,GAEvC9D,KAAK2uE,KAAK,GACH3uE,KAAK40E,kBAAkBK,EAAOv7C,KAKzC15B,KAAK20E,OAAOM,EAAO,CAAE1zE,KAAM,OAAQwsE,OAAQ,QAASr0C,MAAOA,KACpD,GAGX,OAAO,GAGXwyC,GAAiBlqE,UAAUuzE,2CAA6C,WACpE,IAAMlL,EAAWrqE,KAAKqqE,WAChB5nB,EAAUziD,KAAK0xE,iBACjBtxE,EAAIqiD,EAAQ16C,MAChB,MAAO3H,EAAIqiD,EAAQz6C,MAAQqiE,EAASjqE,GAAGmgE,WACnCngE,IAEJJ,KAAKkxE,aAAa9wE,EAAI,IAG1B8rE,GAAiBlqE,UAAUqxE,iBAAmB,WAG1C,IAFA,IAAMhJ,EAAWrqE,KAAKqqE,WAEbjqE,EAAIiqE,EAASvmE,OAAS,EAAG1D,GAAK,EAAGA,IAClCiqE,EAASjqE,GAAGmgE,YACZ8J,EAASrkC,OAAO5lC,EAAG,IAK/B8rE,GAAiBlqE,UAAUwzE,iBAAmB,SAASrzE,EAAG9B,GACtDL,KAAKqzE,mBAEL,IAAMxK,EAAW,GAGX4M,EAAOtzE,EAAEylE,OAAOvnE,GANmC,uBAOzD,YAAgBo1E,EAAhB,+CAAsB,KAAXh1E,EAAW,QACZy1D,EAAO,IAAIoD,GAASA,SAAS,UAAW,UAAW74D,GACzDy1D,EAAKqK,YAAa,EAClBsI,EAASh9D,KAAKqqD,IAVuC,kFAezDnkD,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAiB,EAAG,GAAG/qE,OAAOwjE,KAS5CqD,GAAiBlqE,UAAUgzE,aAAe,SAAS9pE,GAC3CA,EAAQ,EACRlL,KAAKqqE,WAAWrkC,OAAOhmC,KAAKowE,eAAiB,EAAGllE,IAEhDlL,KAAKqqE,WAAWrkC,OAAOhmC,KAAKowE,eAAiBllE,EAAQ,GAAIA,GACzDlL,KAAKkxE,aAAalxE,KAAKowE,eAAiBllE,KAShDghE,GAAiBlqE,UAAU0zE,OAAS,SAASxqE,GAEzC,GADAA,EAAQA,GAAS,EACH,IAAVA,EACAlL,KAAKuxE,QAAQ,QACV,GAAIrmE,EAAQ,EACf,MAAOA,EAAQ,EACXlL,KAAKuxE,QAAQ,GACbrmE,SAGJ,MAAOA,EAAQ,EACXlL,KAAKuxE,SAAS,GACdrmE,KAcZghE,GAAiBlqE,UAAUuvE,QAAU,SAAS/D,GAE1CxtE,KAAK2vE,oBACL3vE,KAAKuvE,sBACL,IAAM4C,EAAqBnyE,KAAKmsE,4BAQhC,GAPAnsE,KAAKmsE,6BAA8B,EAEnCqB,EAAMA,GAAO,EACbA,EAAMA,EAAM,GAAK,EAAIA,EAAM,EAAI,EAAKA,EAEpCxtE,KAAKqzE,mBAEDrzE,KAAKmvC,SAAS58B,OACVi7D,EAAM,GAA4B,IAAvBxtE,KAAKivE,cAAqB,CACrC,IAAM18D,EAAQvS,KAAKmvC,SAAS58B,MAC5B,GAAI+6D,GAAoB/6D,KAAWvS,KAAKg6D,WAAY,OAG1ChE,EAAQ+W,GAAcx6D,GAC5BvS,KAAKgc,KAAKzC,OACV,EAAAvZ,KAAKqqE,YAAWrkC,OAAhB,SAAuBhmC,KAAKowE,eAAgB,GAA5C,UAAkDpa,KAClDh2D,KAAKkxE,aAAalxE,KAAKowE,eAAiB,EAAGpa,EAAMlyD,YAC9C,CACH,IAAMopE,EAASX,GAAYh6D,EAAOvS,KAAKg6D,YACvC,GAAmB,IAAfkT,EAAO9R,IAAW,CAIlB,IAAMua,EAAOpI,GAAeh7D,EAAO26D,GAAS,GAC5CyI,EAAKva,IAAM7oD,EAAMojE,EAAKhiB,KAAK7vD,OAAS,EAEpC9D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAC5B,OAASqS,GAAW95D,EAAOojE,GAC/B,IAAMC,EAAarjE,EAAMojE,EAAKhiB,KAAKgiB,EAAKva,KAAKt3D,OAKvCkyD,EAAQ8W,GAAiBv6D,EAAM26D,EAAOvZ,MAC5CphD,EAAMojE,EAAKhiB,KAAKgiB,EAAKva,KAAO7oD,EAAMojE,EAAKhiB,KACnCgiB,EAAKva,KACP/1D,OAAO2wD,GACTh2D,KAAKkxE,aAAa0E,EAAa,EAAG5f,EAAMlyD,QAGxCupE,GAAe96D,EAAO26D,EAAOvZ,UAI7B,GAAgD,IAA5CsZ,GAAqB16D,EAAO26D,EAAO9R,KAAY,CAC/CgS,GAAkB76D,EAAO26D,EAAO9R,KAChC8R,EAAO9R,KAAO,EACdp7D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAC5B,OAASqS,GAAW95D,EAAO26D,GAC/B,IAAM2I,EAAWtjE,EAAM26D,EAAOvZ,KAAKuZ,EAAO9R,KAC1Cp7D,KAAKkxE,aAAa2E,EAAS/xE,OAAS,EAAG,IAUnD,OAHA9D,KAAKmsE,4BAA8BgG,EACnCnyE,KAAKyvE,0BACLzvE,KAAK6vE,mBAKb,IAAMxF,EAAWrqE,KAAKqqE,WAEtB,GAAKrqE,KAAKixE,cAUH,CACH,IAAMb,EAAepwE,KAAKowE,eAC1B,GAAI5C,EAAM,EACN,GAAqB,IAAjB4C,EAAoB,CAIpB,IAAMrF,EAAU/qE,KAAK+qE,QAAQ,GACR,cAAjBA,EAAQlsD,MACRksD,EAAQxV,WAAa,IACrBv1D,KAAK2uE,MAAM,KAEV5D,EAAQlW,kBACT,gFAAgFvyD,KAC5EyoE,EAAQlsD,MAGZ7e,KAAK2uE,MAAM,IAEX3uE,KAAKuuE,UACD,SACA,KACAlE,EAAS7lE,MAAM4rE,EAAcA,EAAe,IAEhD/F,EAASrkC,OAAOoqC,EAAc,GAC9BpwE,KAAKkxE,aAAad,EAAe,QAElC,CAGH,IAAMpW,EAAWh6D,KAAKg6D,WACtB,GAAiB,gBAAbA,GAA2C,cAAbA,EAA0B,CACxD,IAAMgH,EAAShhE,KAAKmvC,SAAS6qB,GAAUxxC,QACnC,SAAA0tC,GAAI,MACc,gBAAdA,EAAKr3C,MAAwC,UAAdq3C,EAAKr3C,QAE5C7e,KAAKmvC,SAAS6qB,GAAY,KAC1Bh6D,KAAKgc,KAAKzC,MACVxH,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAgB,GAAG/qE,OAAO27D,IAEpChhE,KAAKkxE,aAAalxE,KAAKowE,eAAiB,GACxCpwE,KAAKuuE,UAAU,YAAcvU,QAC1B,GAAiB,UAAbA,EAAsB,CAE7B,IAAM7E,EAAQn1D,KAAKmvC,SAASgmB,MAAM3sC,QAC9B,SAAA0tC,GAAI,MACc,gBAAdA,EAAKr3C,MAAwC,UAAdq3C,EAAKr3C,QAEtCu2C,EAAQp1D,KAAKmvC,SAASimB,MAAM5sC,QAC9B,SAAA0tC,GAAI,MACc,gBAAdA,EAAKr3C,MAAwC,UAAdq3C,EAAKr3C,QAE5C7e,KAAKgc,KAAKzC,MACVxH,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAgB,GAAG/qE,OAAO+vD,IAEpCrjD,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAgB,GAAG/qE,OAAO8vD,IAEpCn1D,KAAKkxE,aAAalxE,KAAKowE,eAAiBjb,EAAMrxD,OAAS,GACvD9D,KAAKuuE,UAAU,6BACZ,GAAiB,SAAbvU,EAAqB,CAC5B,IAAMxzB,EAAOxmC,KAAKqqE,WAAW7hD,QACzB,SAAA0tC,GAAI,MAAkB,gBAAdA,EAAKr3C,QAEb7e,KAAKgc,KAAKlY,OAAS,IACnB0iC,EAAK/nB,QACLze,KAAKgc,KAAKzC,MACVxH,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAgB,GAAG/qE,OAAOmhC,IAEpCxmC,KAAKkxE,aAAalxE,KAAKowE,eAAiB,GACxCpwE,KAAKuuE,UAAU,uBAGnBvuE,KAAK2uE,MAAM,GACX3uE,KAAK01E,QAAQ,QAGlB,GAAIlI,EAAM,EACb,GAAI4C,IAAiB/F,EAASvmE,OAAS,EAE/B,gFAAgFxB,KAC5EtC,KAAK+qE,QAAQ,GAAGlsD,MAGpB7e,KAAK2uE,KAAK,IAEV3uE,KAAKuuE,UACD,SACA,KACAlE,EAAS7lE,MAAM4rE,EAAe,EAAGA,EAAe,IAEpD/F,EAASrkC,OAAOoqC,EAAe,EAAG,QAEnC,CAEH,IAAMpW,EAAWh6D,KAAKg6D,WACtB,GAAiB,UAAbA,EAAsB,CACtB,IAAM7E,EAAQn1D,KAAKmvC,SAASgmB,MAAM3sC,QAC9B,SAAA0tC,GAAI,MACc,gBAAdA,EAAKr3C,MAAwC,UAAdq3C,EAAKr3C,QAEtCu2C,EAAQp1D,KAAKmvC,SAASimB,MAAM5sC,QAC9B,SAAA0tC,GAAI,MACc,gBAAdA,EAAKr3C,MAAwC,UAAdq3C,EAAKr3C,QAE5C7e,KAAKgc,KAAKzC,MACVxH,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAgB,GAAG/qE,OAAO+vD,IAEpCrjD,MAAM/P,UAAUgkC,OAAO1gC,MACnBtF,KAAKqqE,WACL,CAACrqE,KAAKowE,eAAgB,GAAG/qE,OAAO8vD,IAEpCn1D,KAAKkxE,aAAalxE,KAAKowE,eAAiBjb,EAAMrxD,OAAS,GACvD9D,KAAKuuE,UAAU,2BAEfvuE,KAAK2uE,KAAK,GACV3uE,KAAK01E,QAAQ,QAvIJ,CAErB,IAAMnjD,EAAQvyB,KAAKivE,cAAgB,EAC7Bp8C,EAAO7yB,KAAKmvE,YAAc,EAEhCnvE,KAAKuuE,UAAU,UAAW,KAAMlE,EAAS7lE,MAAM+tB,EAAOM,IACtDw3C,EAASrkC,OAAOzT,EAAOM,EAAON,GAG9BvyB,KAAKkxE,aAAa3+C,EAAQ,GAoI9BvyB,KAAKmsE,4BAA8BgG,EACnCnyE,KAAKyvE,qBACLzvE,KAAK6vE,oBAOT3D,GAAiBlqE,UAAU8zE,uBAAyB,WAChD91E,KAAKiyE,KAAK,IAOd/F,GAAiBlqE,UAAU+zE,2BAA6B,WACpD/1E,KAAKiyE,MAAM,IAOf/F,GAAiBlqE,UAAUg0E,gBAAkB,WACzCh2E,KAAK2uE,KAAK,IAOdzC,GAAiBlqE,UAAUi0E,oBAAsB,WAC7Cj2E,KAAK2uE,MAAM,IAOfzC,GAAiBlqE,UAAUk0E,QAAU,WACjCl2E,KAAKszE,MAOTpH,GAAiBlqE,UAAUm0E,UAAY,WACnCn2E,KAAKuzE,QAOTrH,GAAiBlqE,UAAUo0E,gBAAkB,WACzCp2E,KAAKgzE,KAAK,IAOd9G,GAAiBlqE,UAAUq0E,oBAAsB,WAC7Cr2E,KAAKgzE,MAAM,IAOf9G,GAAiBlqE,UAAUs0E,kBAAoB,WAC3Ct2E,KAAKkxE,aAAa,IAOtBhF,GAAiBlqE,UAAUu0E,gBAAkB,WACzCv2E,KAAKkxE,cAAc,IAOvBhF,GAAiBlqE,UAAUw0E,sBAAwB,WAC/Cx2E,KAAK2zE,yBAAyB,IAOlCzH,GAAiBlqE,UAAUy0E,oBAAsB,WAC7Cz2E,KAAK2zE,wBAAwB,IAOjCzH,GAAiBlqE,UAAU00E,gBAAkB,WACzC12E,KAAKuxE,QAAQ,IAOjBrF,GAAiBlqE,UAAU20E,oBAAsB,WAC7C32E,KAAKuxE,SAAS,IAOlBrF,GAAiBlqE,UAAU40E,gBAAkB,WACzC52E,KAAK62E,uBACL72E,KAAKuxE,WAOTrF,GAAiBlqE,UAAU80E,oBAAsB,WAC7C92E,KAAK+2E,2BACL/2E,KAAKuxE,WAOTrF,GAAiBlqE,UAAUg1E,oBAAsB,WAC7Ch3E,KAAKi3E,qBACLj3E,KAAKuxE,WAOTrF,GAAiBlqE,UAAUk1E,kBAAoB,WAC3Cl3E,KAAKm3E,yBACLn3E,KAAKuxE,WAQTrF,GAAiBlqE,UAAUo1E,sBAAwB,WAC/Cp3E,KAAKq3E,uBACLr3E,KAAKuxE,WAUTrF,GAAiBlqE,UAAUs1E,WAAa,aAQxCpL,GAAiBlqE,UAAUu1E,kBAAoB,WAC3Cv3E,KAAKozE,OAAO,IAOhBlH,GAAiBlqE,UAAUw1E,sBAAwB,WAC/Cx3E,KAAKozE,QAAQ,IAOjBlH,GAAiBlqE,UAAUy1E,kBAAoB,WAC3Cz3E,KAAKgzE,KAAK,EAAI,CAAEI,QAAQ,KAO5BlH,GAAiBlqE,UAAU01E,sBAAwB,WAC/C13E,KAAKgzE,MAAM,EAAG,CAAEI,QAAQ,KAS5BlH,GAAiBlqE,UAAU21E,UAAY,WACnC33E,KAAKszE,GAAG,CAAEF,QAAQ,KAStBlH,GAAiBlqE,UAAU41E,YAAc,WACrC53E,KAAKuzE,KAAK,CAAEH,QAAQ,KAYxBlH,GAAiBlqE,UAAU61E,sBAAwB,WAC/C73E,KAAKgzE,KAAK,EAAI,CAAEI,QAAQ,KAY5BlH,GAAiBlqE,UAAU81E,0BAA4B,WACnD93E,KAAKgzE,MAAM,EAAG,CAAEI,QAAQ,KAO5BlH,GAAiBlqE,UAAU+1E,oBAAsB,WAC7C/3E,KAAKswE,WAAWtwE,KAAKowE,iBAOzBlE,GAAiBlqE,UAAUg2E,kBAAoB,WAC3Ch4E,KAAKswE,UAAUtwE,KAAKqqE,WAAWvmE,OAAS9D,KAAKowE,iBAOjDlE,GAAiBlqE,UAAUi2E,wBAA0B,WACjDj4E,KAAK2zE,yBAAyB,EAAG,CAAEP,QAAQ,KAQ/ClH,GAAiBlqE,UAAUk2E,sBAAwB,WAC/Cl4E,KAAK2zE,wBAAwB,EAAI,CAAEP,QAAQ,KAS/ClH,GAAiBlqE,UAAUm2E,mBAAqB,WAE5C,GADAn4E,KAAKyuE,mBACAzuE,KAAKoR,SAASyoD,YACf,GAAI75D,KAAKoR,SAAS0oD,UACd95D,KAAKoR,SAASyoD,YAAc,CAAC6S,UAC1B,CACH,IAAM3B,EAAU/qE,KAAK+qE,QAAQ,GACzBA,GAAWA,EAAQlR,YACnB75D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,EAEnC45D,GAAWA,EAAQjR,WAC1B95D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,EAE1CnR,KAAKoR,SAASyoD,YAAc,CAAC6S,QAEA,WAAzB1sE,KAAKoR,SAAS2iD,SACd/zD,KAAKqqE,WAAWrkC,OACZhmC,KAAKowE,eAAiB,EACtB,EACA,IAAI9W,GAASA,SACTt5D,KAAKmvC,SAASiiC,WACd,UACA,IACApxE,KAAKsvE,gBAGbtvE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,GAG9CnR,KAAKoR,SAASyoD,YAAc,CAAC6S,OAIzC1sE,KAAKgc,KAAKnQ,KAAK,CAAEmuD,SAAU,cAAe7oD,OAAQ,IAClDnR,KAAKmxE,gBASTjF,GAAiBlqE,UAAUo2E,iBAAmB,WAE1C,GADAp4E,KAAKyuE,mBACAzuE,KAAKoR,SAAS0oD,UACf,GAAI95D,KAAKoR,SAASyoD,YACd75D,KAAKoR,SAAS0oD,UAAY,CAAC4S,UACxB,CACH,IAAM3B,EAAU/qE,KAAK+qE,QAAQ,GACzBA,GAAWA,EAAQjR,UACnB95D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,EAEnC45D,GAAWA,EAAQlR,aAC1B75D,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,EAE1CnR,KAAKoR,SAAS0oD,UAAY,CAAC4S,QAEE,WAAzB1sE,KAAKoR,SAAS2iD,SACd/zD,KAAKqqE,WAAWrkC,OACZhmC,KAAKowE,eAAiB,EACtB,EACA,IAAI9W,GAASA,SACTt5D,KAAKmvC,SAASiiC,WACd,UACA,IACApxE,KAAKsvE,gBAGbtvE,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGqN,QAAU,GAG9CnR,KAAKoR,SAAS0oD,UAAY,CAAC4S,OAIvC1sE,KAAKgc,KAAKnQ,KAAK,CAAEmuD,SAAU,YAAa7oD,OAAQ,IAChDnR,KAAKmxE,gBAaTjF,GAAiBlqE,UAAUq2E,gBAAkB,WACzC,IAAMC,EAAqB,CACvBze,YAAa,YACbC,UAAW,cACX1E,MAAO,QACPD,MAAO,SAELojB,EAAmBD,EAAmBt4E,KAAKg6D,YAC5Cue,GACDv4E,KAAKm4E,qBAGJn4E,KAAKmvC,SAASopC,KAGfv4E,KAAKmvC,SAASopC,GAAoB,CAAC7L,OAGvC1sE,KAAKkxE,aAAa,EAAG,MAAOqH,IAOhCrM,GAAiBlqE,UAAUw2E,kBAAoB,WACvCx4E,KAAKgc,KAAKlY,OAAS,GACnB9D,KAAKgc,KAAKzC,MACVvZ,KAAKkxE,aAAalxE,KAAKowE,eAAiB,IAExCpwE,KAAKuuE,UAAU,UAQvBrC,GAAiBlqE,UAAUy2E,iBAAmB,WAC1C,GAAIz4E,KAAKgc,KAAKlY,OAAS,EAAG,CACtB,IAAMmsE,EAAUlnB,GAAM/oD,MACtBA,KAAKgc,KAAKzC,MACVvZ,KAAKswE,UAAU,GACftwE,KAAKuuE,UAAU,OAAQ0B,QAEvBjwE,KAAKuuE,UAAU,UASvBrC,GAAiBlqE,UAAU02E,SAAW,SAASC,GAE3C,IAAMxpC,EAASnvC,KAAKmvC,SACpB,GAAIA,GAA0B,UAAhBA,EAAOtwB,MAAoB9M,MAAMmE,QAAQi5B,EAAO58B,OAAQ,CAClE,IAAMynD,EAAWh6D,KAAKg6D,WACtB,GAAI7qB,EAAO58B,MAAO,CACd,IAAM26D,EAASX,GAAYp9B,EAAO58B,MAAOynD,GAE3B,cAAV2e,GAAmC,eAAVA,GAEzBzL,EAAO9R,IAAM,EACb8R,EAAOvZ,IAAMuZ,EAAOvZ,KAAiB,cAAVglB,EAAwB,EAAI,GAEvDxpC,EAAO58B,MAAMyzB,OAAOknC,EAAOvZ,IAAK,EAAG,CAAC,OAGpCuZ,EAAO9R,KAAiB,iBAAVud,EAA2B,EAAI,EAC7CxpC,EAAO58B,MAAM26D,EAAOvZ,KAAK3tB,OAAOknC,EAAO9R,IAAK,EAAG,KAGnD,IAAMyX,EAAYxG,GAAWl9B,EAAO58B,MAAO26D,GAE3CltE,KAAKgc,KAAKzC,MACVvZ,KAAKgc,KAAKnQ,KAAK,CACXmuD,SAAU,OAAS6Y,EAAUntE,WAC7ByL,OAAQ,IAEZnR,KAAKgxE,qBAKjB9E,GAAiBlqE,UAAU42E,qBAAuB,WAC9C,IAAMzpC,EAASnvC,KAAKmvC,SACpB,GAAoB,cAAhBA,EAAOtwB,KAAsB,CAC7BswB,EAAOtwB,KAAO,QACd,IAAMinD,EACF,CAAE,IAAK,UAAW,WAAY,UAAW,WAAY,SACjD32B,EAAOmmB,YACN,SACH0Q,EAAMpP,GAAYvF,mBAAmByU,GACrCvzD,EAAQ,CAAC,CAAC48B,EAAO3I,OACnBw/B,EAAI1U,QACJxwD,OAAO6V,OAAOw4B,EAAQ62B,EAAI1U,OAAOwU,EAAS,GAAIvzD,IAElD48B,EAAOu0B,YAAcsC,EAAIzU,QACzBpiB,EAAOohB,UAAYvwD,KAAKoxE,aACxBjiC,EAAO62B,IAAP,MAAkBA,GAClB72B,EAAO62B,IAAIrlE,KAAOmlE,EAClB32B,EAAO58B,MAAQA,EACf48B,EAAO+rB,QAAU,CAAC,UACX/rB,EAAO3I,KACdxmC,KAAKgc,KAAKhc,KAAKgc,KAAKlY,OAAS,GAAGk2D,SAAW,UAWnDkS,GAAiBlqE,UAAU62E,aAAe,WACtC74E,KAAK2vE,oBACL3vE,KAAK44E,uBACL54E,KAAK04E,SAAS,aACd14E,KAAK6vE,oBAMT3D,GAAiBlqE,UAAU82E,cAAgB,WACvC94E,KAAK2vE,oBACL3vE,KAAK44E,uBACL54E,KAAK04E,SAAS,cACd14E,KAAK6vE,oBAOT3D,GAAiBlqE,UAAU+2E,gBAAkB,WACzC/4E,KAAK2vE,oBACL3vE,KAAK44E,uBACL54E,KAAK04E,SAAS,gBACd14E,KAAK6vE,oBAOT3D,GAAiBlqE,UAAUg3E,iBAAmB,WAC1Ch5E,KAAK2vE,oBACL3vE,KAAK44E,uBACL54E,KAAK04E,SAAS,iBACd14E,KAAK6vE,oBAcT3D,GAAiBlqE,UAAUi3E,YAAc,SAASv/C,GAE9C,IAAI15B,KAAKixE,cAAT,CAEA,IAAMhsE,EAAOjF,KAaT05B,EAAM4K,OAAS40C,EAAW,QAASx/C,EAAM4K,SAEzC5K,EAAM4K,MAAQ,QAId5K,EAAM+vB,iBACNyvB,EAAW,kBAAmBx/C,EAAM+vB,mBAGpC/vB,EAAM+vB,gBAAkB,QAGxB/vB,EAAMiwB,YAAcuvB,EAAW,aAAcx/C,EAAMiwB,cAEnDjwB,EAAMiwB,WAAa,QAGnBjwB,EAAMy/C,SAAQz/C,EAAMowB,WAAapwB,EAAMy/C,QACvCz/C,EAAMowB,YAAcovB,EAAW,aAAcx/C,EAAMowB,cAEnDpwB,EAAMowB,WAAa,QAGnBpwB,EAAM0/C,QAAO1/C,EAAMkwB,UAAYlwB,EAAM0/C,OACrC1/C,EAAMkwB,WAAasvB,EAAW,YAAax/C,EAAMkwB,aAEjDlwB,EAAMkwB,UAAY,QAGlBlwB,EAAMpoB,OAAMooB,EAAMgxB,SAAWhxB,EAAMpoB,MACnCooB,EAAMgxB,UAAYwuB,EAAW,WAAYx/C,EAAMgxB,YAE/ChxB,EAAMgxB,SAAW,SAGrB1qD,KAAK2vE,oBACL3vE,KAAK8uE,iBAAgB,SAAA1rE,GAAC,OAAIA,EAAEm2D,WAAW7/B,KAAQ,CAAEq1C,WAAW,IAC5D/uE,KAAK6vE,mBAjDL,SAASqJ,EAAWn3E,EAAUV,GAC1B,IAAI2H,GAAS,EAOb,OANA/D,EAAK6pE,iBACD,SAAA1rE,GACI4F,EAASA,GAAU5F,EAAErB,KAAcV,IAEvC,CAAE0tE,WAAW,IAEV/lE,IAwVA,QACXkjE,oBACA4B,oBCnuHEuL,GAAW,CACb,IAAgB,IAChB,IAAgB,IAChB,IAAgB,cAChB,IAAgB,eAChB,IAAgB,QAChB,IAAgB,OAChB,IAAgB,QAChB,IAAgB,QAChB,KAAgB,aAGdC,GAAY,CACd,MAAgB,WAChB,IAAgB,WAChB,OAAgB,MAChB,UAAgB,OAChB,QAAgB,KAChB,WAAgB,QAChB,UAAgB,OAChB,OAAgB,OAGZC,GAAoB,CACtB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAChB,EAAgB,OAEhB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAChB,EAAgB,SAEhB,IAAgB,eAChB,IAAgB,eAChB,IAAgB,eAChB,EAAgB,eAChB,IAAgB,eAChB,IAAgB,eAChB,IAAgB,eAChB,IAAgB,eAChB,IAAgB,eAChB,IAAgB,eAEhB,IAAgB,QAChB,EAAgB,cAEhB,IAAgB,QAChB,KAAgB,YAEhB,IAAgB,kBAChB,IAAgB,cAEhB,IAAgB,YAiBtB,SAASC,GAAsBC,GAC3B,IAAIC,EACAC,GAAe,EAEH,iBAAZF,EAAI93E,KAGA83E,EAAIx2E,SACJy2E,EAAUH,GAAkBE,EAAIx2E,OAAO5B,QAAUo4E,EAAIx2E,OAAO5B,OAI/Dq4E,IACGL,GAASI,EAAI93E,MACb+3E,EAAUL,GAASI,EAAI93E,KACvBg4E,GAAe,GAEfD,EAAUJ,GAAUG,EAAI93E,KAOvB+3E,IACDA,EAAUH,GAAkBE,EAAI93E,IAAIya,gBAAkBq9D,EAAI93E,OAI7D+3E,GAAWD,EAAI7+D,OAChB8+D,EAAUJ,GAAUG,EAAI7+D,OAAS6+D,EAAI7+D,MAGzC,IAAMkxD,EAAY,GAQlB,OANI2N,EAAIG,SAAS9N,EAAUjgE,KAAK,QAC5B4tE,EAAII,SAAS/N,EAAUjgE,KAAK,QAC5B8tE,GAAgBF,EAAIK,QAAQhO,EAAUjgE,KAAK,OAC3C8tE,GAAgBF,EAAIM,UAAUjO,EAAUjgE,KAAK,SAGxB,IAArBigE,EAAUhoE,OAAqB41E,GAEnC5N,EAAUjgE,KAAK6tE,GAER5N,EAAU9mE,KAAK,MAoC1B,SAASg1E,GAAuBC,EAAUC,GACtC,IAOIC,EAPAC,EAAe,KACfC,EAAgB,KAChBC,GAAwB,EACxBC,GAAU,EAMd,SAASz5D,EAAM84C,GACX4gB,aAAaL,GACbA,EAAoB13D,YAAW,WAC3B+3D,aAAaL,GACbvgB,OAIR,SAAS6gB,IAIL,IAAIC,GAAaT,GAAjB,CAEA,IAAMtjB,EAAOsjB,EAAS54E,MACtB44E,EAAS54E,MAAQ,GACbs1D,EAAK7yD,OAAS,GAAGo2E,EAASS,UAAUhkB,IAG5C,SAASikB,EAAU7sE,GACf,IAAM8sE,EAAgD,oBAA1BX,EAASW,cACjCX,EAASW,eACb,GAAKA,GACW,SAAV9sE,EAAEpM,KAA4B,iBAAVoM,EAAEpM,KAAyC,MAAdoM,EAAE+sE,QAcrDP,GAAU,MAd6D,CACvEA,GAAU,EACVD,GAAwB,EAGxB,IAAMS,EAAYb,EAASc,KACrBC,EAAaf,EAASzG,MAC5ByG,EAASc,KAAO,KAChBd,EAASzG,MAAQ,KACjBwG,EAASe,OACTf,EAASxG,QACTyG,EAASc,KAAOD,EAChBb,EAASzG,MAAQwH,EAIrB,SAAKX,GACU,aAAXvsE,EAAE6M,OACD,uCAAuCtY,KAAKyL,EAAE6M,SAC/Cw/D,EAAersE,EACfssE,EAAgB,KACTH,EAAS9O,UAAUoO,GAAsBzrE,GAAIA,IAK5D,SAASmtE,EAAWntE,GAGXusE,IACGF,GAAgBC,GAChBH,EAAS9O,UAAUoO,GAAsBY,GAAeA,GAG5DC,EAAgBtsE,EAChB+S,EAAM25D,IAId,SAASU,IAGAb,IAAyBF,GAAiBC,GAC3CI,IAIR,SAASW,IAGLnB,EAASxG,QACT,IAAM9c,EAAOsjB,EAAS54E,MACtB44E,EAAS54E,MAAQ,GACbs1D,EAAK7yD,OAAS,GAAGo2E,EAASmB,MAAM1kB,GAGxC,SAAS2kB,EAAOvtE,GACRmsE,EAASqB,MAAMrB,EAASqB,KAAKxtE,GAGrC,SAASytE,EAAMztE,GACPmsE,EAASuB,KAAKvB,EAASuB,IAAI1tE,GAGnC,SAAS2tE,IACLtB,EAAe,KACfC,EAAgB,KACZH,EAASc,MAAMd,EAASc,OAEhC,SAASW,IACDzB,EAASzG,OACTyG,EAASzG,QAIjB,IAAMxwE,EAASg3E,GAAYC,EAAS0B,UAEpC34E,EAAOof,iBAAiB,UAAWu4D,GAAW,GAC9C33E,EAAOof,iBAAiB,WAAY64D,GAAY,GAChDj4E,EAAOof,iBAAiB,QAAS84D,GAAS,GAC1Cl4E,EAAOof,iBAAiB,QAAS+4D,GAAS,GAC1Cn4E,EAAOof,iBAAiB,OAAQi5D,GAAQ,GACxCr4E,EAAOof,iBAAiB,MAAOm5D,GAAO,GACtCv4E,EAAOof,iBAAiB,OAAQq5D,GAAQ,GACxCz4E,EAAOof,iBAAiB,QAASs5D,GAAS,GAC1C14E,EAAOof,iBAAiB,oBACpB,WAAQi4D,GAAwB,KAAQ,GAC5Cr3E,EAAOof,iBAAiB,kBACpB,WAAQi4D,GAAwB,EAAOx5D,EAAM25D,MAAqB,GAItEx3E,EAAOof,iBAAiB,SAAS,WAC7B,GAAIk4D,EAAS,CACT,IAAMQ,EAAYb,EAASc,KACrBC,EAAaf,EAASzG,MAC5ByG,EAASc,KAAO,KAChBd,EAASzG,MAAQ,KACjBwG,EAASe,OACTf,EAASxG,QACTyG,EAASc,KAAOD,EAChBb,EAASzG,MAAQwH,EACjBV,GAAU,EACVD,GAAwB,EACxBx5D,EAAM25D,QACEH,GACRx5D,EAAM25D,MAMlB,SAASC,GAAaT,GAClB,OAAOA,EAAS4B,iBAAmB5B,EAAS6B,aAIhD,SAASC,GAAYtC,GACjB,OAAKA,GAEW,iBAAZA,EAAI93E,KAGA83E,EAAIx2E,SACJ+F,EAASywE,EAAIx2E,OAAO5B,OAG5B2H,EAASA,GAAUywE,EAAI93E,KAAO83E,EAAI7+D,KAC9B,0GAA0GtY,KAAK0G,KAC/GA,EAAS,IAENA,GAbU,GACjB,IAAIA,EAeR,SAASgzE,GAAYv7E,GACjB,IAAMuI,EAAS,CACXrH,IAAKlB,EACLo5E,SAAS,EACTD,SAAS,EACTE,QAAQ,EACRC,UAAU,GAGd,OAAO/wE,EAGI,QACXgxE,uBAAwBA,GACxBiC,OAAQjC,GAAuBiC,OAC/BzC,yBACAuC,eACAC,gB,mgCC7WEE,G,WACF,WAAYrT,GAAU,WAClB7oE,KAAK6oE,SAAWA,EAChB7oE,KAAKm8E,aAAe,IACpBn8E,KAAK6gC,QAAS,EACd7gC,KAAKo8E,aAAc,EACnBp8E,KAAK0iC,Q,2CAGL1iC,KAAKu+C,MAAQ,GACbv+C,KAAKuN,OAAS,I,uCAGdvN,KAAK6gC,QAAS,I,gCAUd,OAAO7gC,KAAKuN,MAAQ,I,gCAUpB,OAAOvN,KAAKuN,QAAUvN,KAAKu+C,MAAMz6C,OAAS,I,2BAQzCyQ,GACGvU,KAAKq8E,YACD9nE,GAAoD,oBAAlCA,EAAQ+nE,uBAC1B/nE,EAAQ+nE,sBAAsBt8E,KAAK6oE,SAAS5lE,OAAQ,QAExDjD,KAAKu8E,QAAQv8E,KAAKu+C,MAAMv+C,KAAKuN,MAAQ,GAAIgH,GACzCvU,KAAKuN,OAAS,EACVgH,GAAmD,oBAAjCA,EAAQioE,sBAC1BjoE,EAAQioE,qBAAqBx8E,KAAK6oE,SAAS5lE,OAAQ,QAEvDjD,KAAKo8E,aAAc,K,2BAStB7nE,GACGvU,KAAKy8E,YACDloE,GAA6C,aAAlCA,EAAQ+nE,uBACnB/nE,EAAQ+nE,sBAAsBt8E,KAAK6oE,SAAS5lE,OAAQ,QAExDjD,KAAKuN,OAAS,EACdvN,KAAKu8E,QAAQv8E,KAAKu+C,MAAMv+C,KAAKuN,OAAQgH,GACjCA,GAAmD,oBAAjCA,EAAQioE,sBAC1BjoE,EAAQioE,qBAAqBx8E,KAAK6oE,SAAS5lE,OAAQ,QAEvDjD,KAAKo8E,aAAc,K,4BAUnBp8E,KAAKq8E,YACLr8E,KAAKuN,OAAS,EACdvN,KAAKu+C,MAAMhlC,S,+BAUVhF,GACAvU,KAAK6gC,SAENtsB,GAA6C,aAAlCA,EAAQ+nE,uBACnB/nE,EAAQ+nE,sBAAsBt8E,KAAK6oE,SAAS5lE,OAAQ,YAGxDjD,KAAKu+C,MAAMvY,OAAOhmC,KAAKuN,MAAQ,EAAGvN,KAAKu+C,MAAMz6C,OAAS9D,KAAKuN,MAAQ,GAEnEvN,KAAKu+C,MAAM1yC,KAAK,CACZm2D,MAAOhiE,KAAK6oE,SAASppE,KAAK4wE,UAC1BvO,UAAW9hE,KAAK6oE,SAASnjE,aAG7B1F,KAAKuN,QAGDvN,KAAKu+C,MAAMz6C,OAAS9D,KAAKm8E,cACzBn8E,KAAKu+C,MAAM9/B,QAEXlK,GAAmD,oBAAjCA,EAAQioE,sBAC1BjoE,EAAQioE,qBAAqBx8E,KAAK6oE,SAAS5lE,OAAQ,YAEvDjD,KAAKo8E,aAAc,K,0CASH7nE,GACZvU,KAAKo8E,aACLp8E,KAAKuZ,MAETvZ,KAAK08E,SAASnoE,GACdvU,KAAKo8E,aAAc,I,6BAWnB,MAAO,CACHpa,MAAOhiE,KAAK6oE,SAASppE,KAAK4wE,UAC1BvO,UAAW9hE,KAAK6oE,SAASnjE,c,8BAWzBsF,EAAOuJ,GACX,IAAMooE,EAAiB38E,KAAK6oE,SAASsD,iCACOpoE,IAAxCwQ,EAAQ43D,8BACRnsE,KAAK6oE,SAASsD,4BAA8B53D,EAAQ43D,6BAIxDnsE,KAAK6oE,SAAS8L,OAAO3pE,EAAQA,EAAMg3D,MAAQ,GAA3C,IACIzgE,KAAM,OACNszE,cAAe,aACfC,cAAe,QACf/G,OAAQ,SACLx5D,IAIPvU,KAAK6oE,SAASkH,QAAQ/kE,EAAQA,EAAM82D,UAAY,CAAC,CAAC9H,SAAU,OAAQ7oD,OAAQ,KAE5EnR,KAAK6oE,SAASsD,4BAA8BwQ,M,KAIrC,IACXT,gBClLEU,GAAU,CACZ,WAAoB,6BACpB,WAAoB,6BACpB,OAAoB,yBACpB,OAAoB,yBACpB,SAAoB,2BACpB,WAAoB,oBACpB,WAAoB,iBACpB,QAAoB,iBACpB,SAAoB,eACpB,aAAoB,mBACpB,YAAoB,kBACpB,WAAoB,mBACpB,WAAoB,6BACpB,YAAoB,kBACpB,eAAoB,yBAEpB,SAAoB,kBACpB,WAAoB,oBACpB,eAAoB,wBACpB,WAAoB,oBACpB,WAAoB,oBACpB,WAAoB,oBACpB,WAAoB,oBACpB,gJACA,+GAEA,cAAoB,gCACpB,aAAoB,+BAEpB,QAAoB,0BACpB,UAAoB,4BACpB,UAAoB,4BACpB,UAAoB,4BACpB,UAAoB,4BACpB,QAAoB,0BACpB,SAAoB,2BACpB,QAAoB,0BACpB,QAAoB,0BAEpB,MAAoB,sCACpB,MAAoB,sCACpB,MAAoB,sCACpB,MAAoB,sCACpB,SAAoB,yCACpB,UAAoB,0CACpB,WAAoB,2CACpB,UAAoB,0CAGpB,SAAoB,6CACpB,UAAoB,8CACpB,UAAoB,8CACpB,UAAoB,8CACpB,WAAoB,+CACpB,WAAoB,+CACpB,UAAoB,8CACpB,UAAoB,8CAEpB,OAAoB,WACpB,UAAoB,cACpB,QAAoB,YACpB,OAAoB,UACpB,SAAoB,YACpB,WAAoB,cACpB,WAAoB,cACpB,aAAoB,gBACpB,aAAoB,gBACpB,cAAoB,iBACpB,cAAoB,iBACpB,cAAoB,iBACpB,cAAoB,iBACpB,iBAAoB,oBACpB,iBAAoB,oBACpB,eAAoB,oBACpB,eAAoB,kBACpB,kBAAoB,qBACpB,YAAoB,eACpB,YAAoB,eACpB,eAAoB,iBAGpB,WAAoB,8BACpB,WAAoB,8BACpB,SAAoB,2BACpB,SAAoB,+CACpB,QAAoB,8CACpB,QAAoB,8CACpB,aAAoB,iDACpB,aAAoB,iDACpB,aAAoB,iDACpB,YAAoB,gDACpB,UAAoB,6BAEpB,UAAoB,4BACpB,aAAqB,wCACrB,SAAoB,uDACpB,YAAoB,yFACpB,cAAoB,kDACpB,MAAoB,cAEpB,QAAoB,uBACpB,QAAoB,wBACpB,QAAoB,cAEpB,SAAoB,aACpB,SAAoB,cAQlBC,GAAQ,CACV,SAAgB,aAChB,WAAgB,aAChB,eAAgB,aAChB,WAAgB,cAChB,WAAgB,YAChB,WAAgB,kBAChB,WAAgB,kBAChB,WAAgB,CAAC,QAAS,aAC1B,WAAgB,OAChB,OAAgB,OAChB,SAAgB,OAChB,WAAgB,SAChB,WAAgB,aAChB,QAAgB,aAChB,YAAgB,SAChB,WAAgB,CAAC,aAAc,gBAC/B,WAAgB,aAChB,YAAgB,cAChB,SAAgB,CAAC,UAAW,YAC5B,aAAgB,CAAC,UAAW,YAE5B,cAAgB,aAChB,UAAgB,QAGhB,WAAgB,UAChB,WAAgB,eAChB,YAAgB,uBAChB,SAAgB,WAChB,UAAgB,mBAChB,UAAgB,sBAChB,UAAgB,gBAChB,UAAgB,uBAChB,WAAgB,+BAChB,WAAgB,4BAChB,UAAgB,uBAEhB,QAAgB,SAChB,UAAgB,QAChB,UAAgB,QAChB,UAAgB,QAChB,UAAgB,QAChB,QAAgB,MAChB,QAAgB,CAAC,MAAO,cACxB,SAAgB,aAChB,QAAgB,MAEhB,UAAgB,QAChB,gBAAgB,eAChB,eAAgB,YAChB,aAAgB,YAChB,aAAgB,4BAChB,aAAgB,8BAChB,WAAgB,cAChB,WAAgB,YAChB,YAAgB,qBAChB,WAAgB,QAChB,WAAgB,eAChB,WAAgB,yBAChB,UAAgB,oBAChB,OAAgB,CAAC,aAAc,eAC/B,UAAgB,WAChB,SAAgB,cAChB,SAAgB,cAChB,SAAgB,UAChB,QAAgB,YAChB,UAAgB,CAAC,eAAgB,YAAa,eAAgB,kBAC9D,QAAgB,aAChB,QAAgB,oBAChB,QAAgB,WAChB,SAAgB,mBAChB,SAAgB,iBAChB,UAAgB,kBAChB,QAAgB,iBAChB,OAAgB,oBAChB,eAAgB,OAChB,aAAgB,kBAChB,aAAgB,6BAChB,aAAgB,6BAChB,aAAgB,+BAChB,YAAgB,+BAChB,WAAgB,CAAC,QAAS,mBAC1B,WAAgB,iCAChB,WAAgB,kBAChB,UAAgB,gBAEhB,MAAgB,CAAC,sBAAuB,WACxC,MAAgB,CAAC,QAAS,UAC1B,MAAgB,CAAC,aAAc,UAC/B,MAAgB,CAAC,eAAgB,UACjC,MAAgB,CAAC,cAAe,UAChC,SAAgB,CAAC,aAAc,WAC/B,UAAgB,CAAC,aAAc,WAC/B,WAAgB,CAAC,kBAAmB,UAEpC,OAAgB,gBAChB,OAAgB,gBAChB,OAAgB,oBAChB,OAAgB,eAChB,mBAAoB,eACpB,mBAAoB,yBACpB,kBAAuB,iBACvB,UAAoB,CAAC,QAAS,oBACV,6GAEpB,SAAmB,CAAC,OAAQ,cACR,yGAEpB,UAAoB,CAAC,QAAS,iBACV,4GAGpB,MAAoB,YACpB,MAAoB,6BACpB,MAAoB,sBACpB,MAAoB,8BACpB,MAAoB,6BACpB,MAAoB,0BACpB,MAAoB,2BAEpB,eAAoB,0CACpB,aAAoB,yCACpB,aAAoB,wCAEpB,MAAoB,YACpB,MAAoB,YACpB,SAAoB,eACpB,eAAoB,iBACpB,eAAoB,kBACpB,UAAoB,CAAC,QAAS,MAAO,gCAErC,WAAoB,CAAC,SAAU,sBACX,mHAEpB,gBAAoB,CAAC,eAAgB,eAAgB,YAAa,iBAClE,QAAoB,eACpB,UAAoB,CAAC,YAAa,SAClC,YAAoB,CAAC,gBAAiB,eACtC,UAAoB,CAAC,gBAAiB,MACtC,MAAoB,CAAC,WAAY,cACjC,OAAoB,iBACpB,OAAoB,oBACpB,UAAoB,yBACpB,UAAoB,yBACpB,aAAoB,yBACpB,SAAoB,CAAC,iBAAkB,8BACvC,QAAoB,CAAC,iBAAkB,iBACvC,YAAoB,4BACpB,WAAoB,CAAC,iBAAkB,gBACnB,oBAAqB,iBACzC,UAAoB,CAAC,aAAc,gBACnC,OAAoB,mBACpB,OAAoB,oBACpB,OAAoB,CAAC,gBACD,gIAEpB,OAAoB,CAAC,iBACD,4GAEpB,QAAoB,CAAC,YAAa,qCAClC,QAAoB,CAAC,gBAAiB,kCACtC,QAAoB,CAAC,cAAe,sBACpC,QAAoB,CAAC,UAAW,oCACZ,4GAGpB,mBAAoB,UACpB,uBAAwB,mBAExB,SAAoB,WACpB,WAAoB,0BACpB,SAAoB,YACpB,WAAoB,2BACpB,SAAoB,CAAC,sBAAuB,qBAE5C,WAAoB,CAAC,UACD,2BACA,+BACA,8GAEpB,UAAoB,CAAC,YACD,4BACA,sBACA,gHAGpB,YAAoB,CAAC,UAAW,uBAChC,cAAoB,CAAC,aAAc,uBAEnC,SAAoB,CAAC,OAAQ,UAAW,aACxC,WAAoB,CAAC,sBACD,gHAEpB,WAAoB,CAAC,sBACD,gHAEpB,mBAA4B,CAAC,sBACT,gHAEpB,oBAA6B,CAAC,sBACV,gHAEpB,kBAAoB,CAAC,mBACrB,eAAoB,MACpB,aAAoB,OAEpB,UAAoB,2BACpB,oBAAuB,CACH,0BACA,uBAGpB,SAAoB,CAAC,SAAU,OAAQ,wBAEvC,SAAoB,CAAC,gBACG,cACxB,SAAoB,CAAC,eACG,cACxB,aAAoB,CAAC,YACG,4BAExB,QAAoB,CAAC,WAAY,wCACjC,WAAoB,SAEpB,QAAoB,SAGxB,SAASC,GAAQ3uD,GACb,IAAInlB,EAAS6zE,GAAM1uD,IAAW,GAK9B,OAJIpc,MAAMmE,QAAQlN,KACdA,EAASA,EAAOhE,KAAK,SAGlBgE,EAKX,SAAS+zE,GAAc/a,EAAOgb,GAC1B,IAAM1pB,EAAQyhB,GAAa9Q,YAAY7hB,EAAMS,SAASmf,GAAQ,OAAQ,KAAMgb,EAAGnT,OAAOrhB,QAChFoE,EAAQ0M,GAASY,UACnB,CACIxR,UAAW,eACXF,OAAQw0B,EAAGnT,OAAOrhB,QAEtB8K,GAEEz1C,EAAOorC,GAAK6D,SAASF,EAAO,YAE5BqwB,EAAWh0B,GAAK6D,SAAS,GAAI,aACnCmwB,EAASzzB,SAAS,SAAU3rC,EAAK2oC,OAAQ,MACzC,IAAM02B,EAAcj0B,GAAK6D,SAAS,GAAI,qBACtCowB,EAAY1zB,SAAS,SAAU3rC,EAAK2oC,OAAS3oC,EAAKkqB,MAAO,MACzDm1C,EAAY1zB,SAAS,kBAAmB3rC,EAAKkqB,MAAO,MACpD,IAAM19B,EAAU4+C,GAAK6D,SAAS,CAACmwB,EAAUC,EAAar/D,GAAO,gBAE7D,OAAOxT,EAAQqhD,WAGnB,SAASyxB,GAAqBH,EAAIhb,EAAOob,GACrC,GAAKpb,GAA0B,IAAjBA,EAAMl+D,OAApB,CAKA,IAAM2+C,EAAUuf,EACVqb,EAAiBN,GAAcH,GAAQn6B,IAAYuf,EAAOgb,GAC1DM,EAAeR,GAAQr6B,GACvB86B,EAAoBjP,GAAUhD,WAAW7oB,GAE3C/L,EAAW0mC,EACX,kIAAoI,GACxI1mC,GAAY,oDACZA,GAAY,qCACR2mC,EAAiB,SACjBC,IACA5mC,GAAY,kCACR4mC,EAAe,UAEnBC,IACA7mC,GAAY,sCACR6mC,EAAoB,UAE5B7mC,GAAY,UACZA,GAAY0mC,EAAgB,8HAAgI,GAC5JI,GAAYR,EAAItmC,GAEhB,IAAIxuB,EAAK80D,EAAGS,QAAQC,uBAAuB,wBACvCx1D,GAAMA,EAAGpkB,OAAS,GAClBk5E,EAAGW,sBAAsBz1D,EAAG,GAAI,CAAC,WAAY,CAACshD,kBAAiB,KAInEthD,EAAK80D,EAAGS,QAAQC,uBAAuB,8BACnCx1D,GAAMA,EAAGpkB,OAAS,GAClBk5E,EAAGW,sBAAsBz1D,EAAG,GAAI,sBAGpCA,EAAK80D,EAAGS,QAAQC,uBAAuB,8BACnCx1D,GAAMA,EAAGpkB,OAAS,GAClBk5E,EAAGW,sBAAsBz1D,EAAG,GAAI,uBAvChC01D,GAAYZ,GA4CpB,SAASa,GAAsBb,EAAIzoE,GAI/B,GAAKyoE,EAAG90C,SAAW80C,EAAG90C,QAAQ41C,YAAcd,GAGxCA,EAAGS,QAAQ1xB,UAAUylB,SAAS,cAC9B,GAAIj9D,GAAWA,EAAQwpE,SAGnBn4E,OAAOo4E,uBAAsB,kBAAMH,GAAsBb,WAEzD,GAAKA,EAAGnU,SAASz3D,UAA0C,YAA9B4rE,EAAGnU,SAASz3D,SAASyN,KAE3C,CAEH,IAAM4L,EAAWuyD,EAAGiB,oBAChBxzD,GAAUyzD,GAAmBlB,EAAIvyD,QAJrCmzD,GAAYZ,GAU5B,SAASQ,GAAYR,EAAImB,GACrBnB,EAAGS,QAAQW,UAAYD,EAEvB,IAAM1zD,EAAWuyD,EAAGiB,oBAChBxzD,GAAUyzD,GAAmBlB,EAAIvyD,GAErCuyD,EAAGS,QAAQ1xB,UAAU54B,IAAI,cAG7B,SAAS+qD,GAAmBlB,EAAIvyD,GAE5B,IAAM4zD,EAAgBz4E,OAAOm2D,aACzBliC,SAASykD,gBAAgBC,cACzB1kD,SAAS2M,KAAK+3C,aACZC,EAAe54E,OAAO64E,YACxB5kD,SAASykD,gBAAgBI,aACzB7kD,SAAS2M,KAAKk4C,YAGZC,EAAkB/4E,OAAO64E,WAC3B5kD,SAASykD,gBAAgBI,YACvBE,EAAmBh5E,OAAOm2D,YAC5BliC,SAASykD,gBAAgBC,aACvBM,EAAyB7B,EAAG8B,uBAC9B9B,EAAG+B,gBAAgB1K,aAAe,EAElC5pD,EAASrnB,EAAK45E,EAAGS,QAAQrJ,YAAc,EAAKoK,EAAeG,EAC3D3B,EAAGS,QAAQ/jD,MAAM7qB,KACZ2vE,EAAexB,EAAGS,QAAQrJ,YAAcuK,EAAmB,KACzDl0D,EAASrnB,EAAK45E,EAAGS,QAAQrJ,YAAc,EAAK,EACnD4I,EAAGS,QAAQ/jD,MAAM7qB,KAAO,EAExBmuE,EAAGS,QAAQ/jD,MAAM7qB,KACZ4b,EAASrnB,EAAI45E,EAAGS,QAAQrJ,YAAc,EAAK,KAIhD3pD,EAASvc,EAAI8uE,EAAGS,QAAQpJ,aAAe,EACvCgK,EAAgBO,EAAmBC,GACnC7B,EAAGS,QAAQ1xB,UAAU54B,IAAI,qBACzB6pD,EAAGS,QAAQ/jD,MAAMmxB,IACZpgC,EAASvc,EAAIuc,EAAS+7B,OACvBw2B,EAAGS,QAAQpJ,aAAe,EAAK,OAEnC2I,EAAGS,QAAQ1xB,UAAUizB,OAAO,qBAC5BhC,EAAGS,QAAQ/jD,MAAMmxB,IAAOpgC,EAASvc,EAAI,EAAK,MAIlD,SAAS0vE,GAAYZ,GACjBA,EAAGS,QAAQ1xB,UAAUizB,OAAO,cAKjB,QACXlC,WACAF,WACAC,SACAM,wBACAK,eACAI,eACAC,0BCtfJ,SAASoB,GAAejpB,EAAOj0D,EAAUV,GACrC,IAAIjB,EAAI,EACR,GAAiB,eAAb2B,EACA,MAAOi0D,EAAM51D,GAAI,CACb,GAAsB,QAAlB41D,EAAM51D,GAAGye,OACRm3C,EAAM51D,GAAGupD,YAAcqM,EAAM51D,GAAG6vD,kBAAoB5uD,EAAO,MAChEjB,SAGJ,MAAO41D,EAAM51D,GAAI,CACb,GAAsB,QAAlB41D,EAAM51D,GAAGye,MACTm3C,EAAM51D,GAAG2B,KAAcV,EAAO,MAClCjB,IAGR,OAAOA,EAWX,SAAS8+E,GAAc/vC,EAAQ9E,EAAY2rB,EAAOmpB,GAC9C,GAAqB,IAAjBnpB,EAAMlyD,OAAc,MAAO,GAE/B,GAA0B,IAAtBumC,EAAWvmC,OAGX,OAAOkyD,EAAMxxC,KAAI,SAAAphB,GAAC,OAAIA,EAAEitE,QAAQ8O,MAAcn6E,KAAK,IAGvD,IAAIgE,EAAS,GACT09D,EAAS,GACTK,EAAS,GACPnc,EAAOvgB,EAAW,GACpB+0C,EAAYppB,EAAM,GAAGpL,GACZ,eAATA,IAAuBw0B,EAAYppB,EAAM,GAAGrM,YAAcqM,EAAM,GAAG/F,gBAEvE,IAAM7vD,EAAI6+E,GAAejpB,EAAOpL,EAAMw0B,GAEtC,GAAsB,SAAlBppB,EAAM,GAAGz0D,MACT,GAAa,cAATqpD,GAAwBoL,EAAM,GAAGpM,UACN,OAAvBoM,EAAM,GAAGpM,WACT8c,EAAS,YACTK,EAAS,KACqB,OAAvB/Q,EAAM,GAAGpM,WAChB8c,EAAS,YACTK,EAAS,KACqB,OAAvB/Q,EAAM,GAAGpM,WAChB8c,EAAS,YACTK,EAAS,KACqB,MAAvB/Q,EAAM,GAAGpM,WAChB8c,EAAS,YACTK,EAAS,MAETL,EAAS,sBAAwB1Q,EAAM,GAAGpM,UAAY,IACtDmd,EAAS,UAEV,GAAa,eAATnc,GAAyBoL,EAAM,GAAGlM,WACb,MAAxBkM,EAAM,GAAGlM,YACT4c,EAAS,YACTK,EAAS,KACsB,MAAxB/Q,EAAM,GAAGlM,YAChB4c,EAAS,YACTK,EAAS,KACsB,MAAxB/Q,EAAM,GAAGlM,YAChB4c,EAAS,YACTK,EAAS,MAETL,EAAS,uBAAyB1Q,EAAM,GAAGlM,WAAa,IACxDid,EAAS,UAEV,GAAa,SAATnc,EAAiB,CAExB,IADA,IAAIy0B,GAAwC,EACnC10D,EAAI,EAAGA,EAAIvqB,EAAGuqB,IACnB,IAAKqrC,EAAMrrC,GAAGm/B,aACTkM,EAAMrrC,GAAGi/B,YACToM,EAAMrrC,GAAGg/B,aACTqM,EAAMrrC,GAAGslC,eAAgB,CAC1BovB,GAAwC,EACxC,MAGHA,IAID3Y,EAAS,UACTK,EAAS,UAEV,GAAa,aAATnc,GAAuBoL,EAAM,GAAGtL,SAAU,CACjD,IAAMjI,EAAU,CACZ,MAAS,OACT,MAAS,aACT,MAAS,eACT,MAAS,QACT,MAAS,aACT,MAAS,QACT,MAAS,QACT,MAAS,QACT,MAAS,OACT,OAAU,QACZuT,EAAM,GAAGtL,WAAa,GACxBgc,EAAS,MAAQjkB,EAAU,IAC3BskB,EAAS,SAEN,GAAa,eAATnc,IACNoL,EAAM,GAAGrM,YAAcqM,EAAM,GAAG/F,gBAAiB,CAClD,IAAMxN,EAAU,CACZ,IAAO,SACP,KAAQ,SACR,KAAQ,UACVuT,EAAM,GAAGrM,YAAcqM,EAAM,GAAG/F,iBAAmB,GAChDxN,GAIDikB,EAAS,KAAOjkB,EAAU,IAC1BskB,EAAS,MAJTL,GAAU,kBAAoB1Q,EAAM,GAAGrM,YAAcqM,EAAM,GAAG/F,gBAAkB,IAChF8W,EAAS,WAMd,GAAsB,SAAlB/Q,EAAM,GAAGz0D,KAChB,GAAa,eAATqpD,EAC4B,MAAxBoL,EAAM,GAAGlM,YACT4c,EAAS,YACTK,EAAS,KACF/Q,EAAM,GAAGlM,YAAsC,MAAxBkM,EAAM,GAAGlM,aACvC4c,EAAS,iBAAmB1Q,EAAM,GAAGlM,WAAa,IAClDid,EAAS,UAEV,GAAa,cAATnc,EACoB,OAAvBoL,EAAM,GAAGpM,WACT8c,EAAS,YACTK,EAAS,KACqB,MAAvB/Q,EAAM,GAAGpM,WAChB8c,EAAS,cACTK,EAAS,KACF/Q,EAAM,GAAGpM,WAAoC,MAAvBoM,EAAM,GAAGpM,YACtC8c,EAAS,gBAAkB1Q,EAAM,GAAGpM,UAAY,IAChDmd,EAAS,UAGV,GAAa,aAATnc,GAAuBoL,EAAM,GAAGtL,SAAU,CACjD,IAAMjI,EAAU,CACZ,MAAS,OACT,MAAS,aACT,MAAS,eACT,MAAS,QACT,MAAS,aACT,MAAS,QACT,MAAS,QACT,MAAS,QACT,MAAS,OACT,OAAU,QACZuT,EAAM,GAAGtL,WAAa,GACxBgc,EAAS,MAAQjkB,EAAU,IAC3BskB,EAAS,SAEN,GAAa,eAATnc,GAAyBoL,EAAM,GAAGrM,YACzC,IAAK,gBAAgBrnD,KAAK0zD,EAAM,GAAGrM,YAAa,CAC5C,IAAMlH,EAAU,CACZ,IAAO,UACP,KAAQ,WACR,GAAM,SACN,IAAO,UACP,IAAO,SACP,KAAQ,SACR,KAAQ,UACVuT,EAAM,GAAGrM,aAAe,GAC1B,GAAKlH,EAGE,CACH,GAAI,mBAAmBngD,KAAK0zD,EAAM,GAAGgM,OACjC,OAAOhM,EAAM,GAAGgM,MAAQkd,GAAc/vC,EAAQ9E,EAAY2rB,EAAMxxD,MAAMpE,GAAI++E,GAEzEnpB,EAAM,GAAG7pB,aACVu6B,EAAS,KAAOjkB,EAAU,IAC1BskB,EAAS,KAIb18B,EAAa,QAZbq8B,GAAU,iBAAmB1Q,EAAM,GAAGrM,WAAa,IACnDod,EAAS,UAcd,GAAa,eAATnc,GAAyBoL,EAAM,GAAG/F,eAEzC,GAAI+F,EAAM,GAAGgM,OAAShM,EAAM,GAAGgM,MAAMthD,WAAW,MAC5CgmD,EAAS,GACTK,EAAS,OACN,CACH,IAAMtkB,EAAU,CACZ,IAAO,UACP,KAAQ,WACR,GAAM,SACN,IAAO,UACP,IAAO,SACP,KAAQ,SACR,KAAQ,UACVuT,EAAM,GAAG/F,iBAAmB,GAC1BxN,IACAikB,EAAS,KAAOjkB,EAAU,IAC1BskB,EAAS,KAgCzB,MA1Ba,UAATnc,IAAoBoL,EAAM,GAAG1xB,OACT,SAAnB0xB,EAAM,GAAG1xB,OACP6K,GAAUA,EAAO7K,QAAU0xB,EAAM,GAAG1xB,QACvCoiC,EAAS,eAAiB1B,GAAM5B,cAAcpN,EAAM,GAAG1xB,OAAS,KAChEyiC,EAAS,KAGA,oBAATnc,IAA8BoL,EAAM,GAAGvM,iBACT,SAA7BuM,EAAM,GAAGvM,iBACPta,GAAUA,EAAOsa,kBAAoBuM,EAAM,GAAGvM,kBACjDid,EAAS,cAAgB1B,GAAM5B,cAAcpN,EAAM,GAAGvM,iBAAmB,KACzEsd,EAAS,KAGb/9D,GAAU09D,EAEV19D,GAAUk2E,GAAc/vC,EACpB9E,EAAW7lC,MAAM,GACjBwxD,EAAMxxD,MAAM,EAAGpE,GACf++E,GAEJn2E,GAAU+9D,EAGV/9D,GAAUk2E,GAAc/vC,EAAQ9E,EAAY2rB,EAAMxxD,MAAMpE,GAAI++E,GAErDn2E,EAWX,SAASs2E,GAASnwC,EAAQ9tC,EAAO89E,GAC7B,IAAIn2E,EAAS,GACb,GAAI+I,MAAMmE,QAAQ7U,IAAUA,EAAMyC,OAAS,EAAG,CAC1C,GAAsB,UAAlBzC,EAAM,GAAGwd,OAETxd,EAAQA,EAAMmD,MAAM,GACC,IAAjBnD,EAAMyC,QAAc,MAAO,GAGnCkF,EAASk2E,GAAc/vC,EAAQ,CAC3B,OACA,QACA,kBACA,WACA,aACA,YACA,cACG9tC,EAAO89E,OAKU,kBAAV99E,GAAuC,mBAAVA,EAC3C2H,EAAS3H,EAAMqE,WACS,kBAAVrE,EACd2H,EAAS3H,EAAMid,QAAQ,MAAO,KACvBjd,GAAkC,oBAAlBA,EAAMgvE,UAC7BrnE,EAAS3H,EAAMgvE,QAAQ8O,IAE3B,OAAOn2E,EAeXswD,GAASA,SAASt3D,UAAUquE,QAAU,SAAS8O,GAC3CA,OAA8Bp7E,IAAhBo7E,GAAoCA,EAClD,IACI/jB,EADApyD,EAAS,GACJ2qD,EAAM,EACXvzD,EAAI,EACFI,EAAKR,KAAKgiE,MAAehiE,KAAKgiE,MAAMr1D,MAAM,mBAAxB,KAClB81C,EAAUjiD,EAAIA,EAAE,GAAK,KAG3B,OAAOR,KAAK6e,MACR,IAAK,QACD7V,GAAUhJ,KAAK4lE,YAAe5lE,KAAK4rD,OAAS5rD,KAAK0pD,SAAY,GAAK,KAE9D1pD,KAAK4rD,QAAO5iD,GAAU,WAAahJ,KAAK4rD,MAAQ,MAE9B,aAAlB5rD,KAAK0pD,SACL1gD,GAAU,UAAYs2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAe,KAE3Dn/E,KAAK0pD,WAAU1gD,GAAU,WAAahJ,KAAK0pD,SAAW,MAE1D1gD,GAAUm2E,EAAcG,GAASt/E,KAAMA,KAAKwmC,MAAM,GAC7CxmC,KAAKgiE,OAASsd,GAASt/E,KAAMA,KAAKwmC,MAAM,GAEzCxmC,KAAK0pD,WAAU1gD,GAAU,MAE7BhJ,KAAK4rD,QAAO5iD,GAAU,KAE1BA,GAAUhJ,KAAK6lE,aAAgB7lE,KAAK4rD,OAAS5rD,KAAK0pD,SAAY,GAAK,KACnE,MAEJ,IAAK,QAED,GADA1gD,GAAU,WAAahJ,KAAKgmE,IAAIrlE,KAAO,IACjB,UAAlBX,KAAKgmE,IAAIrlE,KAAkB,CAE3B,GADAqI,GAAU,IACNhJ,KAAKwxD,UACL,IAAKpxD,EAAI,EAAGA,EAAIJ,KAAKwxD,UAAU1tD,OAAQ1D,IAC/BJ,KAAKwxD,UAAUpxD,GAAGmzD,MAClBvqD,GAAUhJ,KAAKwxD,UAAUpxD,GAAGmzD,MACrBvzD,KAAKwxD,UAAUpxD,GAAGy7D,OACzB7yD,GAAU,KAItBA,GAAU,IAEd,IAAK2qD,EAAM,EAAGA,EAAM3zD,KAAKuS,MAAMzO,OAAQ6vD,IAAO,CAC1C,IAAKyH,EAAM,EAAGA,EAAMp7D,KAAKuS,MAAMohD,GAAK7vD,OAAQs3D,IACpCA,EAAM,IAAGpyD,GAAU,OACvBA,GAAUs2E,GAASt/E,KAAMA,KAAKuS,MAAMohD,GAAKyH,GAAM+jB,GAG/CxrB,EAAM3zD,KAAKuS,MAAMzO,OAAS,IAC1BkF,GAAU,UAGlBA,GAAU,SAAWhJ,KAAKgmE,IAAIrlE,KAAO,IACrC,MAEJ,IAAK,OACDqI,EAASs2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GACnC,MAEJ,IAAK,UACG,uBAAuB78E,KAAKtC,KAAKwmC,OAEjCx9B,GAAU,IACVA,GAAUs2E,GAASt/E,KAAMA,KAAKm1D,MAAOgqB,GACrCn2E,GAAU,KAAOhJ,KAAKwmC,KAAO,IAC7Bx9B,GAAUs2E,GAASt/E,KAAMA,KAAKo1D,MAAO+pB,GACrCn2E,GAAU,MAGVA,GAAUy5C,EACVz5C,GAAU,IAAJ,OAAQs2E,GAASt/E,KAAMA,KAAKm1D,MAAOgqB,GAAnC,aAAoDG,GAASt/E,KAAMA,KAAKo1D,MAAO+pB,GAA/E,MAEV,MAEJ,IAAK,OACDn2E,GAAU,SACNhJ,KAAKuN,QACLvE,GAAU,IACVA,GAAUs2E,GAASt/E,KAAMA,KAAKuN,MAAO4xE,GACrCn2E,GAAU,KAEdA,GAAU,IAAJ,OAAQs2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAlC,KACN,MAEJ,IAAK,YACDv5D,QAAQ9S,IAAI9S,KAAK82D,MAAO9tD,GAEpBhJ,KAAK82D,MACL9tD,GAAWhJ,KAAKs1D,WAAa,GACzBt1D,KAAKs1D,WAAat1D,KAAKs1D,UAAUxxD,OAAS,IAAGkF,GAAU,KAC3DA,GAAUs2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GACpCn2E,GAAWhJ,KAAKu1D,YAAc,GAC1Bv1D,KAAKu1D,YAAcv1D,KAAKu1D,WAAWzxD,OAAS,IAAGkF,GAAU,KAsBjE,MAEJ,IAAK,QACL,IAAK,aACDA,GAAUy5C,EAAU,IAAMziD,KAAK41D,MAAQ,IACvC,MAEJ,IAAK,OACD5sD,GAAUy5C,EACNziD,KAAKye,QACLzV,GAAU,IAAJ,OAAQs2E,GAASt/E,KAAMA,KAAKye,MAAO0gE,GAAnC,QAEVn2E,GAAU,IAAJ,OAAQs2E,GAASt/E,KAAMA,KAAK8qD,MAAOq0B,GAAnC,eAAsDG,GAASt/E,KAAMA,KAAKwmD,OAAQ24B,GAAlF,OACN,MAEJ,IAAK,OACL,IAAK,UACL,IAAK,SACDn2E,GAAU,GAAJ,OAAOy5C,EAAP,YAAkB68B,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAA5C,KACN,MAEJ,IAAK,YACDn2E,GAAU,GAAJ,OAAOy5C,EAAP,YAAkB68B,GAASt/E,KAAMA,KAAKk0D,YAAcl0D,KAAKm0D,YAAagrB,GAAtE,aAAuFG,GAASnwC,OAAQnvC,KAAKwmC,KAAM24C,GAAnH,KACN,MAEJ,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,UACL,IAAK,GACG,sEAAsE78E,KAAKmgD,GAC3Ez5C,GAAUy5C,EAAU,IAAM68B,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAe,IAChD,YAAZ18B,EACPz5C,GAAUhJ,KAAKgiE,MAAQ,IACJ,cAAZvf,GACPz5C,GAAU,cACVA,IAAW,SAAWhJ,KAAKwmC,KAAKhU,WAAW,GAAG9sB,SAAS,KAAK29D,cAAcuE,QAAQ,GAClF5+D,GAAU,MACHhJ,KAAKgiE,OAA8B,kBAAdhiE,KAAKwmC,QAE7BxmC,KAAKgiE,OAA2B,OAAlBhiE,KAAKgiE,MAAM,IACzBh5D,GAAUhJ,KAAKgiE,MACX,eAAe1/D,KAAKtC,KAAKgiE,SACzBh5D,GAAU,MAGdA,GADOy5C,IAGiB,MAAdziD,KAAKwmC,KAAqBxmC,KAAKgiE,OAAShiE,KAAKwmC,KAAQ,KAGvE,MAEJ,IAAK,MACiB,MAAdxmC,KAAKwmC,OAEW,aAAZic,EAEAz5C,GAAUy5C,EAAU,IAAM68B,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAe,IAChD,mBAAZ18B,EAEPz5C,GAAUy5C,EAAU,IAAMziD,KAAKwmC,KAAO,IAElCxmC,KAAKgiE,OAA2B,OAAlBhiE,KAAKgiE,MAAM,IACzBh5D,GAAUhJ,KAAKgiE,MACX,eAAe1/D,KAAKtC,KAAKgiE,SACzBh5D,GAAU,MAGdA,GADOy5C,IAGiB,MAAdziD,KAAKwmC,KAAqBxmC,KAAKgiE,OAAShiE,KAAKwmC,KAAQ,KAIvExmC,KAAKmnE,iBACe,WAAhBnnE,KAAK+zD,SAAqB/qD,GAAU,aACpB,aAAhBhJ,KAAK+zD,SAAuB/qD,GAAU,gBAE9C,MAGJ,IAAK,MACD,GAAgB,WAAZy5C,EAAsB,CAEtB,GADAz5C,GAAUy5C,EACNt1B,SAASntB,KAAKmsD,UACS,qBAAhBnsD,KAAKu0D,QACoB,qBAAzBv0D,KAAKs0D,gBAAiC,CAC7C,IAAMirB,EAAa,GACfpyD,SAASntB,KAAKmsD,UACdozB,EAAW1zE,KAAKjJ,KAAK2U,MAAM,IAAMvX,KAAKmsD,SAAW,IAAM,MAEvDnsD,KAAKu0D,QACLgrB,EAAW1zE,KAAK,UAAY7L,KAAKu0D,QAEjCv0D,KAAKs0D,iBACLirB,EAAW1zE,KAAKm5D,GAAM5B,cAAcpjE,KAAKs0D,kBAE7CtrD,GAAU,IAAJ,OAAQu2E,EAAWv6E,KAAK,KAAxB,KAEVgE,GAAU,IAAJ,OAAQs2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAlC,SACa,YAAZ18B,EACPz5C,GAAU,WAAJ,OAAes2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAzC,MAGNn2E,GAAUy5C,EACNziD,KAAKq0D,aACLrrD,GAAU,IAAJ,OAAQg8D,GAAM5B,cAAcpjE,KAAKq0D,YAAjC,MAENr0D,KAAKs0D,kBACLtrD,GAAU,IAAJ,OAAQg8D,GAAM5B,cAAcpjE,KAAKs0D,iBAAjC,MAEVtrD,GAAU,IAAJ,OAAQs2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAlC,MAEV,MAEJ,IAAK,UAKDn2E,GAAUy5C,EACM,aAAZA,GAAsC,cAAZA,GAC1Bz5C,GAAU,IACNhJ,KAAK8qD,MACL9hD,GAAUhJ,KAAK8qD,MAAQ,KAEvB9hD,GAAU,MAEdA,GAAU,MAEVA,GAAU,IACNhJ,KAAK8qD,QACL9hD,GAAUhJ,KAAK8qD,MAAQ,QAK/B,MAEJ,IAAK,UAED,GADA9hD,GAAUy5C,EACM,cAAZA,EAAyB,CACzBz5C,GAAU,IACV,IAAIg6C,EAAM,GACV,IAAK,IAAMiS,KAAYj1D,KAAKi1D,SACpBn0D,OAAOkB,UAAUC,eAAe1B,KAAKP,KAAKi1D,SAAUA,IACpDj1D,KAAKi1D,SAASA,KACdjsD,GAAUg6C,EAAMiS,EAChBjS,EAAM,KAGdh6C,GAAU,IAGV,IAAI0wB,EAAQ,GACZspB,EAAM,GACFhjD,KAAKs0D,iBAA4C,gBAAzBt0D,KAAKs0D,kBAC7B56B,GAASspB,EAAM,mBAAqBgiB,GAAM5B,cAAcpjE,KAAKs0D,iBAAmB,IAChFtR,EAAM,KAENhjD,KAAK40D,QAA0B,SAAhB50D,KAAK40D,SACpBl7B,GAASspB,EAAM,WAAahjD,KAAK40D,OAAS,IAC1C5R,EAAM,KAEe,IAArBhjD,KAAK00D,aAA0C,UAArB10D,KAAK20D,aAC/Bj7B,GAASspB,EAAMhjD,KAAKg1D,YACpBhS,EAAM,KACChjD,KAAKy0D,aAAoC,iBAArBz0D,KAAKy0D,cAChC/6B,GAASspB,EAAM,cAAgBgiB,GAAM5B,cAAcpjE,KAAKy0D,aAAe,IACvEzR,EAAM,KAINtpB,IACA1wB,GAAU,IAAJ,OAAQ0wB,EAAR,MAGd1wB,GAAU,IAAJ,OAAQs2E,GAASt/E,KAAMA,KAAKwmC,KAAM24C,GAAlC,KACN,MAEJ,IAAK,YACDn2E,GAAU,KAAOhJ,KAAK0oD,UAAY,IAClC,MAEJ,IAAK,QACD1/C,GAAUhJ,KAAKgiE,MACf,MAEJ,IAAK,cACDh5D,GAAU,kBAAoBhJ,KAAKqB,OAAS,IAAM,IAClD,MAEJ,IAAK,QACL,IAAK,UACL,IAAK,UACD,MAEJ,IAAK,QACD2H,GAAUhJ,KAAKgiE,MACf,MAGJ,QACIp8C,QAAQwiD,KAAK,yBAA2BpoE,KAAK6e,KACzC,UAAY7e,KAAKgiE,OAAShiE,KAAKqB,OAAS,KAC5C,MAGR,GAAIrB,KAAK65D,YAAa,CAClB,IAAInmC,EAAM4rD,GAASt/E,KAAMA,KAAK65D,YAAaslB,GACxB,IAAfzrD,EAAI5vB,QACQ,MAAR4vB,EACAA,EAAM,WACS,MAARA,IACPA,EAAM,kBAEV1qB,GAAU,IAAM0qB,GAEhB1qB,GAAU,KAAO0qB,EAAM,IAG/B,GAAI1zB,KAAK85D,UAAW,CAChB,IAAM7yC,EAAMq4D,GAASt/E,KAAMA,KAAK85D,UAAWqlB,GACxB,IAAfl4D,EAAInjB,OACJkF,GAAU,IAAMie,EAEhBje,GAAU,KAAOie,EAAM,IAG/B,OAAOje,G,6rBC7oBJ,SAASw2E,GAAKr9E,GAEjB,IAAMs9E,EAAWD,GAAKE,OAAO3V,UAAU,EAAG,GAEtC/gE,EAAS,GAWb,OARIw2E,GAAKG,QAAQH,GAAKE,UAAS12E,EAASw2E,GAAKG,QAAQH,GAAKE,QAAQv9E,KAE7D6G,GAAUw2E,GAAKG,QAAQF,KAAWz2E,EAASw2E,GAAKG,QAAQF,GAAUt9E,IAElE6G,IAAQA,EAASw2E,GAAKG,QAAQ,MAAMx9E,IAEpC6G,IAAQA,EAAS7G,GAEf6G,EAKXw2E,GAAKI,OAAS,SAASv+E,EAAOc,EAAGoS,GAC7BA,EAAUA,GAAW,GACrBA,EAAQsK,KAAOtK,EAAQsK,MAAQ,WAC/B,IAOI7V,EAPEy2E,EAAWD,GAAKE,OAAO3V,UAAU,EAAG,GACpC8V,EAAyB,YAAjBtrE,EAAQsK,KAAqB2gE,GAAKM,QAAUN,GAAKO,SAC3DlkB,EAAwB,YAAjBtnD,EAAQsK,KACf2gE,GAAKQ,yBAAyB1qE,QAAQuqE,EAAM5D,OAAO56E,IACnDm+E,GAAKS,0BAA0B3qE,QAAQuqE,EAAM5D,OAAO56E,IAgBxD,OAZIm+E,GAAKG,QAAQH,GAAKE,UAAS12E,EAASw2E,GAAKG,QAAQH,GAAKE,QAAQv9E,KAC7D6G,GAAUw2E,GAAKG,QAAQF,KAAWz2E,EAASw2E,GAAKG,QAAQF,GAAUt9E,IAClE6G,IACDA,EAASw2E,GAAKG,QAAQ,MAAMx9E,GACvB6G,IAAQA,EAAS7G,GAElB05D,EADiB,YAAjBtnD,EAAQsK,KACD2gE,GAAKQ,yBAAyB1qE,QAAQkqE,GAAKU,gBAAgBjE,OAAO56E,IAElEm+E,GAAKS,0BAA0B3qE,QAAQkqE,GAAKW,iBAAiBlE,OAAO56E,KAI5E2H,EAAOsD,MAAM,KAAKuvD,IAAS7yD,EAAOsD,MAAM,KAAK,IAYxDkzE,GAAKY,MAAQ,SAASV,EAAQC,GAC1B,GAAID,GAAUC,EAAS,CACnB,IAAMU,EAAcb,GAAKc,QACzBd,GAAKE,OAASA,EAEdF,GAAKG,QAAQD,GAAb,MAA2BF,GAAKG,QAAQD,GAAxC,GAAoDC,GACpDH,GAAKE,OAASW,OACPX,IAAWC,IAClBA,EAAUD,EACV5+E,OAAOwiB,KAAKq8D,GAASz2E,SAAQ,SAAA7I,GAAC,OAAIm/E,GAAKY,MAAM//E,EAAGs/E,EAAQt/E,SAMhES,OAAOC,eAAey+E,GAAM,SAAU,CAClCz0E,IADkC,SAC9B20E,GACAF,GAAKc,QAAUZ,EACfF,GAAKe,SAAW,KAChBf,GAAKgB,UAAY,MAErBv/E,IANkC,WAc9B,OALKu+E,GAAKc,UAENd,GAAKc,QAA+B,qBAAd/pB,UAA4B,KAC9CA,UAAUkpB,SAASj7E,MAAM,EAAG,IAE7Bg7E,GAAKc,WAIpBx/E,OAAOC,eAAey+E,GAAM,UAAW,CACnCv+E,IADmC,WAS/B,OAPKu+E,GAAKe,WACNf,GAAKU,gBAAkB,IAAIO,KAAKC,YAAY,KAAM,CAAC7hE,KAAM,YACzD2gE,GAAKmB,gCAAkCnB,GAAKU,gBAAgBU,kBAAkBC,iBAC9ErB,GAAKe,SAAW,IAAIE,KAAKC,YAAYlB,GAAKE,OAAQ,CAAC7gE,KAAM,YACzD2gE,GAAKQ,yBAA2BR,GAAKe,SAASK,kBAAkBC,kBAG7DrB,GAAKe,YAIpBz/E,OAAOC,eAAey+E,GAAM,WAAY,CACpCv+E,IADoC,WAQhC,OANKu+E,GAAKgB,YACNhB,GAAKW,iBAAmB,IAAIM,KAAKC,YAAY,KAAM,CAAC7hE,KAAM,aAC1D2gE,GAAKsB,iCAAmCtB,GAAKW,iBAAiBS,kBAAkBC,iBAChFrB,GAAKgB,UAAY,IAAIC,KAAKC,YAAYlB,GAAKE,OAAQ,CAAC7gE,KAAM,aAC1D2gE,GAAKuB,yBAA2BvB,GAAKe,SAASK,kBAAkBC,kBAE7DrB,GAAKgB,aAKpBhB,GAAKG,QAAU,CACX,GAAM,CACF,6BAA8B,YAC9B,yBAA0B,gBAC1B,2BAA4B,qBAC5B,2BAA4B,UAC5B,yBAA0B,4BAC1B,4BAA6B,oBAC7B,eAAgB,OAChB,kCAAmC,0BACnC,eAAgB,QAEpB,GAAM,CACJ,6BAA8B,OAC9B,yBAA0B,eAC1B,2BAA4B,2BAC5B,2BAA4B,UAC5B,yBAA0B,wBAC1B,4BAA6B,kBAC7B,eAAgB,UAChB,kCAAmC,iCACnC,eAAgB,SAElB,GAAM,CACF,6BAA8B,aAC9B,yBAA0B,yBAC1B,2BAA4B,qBAC5B,2BAA4B,YAC5B,yBAA0B,kCAC1B,4BAA6B,iCAC7B,eAAgB,cAChB,kCAAmC,gCACnC,eAAgB,cAEpB,GAAM,CACF,6BAA8B,cAC9B,yBAA0B,oBAC1B,2BAA4B,2BAC5B,2BAA4B,cAC5B,yBAA0B,+BAC1B,4BAA6B,yBAC7B,eAAgB,WAChB,kCAAmC,mCACnC,eAAgB,UAEpB,GAAM,CACF,6BAA8B,YAC9B,yBAA0B,iBAC1B,2BAA4B,qBAC5B,2BAA4B,WAC5B,yBAA0B,4BAC1B,4BAA6B,yBAC7B,eAAgB,UAChB,kCAAmC,2BACnC,eAAgB,YAEpB,GAAM,CACJ,6BAA8B,QAC9B,yBAA0B,cAC1B,2BAA4B,kBAC5B,2BAA4B,OAC5B,yBAA0B,qBAC1B,4BAA6B,kBAC7B,eAAgB,gBAChB,kCAAmC,2BACnC,eAAgB,iBAElB,GAAM,CACF,6BAA8B,YAC9B,yBAA0B,mBAC1B,2BAA4B,0BAC5B,2BAA4B,YAC5B,yBAA0B,8BAC1B,4BAA6B,gCAC7B,eAAgB,WAChB,kCAAmC,sCACnC,eAAgB,WAEpB,GAAM,CACF,6BAA8B,WAC9B,yBAA0B,iBAC1B,2BAA4B,4BAC5B,2BAA4B,WAC5B,yBAA0B,2BAC1B,4BAA6B,sBAC7B,eAAgB,SAChB,kCAAmC,0CACnC,eAAgB,WAEpB,GAAM,CACF,6BAA8B,KAC9B,yBAA0B,SAC1B,2BAA4B,eAC5B,2BAA4B,KAC5B,yBAA0B,UAC1B,4BAA6B,cAC7B,eAAgB,OAChB,kCAAmC,eACnC,eAAgB,QAEpB,GAAM,CACF,6BAA8B,UAC9B,yBAA0B,iBAC1B,2BAA4B,qBAC5B,2BAA4B,aAC5B,yBAA0B,4BAC1B,4BAA6B,oBAC7B,eAAgB,WAChB,kCAAmC,gCACnC,eAAgB,UAEpB,GAAM,CACF,6BAA8B,UAC9B,yBAA0B,kBAC1B,2BAA4B,+BAC5B,2BAA4B,WAC5B,yBAA0B,0BAC1B,4BAA6B,6BAC7B,eAAgB,eAChB,kCAAmC,qCACnC,eAAgB,iB,y6BCjOxB,IAAMqB,GAAY,CACd,QAAW,CACPC,QAAS,2BACTC,MAAO,OACPvsC,MAAO,MACPwsC,OAAQ,CAAC,SAEb,MAAS,CACLF,QAAS,yBACTC,MAAO,cACPvsC,MAAO,MACPwsC,OAAQ,CAAC,cAAe,cAAe,YAE3C,MAAS,CACLF,QAAS,yBACTC,MAAO,cACPvsC,MAAO,uBACPuU,QAAS,WACTi4B,OAAQ,CAAC,cAAe,gBAE5B,UAAa,CACTF,QAAS,6BACTC,MAAO,YACPvsC,MAAO,qBACPuU,QAAS,MACTi4B,OAAQ,CAAC,cAEb,QAAW,CACPF,QAAS,2BAITx+B,QAAS,mBACT9N,MAAO,+CACPwsC,OAAQ,CAAC,gBAAiB,gBAAiB,oBAE/C,MAAS,CACLF,QAAS,yBACTC,MAAO,QACPvsC,MAAO,uBAITysC,GAAe,CACjB,YAAa,CAACzsC,MAAO,QAASggC,OAAQ,UACtC,cAAe,CAAChgC,MAAO,UAAWggC,OAAQ,YAC1C,aAAc,CAAChgC,MAAO,WAAYggC,OAAQ,iBAC1C,SAAU,CAAChgC,MAAO,SAAUggC,OAAQ,gBACpC,SAAU,CAAChgC,MAAO,UAAWggC,OAAQ,gBACrC,aAAc,CAAChgC,MAAO,YAAaggC,OAAQ,cAC3C,WAAY,CAAChgC,MAAO,UAAWggC,OAAQ,YACvC,UAAW,CAAChgC,MAAO,SAAUggC,OAAQ,gBACrC,aAAc,CAAChgC,MAAO,WAAYggC,OAAQ,gBAC1C,QAAS,CAAChgC,MAAO,OAAQggC,OAAQ,SACjC,WAAY,CAAChgC,MAAO,UAAWggC,OAAQ,gBACvC,WAAY,CAAChgC,MAAO,UAAWggC,OAAQ,YACvC,WAAY,CAAChgC,MAAO,UAAWggC,OAAQ,YACvC,SAAU,CAAChgC,MAAO,WAAYggC,OAAQ,UACtC,WAAY,CAAChgC,MAAO,UAAWggC,OAAQ,YACvC,SAAU,CAAChgC,MAAO,QAASggC,OAAQ,gBACnC,QAAS,CAAChgC,MAAO,OAAQggC,OAAQ,SACjC,WAAY,CAAChgC,MAAO,UAAWggC,OAAQ,gBACvC,YAAa,CAAChgC,MAAO,WAAYggC,OAAQ,aACzC,UAAW,CAAChgC,MAAO,SAAUggC,OAAQ,gBACrC,SAAU,CAAChgC,MAAO,QAASggC,OAAQ,gBACnC,SAAU,CAAChgC,MAAO,QAASggC,OAAQ,UACnC,WAAY,CAAChgC,MAAO,UAAWggC,OAAQ,YACvC,UAAW,CAAChgC,MAAO,SAAUggC,OAAQ,gBACrC,QAAS,CAAChgC,MAAO,OAAQggC,OAAQ,gBACjC,QAAS,CAAChgC,MAAO,OAAQggC,OAAQ,iBAS/B0M,GAAgB,CAClB,EAAK,CAAC,aAAc,eAAgB,UAAW,CAACrf,MAAO,OAAQ2S,OAAQ,QAC/D,SAAU,YAAa,YAC/B,EAAK,CAAC,eAAgB,CAAC3S,MAAO,OAAQ2S,OAAQ,SAC9C,EAAK,CAAC,eAAgB,CAAC3S,MAAO,OAAQ2S,OAAQ,SAC9C,IAAK,CACD,IAAM,IAAK,UAAY,CAAC3S,MAAM,IAAKsf,MAAM,SACzC,CAACtf,MAAM,UAAWsf,MAAM,aAAcp4B,QAAQ,OAC9C,CAAC8Y,MAAM,UAAWsf,MAAM,kBAAmBp4B,QAAQ,OACnD,CAAC8Y,MAAM,UAAWsf,MAAM,UAAWp4B,QAAQ,OAC3C,CAAC8Y,MAAM,UAAWsf,MAAM,eAAgBp4B,QAAQ,OAChD,CAAC8Y,MAAM,UAAWsf,MAAM,GAAIp4B,QAAQ,OACpC,CAAC8Y,MAAM,UAAWsf,MAAM,GAAIp4B,QAAQ,OACpC,SAAU,WAAY,iBAI1B,IAAK,CACD,SAAU,QAAS,SAAU,YAC7B,WAAY,WAAY,oBAAoB,mBAC5C,aAAc,SAAU,CAAC8Y,MAAM,iCAAkC9Y,QAAQ,UAG7E,IAAK,CACD,OAAQ,OACR,QAAS,CAAC8Y,MAAM,gCAAiC9Y,QAAQ,SACzD,YAAa,WAEjB,IAAK,CACD,OAAQ,OACR,WAAY,qBAGhB,IAAK,CAAC,kBAAmB,IAAK,SAE9B,IAAI,CACA,qBAAsB,qBAAsB,yBAA0B,mCACtE,WAAe,aAAiB,IAAgB,WAChD,UAAe,UAAiB,WAAgB,WAChD,UAAe,aAAiB,eAAgB,YAGpD,IAAI,CACA,WAAe,aAAiB,IAAgB,WAChD,UAAe,UAAiB,WAAgB,WAChD,UAAe,aAAiB,eAAgB,YAGpD,IAAK,CACD,SAAgB,UAAW,UAC3B,oBAAwB,cACxB,gBAAiB,aAAc,aAAc,YAAa,UAAW,UACrE,WAAY,WAAY,UAAW,UACnC,kBAAmB,iBAAkB,YAAa,WAAY,WAC9D,cAAe,aAGnB,KAAM,CACF,QAAS,UAAc,GACvB,UAGJ,IAAK,CACD,QAAS,SAAU,UAAW,OAAQ,UAAW,SACjD,YAAa,YAAa,YAAa,SAAU,gBAAiB,YAClE,WAGJ,IAAK,CACD,QAAS,SAAU,UAAW,OAAQ,SAAU,SAChD,YAAa,WAAY,YAAa,SAAU,gBAAiB,WACjE,WAGJ,IAAO,CACH,OAAQ,SACR,WAAY,YAAa,WAAY,aAGzC,OAAQ,CACJ,UAAW,iBAGf,OAAU,GACV,OAAU,GAEV,SAAY,CAAC,YAAa,YAAa,UAAW,iBAGlD,aAAc,CAAC,SAAU,UAAW,QAChC,QAAS,QAAS,SAItB,GAAM,CACE,kBACA,OAAQ,YAAa,SAG7B,IAAM,CAAC,SAGP,IAAO,CACC,CAAC8Y,MAAM,kBAAmB9Y,QAAQ,SAClC,CAAC8Y,MAAM,QAAS9Y,QAAQ,SACxB,CAAC8Y,MAAM,aAAc9Y,QAAQ,SAC7B,CAAC8Y,MAAM,SAAU9Y,QAAQ,SACzB,CAAC8Y,MAAM,UAAW9Y,QAAQ,SAC1B,CAAC8Y,MAAM,SAAU9Y,QAAQ,SACzB,CAAC8Y,MAAO,wBAA0B9Y,QAAQ,SAC1C,CAAC8Y,MAAM,iCAAkC9Y,QAAQ,SAEjD,yBAA0B,OAAS,aAG3C,MAAS,CAAC,iBAAkB,gBAAiB,eAE7C,IAAQ,CAAC,KAAM,UAAW,QAC1B,QAAW,CAAC,YAAa,YAAa,YAAa,cAC/C,YAAa,aAAc,iBAAkB,cAC7C,cAAe,cAAe,eAQlC,EAAY,CAAC,CAAC8Y,MAAM,UAAWsf,MAAM,SACzB,CAACtf,MAAM,WAAYsf,MAAM,YAErC,EAAY,CAAC,CAACtf,MAAM,UAAWsf,MAAM,SACzB,CAACtf,MAAM,WAAYsf,MAAM,YAErC,EAAY,CAAC,CAACtf,MAAM,SAAUsf,MAAM,SACpC,EAAY,CAAC,CAACtf,MAAM,SAAUsf,MAAM,SACpC,EAAY,CAAC,CAACtf,MAAM,MAAOsf,MAAM,2BACjC,EAAY,CAAC,CAACtf,MAAM,WAAYsf,MAAM,WACtC,EAAY,CAAC,CAACtf,MAAM,WAAYsf,MAAM,WACtC,EAAY,CAAC,CAACtf,MAAM,iBAAkBsf,MAAM,iBAChC,CAACtf,MAAM,WAAYsf,MAAM,YACzB,CAACtf,MAAM,YAAasf,MAAM,gBAEtC,EAAY,CAAC,CAACtf,MAAM,UAAWsf,MAAM,UACrC,EAAY,CAAC,CAACtf,MAAM,UAAWsf,MAAM,UACrC,EAAY,CAAC,CAACtf,MAAM,SAAWsf,MAAM,SACrB,CAACtf,MAAO,WAAYsf,MAAM,YAE1C,EAAY,CAAC,CAACtf,MAAM,eAAgBsf,MAAM,gBAC1C,EAAY,CAAC,CAACtf,MAAM,eAAgBsf,MAAM,gBAC1C,EAAY,CAAC,CAACtf,MAAM,QAASsf,MAAM,QACnC,EAAY,CAAC,CAACtf,MAAM,MAAOsf,MAAM,2BACjC,EAAY,CAAC,CAACtf,MAAM,MAAOsf,MAAM,kBACjC,EAAY,CAAC,CAACtf,MAAM,MAAOsf,MAAM,4BACjC,EAAY,CAAC,CAACtf,MAAM,MAAOsf,MAAM,wBACjC,EAAY,CAAC,CAACtf,MAAM,MAAOsf,MAAM,oBAEjC,QAAS,CAAC,IAAK,IAAK,IAAK,IACjB,CAACtf,MAAM,QAAS9Y,QAAQ,SAAU,CAAC8Y,MAAM,QAAS9Y,QAAQ,SAAU,MAAO,MAC3E,MAAO,UAAW,MAAO,WACjC,QAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KACnC,GAAM,CAAC,OAAQ,OAAQ,eAAgB,oBAEvC,MAAS,CACL,CAAC8Y,MAAM,WAAYsf,MAAM,YACzB,CAACtf,MAAM,YAAasf,MAAM,eAE1B,CAACtf,MAAM,OAAQsf,MAAM,aACrB,CAACtf,MAAM,UAAWsf,MAAM,aAExB,CAACtf,MAAM,YAAasf,MAAM,WAC1B,CAACtf,MAAM,cAAesf,MAAM,cAE5B,CAACtf,MAAM,QAASsf,MAAM,kBAGtB,CAACtf,MAAM,SAAUsf,MAAM,OACvB,CAACtf,MAAM,QAASsf,MAAM,MACtB,CAACtf,MAAM,UAAWsf,MAAM,OACxB,CAACtf,MAAM,SAAUsf,MAAM,OAEvB,CAACtf,MAAM,cAAesf,MAAM,OAC5B,CAACtf,MAAM,YAAasf,MAAM,QAE1B,CAACtf,MAAM,eAAgBsf,MAAM,OAC7B,CAACtf,MAAM,oBAAqBsf,MAAM,QAOlC,CAACtf,MAAM,cAAesf,MAAM,aAC5B,CAACtf,MAAM,YAAasf,MAAM,WAE1B,CAACtf,MAAM,mBAAoBsf,MAAM,iBAEjC,mBAAoB,mBAAoB,OACxC,WAAY,UAAW,SAAU,UACjC,kBAEJ,gBACI,CAAC,QAAS,QAAS,aAAc,kBACjC,gBAEJ,gBAAiB,CACb,OAAQ,UAAW,OAAQ,SAAU,WAAY,WACjD,aAAc,aAAc,cAAe,cAC3C,iBAAkB,eAAgB,YAAa,YAC/C,cAAe,eAGnB,MAAS,CACL,CAACtf,MAAO,4BAA6B2S,OAAQ,MAAO2M,MAAM,mCAC1D,CAACtf,MAAO,sCAAuC2S,OAAQ,MAAO2M,MAAM,yBACpE,CAACtf,MAAO,sCAAuC2S,OAAQ,MAAO2M,MAAM,2BACpE,CAACtf,MAAO,sCAAuC2S,OAAQ,MAAO2M,MAAM,0BACpE,CAACtf,MAAO,sCAAuC2S,OAAQ,MAAO2M,MAAM,QACpE,CAACtf,MAAO,4CAA6C2S,OAAQ,YAAa2M,MAAM,QAChF,CAACtf,MAAO,yCAA0C2S,OAAQ,SAAU2M,MAAM,QAC1E,CAACtf,MAAO,0CAA2C2S,OAAQ,UAAW2M,MAAM,SAIhF,OAAU,CAAC,CAAC3sC,MAAO,0EACP8N,QAAS,gBAGrB,MAAO,IAGP8+B,GAAW,CAEX,KAAQ,CACJ,QAAS,UAAW,OAAQ,WAAY,aAE5C,KAAQ,CACJ,eAAgB,eAAgB,eAAgB,eAAgB,uBAAwB,wBAE5F,KAAQ,CACJ,wBAAyB,sBAAuB,yBAEpD,KAAQ,CACJ,WAAY,mBAAoB,aAChC,QAAS,UAAW,wBAExB,KAAQ,CACJ,YAAa,YAAa,YAAa,YACvC,aAAc,YAAa,cAE/B,KAAQ,CACJ,MAAO,MAAO,UAAW,SAAU,WAEvC,KAAQ,CACJ,MAAO,MAAO,MAAO,MAAO,UAAW,OAE3C,KAAQ,CACJ,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEvC,KAAQ,CACJ,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAIrCC,GAAS,CACX,+pFA0CA,o5BAsBA,23BAsBA,w6IA4DA,ygHAgDA,mhGAqCA,6iCAeA,guBAeA,66DA+BA,2iGA2CA,w/GAyCJ,SAASzE,GAAc/a,EAAOh9C,EAAKg4D,GAE/Bhb,EAAQA,EAAM1jD,QAAQ,eAAgB,QAEtC,IAAMg1C,EAAQyhB,GAAa9Q,YAAY7hB,EAAMS,SAASmf,GAAQ,OAC1Dh9C,EAAKg4D,EAAGnT,OAAOrhB,QACboE,EAAQ0M,GAASY,UAAU,CACzBxR,UAAW,eACXF,OAAQw0B,EAAGnT,OAAOrhB,QACnB8K,GAEDz1C,EAAOorC,GAAK6D,SAASF,EAAO,YAE5BqwB,EAAWh0B,GAAK6D,SAAS,GAAI,aACnCmwB,EAASzzB,SAAS,SAAU3rC,EAAK2oC,OAAQ,MACzC,IAAM02B,EAAcj0B,GAAK6D,SAAS,GAAI,qBACtCowB,EAAY1zB,SAAS,SAAU3rC,EAAK2oC,OAAS3oC,EAAKkqB,MAAO,MACzDm1C,EAAY1zB,SAAS,kBAAmB3rC,EAAKkqB,MAAO,MACpD,IAAM19B,EAAU4+C,GAAK6D,SAAS,CAACmwB,EAAUC,EAAar/D,GAAO,gBAE7D,OAAOxT,EAAQqhD,WAQnB,SAAS+1B,GAAoBzE,EAAI0E,EAAaC,GAE1C,IAAI34E,EAAS,qBACP44E,EAAeF,EAAYpjE,QAAQ,OAAQ,KAAKhS,MAAM,KAC5D,GAAIs1E,EAAa99E,OAAS,EAAG,CACzB,IAAM+9E,EAAY/gF,OAAO6V,OAAO,GAAIqqE,GAAWhE,EAAGnT,OAAOiY,wBAA0B,IAD1D,uBAGzB,YAAuBF,EAAvB,+CAAqC,KAA1BG,EAA0B,QACjC,IAAKF,EAAUE,GAAW,CACtBn8D,QAAQ5f,MAAM,6BAA+B+7E,EAAW,KACxD,MAEJ/4E,GAAU,eACN+4E,IAAaJ,EACb34E,GAAU,YAEN64E,EAAUE,GAAUt/B,QACpBz5C,GAAU,UAEVA,GAAU,gBAIlBA,IAAW64E,EAAUE,GAAU74B,SAAW,IAAM,IAE5C24B,EAAUE,GAAUd,UACpBj4E,GAAU,iBAAmBw2E,GAAKqC,EAAUE,GAAUd,SAAW,KACjEj4E,GAAU,wCAGV+4E,IAAaJ,IACTE,EAAUE,GAAUt/B,UACpBz5C,GAAU,mBAAqB64E,EAAUE,GAAUt/B,QAAU,OAG7Do/B,EAAUE,GAAUb,QACpBl4E,GAAU,eAAiB64E,EAAUE,GAAUb,MAAQ,MAI/Dl4E,GAAU,IAAM64E,EAAUE,GAAUptC,MAAQ,UApCvB,mFA0H7B,OAnFA3rC,GAAU,SAKVA,GAAU,6wIA8EH,gDAAkDA,EAAS,SAItE,SAASg5E,GAAWhF,EAAIiF,EAAQC,GAC5B,IAAK,IAAI9hF,EAAI,EAAGA,EAAI6hF,EAAOn+E,SAAU1D,EAAG,CACpC,IAAM8nB,EAAK+5D,EAAO7hF,GAEd8nB,EAAGi6D,aAAa,cAChBj6D,EAAGk2D,UAAYrB,GAAc70D,EAAGi6D,aAAa,cAAc7jE,QAAQ,UAAW,KACtE,CAAC,IAAI,uCAAwC0+D,GAC7B,KAAjB90D,EAAGk2D,WAAoBl2D,EAAGi6D,aAAa,eAC9Cj6D,EAAGk2D,UAAYrB,GAAc70D,EAAGi6D,aAAa,eAAe7jE,QAAQ,UAAW,KACvE,CAAC,IAAI,uCAAwC0+D,GAC9C90D,EAAGi6D,aAAa,kBACvBj6D,EAAGk2D,UAAYl2D,EAAGi6D,aAAa,gBAAgB7jE,QAAQ,UAAW,MAElE4J,EAAGi6D,aAAa,gBAChBj6D,EAAGk2D,WAAa,UAAYl2D,EAAGi6D,aAAa,cAAc7jE,QAAQ,UAAW,KAAO,YAEpF4J,EAAGi6D,aAAa,iBAChBj6D,EAAG6jC,UAAU54B,IAAIjL,EAAGi6D,aAAa,iBAGrC,IAAIxgF,EAAMumB,EAAGi6D,aAAa,eACtBxgF,IAAKA,EAAMA,EAAI2c,QAAQ,UAAW,MAClC3c,GAAOy/E,GAAaz/E,KACpBumB,EAAGk6D,aAAa,eAAgBhB,GAAaz/E,GAAKgzC,OAClDzsB,EAAGk6D,aAAa,uBACZp7E,KAAKkkC,UAAU,CAAC,gCAAiCk2C,GAAaz/E,GAAKgzE,WAI3E,IAAIuF,OAAQ,EAgBZ,GAdIA,EADAhyD,EAAGi6D,aAAa,gBACLn7E,KAAKssD,MAAMprC,EAAGi6D,aAAa,iBAC/Bj6D,EAAGi6D,aAAa,eACZ,CAAC,SAAUj6D,EAAGi6D,aAAa,eAClC,CAAC1O,OAAM,EAAM4O,UAAS,EAAM9gF,KAAK,OAAQwsE,OAAO,OAAQuU,YAAW,IAChEp6D,EAAGi6D,aAAa,cACZ,CAAC,SAAUj6D,EAAGi6D,aAAa,cAClC,CAAC1O,OAAM,EAAM4O,UAAS,EAAM9gF,KAAK,OAAQwsE,OAAO,OAAQuU,YAAW,IAE5D,CAAC,YAAap6D,EAAGi6D,aAAa,aAAej6D,EAAGq6D,YACvD,CAAC9O,OAAM,EAAM4O,UAAS,EAAMG,mBAAkB,IAElDN,IACAhI,EAAW,CAACgI,EAAgBhI,IAE5BhyD,EAAGi6D,aAAa,iBAAkB,CAClC,IAAMM,EAAUlB,GAASr5D,EAAGi6D,aAAa,kBACrCM,EACAvI,EAAW,CACPwI,QAASxI,EACTyI,kBAAmB,CAAC,oBAAqBz6D,EAAGi6D,aAAa,iBAAkBM,GAC3EG,gBAAiB,qBAGrBh9D,QAAQwiD,KAAK,yBAA2BlgD,EAAGi6D,aAAa,kBAIhEnF,EAAGW,sBAAsBz1D,EAAIgyD,IAWrC,SAAS2I,GAAkB7F,EAAIkE,GAC3B,IAyDIvtB,EAzDEmvB,EAAO,CAMT,OAAU,CACF,UAAW,aACX,UAAW,cACX,UAAW,YACX,UAAW,aACX,UAAW,cACX,UAAW,YACX,WAAY,OACZ,WAAY,OACZ,WAAY,OACZ,WAAY,QAEpB,OAAU,CACF,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,aACX,UAAW,cAEnB,OAAU,CACF,UAAW,aACX,UAAW,cACX,UAAW,YACX,UAAW,aACX,UAAW,aACX,UAAW,aAEnB,OAAU,CACF,UAAW,cACX,UAAW,aACX,UAAW,aACX,UAAW,cACX,UAAW,aACX,UAAW,cAEnB,QAAW,CACH,UAAW,cACX,UAAW,aACX,UAAW,YACX,UAAW,cACX,UAAW,aACX,UAAW,cAKjBC,EAASD,EAAK9F,EAAGnT,OAAOmZ,uBAC1BF,EAAK9F,EAAGnT,OAAOmZ,uBAAyBF,EAAK,UAE7C95E,EAASk4E,EAGbl4E,EAASA,EAAOsV,QAAQ,cAAf,+zBAeT,IAAI9d,EAAIwI,EAAO2D,MAAM,iCACrB,MAAOnM,EAAG,CACNmzD,EAAM,GACN,IAAMsvB,EAAkBziF,EAAE,GAAGmM,MAAM,wCAC7B2X,EAAa,GAHb,uBAIN,YAAwB2+D,EAAxB,+CAAyC,KAA9BtmD,EAA8B,QAC/BwsC,EAAKxsC,EAAUhwB,MAAM,yCAC3B2X,EAAW6kD,EAAG,IAAMA,EAAG,IANrB,kFAUN,IAAI7lD,EAAOy/D,EAAOz+D,EAAW,SAE7B,GADKhB,IAAMA,EAAOw/D,EAAK,UAAUx+D,EAAW,UACvChB,EAEE,4BACH,YAAgBA,EAAhB,+CAAsB,KAAX7iB,EAAW,QACduqD,EAAM1mC,EAAW,UAAY,GAC7B0mC,IAAKA,EAAM,IAAMA,GACX,MAANvqD,GACAkzD,GAAO,6CACPA,GAAOrwC,EAAKxf,QACNwf,EAAK3W,MAAM,OAAS,IAAI7I,OAAS,IAAO,GAAK,MAAQ,MAC3D6vD,GAAO,qTAKM,MAANlzD,EAEPkzD,GAAO,iCACM,MAANlzD,EAEPkzD,GAAO,kFACHrvC,EAAW,eADR,kBAEM,MAAN7jB,EACPkzD,GAAO,oBAAsB3I,EAAM,iEACtB,MAANvqD,EACPkzD,GAAO,oBAAsB3I,EAAM,0DACtB,MAANvqD,EACPkzD,GAAO,oBAAsB3I,EAAM,mEAC5B,KAAK1oD,KAAK0oD,GACjB2I,GAAO,oBAAsB3I,EAAM,oBAAsBvqD,EAAI,mCAC3BA,EAD3B,4DAEDA,EAAI,QAEVkzD,GAAO,oBAAsB3I,EAAM,oBAAsBvqD,EAAI,KAAOA,EAAI,SA/B7E,wFADHmlB,QAAQwiD,KAAK,+BAAiC9jD,EAAW,SAqC7Dtb,EAASA,EAAOsV,QAAQ,IAAIrS,OAAOzL,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAKmzD,GAExDnzD,EAAIwI,EAAO2D,MAAM,iCAIrB,OAAO3D,EAWX,SAASk6E,GAAKlG,EAAImG,GACd,IAAMC,EAAQ,+zKAiDVjF,EAASiF,EAGb/B,GAAc,oBAAsB,GArDf,2BAsDrB,YAAoBrc,GAAM5C,YAA1B,+CAAuC,KAA5B99B,EAA4B,QACnC+8C,GAAc,oBAAoBx1E,KAAK,CACnCq9C,QAAS,eACTlwB,QAAS,oGAAsGsL,EAAQ,YACvHme,QAAQ,2BAA6Bne,EAAQ,SA1DhC,oFA6DrB+8C,GAAc,oBAAsB,GA7Df,2BA8DrB,YAAoBrc,GAAM7C,YAA1B,+CAAuC,KAA5B79B,EAA4B,QACnC+8C,GAAc,oBAAoBx1E,KAAK,CACnCq9C,QAAS,eACTlwB,QAAS,qEAAuEsL,EAAQ,YACxFme,QAAQ,qCAAuCne,EAAQ,SAlE1C,oFAuErBi9C,GAAW,MAAIA,GAAP,GAAoBF,IAC5BvgF,OAAOwiB,KAAKi+D,IAAUr4E,SAAQ,SAAAvH,GAAS4/E,GAAS5/E,GAAO4/E,GAAS5/E,GAAK6C,WAMrE,IAHA,IAAM6+E,EAAa,6BACbC,EAAa,6BACb52C,EAAS,aACNtsC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAMuB,EAAM0hF,EAAWjjF,GAClBmhF,GAAS5/E,KAAM4/E,GAAS5/E,GAAO,IACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,aACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,OACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,OACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,YACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,aAAergE,EAAM,IAC5B2/E,MAAO,SACP3M,OAAQ,aAAehzE,EAAM,MACrC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,cAAgBrgE,EAAM,IAC7B2/E,MAAO,UACP3M,OAAQ,cAAgBhzE,EAAM,MAEtC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcshB,EAAWljF,GAAK,IACrCkhF,MAAO,aACP3M,OAAQ,YAAc2O,EAAWljF,GAAK,MAC9CmhF,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcshB,EAAWljF,GAAK,IACrCkhF,MAAO,OACP3M,OAAQ,YAAc2O,EAAWljF,GAAK,MAC9CmhF,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcshB,EAAWljF,GAAK,IACrCkhF,MAAO,OACP3M,OAAQ,YAAc2O,EAAWljF,GAAK,MAC9CmhF,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,aAAeshB,EAAWljF,GAAK,IACtCkhF,MAAO,SACP3M,OAAQ,aAAe2O,EAAWljF,GAAK,MAC/CmhF,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,cAAgBshB,EAAWljF,GAAK,IACvCkhF,MAAO,UACP3M,OAAQ,cAAgB2O,EAAWljF,GAAK,MAEpD,IAAK,IAAIA,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAC1B,IAAMuB,EAAM2hF,EAAWljF,GAClBmhF,GAAS5/E,KAAM4/E,GAAS5/E,GAAO,IACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,OACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,OACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,YACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,cAAgBrgE,EAAM,IAC7B2/E,MAAO,UACP3M,OAAQ,cAAgBhzE,EAAM,MAE1C,IAAK,IAAIvB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAMuB,EAAM+qC,EAAOtsC,GACdmhF,GAAS5/E,KAAM4/E,GAAS5/E,GAAO,IAMpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,OACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,OACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,YAAcrgE,EAAM,IAC3B2/E,MAAO,YACP3M,OAAQ,YAAchzE,EAAM,MACpC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,aAAergE,EAAM,IAC5B2/E,MAAO,SACP3M,OAAQ,aAAehzE,EAAM,MACrC4/E,GAAS5/E,GAAK6Y,QAAQ,CACdwnD,MAAO,cAAgBrgE,EAAM,IAC7B2/E,MAAO,UACP3M,OAAQ,cAAgBhzE,EAAM,MAM1C,IAAI+/E,EAAc1E,EAAGnT,OAAO0Z,iBACvB7B,IACDA,EAAc,OAElBA,EAAcA,EAAYpjE,QAAQ,WAC9B,yCAEJ,IAAM6iE,EAASrgF,OAAO6V,OAAO,GAAI6qE,GAAQxE,EAAGnT,OAAO2Z,6BAA+B,IAG5E3B,EAAY/gF,OAAO6V,OAAO,GAAIqqE,GAAWhE,EAAGnT,OAAOiY,wBAA0B,IAE7EF,EAAeF,EAAYpjE,QAAQ,OAAQ,KAAKhS,MAAM,KAhMvC,uBAiMrB,YAAuBs1E,EAAvB,+CAAqC,KAA1BG,EAA0B,QACjC,IAAKF,EAAUE,GAAW,CACtBn8D,QAAQ5f,MAAM,6BAA+B+7E,EAAW,KACxD,MAIJ,IAAI0B,EAAiB5B,EAAUE,GAAUZ,QAAU,GAC/CU,EAAUE,GAAUb,OACpBuC,EAAe53E,KAAKg2E,EAAUE,GAAUb,OAE5CuC,EAAiB1xE,MAAMvC,KAAK,IAAIk0E,IAAID,IAXH,2BAajC,YAAoBA,EAApB,+CAAoC,KAAzBvC,EAAyB,QAChC,IAAKC,EAAOD,GAAQ,CAChBt7D,QAAQ5f,MAAM,oCAAsCk7E,EAAQ,KAC5D,MAGJ,GAA6B,WAAzB,GAAOC,EAAOD,IAAqB,CAGnC,IAAIyC,EAAY,GAahB,GAZIxC,EAAOD,GAAO55B,SACdq8B,GAAa,UAAJ,OAAcxC,EAAOD,GAAO55B,OAA5B,aAGT65B,EAAOD,GAAO0C,WACdD,GAAa,eAAJ,OAAmBxC,EAAOD,GAAO0C,SAAjC,OAGTzC,EAAOD,GAAOtF,YACd+H,GAAa,eAAJ,OAAmBxC,EAAOD,GAAOtF,UAAjC,OAGTuF,EAAOD,GAAO2C,KAAM,CACpBF,GAAa,qBADO,2BAEpB,YAAkBxC,EAAOD,GAAO2C,KAAhC,+CAAsC,KAA3BlwB,EAA2B,QAClCgwB,GAAa,OADqB,2BAElC,YAAkBhwB,EAAlB,+CAAuB,KAAZyH,GAAY,QACnBuoB,GAAa,MACTvoB,GAAI0oB,QACJH,GAAa,WAAJ,OAAevoB,GAAI0oB,MAAnB,MAET1oB,GAAIz5D,MACJgiF,GAAa,cAAJ,OAAkBvoB,GAAIz5D,IAAtB,MAGTy5D,GAAI3Y,UACuB,kBAAhB2Y,GAAI3Y,QACXkhC,GAAa,oBAAJ,OAAuBvoB,GAAI3Y,QAA3B,QAETkhC,GAAa,kBACbA,GAAa38E,KAAKkkC,UAAUkwB,GAAI3Y,SAChCkhC,GAAa,MAGjBvoB,GAAIuZ,SACJgP,GAAa,iBAAJ,OAAqBvoB,GAAIuZ,OAAzB,MAGTvZ,GAAI4G,QACJ2hB,GAAa,gBAAJ,OAAoBvoB,GAAI4G,MAAxB,MAGT5G,GAAIkmB,QACJqC,GAAa,gBAAJ,OAAoBvoB,GAAIkmB,MAAxB,MAGTlmB,GAAIqnB,UACJkB,GAAa,mBAAJ,OAAuBvoB,GAAIqnB,QAA3B,MAGTrnB,GAAI2oB,UACJJ,GAAa,kBAAJ,OAAsBvoB,GAAI2oB,QAA1B,MAGT3oB,GAAI4oB,iBACJL,GAAa,0BAAJ,OAA8BvoB,GAAI4oB,eAAlC,MAGbL,GAAa,IAAJ,OAAQvoB,GAAIzmB,MAAQymB,GAAIzmB,MAAQ,GAAhC,UA5CqB,oFA8ClCgvC,GAAa,SAhDG,oFAkDpBA,GAAa,SAETxC,EAAOD,GAAOtF,YACd+H,GAAa,WAGbxC,EAAOD,GAAO0C,WACdD,GAAa,WAGrBxC,EAAOD,GAASyC,EAGpBxF,GAAU,2DAA2D+C,EAA3D,KACV/C,GAAUsD,GAAoBzE,EAAI0E,EAAaK,GAC/C,IAAMkC,GAAuC,oBAAlB9C,EAAOD,GAC9BC,EAAOD,KAAWC,EAAOD,GAG7B/C,GAAU0E,GAAkB7F,EAAIiH,IAChC9F,GAAU,UAzGmB,sFAjMhB,oFA8SrB,IAAMn1E,GAAS6wB,SAAS5xB,cAAc,OACtCe,GAAOk7E,UAAY,eACff,EACAn6E,GAAO+iD,UAAU54B,IAAIgwD,GACdnG,EAAGnT,OAAOsa,qBACjBn7E,GAAO+iD,UAAU54B,IAAI6pD,EAAGnT,OAAOsa,sBACxB,gBAAgB7hF,KAAKi0D,UAAUlpC,YACtCrkB,GAAO+iD,UAAU54B,IAAI,YAEzBnqB,GAAOo1E,UAAYD,EAGnB6D,GAAWhF,EAAIh0E,GAAOmrE,iBAAiB,8CAGvC,IADA,IAAM8N,GAASj5E,GAAO00E,uBAAuB,gBACpCt9E,GAAI,EAAGA,GAAI6hF,GAAOn+E,SAAU1D,GAC7B6hF,GAAO7hF,IAAG2rD,UAAUylB,SAAS,SAE7BwL,EAAGW,sBAAsBsE,GAAO7hF,IAAI,CAGhCgkF,QAAS,CAAC,qBAAsB,SAGhC1B,QAAS,CAAC,sBAAuBT,GAAO7hF,IAAG+hF,aAAa,eAIxDS,gBAAiB,yBAIrB5F,EAAGW,sBAAsBsE,GAAO7hF,IAAI,CAChCsiF,QAAS,CAAC,sBAAuBT,GAAO7hF,IAAG+hF,aAAa,iBAMpE,IAAMkC,GAAgBr7E,GAAO00E,uBAAuB,kBAiCpD,OAhCA3rE,MAAMvC,KAAK60E,IAAen7E,SAAQ,SAAA9F,GAC9BA,EAAEif,iBAAiB,aAAa,SAAAo3D,GAC5BA,EAAI6K,iBACJ7K,EAAI8K,qBAERnhF,EAAEif,iBAAiB,cAAc,SAAAo3D,GAC7BA,EAAI6K,iBACJ7K,EAAI8K,wBAGZF,GAAc,GAAGt4B,UAAU54B,IAAI,cAK/BvtB,OAAOyc,iBAAiB,WAAW,WAC/B26D,EAAGwH,qBACHxH,EAAGyH,2BAEP7+E,OAAOyc,iBAAiB,QAAQ,WAC5B26D,EAAGwH,qBACHxH,EAAGyH,2BAEP7+E,OAAOyc,iBAAiB,YAAY,WAChC26D,EAAGwH,qBACHxH,EAAGyH,2BAEP7+E,OAAOyc,iBAAiB,eAAe,WACnC26D,EAAGwH,qBACHxH,EAAGyH,2BAGAz7E,GAMI,QACXk6E,QACAlB,eC38CE0C,GAAsB,CACxB,IAAgB,IAChB,IAAgB,IAChB,UAAgB,QAChB,SAAgB,OAChB,UAAgB,QAChB,UAAgB,QAChB,YAAgB,UAChB,eAAgB,aAChB,SAAgB,OAChB,QAAgB,MAChB,UAAgB,QAChB,aAAgB,WAChB,SAAgB,OAChB,UAAgB,QAChB,WAAgB,SAChB,OAAgB,KAChB,OAAgB,KAChB,OAAgB,KAChB,OAAgB,KAChB,QAAgB,MAChB,UAAgB,QAChB,QAAgB,MAChB,YAAgB,UAChB,QAAgB,MAChB,WAAgB,SAChB,QAAgB,MAChB,QAAgB,MAChB,UAAgB,QAChB,UAAgB,QAChB,UAAgB,QAChB,UAAgB,QAChB,WAAgB,SAChB,OAAgB,KAChB,OAAgB,KAChB,UAAgB,QAChB,QAAgB,MAChB,QAAgB,MAChB,UAAgB,SAGdC,GAAoB,CACtB,OAAQ,KACR,UAAW,KACX,UAAW,IACX,SAAU,IACV,SAAU,KACV,QAAS,IACT,WAAY,IACZ,WAAY,IACZ,WAAY,KACZ,WAAY,MAkBT,SAASC,GAAY1uB,EAAM3hD,GAC9B,IAAK2hD,EAAM,MAAO,GAClB,GAAInkD,MAAMmE,QAAQggD,GAAO,CACrB,IAAIltD,EAAS,GACb,GAAoB,IAAhBktD,EAAKpyD,OAAc,MAAO,GAE9B,GADqB,UAAjBoyD,EAAK,GAAGr3C,MAAkBq3C,EAAKz3C,QACd,SAAjBy3C,EAAK,GAAG30D,KAAiB,CAEzB,IAAInB,EAAI,EACR4I,EAAS,IACT,MAAOktD,EAAK91D,IAAuB,SAAjB81D,EAAK91D,GAAGmB,KACtByH,GAAUktD,EAAK91D,GAAGomC,KAClBpmC,IAEJ4I,GAAU,IAAM47E,GAAY1uB,EAAK1xD,MAAMpE,GAAImU,OACxC,CACH,IAAInU,EAAI,EACR,MAAO81D,EAAK91D,IAAuB,SAAjB81D,EAAK91D,GAAGmB,KACtByH,GAAU47E,GAAY1uB,EAAK91D,GAAImU,GAC/BnU,IAEJ4I,GAAU47E,GAAY1uB,EAAK1xD,MAAMpE,GAAImU,GAEzC,OAAOvL,EAAOwd,OAGlB,IAEIhmB,EAFAwI,EAAS,GACPy5C,EAAUyT,EAAK8L,MAAQ9L,EAAK8L,MAAMx7C,OAAS,KAGjD,OAAO0vC,EAAKr3C,MACR,IAAK,QACL,IAAK,OACD7V,EAAS47E,GAAY1uB,EAAK1vB,KAAMjyB,GAChC,MAEJ,IAAK,QACD,MAEJ,IAAK,WACG2hD,EAAKZ,WAAaY,EAAKX,cACvBvsD,GAA8B,MAAnBktD,EAAKZ,WAAsBY,EAAKZ,UAAoBY,EAAKZ,UAAZ,MAExDY,EAAKb,YACLrsD,GAAU,IACVA,GAAU47E,GAAY1uB,EAAKf,MAAO5gD,GAClCvL,GAAU,MACVA,GAAU47E,GAAY1uB,EAAKd,MAAO7gD,GAClCvL,GAAU,MAGVA,GAAU,IAAM47E,GAAY1uB,EAAKf,MAAO5gD,GAAW,KACnDvL,GAAU,IAAM47E,GAAY1uB,EAAKd,MAAO7gD,GAAW,MAEnD2hD,EAAKZ,WAAaY,EAAKX,cACvBvsD,GAA+B,MAApBktD,EAAKX,YAAuBW,EAAKX,WAAqBW,EAAKX,WAAZ,MAElE,MAEA,IAAK,OACGW,EAAK3oD,MACLvE,GAAU,QAAU47E,GAAY1uB,EAAK3oD,MAAOgH,GAAW,KAClDqwE,GAAY1uB,EAAK1vB,KAAMjyB,GAAW,IAEvCvL,GAAU,QAAU47E,GAAY1uB,EAAK1vB,KAAMjyB,GAAW,IAE1D,MAEJ,IAAK,YACDvL,GAA8B,MAAnBktD,EAAKZ,WAAsBY,EAAKZ,UAAoBY,EAAKZ,UAAZ,KACxDtsD,GAAU47E,GAAY1uB,EAAK1vB,KAAMjyB,GACjCvL,GAA+B,MAApBktD,EAAKX,YAAuBW,EAAKX,WAAqBW,EAAKX,WAAZ,KAC1D,MAEJ,IAAK,aACL,IAAK,QAED,MAGJ,IAAK,SACD,MAEJ,IAAK,OACL,IAAK,UACD,MAEJ,IAAK,YAED,MAEJ,IAAK,OAEDvsD,EAAS07E,GAAoBjiC,IAAYA,IACf,kBAAdyT,EAAK1vB,KAAoB0vB,EAAK1vB,KAAO,IAC/B,OAAdx9B,EAAO,KAAaA,GAAU,IAClCxI,EAAIiiD,EAAUA,EAAQ91C,MAAM,uCAAyC,KACjEnM,EAEAwI,EAASzG,OAAOkxC,aAAah+B,SAAS,KAAOjV,EAAE,KACxCwI,EAAOlF,OAAS,GAA0B,OAArBkF,EAAO2P,OAAO,KAItC3P,EADqB,kBAAdktD,EAAK1vB,KACH0vB,EAAK1vB,KAAK7tB,OAAO,GAEjBu9C,EAAK8L,OAItB,MAEJ,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,SAGGh5D,EAFAy5C,GAAWiiC,GAAoBjiC,GAEtBiiC,GAAoBjiC,GACtBA,GAAWkiC,GAAkBliC,GAC3BkiC,GAAkBliC,GAElByT,EAAK1vB,KAElB,MAEJ,IAAK,QACL,IAAK,SACDx9B,GAAUktD,EAAK1vB,KACf,MAEJ,IAAK,SACDx9B,EAAS27E,GAAkBliC,IAAYA,EACvC,MAEJ,IAAK,MACiB,MAAdyT,EAAK1vB,OAELx9B,EAAS,GAELA,GADY,mBAAZy5C,EACUyT,EAAK1vB,KAEL0vB,EAAK1vB,MAAQic,EAE3Bz5C,GAAU,KAEd,MAEJ,IAAK,YACD,MAEJ,IAAK,MACD,MAEJ,IAAK,UACD,MAEJ,IAAK,UACD,MAEJ,IAAK,QACDA,EAAS,IACT,MAIR,GAAIktD,EAAK4D,UAAW,CAChB9wD,GAAU,IACV,IAAMgc,EAAM4/D,GAAY1uB,EAAK4D,UAAWvlD,GACpCyQ,EAAIlhB,OAAS,IAAM,oBAAoBxB,KAAK0iB,GAC5Chc,GAAU,IAAMgc,EAAM,IAEtBhc,GAAUgc,EAIlB,GAAIkxC,EAAK2D,YAAa,CAClB7wD,GAAU,IACV,IAAMgc,EAAM4/D,GAAY1uB,EAAK2D,YAAatlD,GACtCyQ,EAAIlhB,OAAS,IAAM,oBAAoBxB,KAAK0iB,GAC5Chc,GAAU,IAAMgc,EAAM,IAEtBhc,GAAUgc,EAIlB,OAAOhc,EAGI,ICpPT27E,GAAoB,CACtB,OAAQ,cACR,UAAW,UACX,UAAW,IACX,SAAU,IACV,SAAU,IACV,QAAS,IACT,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,UAAW,IACX,UAAW,IAEX,QAAS,WACT,UAAW,WACX,UAAW,WACX,QAAS,WACT,SAAU,WACV,UAAW,WACX,QAAS,WACT,UAAW,WACX,UAAW,WACX,QAAS,YAIb,SAASE,GAAU15E,GACf,OAAOA,EAEFmT,QAAQ,KAAM,UACdA,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QAGvB,SAASgjD,GAAO5/C,EAAInN,GAChB,OAAKmN,GAAOnN,EAAQk0C,WAGb,WAAa/mC,EAAK,IAHc,GAO3C,SAASojE,GAAe/hC,EAAQ4iB,EAAOpxD,GACnC,IAAIvL,GAAS,EACb28D,EAAQA,GAAS5iB,EAAOiT,MAAMlyD,OAC9B,IAAIihF,EAAS,GACTv+C,EAAO,GACPqzB,GAAe,EACfC,GAAa,EACX5D,EAAOnT,EAAOiT,MAAMjT,EAAOx1C,OAejC,GAbIw1C,EAAOx1C,MAAQo4D,IACA,SAAdzP,EAAKr3C,MAAiC,YAAdq3C,EAAKr3C,OAC9B,eAAevJ,QAAQ4gD,EAAK1vB,MAAQ,IACpCA,EAAO0vB,EAAK8uB,SAASzwE,GACjB2hD,EAAK2D,cACLA,EAAc9W,EAAOx1C,OAErB2oD,EAAK4D,YACLA,EAAY/W,EAAOx1C,OAEvBw1C,EAAOx1C,OAAS,GAGhBi5B,EAAK1iC,OAAS,EAAG,CAajB,GAZAkF,GAAS,EAGLi8E,GAAkBliC,KAClB8W,EAAc9W,EAAOx1C,MACrBw1C,EAAOx1C,OAAS,GAEhB23E,GAAgBniC,KAChB+W,EAAY/W,EAAOx1C,MACnBw1C,EAAOx1C,OAAS,GAGhBssD,GAAe,GAAKC,GAAa,EACjCirB,EAAS,YAAcv+C,EACvBu+C,GAAUC,GAASjiC,EAAOiT,MAAM8D,GAAWA,UAAW,EAAG,EAAGvlD,GAASwwE,OACrEA,GAAUC,GAASjiC,EAAOiT,MAAM6D,GAAaA,YAAa,EAAG,EAAGtlD,GAASwwE,OACzEA,GAAU,kBACP,GAAIlrB,GAAe,EAAG,CAEzB,GADAkrB,EAAS,SAAWv+C,EAChBy+C,GAAkBliC,GAAS,CAE3B,IAAMrvB,EAAMsxD,GAASjiC,EAAOiT,MAAM6D,GAAaA,YAAa,EAAG,EAAGtlD,GAASwwE,OAErE5gC,EAAO6gC,GAASjiC,EAAOiT,MAAM6D,EAAc,GAAGA,YAAa,EAAG,EAAGtlD,GAASwwE,OAK5EA,GAJS,eAARrxD,GAAqC,sBAARA,GACpB,eAATywB,GAAuC,sBAATA,EAEhB,eAARzwB,GAAqC,sBAARA,EAC1B,oBAEAA,EAJA,yBAQdqxD,GAAUC,GAASjiC,EAAOiT,MAAM6D,GAAaA,YAAa,EAAG,EAAGtlD,GAASwwE,OAE7EA,GAAU,eACHjrB,GAAa,GACpBirB,EAAS,SAAWv+C,EACpBu+C,GAAUC,GAASjiC,EAAOiT,MAAM8D,GAAWA,UAAW,EAAG,EAAGvlD,GAASwwE,OACrEA,GAAU,WAEVA,EAASv+C,EAGY,OAApBuc,EAAO8gB,UACY,OAApB9gB,EAAO8gB,UACa,UAApB9gB,EAAO8gB,UACa,UAApB9gB,EAAO8gB,UACN,mBAAmBvhE,KAAKyiF,KACzBA,EAAS,4BAA8BA,GAGvCv+C,EAAKzJ,SAAS,YAAcyJ,EAAKzJ,SAAS,YAC1CgoD,GAAU,6BACVhiC,EAAO8gB,SAAW,iBAElB9gB,EAAO8gB,SAAW,mBAAmBvhE,KAAKyiF,GAAU,KAAO,KAG/DhiC,EAAOgiC,QAAUA,EAGrB,OAAO/7E,EAaX,SAASi8E,GAAkBliC,GACvB,OAAOA,EAAOx1C,MAAQw1C,EAAOiT,MAAMlyD,QAC/Bi/C,EAAOiT,MAAMjT,EAAOx1C,OAAOssD,aACS,YAApC9W,EAAOiT,MAAMjT,EAAOx1C,OAAOsR,KAKnC,SAASqmE,GAAgBniC,GACrB,OAAOA,EAAOx1C,MAAQw1C,EAAOiT,MAAMlyD,QAC/Bi/C,EAAOiT,MAAMjT,EAAOx1C,OAAOusD,WACS,YAApC/W,EAAOiT,MAAMjT,EAAOx1C,OAAOsR,KAKnC,SAASsmE,GAA2BpiC,GAEhC,IAAI/5C,GAAU,EACV5I,EAAI2iD,EAAOx1C,MACXI,GAAO,EACPu4B,GAAQ,EACZ,MAAO9lC,EAAI2iD,EAAOiT,MAAMlyD,SAAW6J,IAASu4B,EACxCv4B,EAAgC,SAAzBo1C,EAAOiT,MAAM51D,GAAGye,MACnB,eAAevJ,QAAQytC,EAAOiT,MAAM51D,GAAGomC,MAAQ,EACnDN,GAASv4B,GAAQo1C,EAAOiT,MAAM51D,GAAGy5D,YACjCz5D,IAOJ,OAJI8lC,IACAl9B,EAAS5I,EAAI,GAGV4I,EAKX,SAASo8E,GAAYvnE,EAAMklC,EAAQxuC,GAC/B,IAAIvL,GAAS,EACT+7E,EAAS,GACT7uB,EAAOnT,EAAOiT,MAAMjT,EAAOx1C,MAAQ,GAEvC,QAAK2oD,IAEAA,EAAK2D,aAAgB3D,EAAK4D,YACvBmrB,GAAkBliC,IAAWmiC,GAAgBniC,MAC7CmT,EAAOnT,EAAOiT,MAAMjT,EAAOx1C,OAC3Bw1C,EAAOx1C,OAAS,KAGnB2oD,IAEDA,EAAK2D,aAAe3D,EAAK4D,WACzBirB,EAAS,YAAclnE,EACvBknE,GAAUC,GAAS9uB,EAAK4D,UAAW,EAAG,EAAGvlD,GAASwwE,OAClDA,GAAUC,GAAS9uB,EAAK2D,YAAa,EAAG,EAAGtlD,GAASwwE,OACpDA,GAAU,cACH7uB,EAAK2D,aACZkrB,EAAS,SAAWlnE,EACpBknE,GAAUC,GAAS9uB,EAAK2D,YAAa,EAAG,EAAGtlD,GAASwwE,OACpDA,GAAU,WACH7uB,EAAK4D,YACZirB,EAAS,SAAWlnE,EACpBknE,GAAUC,GAAS9uB,EAAK4D,UAAW,EAAG,EAAGvlD,GAASwwE,OAClDA,GAAU,WAGVA,EAAOjhF,OAAS,IAChBkF,GAAS,EACT+5C,EAAOgiC,QAAUA,EACjBhiC,EAAO8gB,SAAW,IAEf76D,IAIX,SAASq8E,GAAStiC,EAAQ4iB,EAAOpxD,GAC7B,IAAIvL,GAAS,EACb28D,EAAQA,GAAS5iB,EAAOiT,MAAMlyD,OAC9B,IAAMwhF,EAAUviC,EAAOx1C,MACnBw3E,EAAS,GACb,MAAOhiC,EAAOx1C,MAAQo4D,GACqB,SAApC5iB,EAAOiT,MAAMjT,EAAOx1C,OAAOhM,KAE9BwjF,GAAUhiC,EAAOiT,MAAMjT,EAAOx1C,OAAOi5B,KAAOuc,EAAOiT,MAAMjT,EAAOx1C,OAAOi5B,KAAO,IAC9Euc,EAAOx1C,OAAS,EAWpB,OARIw3E,EAAOjhF,OAAS,IAChBkF,GAAS,EACT+7E,EAAS,SAAWzjB,GAAOve,EAAOiT,MAAMsvB,GAAS5jE,GAAInN,GAAW,IAAMwwE,EAAS,WAE/EhiC,EAAOgiC,QAAUA,EACjBhiC,EAAO8gB,SAAW,SAGf76D,EAGX,SAASq8D,GAAWtiB,EAAQ4iB,EAAOpxD,GAC/B,IAAIvL,GAAS,EACb28D,EAAQA,GAAS5iB,EAAOiT,MAAMlyD,OAC9B,IAAMwhF,EAAUviC,EAAOx1C,MACnBw3E,EAAS,GAETlrB,EAAcsrB,GAA2BpiC,GACzC8W,GAAe,GAAKA,EAAc8L,IAClCA,EAAQ9L,GAGZ,MAAO9W,EAAOx1C,MAAQo4D,GACkB,SAApC5iB,EAAOiT,MAAMjT,EAAOx1C,OAAOsR,MAC3B,eAAevJ,QAAQytC,EAAOiT,MAAMjT,EAAOx1C,OAAOi5B,OAAS,EAE3Du+C,GAAUhiC,EAAOiT,MAAMjT,EAAOx1C,OAAOi5B,KACrCuc,EAAOx1C,OAAS,EAuBpB,OAnBIw3E,EAAOjhF,OAAS,IAChBkF,GAAS,EACT+7E,EAAS,MAAQzjB,GAAOve,EAAOiT,MAAMsvB,GAAS5jE,GAAInN,GAAW,IAAMwwE,EAAS,QAExElrB,EAAc,GAAKorB,GAAkBliC,KACrC8W,EAAc9W,EAAOx1C,MACrBw1C,EAAOx1C,OAAS,GAGhBssD,GAAe,IACfkrB,EAAS,SAAWA,EACpBA,GAAUC,GAASjiC,EAAOiT,MAAM6D,GAAaA,YAAa,EAAG,EAAGtlD,GAASwwE,OACzEA,GAAU,WAGdhiC,EAAOgiC,QAAUA,EACjBhiC,EAAO8gB,SAAW,MAGf76D,EAGX,SAASu8E,GAAUxiC,EAAQ4iB,EAAOpxD,GAC9B,IAAIvL,GAAS,EACb28D,EAAQA,GAAS5iB,EAAOiT,MAAMlyD,OAC9B,IAAIihF,EAAS,GACTlhB,EAAW,GAEf,GAAI9gB,EAAOx1C,MAAQo4D,GACyB,UAApC5iB,EAAOiT,MAAMjT,EAAOx1C,OAAOsR,KAAkB,CACjD,IAAIqnB,GAAQ,EACR6B,EAAQ,EACNy9C,EAAYziC,EAAOx1C,MACrBk4E,GAAc,EACdl4E,EAAQi4E,EAAY,EACxB,MAAOj4E,EAAQo4D,IAAUz/B,EACY,UAA7B6c,EAAOiT,MAAMzoD,GAAOsR,KACpBkpB,GAAS,EAC2B,WAA7Bgb,EAAOiT,MAAMzoD,GAAOsR,OAC3BkpB,GAAS,IAEE,IAAXA,IACA7B,GAAQ,EACRu/C,EAAal4E,GAEjBA,GAAS,EAET24B,IAEA6+C,EAAS,SACTA,GAAUW,GAAK3iC,EAAOiT,MAAMwvB,GAAYjxE,GAExCwwE,GAAUC,GAASjiC,EAAOiT,MAAOwvB,EAAY,EAAGC,EAAYlxE,GAASwwE,OAGrEA,GAAUW,GAAK3iC,EAAOiT,MAAMyvB,GAAalxE,GACzCwwE,GAAU,UAEc,OAApBhiC,EAAO8gB,UACa,OAApB9gB,EAAO8gB,UACa,UAApB9gB,EAAO8gB,UACa,UAApB9gB,EAAO8gB,WACPkhB,EAAS,4BAA8BA,GAE3ChiC,EAAOx1C,MAAQk4E,EAAa,EAExBL,GAAYL,EAAQhiC,EAAQxuC,KAC5BvL,GAAS,EACT+5C,EAAO8gB,SAAW,GAClBkhB,EAAS,IAGblhB,EAAW,SAUnB,OANIkhB,EAAOjhF,OAAS,IAChBkF,GAAS,EACT+5C,EAAOgiC,QAAUA,EACjBhiC,EAAO8gB,SAAWA,GAGf76D,EAGX,SAAS28E,GAAa5iC,EAAQ4iB,EAAOpxD,GACjC,IAAIvL,GAAS,EACb28D,EAAQA,GAAS5iB,EAAOiT,MAAMlyD,OAC9B,IAAIihF,EAAS,GACTlhB,EAAW,GACT3N,EAAOnT,EAAOiT,MAAMjT,EAAOx1C,OAEjC,GAAIw1C,EAAOx1C,MAAQo4D,IACD,SAAdzP,EAAKr3C,MAAiC,SAAdq3C,EAAKr3C,MAC7BkmE,GAAUhiC,EAAOiT,MAAMjT,EAAOx1C,OAAOy3E,SAASzwE,GAC9CwuC,EAAOx1C,OAAS,EAChBs2D,EAAW,UACR,GAAI9gB,EAAOx1C,MAAQo4D,GAAuB,QAAdzP,EAAKr3C,KAAgB,CAGpD,GAAqB,WAAhBq3C,EAAKnC,SAAyBmC,EAAK2D,aAAe3D,EAAK4D,WAAY,CAEpE,IAAM8rB,EAAKF,GAAKxvB,EAAM3hD,GAClB2hD,EAAK2D,aAAe3D,EAAK4D,WAEzBirB,IAA2B,aAAhB7uB,EAAKnC,OAAwB,eAAiB,aAAe6xB,EACxEb,GAAUC,GAAS9uB,EAAK4D,UAAW,EAAG,EAAGvlD,GAASwwE,OAClDA,GAAUC,GAAS9uB,EAAK2D,YAAa,EAAG,EAAGtlD,GAASwwE,OACpDA,GAA2B,aAAhB7uB,EAAKnC,OAAwB,gBAAkB,cACnDmC,EAAK2D,aAEZkrB,IAA2B,aAAhB7uB,EAAKnC,OAAwB,UAAY,UAAY6xB,EAChEb,GAAUC,GAAS9uB,EAAK2D,YAAa,EAAG,EAAGtlD,GAASwwE,OACpDA,GAA2B,aAAhB7uB,EAAKnC,OAAwB,WAAa,YAGrDgxB,IAA2B,aAAhB7uB,EAAKnC,OAAwB,WAAa,UAAY6xB,EACjEb,GAAUC,GAAS9uB,EAAK4D,UAAW,EAAG,EAAGvlD,GAASwwE,OAClDA,GAA2B,aAAhB7uB,EAAKnC,OAAwB,YAAc,WAE1D8P,EAAW,SAER,CACH,IAAM3N,EAAOnT,EAAOiT,MAAMjT,EAAOx1C,OAC3Bs4E,EAAkD,IAAzC3vB,EAAK8L,MAAM1sD,QAAQ,kBAC5BswE,EAAKC,EACP,0BAA4BvkB,GAAOpL,EAAKx0C,GAAInN,GAAW,IAAM7O,GAASwwD,EAAK1vB,MAAQ,QACnFk/C,GAAKxvB,EAAM3hD,GACfwwE,GAAUa,EACV7iC,EAAOx1C,OAAS,EACZ63E,GAAYL,EAAQhiC,EAAQxuC,KAC5BvL,GAAS,EACT+5C,EAAO8gB,SAAW,GAClBkhB,EAAS,IAEbhiC,EAAOx1C,OAAS,EACXs4E,GAAW,mBAAmBvjF,KAAKsjF,GAKpC/hB,EAAWgiB,EAAS,KAAO,MAJ3Bd,GAAU,oBAEVlhB,EAAW,iBAOM,OAApB9gB,EAAO8gB,UAAyC,OAApB9gB,EAAO8gB,UACnC,mBAAmBvhE,KAAKyiF,KACzBA,EAAS,4BAA8BA,GAE3ChiC,EAAOx1C,OAAS,EASpB,OANIw3E,EAAOjhF,OAAS,IAChBkF,GAAS,EACT+5C,EAAOgiC,QAAUA,EACjBhiC,EAAO8gB,SAAWA,GAGf76D,EAaX,SAASg8E,GAASvsE,EAAO6sE,EAAS3f,EAAOpxD,GACrC,IAAMvL,EAAS,CACXgtD,MAAOv9C,EACPlL,MAAO+3E,GAAW,EAClBP,OAAQ,GACRlhB,SAAU,IAId,GAFA8B,EAAQA,IAAUltD,EAAQA,EAAM3U,OAAS,GAEpB,kBAAV2U,GAAuC,mBAAVA,EACpCzP,EAAO+7E,OAAStsE,EAAM/S,gBACnB,GAAqB,kBAAV+S,EACdzP,EAAO+7E,OAAStsE,OACb,GAAIA,GAAmC,oBAAnBA,EAAMusE,SAC7Bh8E,EAAO+7E,OAAStsE,EAAMusE,SAASzwE,QAC5B,GAAIxC,MAAMmE,QAAQuC,GAAQ,CAC7B,IAAIvN,EAAQ,EAEZ,MAAOlC,EAAOuE,MAAQo4D,EAClB,GAAI0f,GAASr8E,EAAQ28D,EAAOpxD,IACxB8wD,GAAWr8D,EAAQ28D,EAAOpxD,IAC1BuwE,GAAe97E,EAAQ28D,EAAOpxD,IAC9BoxE,GAAa38E,EAAQ28D,EAAOpxD,IAC5BgxE,GAAUv8E,EAAQ28D,EAAOpxD,GACrBrJ,GAAS,OACV,GAAIlC,EAAOuE,MAAQo4D,EAAO,CAC7B,IAAIof,EAAS/7E,EAAOgtD,MAAMhtD,EAAOuE,OAAOy3E,SAASzwE,GACzB,OAApBvL,EAAO66D,UAAqBkhB,EAAOjhF,OAAS,GACJ,YAApCkF,EAAOgtD,MAAMhtD,EAAOuE,OAAOsR,OAG/BkmE,EAAS,oBAAsBA,GAEK,YAApC/7E,EAAOgtD,MAAMhtD,EAAOuE,OAAOsR,KAC3B7V,EAAO66D,SAAW,QAElB76D,EAAO66D,SAAW,GAElBkhB,EAAOjhF,OAAS,IAChBkF,EAAO+7E,QAAUA,EACjB75E,GAAS,GAEblC,EAAOuE,OAAS,EAKpBrC,EAAQ,IACRlC,EAAO+7E,OAAS,SAAW/7E,EAAO+7E,OAAS,WAInD,OAAO/7E,EAGX,SAAS08E,GAAKxvB,EAAM3hD,GAChB,IAAIvL,EAAS,GACPw9B,EAAO9gC,GAASwwD,EAAK1vB,MAI3B,OAHIA,IACAx9B,EAAS,MAAQs4D,GAAOpL,EAAKx0C,GAAInN,GAAW,IAAMiyB,EAAO,SAEtDx9B,EAGX,SAAStD,GAASswD,GACd,IAAKA,EAAO,MAAO,GACnB,GAAqB,kBAAVA,EAAoB,OAAO6uB,GAAU7uB,GAChD,IAAKjkD,MAAMmE,QAAQ8/C,IAAgC,kBAAfA,EAAMxvB,KACtC,OAAOq+C,GAAU7uB,EAAMxvB,MAE3B,IAAIx9B,EAAS,GANQ,uBAOrB,YAAmBgtD,EAAnB,+CAA0B,KAAfE,EAAe,QACG,kBAAdA,EAAK1vB,OACZx9B,GAAUktD,EAAK1vB,OATF,kFAYrB,OAAOq+C,GAAU77E,GAUrBswD,GAASA,SAASt3D,UAAUgjF,SAAW,SAASzwE,GAC5C,IA2CI6mD,EAAKzH,EAAKvzD,EACV+zD,EAAaD,EAAY1tB,EA5CvBk+C,EAAsB,CACxB,iBAAkB,YAClB,eAAgB,WAChB,kBAAmB,WACnB,yBAA0B,WAC1B,UAAW,WACX,OAAQ,WACR,UAAY,WACZ,WAAa,WACb,YAAa,WACb,WAAY,WACZ,SAAU,IACV,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,KAIToB,EAAgB,CAClB,IAAO,SACP,KAAQ,UACR,GAAM,gBACN,IAAO,SACP,KAAQ,YACR,KAAQ,cAENnzB,EAAU,CACZ,OAAiB,EAAI,GACrB,MAAgB,EAAI,GACpB,MAAgB,EAAI,GACpB,MAAgB,EAAI,GACpB,MAAgB,EAAI,GACpB,YAAgB,GAChB,SAAgB,EAChB,UAAgB,EAChB,WAAe,IAGf3pD,EAAS,GACTg6C,EAAM,GAGN4N,EAAUk1B,EAAc9lF,KAAK2pD,YAAc3pD,KAAK+2D,OAAS,GACzDnG,IACAA,EAAU,iBAAmBA,EAAU,KAG3C,IAAMnO,EAAUziD,KAAKgiE,MAAQhiE,KAAKgiE,MAAMx7C,OAAS,KACjD,GAAkB,SAAdxmB,KAAKuB,KACLyH,EAAS,MAAQs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMvU,KAAKwmC,KAAO,aAE9D,OAAOxmC,KAAK6e,MACR,IAAK,QACD,MACJ,IAAK,QACL,IAAK,OACD7V,EAASg8E,GAAShlF,KAAKwmC,KAAM,EAAG,EAAGjyB,GAASwwE,OAC5C,MAEJ,IAAK,QASD,IARK/kF,KAAKyxD,QAA0B,MAAhBzxD,KAAKyxD,QACpBzxD,KAAK0xD,QAA0B,MAAhB1xD,KAAK0xD,UACrB1oD,GAAU,SACLhJ,KAAKyxD,QAA0B,MAAhBzxD,KAAKyxD,SACrBzoD,GAAU,QAAU27E,GAAkB3kF,KAAKyxD,SAAWzxD,KAAKyxD,QAAU,UAG7EzoD,GAAU,UACNhJ,KAAKwxD,UAAW,CAEhB,IADAxoD,GAAU,iBACL5I,EAAI,EAAGA,EAAIJ,KAAKwxD,UAAU1tD,OAAQ1D,IAC/BJ,KAAKwxD,UAAUpxD,GAAGmzD,QAClBvqD,GAAU,CAAC3I,EAAE,OAAQI,EAAE,SAAUS,EAAE,SAASlB,KAAKwxD,UAAUpxD,GAAGmzD,OAAS,KAG/EvqD,GAAU,IAId,IADAA,GAAU,IACL2qD,EAAM,EAAGA,EAAM3zD,KAAKuS,MAAMzO,OAAQ6vD,IAAO,CAE1C,IADA3qD,GAAU,QACLoyD,EAAM,EAAGA,EAAMp7D,KAAKuS,MAAMohD,GAAK7vD,OAAQs3D,IACxCpyD,GAAU,QAAUg8E,GAAShlF,KAAKuS,MAAMohD,GAAKyH,GAAM,EAAG,EAAG7mD,GAASwwE,OAAS,SAE/E/7E,GAAU,SAGdA,GAAU,aAELhJ,KAAKyxD,QAA0B,MAAhBzxD,KAAKyxD,QACpBzxD,KAAK0xD,QAA0B,MAAhB1xD,KAAK0xD,UAChB1xD,KAAK0xD,QAA0B,MAAhB1xD,KAAK0xD,SACrB1oD,GAAU,QAAU27E,GAAkB3kF,KAAKyxD,SAAWzxD,KAAK0xD,QAAU,SAEzE1oD,GAAU,WAEd,MAEJ,IAAK,WACGhJ,KAAKs1D,WAAat1D,KAAKu1D,cACvBvsD,GAAU,UAEVhJ,KAAKs1D,WAAgC,MAAnBt1D,KAAKs1D,YACvBtsD,GAAU,MAAQs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,KAAOowE,GAAkB3kF,KAAKs1D,YAAct1D,KAAKs1D,WAAa,SAE3Gt1D,KAAKq1D,YACLrsD,GAAU,UACVA,GAAUg8E,GAAShlF,KAAKm1D,MAAO,EAAG,EAAG5gD,GAASwwE,QAAU,kBACxD/7E,GAAUg8E,GAAShlF,KAAKo1D,MAAO,EAAG,EAAG7gD,GAASwwE,QAAU,kBACxD/7E,GAAU,aAGVA,GAAU,UAAYs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,IACjDvL,GAAU,QAAUg8E,GAAShlF,KAAKm1D,MAAO,EAAG,EAAG5gD,GAASwwE,OAAS,SACjE/7E,GAAU,QAAUg8E,GAAShlF,KAAKo1D,MAAO,EAAG,EAAG7gD,GAASwwE,OAAS,SACjE/7E,GAAU,aAEVhJ,KAAKu1D,YAAkC,MAApBv1D,KAAKu1D,aACxBvsD,GAAU,MAAQs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,KAAOowE,GAAkB3kF,KAAKu1D,aAAev1D,KAAKu1D,YAAc,UAE7Gv1D,KAAKs1D,WAAat1D,KAAKu1D,cACvBvsD,GAAU,WAElB,MAEA,IAAK,OACGhJ,KAAKuN,OACLvE,GAAU,SAAWs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,IAChDvL,GAAUg8E,GAAShlF,KAAKwmC,KAAM,EAAG,EAAGjyB,GAASwwE,OAC7C/7E,GAAUg8E,GAAShlF,KAAKuN,MAAO,EAAG,EAAGgH,GAASwwE,OAC9C/7E,GAAU,aAEVA,GAAU,SAAWs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,IAChDvL,GAAUg8E,GAAShlF,KAAKwmC,KAAM,EAAG,EAAGjyB,GAASwwE,OAC7C/7E,GAAU,YAEd,MAEJ,IAAK,YAEDA,EAAS,SACLhJ,KAAKs1D,WAAgC,MAAnBt1D,KAAKs1D,YACvBtsD,GAAU,MAAQs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,KAAOowE,GAAkB3kF,KAAKs1D,YAAct1D,KAAKs1D,WAAa,SAE3Gt1D,KAAKwmC,OAAMx9B,GAAUg8E,GAAShlF,KAAKwmC,KAAM,EAAG,EAAGjyB,GAASwwE,QACxD/kF,KAAKu1D,YAAkC,MAApBv1D,KAAKu1D,aACxBvsD,GAAU,MAAQs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,KAAOowE,GAAkB3kF,KAAKu1D,aAAev1D,KAAKu1D,YAAc,SAEjHvsD,GAAU,UACV,MAEJ,IAAK,aACL,IAAK,QACDA,GAAU,uBAAyBs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,KAAOowE,GAAkB3kF,KAAK41D,QAAU51D,KAAK41D,OAAS,QACpH,MAGJ,IAAK,SACD5sD,GAAU,uBAAyBs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,IAC9DvL,GAAUg8E,GAAShlF,KAAKwmC,KAAM,EAAG,EAAGjyB,GAASwwE,OAC7C/7E,GAAU,QAAU27E,GAAkBliC,IAAYziD,KAAKm2D,QAAU,QACjEntD,GAAU,WACV,MAEJ,IAAK,OACL,IAAK,UACD,MAEJ,IAAK,YACDkrD,EAAal0D,KAAKk0D,WAClBC,EAAcn0D,KAAKm0D,YACfD,GAAcC,EACd3tB,EAAOxmC,KAAKwmC,KACL0tB,GACP1tB,EAAOxmC,KAAKwmC,KACRxmC,KAAKwmC,KAAK,IAAMxmC,KAAKwmC,KAAK,GAAG2tB,aAC7BA,EAAcn0D,KAAKwmC,KAAK,GAAG2tB,YAC3B3tB,EAAOxmC,KAAKwmC,KAAK,GAAGA,MACbxmC,KAAKwmC,KAAK,IAA4B,UAAtBxmC,KAAKwmC,KAAK,GAAG3nB,MAAoB7e,KAAKwmC,KAAK,IAAMxmC,KAAKwmC,KAAK,GAAG2tB,cACrFA,EAAcn0D,KAAKwmC,KAAK,GAAG2tB,YAC3B3tB,EAAOxmC,KAAKwmC,KAAK,GAAGA,OAEjB2tB,IACP3tB,EAAOxmC,KAAKwmC,KACRxmC,KAAKwmC,KAAK,IAAMxmC,KAAKwmC,KAAK,GAAG0tB,YAC7BA,EAAal0D,KAAKwmC,KAAK,GAAG0tB,WAC1B1tB,EAAOxmC,KAAKwmC,KAAK,GAAGA,MACbxmC,KAAKwmC,KAAK,IAA4B,UAAtBxmC,KAAKwmC,KAAK,GAAG3nB,MAAoB7e,KAAKwmC,KAAK,IAAMxmC,KAAKwmC,KAAK,GAAG0tB,aACrFA,EAAal0D,KAAKwmC,KAAK,GAAG0tB,WAC1B1tB,EAAOxmC,KAAKwmC,KAAK,GAAGA,OAIxB0tB,GAAcC,GACdnrD,GAAU,cAAgB4nD,EAAU0Q,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMywE,GAASx+C,EAAM,EAAG,EAAGjyB,GAASwwE,OACnG/7E,GAAUg8E,GAAS7wB,EAAa,EAAG,EAAG5/C,GAASwwE,OAC/C/7E,GAAUg8E,GAAS9wB,EAAY,EAAG,EAAG3/C,GAASwwE,OAC9C/7E,GAAU,iBACHkrD,GACPlrD,GAAU,SAAW4nD,EAAU0Q,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMywE,GAASx+C,EAAM,EAAG,EAAGjyB,GAASwwE,OAC9F/7E,GAAUg8E,GAAS9wB,EAAY,EAAG,EAAG3/C,GAASwwE,OAC9C/7E,GAAU,YACHmrD,IACPnrD,GAAU,UAAY4nD,EAAU0Q,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMywE,GAASx+C,EAAM,EAAG,EAAGjyB,GAASwwE,OAC/F/7E,GAAUg8E,GAAS7wB,EAAa,EAAG,EAAG5/C,GAASwwE,OAC/C/7E,GAAU,aAEd,MAEJ,IAAK,cACL,IAAK,OACDA,EAAS07E,EAAoBjiC,IAAYA,IAAiC,kBAAdziD,KAAKwmC,KAAoBxmC,KAAKwmC,KAAO,IACjG,IAAOhmC,EAAIiiD,EAAUA,EAAQ91C,MAAM,uCAAyC,KACxEnM,EAEAwI,EAAS,MAAQxI,EAAE,GAAK,IACjBwI,EAAOlF,OAAS,GAA0B,OAArBkF,EAAO2P,OAAO,KAItC3P,EADqB,kBAAdhJ,KAAKwmC,MAAqBxmC,KAAKwmC,KAAKhU,WAAW,GAAK,IAClD,OAAS,SACdxyB,KAAKwmC,KAAKhU,WAAW,GAAG9sB,SAAS,KAAKkiE,QAAQ,GAAK,IAC3B,kBAAd5nE,KAAKwmC,KACVxmC,KAAKwmC,KAAK7tB,OAAO,GAEjB3Y,KAAKwmC,MAGtB,IAAM9J,EAAM,KAAKp6B,KAAK0G,GAAU,KAAO,KACvCA,EAAS,IAAM0zB,EAAMk0B,EAAU0Q,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMswE,GAAU77E,GAAU,KAAO0zB,EAAM,IACjG,MAEJ,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,SAGG1zB,EAFAy5C,GAAWiiC,EAAoBjiC,GAEtB,MAAQ6e,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMmwE,EAAoBjiC,GAAW,QAC1EA,GAAWkiC,GAAkBliC,GAC3B,MAAQ6e,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMowE,GAAkBliC,GAAW,QAEtEijC,GAAK1lF,KAAMuU,GAExB,MAEJ,IAAK,SACDvL,EAAS,uBAAyBs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,KAAOowE,GAAkBliC,IAAYA,GAAW,QAC7G,MAEJ,IAAK,MACiB,MAAdziD,KAAKwmC,OAELx9B,EAAS,MAAQs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,IAExCvL,GADY,mBAAZy5C,EACUziD,KAAKwmC,KAELic,GAAWziD,KAAKwmC,KAE9Bx9B,GAAU,SAEd,MAEJ,IAAK,YASD,MAEJ,IAAK,MACDA,EAAS,2BACLhJ,KAAKs0D,kBACLtrD,GAAU,oBAAsBg8D,GAAM1C,cAActiE,KAAKs0D,iBAAmB,KAEhFtrD,GAAUs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,IAAMywE,GAAShlF,KAAKwmC,KAAM,EAAG,EAAGjyB,GAASwwE,OAAS,cACvF,MAEJ,IAAK,UACD/7E,GAAU,mBAAqB2pD,EAAQlQ,IAAY,GAAK,QACxD,MAEJ,IAAK,UAED,IAAK,IAAMwS,KADXjsD,EAAS,uBACchJ,KAAKi1D,SACpBn0D,OAAOkB,UAAUC,eAAe1B,KAAKP,KAAKi1D,SAAUA,IACpDj1D,KAAKi1D,SAASA,KACdjsD,GAAUg6C,EAAMiS,EAChBjS,EAAM,KAGdh6C,GAAUs4D,GAAOthE,KAAK0hB,GAAInN,GAAW,KAAOywE,GAAShlF,KAAKwmC,KAAM,EAAG,EAAGjyB,GAASwwE,OAAS,cACxF,MAEJ,IAAK,QACD/7E,GAAU,SACV,MACJ,QACI4c,QAAQ9S,IAAI,2CAA6C9S,KAAK6e,MAG1E,OAAO7V,GAIXswD,GAAS0rB,SAAW,SAAShvB,EAAOzhD,GAChC,OAAOywE,GAAShvB,EAAO,EAAG,EAAGzhD,GAASwwE,Q,wlCCr0B1C,IAAMgB,GAAkB,CAEpB,eAAoB,IACpB,eAAoB,IACpB,OAAoB,IACpB,iBAAoB,IAGpB,IAAmB,IACnB,IAAmB,IACnB,IAAoB,IACpB,IAAoB,IACpB,IAAmB,IACnB,IAAmB,IACnB,UAAoB,IACpB,SAAoB,IACpB,IAAoB,IACpB,KAAqB,IACrB,KAAqB,IACrB,IAAoB,IACpB,IAAoB,IAEpB,IAAqB,IACrB,IAAoB,IACpB,IAAoB,YACpB,OAAoB,YACpB,OAAoB,KACpB,YAAoB,KACpB,YAAoB,KACpB,WAAoB,SACpB,SAAoB,YACpB,QAAoB,UACpB,UAAoB,QACpB,OAAoB,YAEpB,SAAoB,MACpB,UAAoB,MACpB,QAAoB,KACpB,QAAoB,KACpB,UAAoB,MACpB,WAAoB,MACpB,SAAoB,MACpB,QAAoB,MAEpB,WAAoB,SACpB,YAAoB,UACpB,WAAoB,SACpB,gBAAoB,WACpB,cAAoB,YACpB,YAAoB,UAEpB,UAAoB,QACpB,SAAoB,SAEpB,WAAoB,SACpB,SAAoB,OACpB,WAAoB,SAEpB,SAAoB,OACpB,UAAoB,QACpB,QAAoB,MACpB,QAAoB,MACpB,QAAoB,MACpB,QAAoB,MACpB,QAAoB,MACpB,SAAoB,OACpB,QAAoB,WACpB,SAAoB,YACpB,UAAoB,YAEpB,OAAoB,KACpB,mBAAoB,KACpB,OAAoB,KACpB,mBAAoB,KAEpB,UAAoB,MAEpB,YAAoB,UACpB,kBAAoB,gBACpB,yBAA0B,uBAC1B,SAAoB,OACpB,SAAoB,OACpB,OAAoB,KACpB,QAAoB,MACpB,SAAoB,OACpB,UAAoB,QAGpB,OAAoB,KACpB,SAAoB,OAGpB,OAAoB,YACpB,UAAoB,aACpB,OAAoB,UACpB,SAAoB,UACpB,WAAoB,SACpB,WAAoB,WACpB,eAAoB,aAGpB,eAAoB,sBACpB,cAAoB,wBACpB,mBAAoB,yBACpB,mBAAoB,iBACpB,kBAAoB,mBACpB,uBAAwB,oBAGxB,eAAoB,eACpB,cAAoB,iBACpB,mBAAoB,kBAEpB,YAAoB,UACpB,mBAAoB,UACpB,cAAoB,YACpB,kBAAoB,YACpB,QAAoB,aACpB,uBAAwB,cAKtBC,GAAU,CACZ,IAAgB,MAChB,IAAgB,WAChB,IAAgB,WAChB,IAAgB,SAChB,IAAgB,QAChB,KAAgB,SAChB,KAAgB,KAChB,KAAgB,UAChB,OAAgB,SAChB,UAAgB,YAChB,QAAiB,UACjB,MAAgB,QAChB,IAAgB,KAChB,IAAgB,KAChB,KAAgB,KAChB,KAAgB,KAChB,IAAgB,KAChB,IAAgB,KAChB,KAAgB,KAChB,KAAgB,KAChB,KAAgB,MAChB,KAAgB,YAChB,KAAgB,aAKdC,GAAoB,CACtB,MAA4B,UAC5B,GAA4B,aAC5B,QAA4B,kBAC5B,OAA4B,iBAC5B,UAA4B,eAC5B,QAA4B,cAC5B,MAA4B,gBAC5B,OAA4B,WAC5B,GAA4B,UAC5B,GAA4B,UAC5B,GAA4B,aAC5B,GAA4B,aAG5B,IAA4B,eAC5B,IAA4B,eAC5B,IAA4B,eAC5B,IAA4B,eAC5B,IAA4B,eAC5B,IAA4B,eAE5B,KAA4B,YAC5B,KAA4B,YAC5B,KAA4B,YAC5B,KAA4B,YAC5B,KAA4B,YAC5B,KAA4B,YAE5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAE5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAC5B,OAA4B,cAG5B,GAA4B,aAC5B,IAA4B,cAC5B,GAA4B,SAC5B,GAA4B,SAG5B,IAA4B,eAC5B,KAA4B,gBAG5B,KAAY,eACZ,MAAY,YACZ,IAAY,cACZ,IAAY,cACZ,IAAY,cACZ,IAAY,cACZ,MAAY,YACZ,MAAY,YACZ,KAAY,oBACZ,IAAY,mBACZ,MAAY,2BACZ,KAAY,yBACZ,IAAY,0BACZ,KAAY,yBACZ,QAAY,+BACZ,QAAY,+BACZ,MAAY,2BACZ,MAAY,2BACZ,UAAY,mCACZ,MAAY,2BACZ,SAAY,iBACZ,KAAY,aACZ,IAAY,uBACZ,IAAY,uBACZ,IAAY,uBACZ,KAAY,wBACZ,WAAc,8BACd,cAAiB,iCAIjB,IAAY,eACZ,GAAY,cACZ,IAAY,gBACZ,IAAY,eAGZ,OAAY,eACZ,IAAY,cACZ,KAAY,eACZ,MAAY,gBACZ,IAAY,iBACZ,GAAY,WACZ,GAAY,WACZ,UAAa,MACb,WAAc,QAYZC,GAAgB,CAClB,OAAwB,IACxB,MAAwB,IACxB,KAAwB,IACxB,QAAwB,IACxB,cAAwB,IACxB,qBAAwB,IAExB,KAAwB,IAExB,KAAwB,IAGxB,IAAwB,IAGxB,IAAwB,IACxB,QAAwB,IACxB,IAAwB,IAExB,SAAwB,IAExB,IAAwB,IAExB,OAAwB,IAGxB,MAAwB,IACxB,aAAwB,IAGxB,IAAwB,IACxB,IAAwB,IACxB,IAAwB,IAExB,MAAwB,IACxB,OAAwB,IAGxB,IAAwB,IACxB,IAAwB,IACxB,KAAwB,IACxB,KAAwB,IAIxB,OAAwB,IACxB,WAAwB,IACxB,YAAwB,IACxB,KAAwB,IAIxB,KAAwB,IAGxB,GAAwB,IACxB,GAAwB,IAExB,IAAwB,IAIxB,UAAwB,IACxB,MAAwB,IACxB,IAAwB,IACxB,KAAwB,IACxB,KAAwB,IACxB,QAAwB,IAExB,OAAwB,IACxB,IAAwB,IACxB,IAAwB,IACxB,KAAwB,IACxB,IAAwB,IACxB,KAAwB,IAGxB,WAAwB,IACxB,OAAwB,IACxB,SAAwB,IAExB,UAAwB,IACxB,aAAwB,IAExB,OAAyB,IACzB,UAAyB,IACzB,OAAyB,IAGzB,IAAoB,IACpB,IAAoB,IACpB,GAAoB,IAMpB,SAAyB,IACzB,IAAyB,IAQzB,OAAqB,GACrB,KAAqB,GAErB,UAA4B,GAC5B,QAA0B,GAQ1B,oBAAuB,GACvB,aAAoB,GACpB,eAAoB,GACpB,QAAoB,GAEpB,sBAAyB,GACzB,eAAoB,GACpB,iBAAoB,GACpB,UAAoB,GAEpB,uBAAyB,GACzB,gBAAoB,GACpB,kBAAoB,GACpB,WAAoB,GAGpB,IAAoB,GACpB,IAAoB,IAIxB,SAASC,GAAOC,EAAK74E,GACjB,OAAOwE,MAAMmE,QAAQkwE,EAAIphE,KAAOohE,EAAIphE,IAAIzX,QAASxJ,EAUrD,SAASsiF,GAAcC,GACnB,OAAOA,GAAiBJ,GAAcI,KAAyB,EAGnE,SAASC,GAAiBD,GACtB,MAAI,OAAOhkF,KAAKgkF,GACL,QAEJ,OAWX,SAASE,GAA4B7lF,GACjC,IAAIqI,EAASi9E,GAAkBtlF,GAK/B,OAJKqI,IACDA,EAASrI,EAAKmD,OAAS,EAAI,kBAAoBnD,EAAO,UAAaA,EAAO,UAGvEqI,EASX,SAASy9E,GAAkB9lF,GACvB,IAAIqI,EAASi9E,GAAkBtlF,GAC/B,GAAIqI,EACA,OAAOA,EAAOsV,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,IAAK,IAEnE,GAAI3d,EAAKmD,OAAS,EAAG,CACjB,IAAMg+B,EAAO80B,GAAYjF,QAAQ,KAAOhxD,EAAM,SAC1CmhC,GACEA,EAAK6nB,YAAkC,QAApB7nB,EAAK6nB,YAA4C,QAApB7nB,EAAK6nB,aACvD3gD,EAAS,KAAOrI,GAOxB,OAJKqI,IACDA,EAAS4tD,GAAY3F,qBAAqB,OAAQtwD,IAG/CqI,EAIX,SAASmjC,GAAWm6C,GAChB,GAAsB,MAAlBA,GAA2C,MAAlBA,EAAuB,OAAO,EAE3D,IAAMhlF,EAAI2kF,GAAkBK,GAC5B,QAAKhlF,KAGD,YAAYgB,KAAKhB,GAYzB,SAASolF,GAAiB1kB,GACtBA,GAASA,GAAS,IAAIx7C,OACtB,IAAIxd,EAAS+8E,GAAgB/jB,GAC7B,IAAKh5D,EACD,GAAI,aAAa1G,KAAK0/D,GAAQ,CAC1B,IAAMlgC,EAAO80B,GAAYjF,QAAQqQ,EAAO,OAAQ,IAE5Ch5D,EADA84B,GACSA,EAAKzgC,OAEL2gE,EAAMx9D,MAAM,QAGzBwE,EAASg5D,EAGjB,OAAOh5D,EAWX,SAAS29E,GAAOzwB,GACZ,IAAKA,EAAM,OAAO,KAClB,IAAMv1D,EAAO+lF,GAAiBE,GAAU1wB,IAClCltD,EAAS,CAACq9E,GAAc1lF,GAAO4lF,GAAiB5lF,IACtD,OAAIqI,EAAO,IAAM,EAAU,KACpBA,EAGX,SAAS69E,GAAW3wB,GAChB,OAAwB,OAAjBywB,GAAOzwB,GAIlB,IAAM4wB,GAAiB,CACnB,mBAA4B,QAC5B,iBAA4B,OAC5B,eAA4B,MAC5B,iBAA4B,MAC5B,KAA4B,MAC5B,eAA4B,OAC5B,iBAA4B,OAC5B,uBAA4B,UAC5B,uBAA4B,UAC5B,mBAA4B,QAC5B,mBAA4B,QAC5B,2BAA4B,YAC5B,mBAA4B,SAG1BC,GAAmB,CACrB,IAAwB,YACxB,QAAwB,SACxB,WAAwB,SACxB,YAAwB,UACxB,YAAwB,UACxB,cAAwB,YACxB,oBAAwB,aACxB,UAAwB,QACxB,gBAAwB,SACxB,MAAwB,IACxB,MAAwB,IACxB,MAAwB,IACxB,WAAwB,UAGtBC,GAAuB,CACzB,IAAwB,MACxB,IAAwB,MAGxB,IAAwB,WAExB,IAAwB,QAExB,IAAwB,OACxB,IAAwB,QAExB,IAAwB,MACxB,GAAwB,KACxB,IAAwB,MACxB,MAAwB,QAGxB,uBAA0B,oBAC1B,kBAAwB,oBAGxB,gBAAwB,aACxB,WAAwB,cAGtBC,GAA6B,CAC/B,IAAwB,OACxB,IAAwB,SAG5B,SAASL,GAAU1wB,GACf,GAAInkD,MAAMmE,QAAQggD,GAAO,CACrB,IAAIltD,EAAS,GADQ,uBAErB,YAAsBktD,EAAtB,+CAA4B,KAAjBgxB,EAAiB,QACxBl+E,GAAU49E,GAAUM,IAHH,kFAKrB,OAAOl+E,EAEX,GAAIktD,EAAK8L,QACJ,2CAA2C1/D,KAAK4zD,EAAK8L,OACtD,OAAO9L,EAAK8L,MAAMx7C,OAEtB,GAAkB,cAAd0vC,EAAKr3C,KACL,MAAO,GAEX,GAAyB,kBAAdq3C,EAAK1vB,KACZ,OAAO0vB,EAAK1vB,KAEhB,GAAIz0B,MAAMmE,QAAQggD,EAAK1vB,MAAO,CAC1B,IAAIx9B,EAAS,GADa,uBAE1B,YAAsBktD,EAAK1vB,KAA3B,+CAAiC,KAAtB0gD,EAAsB,QAC7Bl+E,GAAU49E,GAAUM,IAHE,kFAK1B,OAAOl+E,EAEX,MAAO,GASX,SAASm+E,GAASv4C,GACd,MAA2B,kBAAbA,EAAK9D,IAAoB27C,GAAkB73C,EAAK9D,MAAQ8D,EAAK9D,IAAO,GAYtF,SAASs8C,GAAgBx4C,GACrB,OAAOnZ,WAAWmZ,EAAKy4C,KAG3B,SAAS5Z,GAAS7+B,GACd,MAAuB,WAAhB,GAAOA,IAAyC,qBAAbA,EAAKy4C,IAGnD,SAASC,GAAS14C,GACd,IAAI5lC,EAAS,EAQb,OAPIykE,GAAS7+B,KAEL5lC,EADoB,WAApB,GAAO4lC,EAAKy4C,KACoB,qBAAhBz4C,EAAKy4C,IAAItpD,GAAqBwpD,GAAsB34C,EAAKy4C,IAAItpD,IAAM,EAE1EtI,WAAWmZ,EAAKy4C,MAG1Br+E,EAGX,SAASw+E,GAAS54C,GACd,IAAI5lC,EAAS,EAMb,OALIykE,GAAS7+B,IACe,WAApB,GAAOA,EAAKy4C,OACZr+E,EAAgC,qBAAhB4lC,EAAKy4C,IAAII,GAAqBF,GAAsB34C,EAAKy4C,IAAII,IAAM,GAGpFz+E,EAIX,SAAS0+E,GAA8B94C,GACnC,OAA0B,IAAnB04C,GAAS14C,IAAkC,IAAnB44C,GAAS54C,GAG5C,SAAS+4C,GAAO/4C,GACZ,OAAOA,GAA4B,qBAAbA,EAAKlb,IAG/B,SAASk0D,GAAOh5C,GACZ,OAAOA,GAA4B,qBAAbA,EAAK3nB,IAU/B,SAAS4gE,GAAOC,EAAMjpE,EAAMxd,GACxB,IAAI2H,GAAS,EACPktD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OAQ7B,OAPI2oD,GAAQA,EAAKr3C,OAASA,IAElB7V,OADUjF,IAAV1C,GAGSulF,GAAU1wB,KAAU70D,GAG9B2H,EAUX,SAAS++E,GAAOC,GAAyB,IACrC,IAAMh/E,EAAS,CAAE9D,GAAI8iF,GADgB,mBAARtiD,EAAQ,iCAARA,EAAQ,kBAErC,GAAIA,EAAQ,CACR,IAAM7gC,EAAO,GADL,uBAER,YAAkB6gC,EAAlB,+CAA0B,KAAf1gB,EAAe,QAClBA,GAAKngB,EAAKgH,KAAKmZ,IAHf,kFAKJngB,EAAKf,OAAS,IAAGkF,EAAOgc,IAAMngB,GAEtC,OAAOmE,EAGX,SAASi/E,GAAQZ,GACb,MAAmB,kBAARA,EACA,CAACA,IAAKA,EAAI3hF,YACK,kBAAR2hF,EACP,CAACA,IAAKA,GACS,WAAf,GAAOA,IAEdzhE,QAAQu8B,OAAyB,kBAAXklC,EAAItpD,IAAqC,kBAAXspD,EAAII,IACjD,CAACJ,IAAKA,SAHV,EAcX,SAASa,GAAOt5C,GACZ,GAAI6+B,GAAS7+B,GAAO,CAChB,IAAM7Q,EAAKupD,GAAS14C,GACd64C,EAAKD,GAAS54C,GASpB,OARW,IAAP64C,GACW,IAAP1pD,IACA6Q,EAAKy4C,IAAItpD,KAAOA,GAAIr4B,YAExBkpC,EAAKy4C,IAAII,KAAOA,GAAI/hF,YAEpBkpC,EAAKy4C,MAAQtpD,GAAIr4B,WAEdkpC,EAEX,OAAOm5C,GAAO,SAAUn5C,GAG5B,SAASu5C,GAAaL,GAClB,IAAM5xB,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,GACrC,OAAO2oD,GAAsB,YAAdA,EAAKr3C,KAUxB,SAASupE,GAAYN,EAAMvzE,GACvB,IAAI2hD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OAoD3B,OAjDI2oD,GAAqC,qBAArBA,EAAK2D,aAAyD,qBAAnB3D,EAAK4D,UAIhE5D,EAAO,KAFP4xB,EAAKv6E,OAAS,EAOb2oD,IACDA,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,GAC1B2oD,GAAsB,YAAdA,EAAKr3C,OAAwBq3C,EAAK2D,aAAe3D,EAAK4D,WAI/DguB,EAAKv6E,OAAS,EAHd2oD,EAAO,MAOXA,GAC8B,qBAAnBA,EAAK4D,YACZguB,EAAK1B,IAAIn/D,IAAMqsC,GAAM4C,EAAK4D,UAAWvlD,IAET,qBAArB2hD,EAAK2D,cACM,YAAd3D,EAAKr3C,KACD,oBAAoBvc,KAAKskF,GAAU1wB,EAAK2D,eACxCiuB,EAAKv6E,OAAS,EACd2oD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,GAC3B2oD,GAAsB,YAAdA,EAAKr3C,MAAsB,oBAAoBvc,KAAKskF,GAAU1wB,EAAK2D,cAC3EiuB,EAAK1B,IAAI1yD,IAAM,CAACoX,IAAK,MAErBg9C,EAAK1B,IAAI1yD,IAAM,CAACoX,IAAK,KACrBg9C,EAAKv6E,OAAS,IAEX,0BAA0BjL,KAAKskF,GAAU1wB,EAAK2D,cACrDiuB,EAAK1B,IAAI1yD,IAAM,CAACoX,IAAK,KACdg9C,EAAK1B,MACZ0B,EAAK1B,IAAI1yD,IAAM4/B,GAAM4C,EAAK2D,YAAatlD,IAG3CuzE,EAAK1B,IAAI1yD,IAAM4/B,GAAM4C,EAAK2D,YAAatlD,KAM/CuzE,EAAKv6E,OAAS,EAGXu6E,EAQX,SAASO,GAAaP,EAAMvzE,GACxB,IAAM+zE,EAAMR,EAAK1B,IACjB,GAAImC,GAAcT,EAAM,MAKpB,OAJAA,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAM2B,GAAO,aAAcO,GAChCR,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,GACnBuzE,EAEX,GAAIS,GAAcT,EAAM,MAKpB,OAJAA,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAM2B,GAAO,YAAaO,GAC/BR,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,GACnBuzE,EAEX,GAAIS,GAAcT,EAAM,MAKpB,OAJAA,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAM2B,GAAO,YAAaO,GAC/BR,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,GACnBuzE,EAEX,IAAM5xB,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OAM7B,OALI2oD,GAAQA,EAAK8L,OAAS+kB,GAAiB7wB,EAAK8L,MAAMx7C,UAClDshE,EAAK1B,IAAM2B,GAAOhB,GAAiB7wB,EAAK8L,MAAMx7C,QAAS8hE,GACvDR,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,IAEvBuzE,EAkBV,SAASU,GAAWV,EAAMW,EAAQC,EAAQn0E,GAGvC,GAFAuzE,EAAKv6E,MAAQu6E,EAAKv6E,OAAS,EAED,IAAtBu6E,EAAK9xB,MAAMlyD,QAAgBgkF,EAAKv6E,OAASu6E,EAAK9xB,MAAMlyD,OAEpD,OADAgkF,EAAK1B,SAAMriF,EACJ+jF,EAGX,IAAMa,EAAYb,EAAKc,QACvBd,EAAKc,QAAU,EACf,IAAI1yB,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OAE3B,GAAKk7E,EAAL,CA4CA,GAAkB,UAAdvyB,EAAKr3C,MAAoB+nE,GAAU1wB,KAAUuyB,EAC7CX,EAAKv6E,OAAS,EACdu6E,EAAOe,GAAgBf,EAAMvzE,GAC7B2hD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OACnB2oD,GAAsB,WAAdA,EAAKr3C,MAAqB+nE,GAAU1wB,KAAUwyB,IAClDP,GAAaL,KAEbA,EAAK1B,IAAM,CAACje,MAAO2f,EAAK1B,MAE5B0B,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,SAG3B,GAAkB,YAAd2hD,EAAKr3C,MAAsB+nE,GAAU1wB,KAAUuyB,EAClDX,EAAKv6E,OAAS,EACdu6E,EAAOe,GAAgBf,EAAMvzE,GAC7B2hD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OACnB2oD,GAAsB,YAAdA,EAAKr3C,MAAsB+nE,GAAU1wB,KAAUwyB,IACvDZ,EAAKv6E,OAAS,EACdu6E,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,SAG/B,GAAe,YAAXk0E,GAAsC,YAAdvyB,EAAKr3C,MAAqC,MAAfq3C,EAAK8L,OAE/D,GADA9L,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,GAC3B2oD,GAAsB,YAAdA,EAAKr3C,MAAqC,MAAfq3C,EAAK8L,MAAe,CAEvD8lB,EAAKv6E,OAAS,EACdu6E,EAAOe,GAAgBf,EAAMvzE,GAC7B2hD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OACvB,IAAMu7E,EAAQhB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,GAClC2oD,GAAsB,YAAdA,EAAKr3C,MAAqC,MAAfq3C,EAAK8L,OACxC8mB,GAAwB,YAAfA,EAAMjqE,MAAsC,MAAhBiqE,EAAM9mB,QAE3C8lB,EAAKv6E,OAAS,EACdu6E,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,UAI/B,GAAkB,eAAd2hD,EAAKr3C,MAAyBq3C,EAAKN,QAAU6yB,EACpDX,EAAKv6E,OAAS,EACdu6E,EAAOe,GAAgBf,EAAMvzE,GAC7B2hD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OACnB2oD,GAAsB,eAAdA,EAAKr3C,MAAyBq3C,EAAKN,QAAU8yB,IACrDZ,EAAKv6E,OAAS,EACdu6E,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,QAG3B,IAAkB,cAAd2hD,EAAKr3C,MACZq3C,EAAKZ,YAAcmzB,GACE,MAApBvyB,EAAKX,YAAsBW,EAAKX,aAAemzB,EAYhD,OATAZ,EAAK1B,IAAM9yB,GAAM4C,EAAK1vB,KAAMjyB,GACxB4zE,GAAaL,KAEbA,EAAK1B,IAAM,CAACje,MAAO2f,EAAK1B,MAE5B0B,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,GAO9B,OADAuzE,EAAKc,QAAUD,EACRb,EA7GH,IAAIiB,GAAc,EAkBlB,GAjBkB,UAAd7yB,EAAKr3C,MACL4pE,EAASvyB,EAAK8L,MAAMx7C,OACpBkiE,EAAS9xB,GAAYxH,YAAYq5B,IACZ,eAAdvyB,EAAKr3C,MACZ4pE,EAASvyB,EAAKN,MACd8yB,EAAS9xB,GAAYxH,YAAYq5B,IACZ,cAAdvyB,EAAKr3C,MACZkqE,GAAc,EACdN,EAASvyB,EAAKZ,UACdozB,EAASxyB,EAAKX,WAGC,MAAXmzB,IAAgBA,EAAS9xB,GAAYxH,YAAYq5B,KAChC,YAAdvyB,EAAKr3C,OACZ4pE,EAASvyB,EAAK8L,MAAMx7C,OACpBkiE,EAAS9xB,GAAYxH,YAAYq5B,IAEjCA,GAAUC,EAAQ,CAClB,GAAe,MAAXD,GAA6B,MAAXC,EAAgB,CAElC,IAAMxyB,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,GACjC2oD,GAAsB,YAAdA,EAAKr3C,MAAqC,MAAfq3C,EAAK8L,QAExCymB,EAAS,UACTC,EAAS,WAIjB,GADAZ,EAAOU,GAAWV,EAAMW,EAAQC,GAC5BZ,EAMA,OALIiB,IAAajB,EAAKv6E,OAAS,GAC/Bu6E,EAAK1B,IAAM,CACPlhF,GAAI4hF,GAAe2B,EAASC,IAAYD,EAASC,EACjD1jE,IAAK,CAAC8iE,EAAK1B,MACf0B,EAAKc,QAAUD,EACRb,GA8EvB,SAASS,GAAcT,EAAMkB,GAGzB,OAFAlB,EAAKv6E,MAAQu6E,EAAKv6E,OAAS,IAEvBu6E,EAAK9xB,MAAMlyD,QAAU,GAAKgkF,EAAKv6E,OAASu6E,EAAK9xB,MAAMlyD,OAAS,IAIzDklF,IAAYpC,GAAUkB,EAAK9xB,MAAM8xB,EAAKv6E,QACzCq5E,GAAUkB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,IAgB1C,SAAS07E,GAAanB,GAGlB,GAFAA,EAAKv6E,MAAQu6E,EAAKv6E,OAAS,IAEvBu6E,EAAK9xB,MAAMlyD,QAAU,GAAKgkF,EAAKv6E,OAASu6E,EAAK9xB,MAAMlyD,OAAS,GAAhE,CAIA,IAAI+jF,GAAOC,EAAM,UAAW,WAYrB,CACH,IAAMkB,EAAUlB,EAAK9xB,MAAM8xB,EAAKv6E,OAAOy0D,MACnC8lB,EAAK9xB,MAAM8xB,EAAKv6E,MAAQ,GAAGy0D,MACzBh5D,EAAS,qCAAqC1G,KAAK0mF,GAAWA,EAAU,GAI9E,OAHIhgF,IACA8+E,EAAKv6E,OAAS,GAEXvE,EAjBP,OADA8+E,EAAKv6E,OAAS,EACVs6E,GAAOC,EAAM,OAAQ,YACrBA,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAM,OACJ0B,GACAD,GAAOC,EAAM,OAAQ,WAC5BA,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAM,MACJ0B,QAEXA,EAAKv6E,OAAS,IAetB,SAAS27E,GAAapB,EAAMvzE,GAQxB,GAHCuzE,EAAKv6E,MAAQu6E,EAAKv6E,OAAS,EAC3Bu6E,EAAK1B,SAAMriF,EAEc,IAAtB+jF,EAAK9xB,MAAMlyD,QAAgBgkF,EAAKv6E,OAASu6E,EAAK9xB,MAAMlyD,OACpD,OAAOgkF,EAGX,IAAI5xB,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OAC3B,GAAkB,SAAd2oD,EAAK30D,KAAiB,CACtB,IAAIo1D,EAAO,GACX,MAAOmxB,EAAK9xB,MAAM8xB,EAAKv6E,QAA0C,SAAhCu6E,EAAK9xB,MAAM8xB,EAAKv6E,OAAOhM,KACpDo1D,GAAQmxB,EAAK9xB,MAAM8xB,EAAKv6E,OAAOi5B,KAC/BshD,EAAKv6E,OAAS,EAGlB,OADAu6E,EAAK1B,IAAM,CAAC,KAAQzvB,GACbmxB,EAGX,IAAM3hD,EAAMugD,GAAiBE,GAAU1wB,IAEjC8yB,EAAUC,GAAanB,GAC7B,GAAIkB,EACAlB,EAAK1B,IAAM2B,GAAOD,EAAK1B,IAAK8C,GAAapB,EAAMvzE,GAAS6xE,SAErD,IAAkB,SAAdlwB,EAAKr3C,KAGZ,OAFAipE,EAAKv6E,MAAQ,EACbu6E,EAAK9xB,MAAQE,EAAK1vB,KACX0iD,GAAapB,EAAMvzE,GAEvB,GAAkB,SAAd2hD,EAAKr3C,MAA2B,MAARsnB,EAE/B2hD,EAAKv6E,OAAS,EACdu6E,EAAOoB,GAAapB,EAAMvzE,GAC1BuzE,EAAK1B,IAAM8B,GAAOJ,EAAK1B,UAEpB,GAAkB,SAAdlwB,EAAKr3C,MAA2B,MAARsnB,EAE/B2hD,EAAKv6E,OAAS,EACdu6E,EAAOoB,GAAapB,EAAMvzE,GAC1BuzE,EAAK1B,IAAM2B,GAAO,MAAOD,EAAK1B,UAE3B,GAAkB,SAAdlwB,EAAKr3C,MAAmB,WAAWvc,KAAK4zD,EAAK8L,OAAQ,CAE5D,IAAIqlB,EAAM,GACN15E,GAAO,EACPw7E,EAAM,eACV,MAAOrB,EAAKv6E,MAAQu6E,EAAK9xB,MAAMlyD,SAAW6J,IAASk6E,GAAOC,EAAM,aAGhDD,GAAOC,EAAM,SACbD,GAAOC,EAAM,SAAU,MACvBD,GAAOC,EAAM,UAEbqB,EAAI7mF,KAAKwlF,EAAK9xB,MAAM8xB,EAAKv6E,OAAOy0D,QAI5C,GAAoC,YAAhC8lB,EAAK9xB,MAAM8xB,EAAKv6E,OAAOsR,KACvBipE,EAAKv6E,OAAS,OACX,GAAkD,qBAAvCu6E,EAAK9xB,MAAM8xB,EAAKv6E,OAAOssD,aACO,qBAArCiuB,EAAK9xB,MAAM8xB,EAAKv6E,OAAOusD,UAC9BnsD,GAAO,MACJ,CACH,IAAIkmC,EAAQi0C,EAAK9xB,MAAM8xB,EAAKv6E,OAAOy0D,MACrB,MAAVnuB,GAA2B,MAAVA,GACjBA,EAAQ,IACRs1C,EAAM,cACW,MAAVt1C,GAA2B,MAAVA,EACpBs0C,GAAaL,IACbj0C,EAAQ,GACRi0C,EAAKv6E,OAAS,EACdI,GAAO,IAEPkmC,EAAQ,IACRs1C,EAAM,cAEHA,IAAQ,eACfA,EAAM,WAEV9B,GAAiB,MAAVxzC,EAAgB,GAAKA,EAC5Bi0C,EAAKv6E,OAAS,EAOtB,GAJAu6E,EAAK1B,IAAMiB,EAAMY,GAAQZ,QAAOtjF,EAGhCmyD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OACnB2oD,GAAsB,YAAdA,EAAKr3C,OAAuBye,MAAMwqD,EAAK1B,IAAIiB,KAAM,CAEzD,IAAMiB,EAAMR,EAAK1B,IACjB0B,EAAOoB,GAAapB,EAAMvzE,GAC1BuzE,EAAK1B,IAAM2B,GAAO,MAAOO,EAAKR,EAAK1B,KAEvC,GAAIlwB,GAAsB,UAAdA,EAAKr3C,MAAoBq3C,EAAK8L,OAAS9L,EAAK8L,MAAMthD,WAAW,cAAe,CAEpF,IAAM4nE,EAAMR,EAAK1B,IACjB0B,EAAOoB,GAAapB,EAAMvzE,GAC1BuzE,EAAK1B,IAAM2B,GAAO,MAAOO,EAAKR,EAAK1B,KAEnClwB,GAAsB,YAAdA,EAAKr3C,OACbipE,EAAOM,GAAYN,EAAMvzE,IAE7BuzE,EAAOO,GAAaP,EAAMvzE,QAEvB,GAAkB,YAAd2hD,EAAKr3C,MAAoC,SAAdq3C,EAAKr3C,KAEvCipE,EAAK1B,IAAMlwB,EAAKkzB,MAAM70E,GACtBuzE,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,QAEvB,GAAkB,SAAd2hD,EAAKr3C,MAAiC,SAAdq3C,EAAKr3C,KAAiB,CAGrD,GAAIstB,GAAWhG,KAAS0gD,GAAW3wB,GAAO,CAEtC4xB,EAAK1B,IAAM,CAAElhF,GAAIihC,GACjB2hD,EAAOM,GAAYN,EAAMvzE,GAEzB,IAAMrP,EAAK4iF,EAAK1B,IACVphE,EAAMkkE,GAAapB,EAAMvzE,GAAS6xE,IACpCphE,GAAO,uBAAuB1iB,KAAK0iB,EAAI9f,IACvCA,EAAG8f,IAAMA,EAAIA,IACNA,IACP9f,EAAG8f,IAAM,CAACA,IAEd8iE,EAAK1B,IAAMlhF,OAGX4iF,EAAK1B,IAAMlwB,EAAKkzB,MAAM70E,GACD,MAAjBuzE,EAAK1B,IAAIt7C,MAETg9C,EAAK1B,IAAM6B,GAAQ,CAACR,GAAI,OAE5BK,EAAOM,GAAYN,GAEvBA,EAAOO,GAAaP,EAAMvzE,QAEvB,GAAkB,YAAd2hD,EAAKr3C,MAGZ,IAAKgoE,GAAW3wB,KAEPU,GAAYxH,YAAY8G,EAAK8L,MAAQ9L,EAAK8L,MAAMx7C,OAAS0vC,EAAK1vB,MAE/D,GAAI2F,GAAWhG,GAAM,CAEjB2hD,EAAK1B,IAAM,CAAElhF,GAAIihC,GACjB2hD,EAAOM,GAAYN,EAAMvzE,GAEzB,IAAMrP,EAAK4iF,EAAK1B,IAChB0B,EAAKv6E,OAAS,EACdrI,EAAG8f,IAAM,CAACkkE,GAAapB,EAAMvzE,GAAS6xE,KACtC0B,EAAK1B,IAAMlhF,EAEX4iF,EAAOO,GAAaP,EAAMvzE,QAI1BuzE,EAAK1B,IAAMlwB,EAAKkzB,MAAM70E,GACU,qBAArB2hD,EAAK2D,cACZiuB,EAAKv6E,OAAS,GAElBu6E,EAAOM,GAAYN,EAAMvzE,GACzBuzE,EAAOO,GAAaP,EAAMvzE,QAKnC,GAAkB,QAAd2hD,EAAKr3C,MAEZ,IAAK,0CAA0Cvc,KAAK4zD,EAAK8L,QAAU71B,GAAWhG,MACzE0gD,GAAW3wB,GAKZ,GAHA4xB,EAAK1B,IAAM,CAAElhF,GAAI,0CAA0C5C,KAAK4zD,EAAK8L,OAAS9L,EAAK1vB,KAAOL,GAC1F2hD,EAAOM,GAAYN,EAAMvzE,GAErBozE,GAAOG,EAAK1B,KAAM,CAGlB,IAAMiD,EAAmB,CACrB,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,IAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,UAEZ,IAAuC,IAAnCjC,GAAgBU,EAAK1B,IAAI1yD,MAAe21D,EAAiBljD,GACzD2hD,EAAK1B,IAAM2B,GAAOsB,EAAiBljD,GAAM+iD,GAAapB,EAAMvzE,GAAS6xE,SAClE,CAEH,IAAMlhF,EAAK4iF,EAAK1B,IAChBlhF,EAAG8f,IAAM,CAACkkE,GAAapB,EAAMvzE,GAAS6xE,KACtC0B,EAAK1B,IAAMlhF,OAGZ,CACH,IAAMA,EAAK4iF,EAAK1B,IACVphE,EAAMkkE,GAAapB,EAAMvzE,GAAS6xE,IACpCphE,GAAO,uBAAuB1iB,KAAK0iB,EAAI9f,IACvCA,EAAG8f,IAAMA,EAAIA,IACNA,IACP9f,EAAG8f,IAAM,CAACA,IAGd8iE,EAAK1B,IAAMlhF,QAGhB,GAAkB,UAAdgxD,EAAKr3C,KACbipE,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAMlwB,EAAKkzB,MAAM70E,QAElB,GAAkB,UAAd2hD,EAAKr3C,KACZipE,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAMlwB,EAAKkzB,MAAM70E,OAEnB,IAAkB,WAAd2hD,EAAKr3C,KACZ,OAAOipE,EAEJ,GAAkB,UAAd5xB,EAAKr3C,KAGZ,OAFAipE,EAAKv6E,OAAS,EACdu6E,EAAK1B,IAAM,CAAEpgF,MAAOkwD,EAAK8L,OAClB8lB,GAIX,QAAiB/jF,IAAb+jF,EAAK1B,IAAmB,CAIxB,IAAMxwB,EAAQ4yB,GAAWV,EAAM,IAAK,IAAKvzE,IAAYi0E,GAAWV,EAAM,KAAM,KAAMvzE,GAC9EqhD,EACAkyB,EAAOlyB,EACCixB,GAAW3wB,KAID,gBAAdA,EAAKr3C,KAGLipE,EAAK1B,IAAM6B,GAAQ,IAEnBH,EAAK1B,IAAM,CAACzvB,KAAM,KAClBmxB,EAAK1B,IAAIpgF,MAAQ,qBAA4BkwD,EAAKr3C,KAAO,IACrDq3C,EAAK8L,MACL8lB,EAAK1B,IAAIpkB,MAAQ9L,EAAK8L,MACf9L,EAAK1vB,MAAQ0vB,EAAKma,UACzByX,EAAK1B,IAAIpkB,MAAQ9L,EAAKma,YAG9ByX,EAAKv6E,OAAS,GAKtB,GADA2oD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OACnB2oD,IAAuB,SAAdA,EAAKr3C,MACI,SAAdq3C,EAAKr3C,MACS,QAAdq3C,EAAKr3C,MACS,UAAdq3C,EAAKr3C,MACS,eAAdq3C,EAAKr3C,MACS,cAAdq3C,EAAKr3C,MAAuB,CAChC,GAAkB,eAAdq3C,EAAKr3C,KACL,IAAK,IAAMne,KAAKk2D,GAAYxH,YACxB,GAAI8G,EAAKN,QAAUgB,GAAYxH,YAAY1uD,GAIvC,OADAonF,EAAKv6E,OAAS,EACPu6E,EAInB,IAAmB,SAAd5xB,EAAKr3C,MAAiC,YAAdq3C,EAAKr3C,MAAoC,QAAdq3C,EAAKr3C,OACxDgoE,GAAW3wB,GAEZ,OAAO4xB,EAEX,IAAMQ,EAAMR,EAAK1B,IACjB0B,EAAK1B,IAAM,GACX0B,EAAOoB,GAAapB,EAAMvzE,GACtBuzE,GAAQA,EAAK1B,KAAOkC,EAChBn8C,GAAWm8C,EAAIpjF,KACI,qBAAZojF,EAAItjE,KACVjT,MAAMmE,QAAQoyE,EAAItjE,MAA2B,IAAnBsjE,EAAItjE,IAAIlhB,OAGf,UAAhBgkF,EAAK1B,IAAIlhF,IAAkC,SAAhB4iF,EAAK1B,IAAIlhF,GACpC4iF,EAAK1B,IAAM2B,GAAOO,EAAIpjF,GAAI4iF,EAAK1B,IAAIphE,KAInC8iE,EAAK1B,IAAM2B,GAAO,WAAYO,EAAKR,EAAK1B,KAIxB,aAAhB0B,EAAK1B,IAAIlhF,GACT4iF,EAAK1B,IAAIphE,IAAIxK,QAAQ8tE,GACI,IAAlBd,GAASc,IAAgC,IAAlBhB,GAASgB,IAChB,IAAvBd,GAASM,EAAK1B,MAAqC,IAAvBkB,GAASQ,EAAK1B,KAE1C0B,EAAK1B,IAAM6B,GAAQ,CAACR,GAAIH,GAASgB,GAAK5iF,aAEtCoiF,EAAK1B,IAAM2B,GAAO,WAAYO,EAAKR,EAAK1B,KAIhD0B,EAAK1B,IAAMkC,EAInB,OAAOR,EAYX,SAASe,GAAgBf,EAAMvzE,GAG3B,GAFAuzE,EAAKv6E,MAAQu6E,EAAKv6E,OAAS,EAC3Bu6E,EAAK1B,SAAMriF,EACe,IAAtB+jF,EAAK9xB,MAAMlyD,QAAgBgkF,EAAKv6E,OAASu6E,EAAK9xB,MAAMlyD,OAAQ,OAAOgkF,EACvEA,EAAKc,QAAUd,EAAKc,SAAW,EAE/B,IAAIN,EAAMY,GAAapB,EAAMvzE,GAAS6xE,IAElCz4E,GAAO,EACLi7E,EAAUd,EAAKc,QACrB,OAAQj7E,EAAM,CACV,IAAMuoD,EAAO4xB,EAAK9xB,MAAM8xB,EAAKv6E,OACvBy7E,EAAUC,GAAanB,GAC7Bn6E,GAAQuoD,GAAsB,SAAdA,EAAK30D,OAAqBynF,IAAYnC,GAAW3wB,GACjE,IAAIozB,OAAI,EAAEC,OAAK,EACf,IAAK57E,EAAM,OACSq7E,EACZ,CAAC3C,GAAc2C,GAAUzC,GAAiByC,IAC1CrC,GAAOzwB,GAHJ,UACNozB,EADM,KACAC,EADA,KAIP57E,EAAO27E,EAAOV,EAElB,IAAKj7E,EAAM,CACP,IAAM67E,EAASR,GAAWtC,GAAiBE,GAAU1wB,IAOrD,GALI4xB,EAAKc,QADK,SAAVW,EACeD,EAAO,EAEPA,EAEnBxB,EAAKv6E,OAAS,EACC,MAAXi8E,EACA,GAA8B,qBAAnBtzB,EAAK4D,WACXguB,EAAK9xB,MAAM8xB,EAAKv6E,QAC2B,qBAArCu6E,EAAK9xB,MAAM8xB,EAAKv6E,OAAOusD,WACE,YAAhCguB,EAAK9xB,MAAM8xB,EAAKv6E,OAAOsR,KACjB,CAGNipE,EAAK1B,IAAM,GACX,IAAMqD,EAAUrB,GAAYN,EAAMvzE,GAAS6xE,IAAIn/D,IAE/C,GADAqhE,EAAMP,GAAO,OAAQO,GACjBmB,GAA0B,UAAfA,EAAQvkF,IAAkBojF,EAAItjE,IAEzCsjE,EAAItjE,IAAInZ,KAAKs6E,GAAOsD,EAAS,IAC7BnB,EAAItjE,IAAInZ,KAAKs6E,GAAOsD,EAAS,SAC1B,GAAIA,GAAWnB,EAAItjE,MAAuB,SAAfykE,EAAQvkF,IAAgC,UAAfukF,EAAQvkF,IAG/D,IADA,IAAIwkF,EAAa,CAAC5+C,IAAK,KACd1qC,EAAI,EAAGA,EAAIqpF,EAAQzkE,IAAIlhB,OAAQ1D,IACV,UAAtBqpF,EAAQzkE,IAAI5kB,GAAG8E,IACfwkF,EAAavD,GAAOsD,EAAQzkE,IAAI5kB,GAAI,GACpCkoF,EAAItjE,IAAInZ,KAAK69E,GACbpB,EAAItjE,IAAInZ,KAAKs6E,GAAOsD,EAAQzkE,IAAI5kB,GAAI,MAEpCkoF,EAAItjE,IAAInZ,KAAK69E,GACbpB,EAAItjE,IAAInZ,KAAK49E,EAAQzkE,IAAI5kB,UAG1BqpF,IAEPnB,EAAItjE,IAAInZ,KAAK,CAACi/B,IAAK,MACnBw9C,EAAItjE,IAAInZ,KAAK49E,SAKjB97E,GAAO,MAGR,CACH,IAAMg8E,EAAMd,GAAgBf,EAAMvzE,GAAS6xE,IAIvClhF,EAAK+hF,GAA2BuC,GAChCtkF,GAAMojF,GAAOA,EAAIpjF,KAAOA,IAGxBojF,EAAMP,GAAO7iF,EAAIojF,IAIN,MAAXkB,EACIlB,GAAOA,EAAItjE,KAAkB,QAAXsjE,EAAIpjF,QAEVnB,IAAR4lF,GAAmBrB,EAAItjE,IAAInZ,KAAKq8E,GAAOyB,IAG3CrB,EAFOA,GAAkB,aAAXA,EAAIpjF,GAEZ6iF,GAAO,MAAO5B,GAAOmC,EAAK,GAAIJ,GAAO/B,GAAOmC,EAAK,IAAKJ,GAAOyB,KAC5Dlc,GAAS6a,IAAUX,GAAOW,KACjC7a,GAASkc,IAAShC,GAAOgC,IACF,qBAAfA,EAAItC,IAAItpD,IAAqC,MAAf4rD,EAAItC,IAAItpD,IACxB,qBAAf4rD,EAAItC,IAAII,GAMTM,GAAO,WAAYO,EAAKqB,GALxB,CAACtC,IAAK,CACRtpD,GAAIuqD,EAAIjB,IACRI,KAAMhyD,WAAWk0D,EAAItC,IAAII,KAAK/hF,cAQtCR,EAAK8hF,GAAqBwC,GACf,QAAPtkF,GAAgBojF,GAAkB,aAAXA,EAAIpjF,GAE3BojF,EAAMP,GAAO,MAAO5B,GAAOmC,EAAK,GAAIJ,GAAO/B,GAAOmC,EAAK,IAAKqB,GACrDzkF,GAAMojF,GAAOA,EAAIpjF,KAAOA,IAAOyiF,GAAOW,GAE1B,qBAARqB,IACHA,EAAIzkF,KAAOA,IAAOyiF,GAAOgC,IAAQA,EAAI3kE,IAErCsjE,EAAItjE,IAAJ,aAAcsjE,EAAItjE,KAAlB,GAA0B2kE,EAAI3kE,MACvBsjE,EAAItjE,KACXsjE,EAAItjE,IAAInZ,KAAK89E,IAGdzkF,GAAMykF,GAAOA,EAAI3kE,KAAO2kE,EAAIzkF,KAAOA,GAE1CykF,EAAI3kE,IAAIxK,QAAQ8tE,GAChBA,EAAMqB,GAKNrB,EAJc,aAAPpjF,GACPuoE,GAAS6a,KAASX,GAAOW,IACzBqB,GAAgC,KAAzBvC,GAAgBuC,IAAelc,GAASkc,EAAIj2D,KAE7Cu0D,GAAQb,GAAgBkB,GAAO1lF,KAAK4U,IAAI,GAAI4vE,GAAgBuC,EAAIj2D,OACvD,QAAPxuB,GACRuoE,GAAS6a,KAASX,GAAOW,IACzBqB,GAAyB,IAAlBnC,GAASmC,KAAehC,GAAOgC,GAC5B,CAACtC,IAAK,CACRtpD,GAAIuqD,EAAIjB,IACRI,GAAIkC,EAAItC,IAAII,KAGdM,GAAO7iF,GAAM8gF,GAAQwD,IAAWA,EAAQlB,EAAKqB,MAOvE,OADA7B,EAAK1B,IAAMkC,EACJR,EAUX,SAAS8B,GAAWznF,GAChB,OAAOA,EACNmc,QAAQ,QAAS,QACjBA,QAAQ,OAAQ,OAChBA,QAAQ,QAAS,OACjBA,QAAQ,QAAS,OACjBA,QAAQ,QAAS,OACjBA,QAAQ,QAAS,OACjBA,QAAQ,QAAS,OAsNtB,SAASurE,GAAwB7zB,GAC7B,IAAKA,EAAO,MAAO,GACnB,IAAIhtD,EACJ,GAAI+I,MAAMmE,QAAQ8/C,GAAQ,CACtBhtD,EAAS,GADa,2BAEtB,YAAmBgtD,EAAnB,+CAA0B,KAAfE,EAAe,QAChB1tC,EAASqhE,GAAwB3zB,GACvCltD,EAASA,EAAO3D,OAAOmjB,IAJL,uFAMnB,CACH,GAAmB,YAAfwtC,EAAMn3C,KACN,MAAO,GACe,UAAfm3C,EAAMn3C,MAAmC,QAAfm3C,EAAMn3C,KACvC7V,EAAS6gF,GAAwB7zB,EAAMxvB,OAEnCwvB,EAAMxvB,MAAQz0B,MAAMmE,QAAQ8/C,EAAMxvB,QAClCwvB,EAAMxvB,KAAOqjD,GAAwB7zB,EAAMxvB,OAE3CwvB,EAAM6D,aAAe9nD,MAAMmE,QAAQ8/C,EAAM6D,eACzC7D,EAAM6D,YAAcgwB,GAAwB7zB,EAAM6D,cAElD7D,EAAM8D,WAAa/nD,MAAMmE,QAAQ8/C,EAAM8D,aACvC9D,EAAM8D,UAAY+vB,GAAwB7zB,EAAM8D,YAEhD9D,EAAMzoD,OAASwE,MAAMmE,QAAQ8/C,EAAMzoD,SACnCyoD,EAAMzoD,MAAQs8E,GAAwB7zB,EAAMzoD,QAE5CyoD,EAAMZ,OAASrjD,MAAMmE,QAAQ8/C,EAAMZ,SACnCY,EAAMZ,MAAQy0B,GAAwB7zB,EAAMZ,QAE5CY,EAAMb,OAASpjD,MAAMmE,QAAQ8/C,EAAMb,SACnCa,EAAMb,MAAQ00B,GAAwB7zB,EAAMb,QAE5Ca,EAAMzjD,OAASR,MAAMmE,QAAQ8/C,EAAMzjD,SACnCyjD,EAAMzjD,MAAQyjD,EAAMzjD,MAAMiS,KAAI,SAAAmvC,GAAG,OAAIA,EAAInvC,KAAI,SAAAu1C,GAAI,OAC7C8vB,GAAwB9vB,UAEhC/wD,EAAS,CAACgtD,IAGlB,OAAOhtD,EAWX,SAAS8gF,GAAchC,EAAMvzE,GACzBuzE,EAAKv6E,MAAQu6E,EAAKv6E,OAAS,EAC3Bu6E,EAAK1B,SAAMriF,EAEX,IAAMgmF,EAAQ,GAEd,MAAOjC,EAAK9xB,MAAM8xB,EAAKv6E,OACnB,GAAoC,SAAhCu6E,EAAK9xB,MAAM8xB,EAAKv6E,OAAOhM,KAAiB,CAExC,IAAIo1D,EAAO,GACX,MAAOmxB,EAAK9xB,MAAM8xB,EAAKv6E,QAA0C,SAAhCu6E,EAAK9xB,MAAM8xB,EAAKv6E,OAAOhM,KACpDo1D,GAAQmxB,EAAK9xB,MAAM8xB,EAAKv6E,OAAOi5B,KAC/BshD,EAAKv6E,OAAS,EAElBw8E,EAAMl+E,KAAK8qD,OACR,CACH,IAAM3oD,EAAI66E,GAAgBf,EAAMvzE,GAAS6xE,IAEzC,IAAKp4E,EAAG,OACR+7E,EAAMl+E,KAAKmC,GAInB,OAAI+7E,EAAMjmF,OAAS,EACRikF,GAAM,WAAN,GAAO,QAAP,OAAkBgC,IAGtBA,EAAM,SAAMhmF,EAQvB,SAASuvD,GAAM0C,EAAOzhD,GAClB,OAAOu1E,GAAc,CAAC9zB,MAAO6zB,GAAwB7zB,IAASzhD,GAclE,SAASy1E,GAAU/U,GACf,IAAMpwE,EAAOkN,MAAM/P,UAAUwC,MAAMjE,KAAKsD,WACxCgB,EAAK4Z,QACLw2D,EAAQA,GAAS,MACjB,IAAIjsE,EAAS,GACb,GAAInE,EAAKf,OAAS,EAAG,CACA,MAAbmxE,EAAM,KAAYjsE,GAAUisE,EAAM,IACtC,IAAIjyB,EAAM,GAFO,uBAGjB,YAAkBn+C,EAAlB,+CAAwB,KAAbmgB,EAAa,QACpBhc,GAAUg6C,EAAMh+B,EAChBg+B,EAAMiyB,EAAM,IALC,kFAOA,MAAbA,EAAM,KAAYjsE,GAAUisE,EAAM,IAG1C,OAAOjsE,EAYX,SAASihF,GAAezpF,EAAGqpE,GACvB,IAAMqgB,EAAiB1pF,EAAEsD,OAIzBtD,EAAIA,EAAEonE,OAAO,EAAGiC,EAAO/9C,UAAY,GAEnC,IAAK,IAAI1rB,EAAI,EAAGA,EAAII,EAAEsD,OAAS,GAAI1D,IAI/B,IAFA,IAAM+Q,EAAS3Q,EAAEonE,OAAO,EAAGxnE,GAElBuqB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAMw/D,EAAQ3pF,EAAEonE,OAAOxnE,EAAGuqB,EAAI,GACxBy/D,EAAQxnF,KAAK2U,OAAO/W,EAAEsD,OAASqN,EAAOrN,QAAUqmF,EAAMrmF,QAC5D,GAAIsmF,EAAQ,IACHj5E,EAASg5E,EAAMljF,OAAOmjF,EAAQ,IAAI1pE,WAAWlgB,GAE9C,MAAc,MAAV2pF,EACOh5E,EAAOmN,QAAQ,WAAY,KAAOurD,EAAOwgB,gBAE7Cl5E,EAAOmN,QAAQ,WAAY,KAAOurD,EAAOwgB,gBAC5CxgB,EAAOygB,qBACPH,EAAM7rE,QAAQ,WAAY,KAAOurD,EAAOwgB,gBACxCxgB,EAAO0gB,mBAQ3B,OAHIL,IAAmB1pF,EAAEsD,SACrBtD,GAAK,WAEDA,EAAE8d,QAAQ,WAAY,KAAOurD,EAAOwgB,gBAGhD,SAAS9C,GAAsBF,GAC3B,OAAO5xD,WAAWA,WAAW4xD,GAAKx7D,YAAY,KAUlD,SAAS2+D,GAAcnD,EAAKxd,GACxB,IAAI7gE,EAAS,GAEb,GAAgC,kBAArB6gE,EAAO/9C,UAAwB,CACtC,GAAmB,kBAARu7D,EAEJ,CACH,IAAI9wE,EAAO,GACPshB,EAAW,GAOf,GANe,MAAXwvD,EAAI,IACJ9wE,EAAO,IACP8wE,EAAMA,EAAIzf,OAAO,IACC,MAAXyf,EAAI,KACXA,EAAMA,EAAIzf,OAAO,IAEjByf,EAAI/xE,QAAQ,MAAQ,EAAG,CACvB,IAAM9U,EAAI6mF,EAAI16E,MAAM,oCACdkR,EAAOrd,EAAE,GACTs3B,EAAWt3B,EAAE,GAAGupE,UAAU,EAC5BnnE,KAAKkJ,IAAI+9D,EAAO/9C,UAAYjO,EAAK/Z,OAAQtD,EAAE,GAAGsD,SAGlD,GAFA+zB,EAAWr3B,EAAE,IAAM,GAEN,MAATqd,EAAc,CACd,IAAI3b,EAAI,EACR,MAAuB,MAAhB41B,EAAS51B,IAAcA,EAAI41B,EAASh0B,OACvC5B,GAAK,EAET,IAAIhB,EAAI,GACR,GAAIgB,GAAK,EACLhB,EAAI,IAAM2oE,EAAO4gB,cACjBvpF,GAAK42B,EAAS8vC,OAAO,EAAG1lE,GACxBhB,GAAK+oF,GAAe5C,EAAIzf,OAAO1mE,EAAE4C,QAAS+lE,QACvC,GAAI3nE,EAAI,GAAK2nE,EAAO/9C,UACvB5qB,EAAI,IACJqV,EAAO,OACJ,CACHrV,EAAImmF,EAAInlF,GACR,IAAMuD,EAAIwkF,GAAe5C,EAAIzf,OAAO1lE,EAAI,GAAI2nE,GACxCpkE,IACAvE,GAAK2oE,EAAO4gB,cAAgBhlF,GAG1B,MAANvE,IACImmF,EAAIvjF,OAAS,EAAI+lE,EAAO/9C,YAAc5qB,EAAE67B,SAAS,OAAS77B,EAAE67B,SAAS,aACrE77B,GAAK,WAELgB,EAAI,IACJhB,GAAK2oE,EAAO6gB,gBACR7gB,EAAO8gB,eACPzpF,GAAK2oE,EAAO8gB,gBAAkB,EAAIzoF,GAAGwD,WAErCxE,GAAK,QAAU,EAAIgB,GAAGwD,WAAa,MAI/C2hF,EAAMnmF,MACH,CACHmmF,EAAMxpE,EAAKS,QAAQ,wBAAyBurD,EAAOwgB,gBACnD,IAAM5kF,EAAIwkF,GAAenyD,EAAU+xC,GAC/BpkE,IACA4hF,GAAOxd,EAAO4gB,cAAgBhlF,SAMnC,GAAI4hF,EAAIvjF,OAAS+lE,EAAO/9C,UAAW,CACtC,IAAMxc,EAAM+3E,EAAIvjF,OACZ5C,EAAImmF,EAAI,GACN5hF,EAAIwkF,GAAe5C,EAAIzf,OAAO,GAAIiC,GACpCpkE,IACAvE,GAAK2oE,EAAO4gB,cAAgBhlF,EACJ,MAApBvE,EAAEA,EAAE4C,OAAS,KACb5C,GAAK,YAGH,MAANA,EACAA,GAAK2oE,EAAO6gB,gBAEZxpF,EAAI,GAEJ2oE,EAAO8gB,eACPzpF,GAAK2oE,EAAO8gB,gBAAkBr7E,EAAM,GAAG5J,WAEvCxE,GAAK,QAAUoO,EAAM,GAAG5J,WAAa,IAEzC2hF,EAAMnmF,OAENmmF,EAAMA,EAAI/oE,QAAQ,wBAAyBurD,EAAOwgB,gBAatD,OAVIxyD,IAGIA,EADAgyC,EAAO8gB,eACI9gB,EAAO8gB,eAAiB9yD,EAExBgyC,EAAO6gB,gBAAkB,QAAU7yD,EAAW,KAK1DthB,EAAO8wE,EAAMxvD,EAhGpBwvD,EAAME,GAAsBF,GAmGpC,GAAkC,gBAA9Bxd,EAAO+gB,mBAEP,GAAY,IAARvD,EACAr+E,EAAS,QACN,CACH,IAAMkF,EAAItL,KAAKD,IAAI0kF,GACfxvD,EAAWj1B,KAAK2zB,MAAM3zB,KAAKwxB,MAAMlmB,IACrC2pB,GAAsBA,EAAW,EAC7B3pB,EAAI,MAAM2pB,EAAW,GACzB,IAAIC,EAAW5pB,EAAItL,KAAK4U,IAAI,GAAIqgB,GAC1Br3B,EAAIs3B,EAASpyB,WAAWiH,MAAM,gBAChCnM,GAAKA,EAAE,IAAMA,EAAE,KACfs3B,EAAWt3B,EAAE,GAAKqpE,EAAO4gB,cAAgBjqF,EAAE,IAE3CqpE,EAAOwgB,iBACPvyD,EAAWmyD,GAAenyD,EAAS+yD,gBAAiBhhB,IAGpDhyC,EADa,IAAbA,EACW,GACJgyC,EAAO8gB,eACH9gB,EAAO8gB,eAAiB9yD,EAExBgyC,EAAO6gB,gBAAkB,QAAU7yD,EAAW,IAE7D7uB,GAAUq+E,EAAM,EAAI,IAAM,IAAMvvD,EAAWD,MAE5C,CACH,IAEIha,EAAMga,EAAUC,EAFdgzD,EAA2B,kBAARzD,EAAmBA,EAAMA,EAAI3hF,WAClDlF,EAAIsqF,EAAUn+E,MAAM,6BAExBkR,EAAOitE,EACPhzD,EAAW,GACPt3B,GAAKA,EAAE,IAAMA,EAAE,KAEfqd,EAAOrd,EAAE,GAELq3B,EADAgyC,EAAO8gB,eACI9gB,EAAO8gB,eAAiBnqF,EAAE,GAE1BqpE,EAAO6gB,gBAAkB,QAAUlqF,EAAE,GAAK,KAG7DA,EAAIqd,EAAKlR,MAAM,gBACXnM,GAAKA,EAAE,IAAMA,EAAE,KACfqd,EAAOrd,EAAE,GACTs3B,EAAWt3B,EAAE,IAEbqpE,EAAOwgB,iBACPxsE,EAAOA,EAAKS,QAAQ,wBAAyBurD,EAAOwgB,gBACpDvyD,EAAWmyD,GAAenyD,EAAU+xC,IAEpC/xC,IAAUA,EAAW+xC,EAAO4gB,cAAgB3yD,GAChD9uB,EAAS6U,EAAOia,GAAYD,GAAY,IAE5C,OAAO7uB,EAWX,SAAS+hF,GAAQ3E,EAAK7xE,GAClB,IAAMs1D,EAAS/oE,OAAO6V,OAAO,CACzBmV,UAAwB,GACxB2+D,cAAwB,IACxBJ,eAAwB,OACxBW,QAAwB,UACxBN,gBAAwB,UACxBC,eAAwB,GACxBM,aAAwB,MACxBL,mBAAwB,OACxBN,qBAAwB,cACxBC,mBAAwB,KACzBh2E,GAECvL,EAAS,GAEb,QAAYjF,IAARqiF,EAAmB,MAAO,GAK9B,GAJmB,kBAARA,IACPA,EAAMp/E,KAAKssD,MAAM8yB,IAGjBA,EAAIpkB,MAEJh5D,EAASo9E,EAAIpkB,WAEV,GAAIyL,GAAS2Y,GAAM,CACtB,IAAMjgD,EAAMihD,GAAgBhB,GAC5B,GAAIjgD,KAAS/6B,IACTpC,EAAS,iBACN,GAAIm9B,IAAQ/6B,IACfpC,EAAS,gBACN,GAAuB,WAAnB,GAAOo9E,EAAIiB,MAA2C,kBAAfjB,EAAIiB,IAAItpD,IAAyC,kBAAfqoD,EAAIiB,IAAII,GAoBxFz+E,EADOs0B,MAAM6I,GACJ,cAEAqkD,GAAcpE,EAAIiB,IAAKxd,OAtB0E,CAC1G,IAAM9rC,EAAKupD,GAASlB,GACdqB,EAAKD,GAASpB,GAChB9oD,MAAMS,IAAOT,MAAMmqD,GACnBz+E,EAAS,cACFpG,KAAKD,IAAI8kF,IAAO/xE,OAAOyN,SAAWvgB,KAAKD,IAAIo7B,IAAOroB,OAAOyN,QAChEna,EAAS,KAELpG,KAAKD,IAAIo7B,GAAMroB,OAAOyN,UACtBna,EAASwhF,GAAczsD,EAAI8rC,IAE3BjnE,KAAKD,IAAI8kF,GAAM/xE,OAAOyN,UAClBvgB,KAAKD,IAAIo7B,GAAMroB,OAAOyN,UACtBna,GAAUy+E,EAAK,EAAI,IAAM,IAE7Bz+E,IAA4B,IAAjBpG,KAAKD,IAAI8kF,GAChB+C,GAAc/C,EAAI5d,GAAU,IAAM,kBAQ9C8d,GAAOvB,KAAMp9E,GAAU,KAAO+hF,GAAQ3E,EAAI1yD,IAAKm2C,GAAU,KACzD+d,GAAOxB,KAAMp9E,GAAU,KAAO+hF,GAAQ3E,EAAIn/D,IAAK4iD,GAAU,UAE1D,GAAIuc,EAAIje,MACXn/D,EAAS+hF,GAAQ3E,EAAIje,MAAO0B,GACvB4D,GAAS2Y,EAAIje,QAAWgf,GAASf,EAAIje,OAEP,IAAxBqf,GAASpB,EAAIje,SACpBn/D,EAASghF,GAAU5D,EAAInR,OAAS,MAAOjsE,IAFvCA,EAASghF,GAAU5D,EAAInR,OAAS,MAAOjsE,GAIvC2+E,GAAOvB,KAAMp9E,GAAU,KAAO+hF,GAAQ3E,EAAI1yD,IAAKm2C,GAAU,KACzD+d,GAAOxB,KAAMp9E,GAAU,KAAO+hF,GAAQ3E,EAAIn/D,IAAK4iD,GAAU,UAE1D,GAAIuc,EAAIlhF,GACX,GAAe,SAAXkhF,EAAIlhF,GAAe,CAEnB,GADA8D,EAAS+hF,GAAQ5E,GAAOC,EAAK,GAAIvc,GAAU,MACvCuc,EAAIphE,KAA0B,IAAnBohE,EAAIphE,IAAIlhB,OACnBkF,GAAU+hF,GAAQ5E,GAAOC,EAAK,SAG9B,IADA,IAAIpjC,EAAM,GACD5iD,EAAI,EAAGA,EAAIgmF,EAAIphE,IAAIlhB,OAAQ1D,GAAK,EACrC4I,GAAUg6C,EACN+nC,GAAQ5E,GAAOC,EAAKhmF,IACpB,MACA2qF,GAAQ5E,GAAOC,EAAKhmF,EAAI,IAC5B4iD,EAAM,KAGdh6C,GAAU,SAEP,GAAe,WAAXo9E,EAAIlhF,GACX8D,EAAS,UAAY+hF,GAAQ5E,GAAOC,EAAK,GAAIvc,GAAU,KAAOkhB,GAAQ5E,GAAOC,EAAK,GAAIvc,GAAU,SAE7F,GAAe,WAAXuc,EAAIlhF,GACX8D,EAAS,IAAM+hF,GAAQ5E,GAAOC,EAAK,GAAIvc,QAEpC,GAAe,aAAXuc,EAAIlhF,GACX8D,EAAS+hF,GAAQ5E,GAAOC,EAAK,GAAIvc,GAAU,MAAQkhB,GAAQ5E,GAAOC,EAAK,GAAIvc,QAExE,GAAgB,QAAXuc,EAAIlhF,IAA2B,aAAXkhF,EAAIlhF,KAChC6M,MAAMmE,QAAQkwE,EAAIphE,KAsDf,GAAe,SAAXohE,EAAIlhF,IAA4B,UAAXkhF,EAAIlhF,GAAgB,CAChD,IAAMgD,EAAI,GADsC,uBAEhD,YAAkBk+E,EAAIphE,IAAtB,+CAA2B,KAAhBniB,EAAgB,QACvBqF,EAAE2D,KAAKk/E,GAAQloF,EAAKgnE,KAHwB,kFAMhD7gE,EAASd,EAAElD,KAAgB,UAAXohF,EAAIlhF,GAAiB,KAAO,WACzC,GAAe,QAAXkhF,EAAIlhF,IAAgB6M,MAAMmE,QAAQkwE,EAAIphE,MAAQohE,EAAIphE,IAAIlhB,QAAU,EACvEkF,EAAS+hF,GAAQ5E,GAAOC,EAAK,GAAIvc,GAC5B4D,GAAS0Y,GAAOC,EAAK,KAAQe,GAAShB,GAAOC,EAAK,MACnDp9E,EAASghF,GAAU5D,EAAInR,OAAS,MAAOjsE,IAG3CA,GAAU,KAAO+hF,GAAQ5E,GAAOC,EAAK,GAAIvc,GAAU,SAChD,GAAe,UAAXuc,EAAIlhF,IAAkBkhF,EAAIphE,KAAOohE,EAAIphE,IAAIlhB,OAAS,EACzDkF,EAASo9E,EAAIphE,IAAIR,KAAI,SAAAphB,GAAC,OAAI2nF,GAAQ3nF,EAAGymE,MAAS7kE,KAAK,WAEhD,CACH,IAAME,EAAKshF,GAA4BJ,EAAIlhF,IAC3C8D,EAAS9D,EACT,IAAIgmF,EAAY,GACVC,EAAgB,cAAc7oF,KAAK4C,IAAO6M,MAAMmE,QAAQkwE,EAAIphE,MAAQohE,EAAIphE,IAAIlhB,OAAS,EAC3F,GAAIqnF,EAEAniF,GAAUghF,GAAS,WAAT,GAAU5D,EAAInR,OAAS,OAAvB,UACHmR,EAAIphE,IAAIR,KAAI,SAAAphB,GAAC,OAAI2nF,GAAQ3nF,EAAGymE,cAEhC,GAAI93D,MAAMmE,QAAQkwE,EAAIphE,MAAQohE,EAAIphE,IAAIlhB,OAAS,EAAG,CAErD,IAAMsnF,EAAOL,GAAQ5E,GAAOC,EAAK,GAAIvc,GAC/BwhB,EAAON,GAAQ5E,GAAOC,EAAK,GAAIvc,GAC/ByhB,EAAQ,GAAIlF,EAAIphE,KAClB,KAAK1iB,KAAK4C,KACV8D,EAASA,EAAOsV,QAAQ,KAAM8sE,GAC9BE,EAAM7sE,SAEN,KAAKnc,KAAK4C,KACV8D,EAASA,EAAOsV,QAAQ,KAAM+sE,GAC9BC,EAAM7sE,SAGN6sE,EAAMxnF,OAAS,IACfonF,EAAYlB,GAAS,WAAT,GAAU5D,EAAInR,OAAS,OAAvB,UACLqW,EAAM9mE,KAAI,SAAAphB,GAAC,OAAI2nF,GAAQ3nF,EAAGymE,eAIrCqhB,EAAYlB,GAAU5D,EAAInR,OAAS,MAAO,IAI1CjsE,EADA2+E,GAAOvB,GACEp9E,EAAOsV,QAAQ,KAAK,KAAOysE,GAAQ3E,EAAI1yD,IAAKm2C,GAAU,KAEtD7gE,EAAOsV,QAAQ,KAAK,IAG7BtV,EADA4+E,GAAOxB,GACEp9E,EAAOsV,QAAQ,KAAK,KAAOysE,GAAQ3E,EAAIn/D,IAAK4iD,GAAU,KAEtD7gE,EAAOsV,QAAQ,KAAK,IAIjCtV,EAASA,EAAOsV,QAAQ,cAAe4sE,GAEvCliF,EAASA,EAAOsV,QAAQ,KAAM,IAAIA,QAAQ,KAAM,QAtHxB,CACxB,IAAMpW,EAAI,GADc,uBAExB,YAAkBk+E,EAAIphE,IAAtB,+CAA2B,KAAhBniB,EAAgB,QACR,QAAXA,EAAIqC,IAA2B,aAAXrC,EAAIqC,GACxBgD,EAAE2D,KAAKm+E,GAAU,MAAOe,GAAQloF,EAAKgnE,KAC9B6d,GAA8B7kF,GAGrCqF,EAAE2D,KAAKm+E,GAAU,MAAOe,GAAQloF,EAAKgnE,KAC9B8d,GAAOvB,IAA4B,IAAlBoB,GAAS3kF,IAAgC,IAAlB2kF,GAAS3kF,GAGxDqF,EAAE2D,KAAKm+E,GAAU,MAAOe,GAAQloF,EAAKgnE,KAErC3hE,EAAE2D,KAAKk/E,GAAQloF,EAAKgnE,KAdJ,kFAiBxB,GAAe,aAAXuc,EAAIlhF,GAUA8D,GATAo9E,EAAIphE,KAA0B,IAAnBohE,EAAIphE,IAAIlhB,SAClB2pE,GAAS2Y,EAAIphE,IAAI,KAAyB,WAAlBohE,EAAIphE,IAAI,GAAG9f,IAClCuoE,GAAS2Y,EAAIphE,IAAI,MAAiC,IAAzBsiE,GAASlB,EAAIphE,IAAI,KAAsC,IAAzBwiE,GAASpB,EAAIphE,IAAI,KAOjE9c,EAAElD,KAAK,aAFPkD,EAAE,GAAKA,EAAE,QAMtB,GAAIk+E,EAAIphE,KAA0B,IAAnBohE,EAAIphE,IAAIlhB,OAIfkF,EAHkB,WAAlBo9E,EAAIphE,IAAI,GAAG9f,IACVuoE,GAAS2Y,EAAIphE,IAAI,KAAOoiE,GAAgBhB,EAAIphE,IAAI,IAAM,EAE9C9c,EAAE,GAGF,IAAMA,EAAE,OAElB,CACHc,EAASd,EAAE,GACX,IAAK,IAAI9H,EAAI,EAAGA,EAAIgmF,EAAIphE,IAAIlhB,OAAQ1D,IACV,WAAlBgmF,EAAIphE,IAAI5kB,GAAG8E,IACVuoE,GAAS2Y,EAAIphE,IAAI5kB,KAAOgnF,GAAgBhB,EAAIphE,IAAI5kB,IAAM,EAGvD4I,GAAUd,EAAE9H,GAEZ4I,GAAU,MAAQd,EAAE9H,SAwErC,GAAuB,kBAAZgmF,EAAIt7C,IAAkB,CACpC9hC,EAASm+E,GAASf,GAElB,IAAI5lF,EAAIwI,EAAO2D,MAAM,sBAWrB,GAVInM,GAAKA,EAAE,GACPwI,EAASzG,OAAO27C,cAAczoC,SAASjV,EAAE,GAAI,MAE7CA,EAAIwI,EAAO2D,MAAM,kBACbnM,GAAKA,EAAE,KACPwI,EAASzG,OAAO27C,cAAczoC,SAASjV,EAAE,OAKtB,kBAAhB4lF,EAAIx1B,QAAsB,CACjC,IAAMk1B,EAAgB,CAClB,OAAoB,SACpB,gBAAoB,SACpB,KAAoB,SAEpB,QAAoB,WACpB,OAAoB,UACpB,aAAoB,SACpB,UAAoB,UAExB98E,EAAS,KAAO88E,EAAcM,EAAIx1B,SAC9B,IAAM5nD,EAAS,IAEnB2+E,GAAOvB,KAAMp9E,GAAU,KAAO+hF,GAAQ3E,EAAI1yD,IAAKm2C,GAAU,KACzD+d,GAAOxB,KAAMp9E,GAAU,KAAO+hF,GAAQ3E,EAAIn/D,IAAK4iD,GAAU,SAElC,kBAAbuc,EAAIzvB,OAClB3tD,EAAS,UAAYo9E,EAAIzvB,KAAO,KAUpC,MAJyB,kBAAdyvB,EAAIpgF,QACXgD,EAAS,mBAAqBA,EAAS,KAGpCA,EAnyBXswD,GAASA,SAASt3D,UAAUonF,MAAQ,SAAS70E,GACzC,IAYI/T,EACA8nF,EAAKqB,EAEL4B,EAfEzF,EAAgB,CAClB,GAAY,gBACZ,IAAY,SACZ,IAAY,SACZ,KAAY,UACZ,MAAY,aACZ,MAAY,aAIZ98E,EAAS,GACT8hC,EAAM,GAGN8lB,EAAUk1B,EAAc9lF,KAAKiwD,gBAAkBjwD,KAAK2pD,YAGpDjwB,EAAQ,GACY,MAApB15B,KAAK8pD,aAAoBpwB,GAAS,QACf,OAAnB15B,KAAK4pD,YAAoBlwB,GAAS,UAEtC,IAAM+oB,EAAUziD,KAAKgiE,MAAQhiE,KAAKgiE,MAAMx7C,OAAS,KACjD,OAAOxmB,KAAK6e,MACR,IAAK,OACL,IAAK,QAEG7e,KAAKgiE,OAAShiE,KAAKgiE,MAAMthD,WAAW,eACpClgB,EAAIR,KAAKgiE,MAAMx9D,MAAM,GAAGmI,MAAM,0BAC1BnM,GAEI8nF,EADgB,IAAhB9nF,EAAE,GAAGsD,OACCtD,EAAE,GAEFA,EAAE,GAAGonE,OAAO,EAAGpnE,EAAE,GAAGsD,OAAS,GAEvCwkF,EAAMvT,GAAa9Q,YAAY7hB,EAAMS,SAASylC,GAC1C,OAAQ,KAAM/zE,EAAQi0C,QAGtBmhC,EADgB,IAAhBnpF,EAAE,GAAGsD,OACCtD,EAAE,GAEFA,EAAE,GAAGonE,OAAO,EAAGpnE,EAAE,GAAGsD,OAAS,GAEvC6lF,EAAM5U,GAAa9Q,YAAY7hB,EAAMS,SAAS8mC,GAC1C,OAAQ,KAAMp1E,EAAQi0C,QAE1Bx/C,EAAS++E,GAAO,SAAUz0B,GAAMg1B,EAAK/zE,GAAU++C,GAAMq2B,EAAKp1E,KAE1DvL,EAAO9D,GAAK,UAGhB8D,EAAOm/D,MAAQ7U,GAAMtzD,KAAKwmC,KAAMjyB,GAEpC,MAEJ,IAAK,UAEDvL,EAAS++E,GAAO,SACZz0B,GAAMtzD,KAAKm1D,MAAO5gD,GAClBvU,KAAKo1D,OAASp1D,KAAKo1D,MAAM,IAA6B,gBAAvBp1D,KAAKo1D,MAAM,GAAGv2C,KACzCopE,GAAQ,GAAK30B,GAAMtzD,KAAKo1D,MAAO7gD,IACvC,MAEJ,IAAK,OAEGvL,EADAhJ,KAAKuN,MACIw6E,GAAO,MACZz0B,GAAMtzD,KAAKwmC,KAAMjyB,GACjBwzE,GAAO,SAAU,EAAGz0B,GAAMtzD,KAAKuN,MAAOgH,KAEjCwzE,GAAO,OAAQz0B,GAAMtzD,KAAKwmC,KAAMjyB,IAE7C,MAEJ,IAAK,OACD,MAEJ,IAAK,OACL,IAAK,UACL,IAAK,SACD,MAEJ,IAAK,YACD,MAEJ,IAAK,OACL,IAAK,UACL,IAAK,OAED/T,EAAKiiD,EAAsBA,EAAQ91C,MAAM,4CAA1B5I,EACXvD,EACAsqC,EAAMvoC,OAAO27C,cAAczoC,SAASjV,EAAE,GAAI,MAE1CsqC,EAAM47C,GAAiBE,GAAU5mF,OAC7B8qC,EAAIhnC,OAAS,GAAuB,OAAlBgnC,EAAInyB,OAAO,IAGJ,kBAAd3Y,KAAKwmC,OAMRsE,EAAM9qC,KAAKwmC,OAK3B+kD,EAAa3B,GACThzB,GAAY7F,qBAAqBjmB,EAAK8lB,EAASl3B,IAE/C6xD,IAAezgD,GAGf9hC,EAAS,CAAC8hC,IAAKygD,GACf36B,EAAU,UAEV5nD,EAAS,CAAC8hC,IAAKA,GAEnB,MAMJ,IAAK,SACD,MAEJ,IAAK,MACD,MAEJ,IAAK,MACD9hC,EAASsqD,GAAMtzD,KAAKwmC,KAAMjyB,GAC1B,MAEJ,IAAK,UAUD,MAEJ,IAAK,QACD,GAAsB,gBAAlBvU,KAAKgmE,IAAIrlE,KACTqI,EAAS++E,GAAO,OAAQz0B,GAAMtzD,KAAKuS,MAAOgC,SAEvC,GAAI,+BAA+BjS,KAAKtC,KAAKgmE,IAAIrlE,MAAO,CAC3DqI,EAAS,CAAE9D,GAAI,QAASL,KAAM,IAD6B,2BAE3D,YAAkB7E,KAAKuS,MAAvB,+CAA8B,KAAnBohD,EAAmB,QAC1B3qD,EAAOnE,KAAKgH,KAAK8nD,EAAInvC,KAAI,SAAAu1C,GAAI,OAAIzG,GAAMyG,EAAMxlD,QAHU,wFAMxD,GAAsB,UAAlBvU,KAAKgmE,IAAIrlE,KAAkB,CAClCqI,EAAS,CAAE9D,GAAI,QAASL,KAAM,IADI,2BAElC,YAAkB7E,KAAKuS,MAAvB,+CAA8B,KAAnBohD,EAAmB,QAC1B,GAAIA,EAAI,GAAI,CACR,IAAM63B,EAAY,GAClBA,EAAU3/E,KAAKynD,GAAMK,EAAI,GAAIp/C,IAC7B,IAAIk3E,EAAYn4B,GAAMK,EAAI,GAAIp/C,GAC1Bk3E,GACqB,SAAjBA,EAAUvmF,IAAiBumF,EAAUzmE,KACjC,mBAAmB1iB,KAAKmpF,EAAUzmE,IAAI,GAAGwB,UACzCilE,EAAYA,EAAUzmE,IAAIwD,QACtB,SAAAplB,GAAC,MAAiB,kBAANA,MAM5BooF,EAAU3/E,KAAK4/E,GAAa,IAC5BziF,EAAOnE,KAAKgH,KAAK2/E,KAlBS,mFAsBtC,MAEJ,IAAK,UACL,IAAK,QACL,IAAK,YACD,MACJ,QACIxiF,OAASjF,EACT6hB,QAAQwiD,KAAK,mBAAqBpoE,KAAK6e,KAAO,UAAY7e,KAAKgiE,OAAShiE,KAAKwmC,MAAQ,KAc7F,OAXIx9B,GAAU4nD,GAAuB,WAAZA,IACrB5nD,EAAO4nD,QAAUA,GAGjB5nD,GAAmC,kBAAlBhJ,KAAK0pD,WACtB1gD,EAAO86E,MAAQ9jF,KAAK0pD,UAEpB1gD,GAAgC,kBAAfhJ,KAAK4rD,QACtB5iD,EAAO0Y,GAAK1hB,KAAK4rD,OAGd5iD,GA+FXswD,GAAS8vB,MAAQ,SAASpzB,EAAOzhD,GAC7B,OAAO++C,GAAM0C,EAAOzhD,IAggBT,QACXw2E,WACA3D,mBACA3Z,YACA0Z,aCtzEEuE,GAAgB,CAClB,UAAgB,SAChB,OAAgB,OAChB,UAAgB,SAChB,OAAgB,OAChB,eAAgB,OAEhB,QAAgB,aAChB,SAAgB,WAEhB,EAAgB,8CAChB,EAAgB,sDAChB,IAAgB,QAChB,IAAgB,SAChB,IAAgB,yDAChB,IAAgB,qDAChB,IAAgB,yDAChB,IAAgB,yDAChB,IAAgB,2DAChB,IAAgB,UAChB,IAAgB,gBAChB,OAAgB,gBAChB,KAAgB,4BAChB,OAAgB,4BAChB,OAAgB,mBAChB,IAAgB,mBAChB,OAAgB,+BAChB,QAAgB,+BAChB,QAAgB,4BAChB,IAAgB,aAChB,QAAgB,QAChB,QAAgB,UAChB,IAAgB,GAChB,IAAgB,SAChB,IAAgB,yDAChB,UAAgB,yDAChB,SAAgB,YAChB,QAAgB,8DAChB,uBAAwB,8DACxB,SAAgB,OAChB,QAAgB,MAChB,QAAgB,OAChB,QAAgB,cAEhB,WAAgB,WAChB,WAAgB,gBAChB,YAAgB,yBAEhB,OAAgB,cAEhB,MAAgB,2EAChB,MAAgB,2EAChB,MAAgB,2EAChB,MAAgB,2EAEhB,UAAgB,YAEhB,UAAgB,SAEhB,YAAgB,yBAEhB,UAAgB,eAEhB,eAAgB,WAEhB,WAAa,uDACb,MAAY,uDACZ,WAAa,wDACb,MAAY,wDACZ,WAAa,+DACb,WAAa,gEACb,WAAa,uDACb,WAAa,wDACb,UAAY,yDACZ,UAAY,0DACZ,SAAW,yDACX,UAAY,oDACZ,UAAY,8DACZ,UAAY,+DAGZ,WAAgB,kEAChB,WAAgB,mEAMhB,GAAgB,cAChB,GAAgB,cAChB,GAAgB,aAChB,GAAgB,aAIpB,SAASC,GAAc3pB,GACnB,IAAIh5D,EAAS4iF,GAAQ/O,MAAM7a,GAW3B,OAVKh5D,GAA8B,OAApBg5D,EAAMrpD,OAAO,KACxB3P,EAAS,IAAMg5D,EAAM1jD,QAAQ,KAAM,IAAM,KAKzCvM,MAAMmE,QAAQlN,KACdA,EAASA,EAAO,IAGbA,EAIX,SAASkiE,GAAShpE,GACd,IAAI8G,EAAS,QAiBb,OAhBIutD,WAAaA,UAAU2U,UAAY3U,UAAUlpC,YACzC,UAAU/qB,KAAKi0D,UAAU2U,UACzBliE,EAAS,MACF,UAAU1G,KAAKi0D,UAAU2U,UAChCliE,EAAS,MACF,aAAa1G,KAAKi0D,UAAUlpC,WACnCrkB,EAAS,UACF,YAAY1G,KAAKi0D,UAAUlpC,YAC1B,UAAU/qB,KAAKi0D,UAAUlpC,YACzB,UAAU/qB,KAAKi0D,UAAUlpC,WACjCrkB,EAAS,MACF,YAAY1G,KAAKi0D,UAAUlpC,aAClCrkB,EAAS,aAIVA,IAAW9G,EAAIA,EAAI,IAAMA,EAIpC,SAAS2pF,GAAShjB,GACd,IAAI39D,EAAQ,EACZ,GAAI29D,GAAY92D,MAAMmE,QAAQ2yD,GAAW,4BACrC,YAAmBA,EAAnB,+CAA6B,KAAlB3S,EAAkB,QACP,UAAdA,EAAKr3C,OACL3T,GAAS,IAHoB,mFAOzC,OAAiB,IAAVA,EAGX,SAAS4gF,GAASjjB,GACd,GAAIA,GAAY92D,MAAMmE,QAAQ2yD,GAAW,4BACrC,YAAmBA,EAAnB,+CAA6B,KAAlB3S,EAAkB,QACzB,GAAkB,UAAdA,EAAKr3C,MAAoBq3C,EAAKx0C,GAC9B,OAAOw0C,EAAKx0C,GAAGhc,YAHc,mFAOzC,MAAO,GAGX,SAASqmF,GAAYljB,GACjB,IAAI7/D,EAAS,GACb,GAAI6/D,GAAY92D,MAAMmE,QAAQ2yD,GAAW,4BACrC,YAAmBA,EAAnB,+CAA6B,KAAlB3S,EAAkB,QACP,UAAdA,EAAKr3C,MAAyC,kBAAdq3C,EAAK1vB,OACrCx9B,GAAUktD,EAAK1vB,OAHc,mFAOzC,OAAOx9B,EAOXswD,GAAS0yB,oBAAsB,SAAS91B,EAAM3hD,GAC1C,SAASi2D,EAAO/pE,GACZ,IAAIuI,EAAS,GAkBb,OAjBKuL,EAAQ03E,mBASL,QAAQ3pF,KAAK7B,GACbuI,GAAU,qCAAuCvI,EAAI,YAC9C,QAAQ6B,KAAK7B,GACpBuI,GAAU,WAAavI,EAAE2b,cAEzBpT,GAAUvI,EAbV,QAAQ6B,KAAK7B,GACbuI,GAAU,KAAOvI,EAAE4iE,cAAgB,IAC5B,QAAQ/gE,KAAK7B,GACpBuI,GAAU,aAAevI,EAAE4iE,cAAgB,IAE3Cr6D,GAAUvI,EAWXuI,EAGX,SAASkjF,EAAK/pF,GACV,MAAO,aAAeA,EAAI,cAG9B,IAAK+zD,EAAM,MAAO,GAElB,IAAIltD,EAAS,GAMb,GAJIktD,EAAKx0C,IAA6B,SAAvBnN,EAAQ43E,aACnBnjF,GAAU,eAAiBktD,EAAKx0C,GAAGhc,WAAa,OAGhDqM,MAAMmE,QAAQggD,GAEd,IADA,IAAIk2B,GAAe,EACVhsF,EAAI,EAAGA,EAAI81D,EAAKpyD,OAAQ1D,IACzBA,EAAI81D,EAAKpyD,OAAS,GACD,UAAjBoyD,EAAK91D,GAAGye,MACa,WAArBq3C,EAAK91D,EAAI,GAAGye,MACS,SAArBq3C,EAAK91D,EAAI,GAAGye,MACZ7V,GAAU,OACVA,GAAUkjF,EAAK5yB,GAAS0yB,oBAAoB91B,EAAK91D,EAAI,GAAImU,IACzDnU,GAAK,GAGe,SAAjB81D,EAAK91D,GAAGmB,KACfyH,GAAUktD,EAAK91D,GAAGomC,KAAO0vB,EAAK91D,GAAGomC,KAAO,IAChB,SAAjB0vB,EAAK91D,GAAGye,MAAmB,iBAAiBvc,KAAK4zD,EAAK91D,GAAGomC,MAC5D4lD,EACIpjF,GAAUktD,EAAK91D,GAAGomC,MAElB4lD,GAAe,EACfpjF,GAAUswD,GAAS0yB,oBAAoB91B,EAAK91D,GAAImU,KAGpD63E,GAAe,EACfpjF,GAAUswD,GAAS0yB,oBAAoB91B,EAAK91D,GAAImU,SAGrD,GAAkB,SAAd2hD,EAAK30D,KACZyH,EAASktD,EAAK1vB,SACX,CACH,IAAI2uB,EAAQ,GACRC,EAAQ,GACR5uB,EAAO,GACP6lD,GAAgB,EACpB,OAAOn2B,EAAKr3C,MACR,IAAK,QACL,IAAK,OACD7V,GAAUswD,GAAS0yB,oBAAoB91B,EAAK1vB,KAAMjyB,GAClD,MAEJ,IAAK,UAGD,GAFA4gD,EAAQmE,GAAS0yB,oBAAoB91B,EAAKf,MAAO5gD,GACjD6gD,EAAQkE,GAAS0yB,oBAAoB91B,EAAKd,MAAO7gD,GAC7Cs3E,GAAS31B,EAAKf,QAAU02B,GAAS31B,EAAKd,OAAQ,CAC9C,IAAMk3B,EAAmB,CACrB,MAAY,SACZ,MAAY,cACZ,MAAY,aACZ,MAAY,gBACZ,MAAY,kBACZ,MAAY,cACZ,MAAY,eACZ,MAAY,iBACZ,MAAY,gBACZ,MAAY,cACZ,MAAY,gBACZ,MAAY,cACZ,MAAY,iBACZ,MAAY,gBACZ,MAAY,iBACZ,MAAY,cACZ,MAAY,eACZ,MAAY,gBACZ,MAAY,gBACZ,MAAY,iBACZ,MAAY,kBAKVC,EAAiBD,EACnBP,GAAY71B,EAAKf,OAAS,IAAM42B,GAAY71B,EAAKd,QACjDm3B,EACAvjF,EAASujF,EAETvjF,GAAUmsD,EAAQ,SAAWC,OAGjCpsD,GAAU,sCAAwCmsD,EAAQ,+BAAiCC,EAAQ,4DAGvG,MACJ,IAAK,OAGD,GAFA5uB,EAAO8yB,GAAS0yB,oBAAoB91B,EAAK1vB,KAAMjyB,GAE1C2hD,EAAK3oD,MAMH,CACH,IAAIA,EAAQ+rD,GAAS0yB,oBAAoB91B,EAAK3oD,MAAOgH,GACrDhH,EAAQA,EAAMiZ,OACd,IAAMgmE,EAASj/E,EAAM+Q,QAAQ,mBAAoB,IAE7CtV,GADW,MAAXwjF,EACU,0CAA4ChmD,EAAO,wCAC3C,MAAXgmD,EACG,yCAA2ChmD,EAAO,mCAElD,8CAAgDj5B,EAAQ,6BAA+Bi5B,EAAO,wCAdxGqlD,GAAS31B,EAAK1vB,MACdx9B,GAAU,uBAAyBw9B,EAAO,MAE1Cx9B,GAAU,4CAA8Cw9B,EAAO,0CAcvE,MACJ,IAAK,SACD,MACJ,IAAK,YACDx9B,GAAU0iF,GAAcx1B,EAAKZ,YAAcY,EAAKZ,UAChDtsD,GAAUswD,GAAS0yB,oBAAoB91B,EAAK1vB,KAAMjyB,GAClDvL,GAAU0iF,GAAcx1B,EAAKX,aAAeW,EAAKX,WACjD,MACJ,IAAK,OAED,MACJ,IAAK,OAED,MACJ,IAAK,YAED,MACJ,IAAK,UAED,MACJ,IAAK,cACDvsD,GAAU,eAAiBktD,EAAK1vB,KAChC,MACJ,IAAK,QACL,IAAK,aACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,UAED,IAAMic,EAAUyT,EAAK8L,MAAQ9L,EAAK8L,MAAMx7C,OAAS,GACjD,GAAgB,cAAZi8B,GAAuC,cAAZA,GACf,eAAZA,GAAwC,gBAAZA,GAChB,gBAAZA,GAAyC,cAAZA,GACjB,gBAAZA,EAA2B,CAC3Bz5C,EAASswD,GAAS0yB,oBAAoB91B,EAAK1vB,KAAMjyB,GACjD,MAGJ,IAAIk4E,EAAYv2B,EAAK1vB,KACjBkmD,EAAax2B,EAAK8L,MAItB,GAHkB,UAAd9L,EAAKr3C,MAAkC,eAAdq3C,EAAKr3C,OAC9B4tE,EAAYC,EAAax2B,EAAKN,OAEP,SAAvBrhD,EAAQ43E,WACRnjF,GAAUyjF,MACP,CAKH,GAJkB,SAAdv2B,EAAKr3C,OACL7V,GAAU,yBAGVyjF,EAAW,CACX,IAAMprF,EAAQqqF,GAAce,KACvBC,EAAahB,GAAcgB,EAAWlmE,QAAU,IACrD,GAAInlB,EACA2H,GAAU,IAAM3H,MACb,CACH,IAAMsrF,EAAaD,EACff,GAAce,EAAWlmE,QAAU,GAEvCxd,GAAU2jF,GAA0BniB,EAAOiiB,SAG/CzjF,GAAUswD,GAAS0yB,oBAAoB91B,EAAK1vB,KAAMjyB,GAEpC,SAAd2hD,EAAKr3C,OACL7V,GAAU,yBAGlB,MAEJ,IAAK,MAED,GAAkB,MAAdktD,EAAK1vB,KAAmB,CAExB,IAAMomD,EAAY12B,EAAK8L,MAAQ9L,EAAK8L,MAAMx7C,OAAS,GACnD,GAAkB,UAAdomE,EACA,GAAI12B,EAAK2D,aAAe3D,EAAK4D,UAAW,CACpC,IAAIpmC,EAAM4lC,GAAS0yB,oBAAoB91B,EAAK2D,YAAatlD,GACzDmf,EAAMA,EAAIlN,OACV,IAAIS,EAAMqyC,GAAS0yB,oBAAoB91B,EAAK4D,UAAWvlD,GACvD0S,EAAMA,EAAIT,OACVxd,GAAU,4CAA8Cie,EAAM,kDAAoDyM,EAAM,iDACxH24D,GAAgB,OACjB,GAAIn2B,EAAK4D,UAAW,CACnB,IAAI7yC,EAAMqyC,GAAS0yB,oBAAoB91B,EAAK4D,UAAWvlD,GACvD0S,EAAMA,EAAIT,OACVxd,GAAU,4CAA8Cie,EAAM,iDAC9DolE,GAAgB,OAEhBrjF,GAAU,yBAEX,GAAkB,WAAd4jF,EACP,GAAI12B,EAAK2D,aAAe3D,EAAK4D,UAAW,CACpC,IAAIpmC,EAAM4lC,GAAS0yB,oBAAoB91B,EAAK2D,YAAatlD,GACzDmf,EAAMA,EAAIlN,OACV,IAAIS,EAAMqyC,GAAS0yB,oBAAoB91B,EAAK4D,UAAWvlD,GACvD0S,EAAMA,EAAIT,OACVxd,GAAU,0CAA4Cie,EAAM,iDAAmDyM,EAAM,iDACrH24D,GAAgB,OACb,GAAIn2B,EAAK4D,UAAW,CACvB,IAAI7yC,EAAMqyC,GAAS0yB,oBAAoB91B,EAAK4D,UAAWvlD,GACvD0S,EAAMA,EAAIT,OACVxd,GAAU,0CAA4Cie,EAAM,iDAC5DolE,GAAgB,OAEhBrjF,GAAU,yBAEX,GAAkB,UAAd4jF,EACP,GAAI12B,EAAK2D,aAAe3D,EAAK4D,UAAW,CACpC,IAAIpmC,EAAM4lC,GAAS0yB,oBAAoB91B,EAAK2D,YAAatlD,GACzDmf,EAAMA,EAAIlN,OACV,IAAIS,EAAMqyC,GAAS0yB,oBAAoB91B,EAAK4D,UAAWvlD,GACvD0S,EAAMA,EAAIT,OACVxd,GAAU,2CAA6CkjF,EAAKjlE,GAAO,iDAAmDilE,EAAKx4D,GAAO,6BAClI24D,GAAgB,OAEhBrjF,GAAU,+CAEX,GAAyB,kBAAdktD,EAAK1vB,KAAmB,CACtC,IAAMnlC,EAAQqqF,GAAcx1B,EAAK1vB,OAC7BklD,GAAcx1B,EAAK8L,MAAMx7C,QAEzBxd,GADA3H,GAGU,IAAM60D,EAAK1vB,UAElB0vB,EAAK8L,OAAS9L,EAAK8L,MAAMl+D,OAAS,IACnB,OAAlBoyD,EAAK8L,MAAM,GACXh5D,GAAU,IAAMktD,EAAK8L,MAAM4F,OAAO,GAElC5+D,GAAU,IAAMktD,EAAK8L,OAIjC,MAEJ,IAAK,UACDx7B,EAAO8yB,GAAS0yB,oBAAoB91B,EAAK1vB,KAAMjyB,GAE3Cs3E,GAAS31B,EAAK1vB,MACdx9B,GAAU,gBAAkBw9B,EAAO,MAEnCx9B,GAAU,gBAAkBw9B,EAAO,kBAEvC,MAEJ,IAAK,QACL,IAAK,UACL,IAAK,YACL,IAAK,MAED,MAGR,IAAK6lD,GAAiBn2B,EAAK2D,YAAa,CAEpC,IAAInmC,EAAM4lC,GAAS0yB,oBAAoB91B,EAAK2D,YAAatlD,GACzDmf,EAAMA,EAAIlN,OACV,IAAM29B,EAAOzwB,EAAIpV,QAAQ,WAAY,IACrC,GAAIutE,GAAS31B,EAAK2D,aAAc,CAC5B,GAA2B,SAAvBtlD,EAAQ43E,WAAuB,CAC/B,IAAMzqE,EAAKoqE,GAAS51B,EAAK2D,aACrBn4C,IACA1Y,GAAU,eAAiB0Y,EAAK,OAG3B,MAATyiC,EACAn7C,GAAU,UACM,MAATm7C,EACPn7C,GAAU,YACM,MAATm7C,EACPn7C,GAAU,UACHs0B,MAAM7nB,SAAS0uC,IACtBn7C,GAAU,WAAa0qB,EAAM,KAE7B1qB,GAAU,0CAA4Cm7C,EAAO,yBAG7D7mB,MAAM7nB,SAAS0uC,IACfn7C,GAAU,kBAAoB0qB,EAAM,KAEpC1qB,GAAU,iDAAmDm7C,EAAO,oBAIhF,IAAKkoC,GAAiBn2B,EAAK4D,UAAW,CAClC,IAAI7yC,EAAMqyC,GAAS0yB,oBAAoB91B,EAAK4D,UAAWvlD,GACvD0S,EAAMA,EAAIT,OACNqlE,GAAS31B,EAAK4D,WACd9wD,GAAU,QAAUie,EAEpBje,GAAU,cAAgBie,EAAM,qBAM5C,OAAOje,GAUXswD,GAASuzB,gBAAkB,SAAS72B,EAAO82B,GACvC,IAAMv4E,EAAUu4E,EAAgB9lF,KAAKssD,MAAMtsD,KAAKkkC,UAAU4hD,IAAkB,CACxEb,mBAAoB,GACpBc,kBAAmB,YAIvB,GAFAx4E,EAAQ43E,WAAa,OAEjBvmF,OAAOonF,KAAqC,QAA9Bz4E,EAAQw4E,kBAA6B,CACnDx4E,EAAQk0C,YAAa,EACrB,IAAMs8B,EAASzrB,GAAS0rB,SAAShvB,EAAOzhD,GACxC,OAAIwwE,GACIxwE,EAAQ03E,qBACR13E,EAAQ04E,yBAA2B14E,EAAQ04E,0BAA4B,GACvE14E,EAAQ04E,yBAAyB9O,OAAS5pE,EAAQ03E,mBACF,SAA5C13E,EAAQ04E,yBAAyB9O,SACjC5pE,EAAQ04E,yBAAyB9O,OAAS,aAE9C5pE,EAAQ04E,yBAAyBC,KAAO34E,EAAQ44E,kBAEhD54E,EAAQ04E,0BACRrnF,OAAOonF,IAAII,OAAOC,cAAcC,YAAY/4E,EAAQ04E,0BAEjDrnF,OAAOonF,IAAII,OAAOC,cAAcE,SAASxI,IAE7C,GAGX,IAAI/7E,EAASswD,GAAS0yB,oBAAoBh2B,EAAOzhD,GAEjD,GAAmC,SAA/BA,EAAQ03E,mBAA+B,CACvC,IAAIuB,EAAU,GACVj5E,EAAQ44E,mBACRK,EAAU,kBAAoBj5E,EAAQ44E,iBAAmB,MAE7DnkF,EAAS,+HAETwkF,EACA,SACAxkF,EACA,YACCwkF,EAAU,aAAe,IAC1B,sCAIAxkF,EAFsC,QAA/BuL,EAAQ03E,oBAAoD,QAApB/gB,GAAS,OAE/CliE,EAAOsV,QAAQ,mBAAoB,IACvCA,QAAQ,cAAe,aACvBA,QAAQ,gBAAiB,IACzBA,QAAQ,+BAAgC,cACxCA,QAAQ,iBAAkB,IAC1BA,QAAQ,cAAe,IAKnBtV,EAAOsV,QAAQ,WAAY,IAC3BA,QAAQ,UAAW,KAEhC,OAAOtV,G,glDCvfX,IAAMykF,GAA2B,EAC3BC,GAAwB,GAG9B,SAASC,GAAGzlE,EAAI0lE,EAAWhsE,EAAUrN,GACjCq5E,EAAYA,EAAUthF,MAAM,KADc,2BAE1C,YAAkBshF,EAAlB,+CAA6B,KAAlBC,EAAkB,QACnBrtF,EAAIqtF,EAAIlhF,MAAM,aACpB,GAAInM,EAAG,CACH,IAAMstF,EAAWv5E,GAAW,GACf,WAAT/T,EAAE,GACFstF,EAASC,SAAU,EAEnBD,EAASttF,EAAE,KAAM,EAErB0nB,EAAG7F,iBAAiB7hB,EAAE,GAAIohB,EAAUksE,QAEpC5lE,EAAG7F,iBAAiBwrE,EAAKjsE,EAAUrN,IAbD,mFAkB9C,SAASy5E,GAAI9lE,EAAI0lE,EAAWhsE,EAAUrN,GAClCq5E,EAAYA,EAAUthF,MAAM,KADe,2BAE3C,YAAkBshF,EAAlB,+CAA6B,KAAlBC,EAAkB,QACnBrtF,EAAIqtF,EAAIlhF,MAAM,aACpB,GAAInM,EAAG,CACH,IAAMstF,EAAWv5E,GAAW,GACf,WAAT/T,EAAE,GACFstF,EAASC,SAAU,EAEnBD,EAASttF,EAAE,KAAM,EAErB0nB,EAAG+lE,oBAAoBztF,EAAE,GAAIohB,EAAUksE,QAEvC5lE,EAAG+lE,oBAAoBJ,EAAKjsE,EAAUrN,IAbH,mFAkB/C,SAAS25E,GAAiBxsE,EAAIspC,GAC1B,IAAIhiD,EAAS6wB,SAASs0D,eAAezsE,GAYrC,OAXI1Y,EACAA,EAAOo5E,aAAa,gBAChB3sE,SAASzM,EAAOm5E,aAAa,kBAAoB,IAErDn5E,EAAS6wB,SAAS5xB,cAAc,OAChCe,EAAOo5E,aAAa,cAAe,QACnCp5E,EAAOo5E,aAAa,gBAAiB,KACrCp5E,EAAOk7E,UAAYl5B,EACnBhiD,EAAO0Y,GAAKA,EACZmY,SAAS2M,KAAKjkB,YAAYvZ,IAEvBA,EAGX,SAASolF,GAAqBlmE,GAC1B,IAAKA,EAAI,OAAO,KAChB,IAAMmmE,EAAW54E,SAASyS,EAAGi6D,aAAa,kBAM1C,OALKkM,GAAyB,IAAbA,EAGbnmE,EAAGk6D,aAAa,gBAAiBiM,EAAW,GAF5CnmE,EAAG82D,SAIA92D,EAWJ,SAASomE,GAAiBtR,GAC7B,OAAOA,EAAG90C,SAAW80C,EAAG90C,QAAQ41C,YAAcd,EAQlD,SAASuR,GAAc70D,GACnB,IAAM1wB,EAAS,GAuEf,MAtE0B,kBAAf0wB,EAAMn4B,OACbyH,EAAOzH,KAAOm4B,EAAMn4B,KAAK6a,cACzBwJ,QAAQu8B,OAAuB,SAAhBn5C,EAAOzH,MAAmC,SAAhByH,EAAOzH,MAAmC,YAAhByH,EAAOzH,OAGnD,kBAAhBm4B,EAAM4K,QACbt7B,EAAOs7B,MAAQ5K,EAAM4K,OAGY,kBAA1B5K,EAAM+vB,kBACbzgD,EAAOygD,gBAAkB/vB,EAAM+vB,iBAGH,kBAArB/vB,EAAMiwB,aACb3gD,EAAO2gD,WAAajwB,EAAMiwB,YAGF,kBAAjBjwB,EAAMy/C,SACbnwE,EAAO8gD,WAAapwB,EAAMy/C,QAEE,kBAArBz/C,EAAMowB,aACb9gD,EAAO8gD,WAAapwB,EAAMowB,WAAW1tC,eAErCpT,EAAO8gD,aACP9gD,EAAO8gD,WAAa,CAChB,KAAQ,IACR,OAAU,IACV,OAAU,MACZ9gD,EAAO8gD,aAAe9gD,EAAO8gD,YAGR,kBAAhBpwB,EAAM0/C,QACbpwE,EAAO4gD,UAAYlwB,EAAM0/C,OAEE,kBAApB1/C,EAAMkwB,YACb5gD,EAAO4gD,UAAYlwB,EAAMkwB,UAAUxtC,eAEnCpT,EAAO4gD,YACP5gD,EAAO4gD,UAAY,CACf,OAAU,KACV,GAAM,IACN,QAAW,IACX,OAAU,KACZ5gD,EAAO4gD,YAAc5gD,EAAO4gD,WAGR,kBAAflwB,EAAMpoB,KACbtI,EAAO0hD,SAAWhxB,EAAMpoB,KACK,kBAAfooB,EAAMpoB,OACpBtI,EAAO0hD,SAAW,OAAS9nD,KAAKkJ,IAAI,EAAGlJ,KAAKsR,IAAI,GAAIwlB,EAAMpoB,QAEhC,kBAAnBooB,EAAMgxB,WACb1hD,EAAO0hD,SAAWhxB,EAAMgxB,SAAStuC,eAEjCpT,EAAO0hD,WACP1hD,EAAO0hD,SAAW,CACd,KAAQ,QACR,WAAc,QACd,aAAgB,QAChB,MAAS,QACT,OAAU,QACV,WAAc,QACd,MAAS,QACT,MAAS,QACT,MAAS,QACT,KAAQ,QACR,KAAQ,UACV1hD,EAAO0hD,WAAa1hD,EAAO0hD,UAG1B1hD,E,IA8yGPwlF,GA1wGEC,G,WAaJ,WAAavmD,EAAS2hC,EAAQ6kB,GAAY,sBAExC1uF,KAAK2uF,WAAW9kB,GAAU,IAC1B7pE,KAAKkoC,QAAUA,EACfA,EAAQ41C,UAAY99E,KAEpBA,KAAK4uF,aAAc,EAEnB5uF,KAAK6uF,gBAAkB3mD,EAAQk2C,UAE/B,IAAI0Q,EAAc9uF,KAAKkoC,QAAQq6C,iBAEZx+E,IAAf2qF,IACFI,EAAc9uF,KAAK+uF,SACnB/uF,KAAKgvF,UAEHF,IACFA,EAAcA,EAAYtoE,QAE5BZ,QAAQ9S,IAAIo1B,EAAQq6C,aAYpB,IAAIpE,EAAS,GACRn+E,KAAK6pE,OAAOolB,mBAgCiC,kBAAnCjvF,KAAK6pE,OAAOolB,mBACnB9Q,GAAUn+E,KAAK6pE,OAAOolB,mBAKtB9Q,GAAU,gBArCZ,4BAA4B77E,KAAKi0D,UAAUlpC,WAI3C8wD,GADiB,SAAfuQ,EACQ,uMAMA,gQAcZvQ,GAAU,sMAgBdA,GAAU,mFAKLn+E,KAAK6pE,OAAOqlB,sBACblvF,KAAK6pE,OAAOqlB,oBACPtpF,OAAOupF,YAAcvpF,OAAOupF,WAAW,yBAAyBC,QAAW,UAAY,OAK9E,QAAdV,GACAvQ,GAAU,mEAENn+E,KAAK6pE,OAAOwlB,2BACZlR,GAAUn+E,KAAK6pE,OAAOwlB,2BAGtBlR,GAAU,owBAIdA,GAAU,aAGVA,GAAU,kxDAcdA,GAAU,UACVA,GAAU,mIAMVn+E,KAAKkoC,QAAQk2C,UAAYD,EACzB,IAAImR,EAAS,EACiC,oBAAnCtvF,KAAK6pE,OAAOolB,mBACnBjvF,KAAKi6E,SAAWj6E,KAAK6pE,OAAOolB,qBAE5BjvF,KAAKi6E,SAAWj6E,KAAKkoC,QAAQihB,SAASmmC,KAAUC,kBAEpDvvF,KAAKwvF,MAAQxvF,KAAKkoC,QAAQihB,SAASmmC,GAAQnmC,SAAS,GAEpDnpD,KAAKwvF,MAAMntE,iBAAiB,SAAS,SAAAotE,GACjCA,EAAGnL,iBACHmL,EAAGlL,kBACH,IAAImL,EAAkC,qBAAdD,EAAGE,OAAyBF,EAAGG,QAAUH,EAAGE,OAC/DxiE,SAASuiE,KAAeA,EAAaD,EAAGC,WAAa,IAC1D,EAAKF,MAAMK,OAAO,CACdhlC,IAAK,EACLh8C,KAAM,EAAK2gF,MAAMM,WAA0B,EAAbJ,MAEnC,CAAE3B,SAAS,IACd/tF,KAAK+vF,6BAA+B/vF,KAAKkoC,QAAQihB,SAASmmC,KAAUnmC,SAAS,GAC3D,QAAdulC,EACA1uF,KAAK29E,sBAAsB39E,KAAK+vF,6BAA8B,CAC1DrN,QAAS,iBACTsN,IAAK,iBACLvxE,MAAO,mBAGXze,KAAK29E,sBAAsB39E,KAAK+vF,6BAA8B,CAC1DrN,QAAS,wBACTsN,IAAK,2BACLvxE,MAAO,+BAGfze,KAAKiwF,aAAejwF,KAAKkoC,QAAQihB,SAASmmC,GAAQnmC,SAAS,GAC3DnpD,KAAKkwF,eAAiBlwF,KAAKkoC,QAAQihB,SAASmmC,KAAUnmC,SAAS,GAG/DnpD,KAAKy9E,QAAUyQ,GAAiB,yBAA0B,eAC1DluF,KAAKmwF,iBAAmBjC,GAAiB,mCAAoC,yBAG7EluF,KAAKowF,yBAA0B,EAC/BpwF,KAAK8+E,wBAAyB,EAC9B9+E,KAAKqwF,gBAAkB,GACvBrwF,KAAKswF,sBAAwB,GAC7BtwF,KAAKuwF,0BAA4B,KAGjCvwF,KAAKwwF,gBAAkB,EAQvBxwF,KAAKuB,KAAOsoE,EAAO4mB,aAAe,OAClCzwF,KAAK0wF,qBAAsB,EAG3B1wF,KAAK05B,MAAQ,GAEb15B,KAAK2wF,SAAU,EACfhD,GAAG3tF,KAAKkoC,QAAS,QAASloC,MAC1B2tF,GAAG3tF,KAAKkoC,QAAS,OAAQloC,MAEzB2tF,GAAG3tF,KAAKi6E,SAAU,MAAOj6E,MACzB2tF,GAAG3tF,KAAKi6E,SAAU,OAAQj6E,MAC1B2tF,GAAG3tF,KAAKi6E,SAAU,QAASj6E,MAE3B4wF,GAAS5W,uBAAuBh6E,KAAKi6E,SAAU,CAC3C2B,UAAW57E,KAAKkoC,QAChB2yC,aAAc,iBAAoB,SAAd,EAAKt5E,MACzBo5E,UAAW36E,KAAK6wF,aAAajvF,KAAK5B,MAClCq7E,MAAOr7E,KAAK8wF,SAASlvF,KAAK5B,MAC1BorE,UAAWprE,KAAK+wF,aAAanvF,KAAK5B,MAClCyzE,MAAOzzE,KAAKgxF,SAASpvF,KAAK5B,MAC1Bg7E,KAAMh7E,KAAKixF,QAAQrvF,KAAK5B,QAGxB4F,OAAOsrF,aAEPvD,GAAG3tF,KAAKwvF,MAAO,cAAexvF,MAE9B2tF,GAAG3tF,KAAKwvF,MAAO,8BAA+BxvF,MAKlD2tF,GAAG/nF,OAAQ,SAAU5F,MAErB,IAAMmxF,EAAc,MAAKtnB,GACzBsnB,EAAYzhB,qBACR+e,EAAUzsF,UAAUovF,sBAAsBxvF,KAAK5B,MACnDmxF,EAAYrhB,mBACR2e,EAAUzsF,UAAUqvF,oBAAoBzvF,KAAK5B,MACjDmxF,EAAY3iB,WAAaxuE,KAAK6pE,OAAO2E,WACrC2iB,EAAY3oC,OAASxoD,KAAK6pE,OAAOrhB,OACjC2oC,EAAY5c,4BAA8Bv0E,KAAK6pE,OAAO0K,4BACtDv0E,KAAK6oE,SAAW,IAAIqD,GAAiBA,iBAAiBilB,EAAanxF,MAEnEA,KAAKsxF,YAAc,IAAIC,GAAKrV,YAAYl8E,KAAK6oE,UAGzCimB,EAAYhrF,OAAS,GACrB9D,KAAK+uF,OAAOD,GAGhB9uF,KAAKsxF,YAAYE,iBACjBxxF,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,QAC3B6kB,GACA1uF,KAAKgvF,S,+CAYGvV,GAAK,WACb,OAAQA,EAAI56D,MACR,IAAK,QACD7e,KAAKgxF,SAASvX,GACd,MACJ,IAAK,OACDz5E,KAAKixF,QAAQxX,GACb,MACJ,IAAK,aACDz5E,KAAKyxF,eAAehY,GACpB,MACJ,IAAK,YACDz5E,KAAKyxF,eAAehY,GACpB,MACJ,IAAK,cACDz5E,KAAKyxF,eAAehY,GACpB,MACJ,IAAK,SACGz5E,KAAK0xF,cAAgB9rF,OAAO+rF,qBAAqB3xF,KAAK0xF,cAC1D1xF,KAAK0xF,aAAe9rF,OAAOo4E,uBAAsB,kBAAMsQ,GAAiB,IAAU,EAAKsD,eACvF,MAEJ,IAAK,MACD5xF,KAAK6xF,OAAOpY,GACZ,MACJ,IAAK,OACDz5E,KAAK8xF,QAAQrY,GACb,MACJ,IAAK,QACDz5E,KAAK8wF,SAASrX,GACd,MACJ,QAAS7zD,QAAQwiD,KAAK,wBAAyBqR,EAAI56D,S,iDAgBvD7e,KAAKkoC,QAAQk2C,UAAYp+E,KAAK6uF,gBAC9B7uF,KAAKkoC,QAAQ41C,UAAY,YAClB99E,KAAKkwF,sBACLlwF,KAAKiwF,oBACLjwF,KAAKwvF,MACZxB,GAAIhuF,KAAKi6E,SAAU,MAAOj6E,MAC1BguF,GAAIhuF,KAAKi6E,SAAU,OAAQj6E,MAC3BguF,GAAIhuF,KAAKi6E,SAAU,QAASj6E,MAC5BA,KAAKi6E,SAAS+E,gBACPh/E,KAAKi6E,SACZj6E,KAAK+vF,6BAA6B/Q,gBAC3Bh/E,KAAK+vF,6BACL3B,GAAqBpuF,KAAKy9E,SAC1B2Q,GAAqBpuF,KAAKmwF,kBAC1B/B,GAAqBpuF,KAAK++E,iBAC1BqP,GAAqBv0D,SAASs0D,eAAe,kCACpDH,GAAIhuF,KAAKkoC,QAAS,cAAeloC,MACjCguF,GAAIhuF,KAAKkoC,QAAS,8BAA+BloC,MACjDguF,GAAIhuF,KAAKkoC,QAAS,QAASloC,MAC3BguF,GAAIhuF,KAAKkoC,QAAS,OAAQloC,MAC1BguF,GAAIpoF,OAAQ,SAAU5F,aACfA,KAAKkoC,U,8CAGZloC,KAAKqwF,gBAAkB,GACvBrwF,KAAKswF,sBAAwB,GAC7B9V,aAAax6E,KAAKuwF,6B,0CASlB,IAAMzkC,EAAQimC,GAAsB/xF,KAAKwvF,OACzC,GAAI1jC,EAAO,CACP,IAAMkmC,EAASlmC,EAAMmmC,wBACfxnE,EAAW,CACbrnB,EAAG4uF,EAAOx8E,MACVtH,EAAG8jF,EAAOzjC,OACV/H,OAAQwrC,EAAOxrC,QAEnB,OAAO/7B,EAEX,OAAO,O,4CAGP,IAAMynE,EAAgBlyF,KAAKwvF,MAAMrb,iBAAiB,iBAClD,GAAI+d,GAAiBA,EAAcpuF,OAAS,EAAG,CAC3C,IAAMquF,EAAgB,CAAEtnC,IAAKz/C,IAAUmjD,QAASnjD,IAAUyD,KAAMzD,IAAUoK,OAAQpK,KAElF8mF,EAAchpF,SAAQ,SAAA0lC,GAClB,IAAMojD,EAASpjD,EAAKqjD,wBAChBD,EAAOnjF,KAAOsjF,EAActjF,OAAQsjF,EAActjF,KAAOmjF,EAAOnjF,MAChEmjF,EAAOx8E,MAAQ28E,EAAc38E,QAAS28E,EAAc38E,MAAQw8E,EAAOx8E,OACnEw8E,EAAOzjC,OAAS4jC,EAAc5jC,SAAU4jC,EAAc5jC,OAASyjC,EAAOzjC,QACtEyjC,EAAOnnC,IAAMsnC,EAActnC,MAAOsnC,EAActnC,IAAMmnC,EAAOnnC,QAErE,IAAMunC,EAAYpyF,KAAKwvF,MAAMyC,wBACvBI,EAAIF,EAAc38E,MAAQ28E,EAActjF,KACxC4xC,EAAI0xC,EAAc5jC,OAAS4jC,EAActnC,IAK/C,OAJAsnC,EAActjF,KAAOjM,KAAKuE,KAAKgrF,EAActjF,KAAOujF,EAAUvjF,KAAO7O,KAAKwvF,MAAMM,YAChFqC,EAAc38E,MAAQ28E,EAActjF,KAAOwjF,EAC3CF,EAActnC,IAAMjoD,KAAKuE,KAAKgrF,EAActnC,IAAMunC,EAAUvnC,KAC5DsnC,EAAc5jC,OAAS4jC,EAActnC,IAAMpK,EACpC0xC,EAEX,OAAO,O,qCAWI/uF,EAAG8K,EAAGqG,GAGjB,IAAIvL,EAFJuL,EAAUA,GAAW,GACrBA,EAAQ8/B,KAAO9/B,EAAQ8/B,MAAQ,EAI/B,IAAMi+C,EAAUC,GAAwBvyF,KAAKwvF,MAAOpsF,EAAG8K,GACjDga,EAAKoqE,EAAQpqD,QACbxmB,EAAKwG,EAAKA,EAAGi6D,aAAa,gBAAkB,KAClD,GAAIzgE,EAAI,CAGJ,IAAM8wE,EAAQxyF,KAAK6oE,SAASrgD,QAAO,SAAUiqE,EAAOv8B,GAGhD,OAAKA,EAAKrB,iBAMHqB,EAAK1tC,QAAO,SAAAkqE,GAAS,OAAIA,EAAUhxE,KAAOA,KAAI5d,OAAS,EALnDoyD,EAAKx0C,KAAOA,KAO3B,GAAI8wE,GAASA,EAAM1uF,OAAS,EAIxB,GADAkF,EAASojE,GAASpD,eAAewpB,EAAM,IAAIx2E,KACtB,IAAjBzH,EAAQ8/B,KAAY,CAIpB,IAAM29C,EAAS9pE,EAAG+pE,wBACd7uF,EAAI4uF,EAAOnjF,KAAOmjF,EAAOlnC,MAAQ,IAAM5iC,EAAG6jC,UAAUylB,SAAS,qBAC7DxoE,EAAOA,EAAOlF,OAAS,GAAGqN,OACtBvO,KAAKsR,IAAI,EAAGlL,EAAOA,EAAOlF,OAAS,GAAGqN,OAAS,SAEhDoD,EAAQ8/B,KAAO,IACtBrrC,EAAOA,EAAOlF,OAAS,GAAGqN,OACtBvO,KAAKkJ,IAAI9L,KAAK6oE,SAASwB,WAAWvmE,OAAS,EAAGlB,KAAKsR,IAAI,EAAGlL,EAAOA,EAAOlF,OAAS,GAAGqN,OAASoD,EAAQ8/B,QAIrH,OAAOrrC,I,qCAEIywE,GACX,IACIroE,EADEnM,EAAOjF,KAET2yF,GAAkB,EAClBC,GAAgB,EAChBC,GAAQ,EAGZ,GAAoB,IAAhBpZ,EAAIqZ,SAAiC,IAAhBrZ,EAAIqZ,QAA7B,CAoBA,IAAIhD,GAAa,EACbiD,GAAc,EACZC,EAAiBC,aAAY,WAC3BnD,EACA7qF,EAAKuqF,MAAMK,OAAO,CAAEhlC,IAAK,EAAGh8C,KAAM5J,EAAKuqF,MAAMM,WAAa,KACnDiD,GACP9tF,EAAKuqF,MAAMK,OAAO,CAAEhlC,IAAK,EAAGh8C,KAAM5J,EAAKuqF,MAAMM,WAAa,OAE/D,IAmCGoD,EAAUzZ,EAAI0Z,QAAU1Z,EAAI0Z,QAAQ,GAAGC,QAAU3Z,EAAI2Z,QACrDC,EAAU5Z,EAAI0Z,QAAU1Z,EAAI0Z,QAAQ,GAAGG,QAAU7Z,EAAI6Z,QACrDC,EAAalrF,KAAK4Z,MAEpBusE,IAAW5rF,KAAKD,IAAI6rF,GAAQprF,EAAI8vF,GAAW,GAC3CtwF,KAAKD,IAAI6rF,GAAQtgF,EAAImlF,GAAW,GAChChrF,KAAK4Z,MAAQusE,GAAQgF,KAAO,KAC5BC,IAAY,EACZjF,GAAQgF,KAAOD,IAEf/E,GAAU,CACNprF,EAAG8vF,EACHhlF,EAAGmlF,EACHG,KAAMD,GAEVE,GAAW,GAEf,IAAMzB,EAAShyF,KAAKwvF,MAAMyC,wBAE1B,GAAIiB,GAAWlB,EAAOnjF,MAAQqkF,GAAWlB,EAAOx8E,OAC5C69E,GAAWrB,EAAOnnC,KAAOwoC,GAAWrB,EAAOzjC,QAa3C,GAVKvuD,KAAK0zF,cACNb,GAAQ,EACJ7yF,KAAKi6E,SAASxG,OAASzzE,KAAKi6E,SAASxG,SAK7CzzE,KAAK2zF,wBACL3zF,KAAK0wF,qBAAsB,EAC3Bt/E,EAASpR,KAAK4zF,eAAeV,EAASG,EAAS,CAAEh/C,KAAM,IACnDjjC,EAAQ,CAIR,IAAI6T,EAAM4U,SAAS5xB,cAAc,OACjCgd,EAAIi/D,UAAY,eAChBlkF,KAAKkoC,QAAQ3lB,YAAY0C,GACzBA,EAAIyU,MAAM7qB,KAAQmjF,EAAOnjF,KAAO,IAAO,KACvCoW,EAAM4U,SAAS5xB,cAAc,OAC7Bgd,EAAIi/D,UAAY,eAChBlkF,KAAKkoC,QAAQ3lB,YAAY0C,GACzBA,EAAIyU,MAAM7qB,KAAQmjF,EAAOx8E,MAAS,KAE9BikE,EAAIM,UAEJ/5E,KAAK6oE,SAAS4H,SAASzwE,KAAK6oE,SAAS7sD,KAAM5K,GAC3CA,EAASg7D,GAASrjB,MAAM/oD,KAAK6oE,SAAS7sD,MACtC5K,EAAOA,EAAOtN,OAAS,GAAGqN,QAAU,GAEpCnR,KAAK6oE,SAASkH,QAAQ3+D,EAAQ,GAIlCyhF,GAAQ,EAGR7yF,KAAK05B,MAAQ,GAIM,IAAf+/C,EAAImW,QAAgB6D,GAAW,GAC/BI,EAAmBpa,GACA,IAAfA,EAAImW,QAA6B,IAAb6D,IAEpBzzF,KAAK6oE,SAASwI,cAEVshB,IACRA,GAAkB,EACd/sF,OAAOsrF,cACPvD,GAAG1oF,EAAKuqF,MAAO,cAAesE,GAC9BnG,GAAG1oF,EAAKuqF,MAAO,qCAAsCqE,GACrD5uF,EAAKuqF,MAAMuE,kBAAkBta,EAAIua,aAEjCrG,GAAG/nF,OAAQ,OAAQiuF,GACfpa,EAAI0Z,SAIJxF,GAAGlU,EAAIx2E,OAAQ,YAAa6wF,GAC5BnG,GAAGlU,EAAIx2E,OAAQ,WAAY4wF,KAE3BlG,GAAG/nF,OAAQ,YAAakuF,GACxBnG,GAAG/nF,OAAQ,UAAWiuF,KAGX,IAAfpa,EAAImW,QAA6B,IAAb6D,KAEpBb,GAAgB,EAChB5yF,KAAK6oE,SAASsI,uBAK1Bqd,GAAU,KAEVqE,GAAS7yF,KAAKi0F,iBAGlBxa,EAAI6K,iBAnKJ,SAASuP,EAAmBpa,GACpB7zE,OAAOsrF,cACPlD,GAAI/oF,EAAKuqF,MAAO,cAAesE,GAC/B9F,GAAI/oF,EAAKuqF,MAAO,wCAAyCqE,GAGzD5uF,EAAKuqF,MAAM0E,sBAAsBza,EAAIua,aAErChG,GAAI/oF,EAAKuqF,MAAO,YAAasE,GAC7B9F,GAAI/oF,EAAKuqF,MAAO,sBAAuBqE,GACvC7F,GAAIpoF,OAAQ,YAAakuF,GACzB9F,GAAIpoF,OAAQ,eAAgBiuF,IAEhClB,GAAkB,EAClBwB,cAAcnB,GACd/tF,EAAKijC,QAAQisC,iBAAiB,iBAAiBjrE,SAAQ,SAAA9F,GAAC,OAAIA,EAAEgxF,WAAW5xE,YAAYpf,MACrFq2E,EAAI6K,iBACJ7K,EAAI8K,kBAWR,SAASuP,EAAcra,GACnB,IAAMr2E,EAAIq2E,EAAI0Z,QAAU1Z,EAAI0Z,QAAQ,GAAGC,QAAU3Z,EAAI2Z,QAC/CllF,EAAIurE,EAAI0Z,QAAU1Z,EAAI0Z,QAAQ,GAAGG,QAAU7Z,EAAI6Z,QAG/Ce,EAAiC,UAApB5a,EAAI6a,YAA0B,GAAK,EACtD,GAAIjsF,KAAK4Z,MAAQsxE,EAAa,KAC1B3wF,KAAKD,IAAIuwF,EAAU9vF,GAAKixF,GAAczxF,KAAKD,IAAI0wF,EAAUnlF,GAAKmmF,EAG9D,OAFA5a,EAAI6K,sBACJ7K,EAAI8K,kBAGR,IAAMgQ,EAActvF,EAAKuqF,MAAMyC,wBAC/Bc,EAAc3vF,EAAImxF,EAAY/+E,MAC9Bs6E,EAAa1sF,EAAImxF,EAAY1lF,KAC7B,IAAI2lF,EAAepjF,EACfxL,OAAOsrF,aACFzX,EAAIgb,YACLD,EAAevvF,EAAK2uF,eAAena,EAAI2Z,QAAS3Z,EAAI6Z,QAAS,CAAEj/C,KAAM,KAGrEolC,EAAI0Z,SAAkC,IAAvB1Z,EAAI0Z,QAAQrvF,SAC3B0wF,EAAevvF,EAAK2uF,eAAena,EAAI0Z,QAAQ,GAAGC,QAAS3Z,EAAI0Z,QAAQ,GAAGG,QAAS,CAAEj/C,KAAM,KAGnG,IAAMo/B,EAAQxuE,EAAK2uF,eAAexwF,EAAG8K,EAAG,CAAEmmC,KAAMjxC,GAAK8vF,EAAW9vF,IAAM8vF,EAAU,GAAK,EAAK,IACtFzf,GAASxuE,EAAK4jE,SAAS4H,SAAS+jB,EAAc/gB,EAAO,CAAE9C,qBAAsBiiB,KAE7E3tF,EAAKgvF,iBAGTxa,EAAI6K,iBACJ7K,EAAI8K,qB,8CA2GRvkF,KAAK6oE,SAASiJ,0CAGd,IAAI9oE,EAAS,GACbhJ,KAAK6oE,SAASiG,iBAAgB,SAAA5Y,GAAUltD,GAAUktD,EAAKma,aACnDrnE,GACAhJ,KAAKi6E,SAAS54E,MAAQ2H,EAGlBhJ,KAAK0zF,aAAe1zF,KAAKi6E,SAASgC,QAClCj8E,KAAKi6E,SAASgC,WAGlBj8E,KAAKi6E,SAAS54E,MAAQ,GACtBrB,KAAKi6E,SAASmI,aAAa,aAAc,KAIzC,IAAMsS,EAAe10F,KAAKuB,KAG1BvB,KAAKuB,KAAOvB,KAAK6pE,OAAO4mB,YACpBzwF,KAAKuB,OAASmzF,GAAoD,oBAA7B10F,KAAK6pE,OAAO8qB,cACjD30F,KAAK6pE,OAAO8qB,aAAa30F,KAAMA,KAAKuB,MAEnB,YAAjBmzF,GAA4C,YAAd10F,KAAKuB,OACnCqqF,GAAQhO,YAAY59E,MACpBA,KAAK6oE,SAASqJ,uBAKtB0Z,GAAQ/N,sBAAsB79E,KAAM,CAAE+9E,UAAU,IAEA,oBAArC/9E,KAAK6pE,OAAO6F,sBACnB1vE,KAAK6pE,OAAO6F,qBAAqB1vE,Q,4CAIjCA,KAAKsxF,YAAY7U,UACjBz8E,KAAKkoC,QAAQ6jB,UAAU54B,IAAI,YAE3BnzB,KAAKkoC,QAAQ6jB,UAAUizB,OAAO,YAE9Bh/E,KAAKsxF,YAAYjV,UACjBr8E,KAAKkoC,QAAQ6jB,UAAU54B,IAAI,YAE3BnzB,KAAKkoC,QAAQ6jB,UAAUizB,OAAO,YAEY,oBAAnCh/E,KAAK6pE,OAAOiG,oBACnB9vE,KAAK6pE,OAAOiG,mBAAmB9vE,Q,0CAMnB40F,GAChB,SAAS56B,EAAS7qB,EAAQ0lD,GACtB,IAAMC,EAAY,CAEd,MAAS,YACT,MAAS,cACT,MAAS,QACT,KAAQ,SACR,UAAa,YACb,YAAe,eAEbC,EAAc,CAChB,QAAW,YACX,UAAa,QACb,KAAQ,cACR,KAAQ,cAEZ,MAA0B,SAAlBF,EAAK76B,SAAsB+6B,EAAY5lD,EAAOtwB,MAAQi2E,EAAUD,EAAK76B,UAEjF,IAAMiW,EAAU2kB,EAAcA,EAAY54E,KAAO,GAC3CA,EAAOhc,KAAK6oE,SAAS7sD,KACrB64E,EAAO74E,EAAKA,EAAKlY,OAAS,GAC5BkF,EAAS,GACb,MAAOinE,EAAQnsE,OAASkY,EAAKlY,OACzBkF,GAAU,UAAYgxD,EAAS46B,EAAYzlD,SAAU8gC,EAAQA,EAAQnsE,OAAS,IAAM,KACpFmsE,EAAQ12D,MAEZ,IAAKvZ,KAAK6oE,SAASoI,cACf,OAAO+jB,GAAch1F,KAAM,GAAIA,KAAK6oE,SAAS4I,oBAGjD,IAAMwjB,EAAej7B,EAASh6D,KAAK6oE,SAAS15B,SAAU0lD,GAClC,IAAhBA,EAAK1jF,SACLnI,IAAWisF,EAAe,YAAcA,EAAe,WAAa,MAExE,IAAM/+B,EAAOl2D,KAAK6oE,SAASkC,QAAQnoE,KAAKsR,IAAI,EAAGlU,KAAK6oE,SAASE,SAM7D,OALI7S,EACAltD,GAAUgsF,GAAch1F,KAAM,GAAIk2D,GACX,IAAhB2+B,EAAK1jF,SACZnI,GAAUisF,EAAe,UAAYA,EAAe,WAEjDjsF,I,gCAEDy5C,EAASomB,EAAU7S,GACa,oBAA3Bh2D,KAAK6pE,OAAO2E,YACnBxuE,KAAK6pE,OAAO2E,WAAWxuE,KAAMyiD,EAASomB,EAAU7S,K,iCAKpD,GAAwB,SAApBh2D,KAAK0uF,WAGL,OAFA9oE,QAAQ9S,IAAI,iBACR9S,KAAK6pE,OAAO8R,SAAW37E,KAAK6pE,OAAO8R,QAAQ37E,OAI/CA,KAAK2wF,UACL3wF,KAAK2wF,SAAU,EAGX3wF,KAAKi6E,SAASxG,OAASzzE,KAAKi6E,SAASxG,QACD,YAApCzzE,KAAK6pE,OAAOqlB,qBACZlvF,KAAKk1F,uBAETtJ,GAAQ/N,sBAAsB79E,MAC1BA,KAAK6pE,OAAO8R,SAAW37E,KAAK6pE,OAAO8R,QAAQ37E,MAC/CA,KAAKi0F,oB,gCAILj0F,KAAK4uF,cAIJ5uF,KAAK2wF,SAUN/qE,QAAQ9S,IAAI,cACR9S,KAAK6pE,OAAO6R,QAAU17E,KAAK6pE,OAAO6R,OAAO17E,QAV7CA,KAAK2wF,SAAU,EACf3wF,KAAKiwF,aAAa1N,YAAc,GACQ,YAApCviF,KAAK6pE,OAAOqlB,qBACZlvF,KAAKm1F,uBAETn1F,KAAKo1F,UAAU,CAAE7rB,SAAS,IAC1BvpE,KAAKi0F,iBACDj0F,KAAK6pE,OAAO6R,QAAU17E,KAAK6pE,OAAO6R,OAAO17E,U,kCAOjDA,KAAKkoC,QAAQ6jB,UAAUizB,OAAO,oBAAqB,kBAAmB,uBAClEp5E,OAAO64E,YAAc,KACrBz+E,KAAKkoC,QAAQ6jB,UAAU54B,IAAI,uBACpBvtB,OAAO64E,YAAc,IAC5Bz+E,KAAKkoC,QAAQ6jB,UAAU54B,IAAI,mBAE3BnzB,KAAKkoC,QAAQ6jB,UAAU54B,IAAI,qBAE/By4D,GAAQ/N,sBAAsB79E,Q,gDAG9BA,KAAKowF,yBAA2BpwF,KAAKowF,wBACrCpwF,KAAKmwF,iBAAiB/R,UAAY,GAC7Bp+E,KAAKowF,0BACNpwF,KAAKmwF,iBAAiBz2D,MAAM27D,WAAa,Y,qCAGlCjqB,GACX,IAAMkqB,EAAKt1F,KAAKmwF,iBAChB,GAAImF,GAAMt1F,KAAKowF,wBAAyB,CACpC,IAAM4B,EAAShyF,KAAKkoC,QAAQ+pD,wBAC5BqD,EAAG57D,MAAM7qB,KAAOmjF,EAAOnjF,KAAO,KAC9BymF,EAAG57D,MAAMmxB,IAAOmnC,EAAOnnC,IAAM,GAAM,KACnCyqC,EAAGlX,UAAY,UACV9P,GAAUpjC,UAAUkgC,IAAcA,GACnC,UAAYkqB,EAAGlX,UACnBkX,EAAG57D,MAAM27D,WAAa,UACtB5yE,YAAW,WACH6yE,EAAGC,WAAWzxF,OAAS,GACvBwxF,EAAG9yE,YAAY8yE,EAAGC,WAAWD,EAAGC,WAAWzxF,OAAS,IAE3B,IAAzBwxF,EAAGC,WAAWzxF,SACdwxF,EAAG57D,MAAM27D,WAAa,YAE3B,Q,+BAmJF5yC,GACL,IAAKA,EAAW,OAAO,EACvB,IACI+yC,EADAC,GAAU,EAEV5wF,EAAO,GACPguF,GAAQ,EAUZ,GATI9gF,MAAMmE,QAAQusC,IACd+yC,EAAW/yC,EAAQ,GACnB59C,EAAO49C,EAAQj+C,MAAM,IAErBgxF,EAAW/yC,EAGf+yC,EAAWA,EAASl3E,QAAQ,QAAQ,SAAC9d,GAAD,OAAOA,EAAE,GAAG6iE,iBAChDmyB,GAAY,IAC2B,oBAA5Bx1F,KAAK6oE,SAAS2sB,GAA0B,OAa/C,GAZI,0BAA0BlzF,KAAKkzF,IAC/Bx1F,KAAK2zF,wBAEL,0BAA0BrxF,KAAKkzF,IAA2B,YAAdx1F,KAAKuB,OAEjDvB,KAAKsxF,YAAY/3E,MACjBvZ,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,UAEnC,EAAA7pE,KAAK6oE,UAAS2sB,GAAd,WAA2B3wF,IACvB,0BAA0BvC,KAAKkzF,IAA2B,YAAdx1F,KAAKuB,MACjDvB,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,QAE/B,YAAYvnE,KAAKkzF,IAA2B,YAAdx1F,KAAKuB,KAAoB,CACvD,IAAMkhD,EAAUziD,KAAK6oE,SAAS8I,2CACxB+jB,EAAc9+B,GAAY1E,QAAQzP,GACb,IAAvBizC,EAAY5xF,OACZ8nF,GAAQhO,YAAY59E,MAEpB4rF,GAAQzO,qBAAqBn9E,KAAM01F,EAAY,GAAG/oF,MAAO+oF,EAAY5xF,OAAS,GAGtF+uF,GAAQ,EACR4C,GAAU,MACuB,oBAAnBz1F,KAAKw1F,KACnB3C,EAAQ7yF,KAAKw1F,GAAL,MAAAx1F,KAAA,GAAkB6E,IAC1B4wF,GAAU,GAWd,OANKz1F,KAAK6oE,SAASoI,gBAAiB,+EAA+E3uE,KAAKkzF,KACpHx1F,KAAK2zF,wBACL3zF,KAAK05B,MAAQ,IAGbm5D,GAAS7yF,KAAKi0F,iBACXwB,I,2CAWUhzC,GAsCjB,OArCA78B,QAAQ9S,IAAI2vC,EAAS,WAErBziD,KAAKgvF,SACDhvF,KAAK6pE,OAAO8rB,mBAAqBp/B,UAAUq/B,SAC3Cr/B,UAAUq/B,QAAQnI,IAGtBhrC,EAAUA,EAAQnkC,QAAQ,QAAQ,SAAC9d,GAAD,OAAOA,EAAE,GAAG6iE,iBAC9B,0BAAZ5gB,GACY,8BAAZA,GACY,aAAZA,EACIziD,KAAK61F,qBACL71F,KAAK61F,oBAAoBC,OACzB91F,KAAK61F,oBAAoBE,OAAOC,OAAM,SAAAp2D,GAAG,OAAIha,QAAQwiD,KAAKxoC,OACnD5/B,KAAKi2F,gBACZj2F,KAAKi2F,cAAcH,OACnB91F,KAAKi2F,cAAcF,OAAOC,OAAM,SAAAp2D,GAAG,OAAIha,QAAQwiD,KAAKxoC,QAErC,uBAAZ6iB,GACK,mBAAZA,GACY,uBAAZA,GACY,mBAAZA,GACY,uBAAZA,GACY,qBAAZA,GACY,2BAAZA,GACY,yBAAZA,IACIziD,KAAKk2F,qBACLl2F,KAAKk2F,oBAAoBJ,OACzB91F,KAAKk2F,oBAAoBH,OAAOC,OAAM,SAAAp2D,GAAG,OAAIha,QAAQwiD,KAAKxoC,OAKvD5/B,KAAKi2F,gBACZj2F,KAAKi2F,cAAcH,OACnB91F,KAAKi2F,cAAcF,OAAOC,OAAM,SAAAp2D,GAAG,OAAIha,QAAQwiD,KAAKxoC,OAEjD5/B,KAAKm2F,SAAS1zC,K,8CAQDv3C,EAAOkrF,GACN,oBAAVlrF,IACPkrF,EAAQlrF,EACRA,EAAQE,UAEErH,IAAVmH,IAAuBA,EAAQE,KACnC,IAAIhL,EAAI,EACJuN,GAAO,EACX3N,KAAK6oE,SAAS8G,oBACd,OAAQhiE,EAAM,CACV,IAAMuoD,EAAOl2D,KAAK6oE,SAASkC,QAAQ3qE,GACnCuN,EAAiB,IAAVzC,IAAgBgrD,GAAsB,SAAdA,EAAK30D,QAC9B,sBAAsBe,KAAK4zD,EAAKr3C,OACf,QAAdq3C,EAAKr3C,MAAkB,YAAYvc,KAAK4zD,EAAK1vB,QAClD0vB,EAAK2D,aAAe3D,EAAK4D,WACxBs8B,IAAUA,EAAMlgC,GAChBvoD,IACDuoD,EAAKqD,WAAW,CAAEh4D,KAAM,SACxB20D,EAAK8L,MAAQ9L,EAAK1vB,MAEtBpmC,GAAK,EACL8K,GAAS,EAEblL,KAAK6oE,SAASgH,qB,8CAQM3kE,EAAOkrF,GACN,oBAAVlrF,IACPkrF,EAAQlrF,EACRA,EAAQE,UAEErH,IAAVmH,IAAuBA,EAAQE,KACnCpL,KAAK6oE,SAAS8G,oBACd,IAAIvvE,EAAI,EACJuN,GAAO,EACX,OAAQA,EAAM,CACV,IAAMuoD,EAAOl2D,KAAK6oE,SAASkC,QAAQ3qE,GACnCuN,EAAiB,IAAVzC,IAAgBgrD,GAAsB,SAAdA,EAAK30D,MAClB,MAAd20D,EAAK1vB,MACJ4vD,IAAUA,EAAMlgC,GAChBvoD,GACDuoD,EAAKqD,WAAW,CAAEh4D,KAAM,OAAQsd,KAAM,SAE1Cze,GAAK,EACL8K,GAAS,EAEblL,KAAKq2F,uBACLr2F,KAAK6oE,SAASgH,qB,6CASd,IAAIzvE,EAAI,EACR,MAAOJ,KAAK6oE,SAASkC,QAAQ3qE,IAAwC,SAAlCJ,KAAK6oE,SAASkC,QAAQ3qE,GAAGmB,KACxDnB,GAAK,EAKT,GAAIJ,KAAK6oE,SAASkC,QAAQ3qE,IACY,SAAlCJ,KAAK6oE,SAASkC,QAAQ3qE,GAAGmB,MACS,MAAlCvB,KAAK6oE,SAASkC,QAAQ3qE,GAAGomC,QAAkBxmC,KAAK6oE,SAASkC,QAAQ3qE,EAAI,IAC3B,SAAtCJ,KAAK6oE,SAASkC,QAAQ3qE,EAAI,GAAGmB,MAAkB,CACnDvB,KAAK6oE,SAAS8G,oBACd3vE,KAAK6oE,SAASwB,WAAWrkC,OAAO5lC,EAAI,EAAG,GACvCJ,KAAK6oE,SAASgH,mBAId,IAAMymB,EAAOt2F,KAAK6oE,SAASsD,4BAC3BnsE,KAAK6oE,SAASsD,6BAA8B,EAC5CnsE,KAAK6oE,SAASqI,aAAalxE,KAAK6oE,SAASuH,eAAiB,GAC1DpwE,KAAK6oE,SAASsD,4BAA8BmqB,K,6CAahD,IAAIttF,EAAS,GACT5I,EAAI,EACJuN,GAAO,EACX,OAAQA,EAAM,CACV,IAAMuoD,EAAOl2D,KAAK6oE,SAASkC,QAAQ3qE,GACnCuN,IAASuoD,IACW,SAAdA,EAAK30D,OAAoB20D,EAAKr3C,MACb,SAAdq3C,EAAK30D,MAAmB,sBAAsBe,KAAK4zD,EAAKr3C,QAC5DlR,IACD3E,EAASktD,EAAK1vB,KAAOx9B,GAEzB5I,GAAK,EAET,OAAO4I,I,iCAYAoiE,EAAWqO,GAClB,GAAIz5E,KAAK0wF,oBAAuB,OAAO,EACvC,GAAI1wF,KAAK6oE,SAASsG,YAAcnvE,KAAK6oE,SAASwB,WAAWvmE,OAAS,EAAK,OAAO,EAC9E,IAAK21E,GAAOA,EAAIG,SAAWH,EAAII,QAAW,OAAO,EACjD,IAAMp5E,EAAImwF,GAAS7U,YAAYtC,GAC/B,GAAIh5E,EAAEqD,OAAS,EAAK,OAAO,EAC3B,IAAK9D,KAAK6oE,SAASoI,cAEf,QAAkB,SAAdjxE,KAAKuB,OACD,QAAQe,KAAK7B,IAIzB,IAAM6+B,EAAUt/B,KAAKu2F,uBAAyB91F,EAC9C,GAAkB,SAAdT,KAAKuB,KAAiB,CAEtB,GAAkB,QAAd6pE,GAAuB,QAAQ9oE,KAAK7B,GAIpC,OAAO,EAEX,GAAI,QAAQ6B,KAAK7B,GAQb,MALI,sBAAsB6B,KAAKg9B,IAG3Bt/B,KAAKw2F,wBAAwB,IAE1B,EAIX,IAAM/kC,EAAS,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,KAAMhxD,GAChD,GAAIgxD,GAAUzxD,KAAK6oE,SAAS15B,UACQ,cAAhCnvC,KAAK6oE,SAAS15B,SAAStwB,MACvB7e,KAAK6oE,SAAS15B,SAASmmB,YAAc7D,EACrC,OAAO,EAEX,GAAI,yBAAyBnvD,KAAKg9B,GAG9B,OAAO,EAEX,GAAI,uEAAqBh9B,KAAK7B,GAG1B,OAAO,EAEX,GAAI,8BAA8B6B,KAAKg9B,GAInC,OADAt/B,KAAKw2F,wBAAwB,IACtB,EAEX,GAAI,oBAAoBl0F,KAAKg9B,GAAU,CAKnCt/B,KAAKw2F,wBAAwB,GAC7B,IAAMtgC,EAAOl2D,KAAK6oE,SAASkC,QAAQ,GAInC,OAHA7U,EAAK1vB,KAAO,IACZ0vB,EAAKuD,eAAiB,MACtBvD,EAAK8L,MAAQ,UACN,EAEX,GAAI,2BAA2B1/D,KAAKg9B,GAGhC,OADAt/B,KAAKw2F,wBAAwB,IACtB,EAEX,GAAI,WAAWl0F,KAAKg9B,GAMhB,OADAt/B,KAAKw2F,wBAAwB,IACtB,EAEX,GAAI,gBAAgBl0F,KAAKg9B,GAIrB,OADAt/B,KAAKw2F,wBAAwB,IACtB,EAEX,GAAI,gBAAgBl0F,KAAKg9B,GAIrB,OADAt/B,KAAKw2F,wBAAwB,IACtB,EAIX,GAAI,iBAAiBl0F,KAAK7B,GAOtB,OADAT,KAAKq2F,wBACE,MAER,CAEH,GAAkB,aAAdjrB,EAEA,OADAprE,KAAKy2F,yBAAwB,SAAAvuF,GAAC,MAAI,eAAe5F,KAAK4F,EAAEs+B,UACjD,EAEX,GAAI,gBAAgBlkC,KAAKg9B,KAAa,qBAAqBh9B,KAAKg9B,GAK5D,OADAt/B,KAAKy2F,yBAAwB,SAAAvuF,GAAC,MAAI,eAAe5F,KAAK4F,EAAEs+B,UACjD,EAEX,GAAI,kBAAkBlkC,KAAKg9B,GAGvB,OADAt/B,KAAKy2F,wBAAwB,IACtB,EAEX,GAAI,yIAA0In0F,KAAKg9B,KAC9I,SAASh9B,KAAKg9B,GAKf,OADAt/B,KAAKy2F,yBAAwB,SAAAvuF,GAAC,MAAI,ySAA6I5F,KAAK4F,EAAEs+B,UAC/K,EAEX,GAAI,QAAQlkC,KAAK7B,GAGb,OAAO,EAGf,OAAO,I,mCAQE2qE,EAAWqO,GAAK,IAcrBnP,EACAosB,EACAlB,EAhBqB,OAMzB,GAJAx1F,KAAK22F,eAAevrB,GAEpBoP,aAAax6E,KAAKuwF,2BAEdvwF,KAAK6pE,OAAO+sB,cAAgB52F,KAAK6pE,OAAO+sB,YAAY52F,KAAMorE,EAAWqO,GAKrE,OAJIA,GAAOA,EAAI6K,iBACX7K,EAAI6K,iBACJ7K,EAAI8K,oBAED,EAMX,IAAIsS,GAAuB,EAK3B,GAAkB,YAAd72F,KAAKuB,QAAwBk4E,IAASA,EAAIG,UAAYH,EAAII,SAAW,CACrE,IAAMp5E,EAAImwF,GAAS7U,YAAYtC,GAG/B,GAAU,cAANh5E,EACA,IAAKA,GAAKA,EAAEqD,OAAS,EAEjB9D,KAAK2zF,4BACF,CAEH,IAAMpoB,EAAYvrE,KAAKqwF,gBAAkB5vF,EACrCL,EAAI,EACR,OAAQkqE,GAAYlqE,EAAImrE,EAAUznE,OAAQ,CACtC,IAAIumE,OAAQ,EACZ,GAAIrqE,KAAKswF,sBAAsBlwF,GAAI,CAC/B,IAAMyoE,EAAW,IAAIqD,GAAiBA,iBACtCrD,EAASppE,KAAO65D,GAAS2I,SAAS,OAAQ8S,GAAa9Q,YAAY7hB,EAAMS,SAAS7iD,KAAKswF,sBAAsBlwF,GAAG4hE,OAAQhiE,KAAK6pE,OAAO6Y,QAAS,KAAM1iF,KAAK6pE,OAAOrhB,SAC/JqgB,EAASkH,QAAQ/vE,KAAKswF,sBAAsBlwF,GAAG0hE,WAC/CuI,EAAWxB,EAASwB,gBAEpBA,EAAWrqE,KAAK6oE,SAASwB,WAE7BC,EAAWgE,GAAUtD,UAAUhrE,KAAKuB,KAAM8oE,EAAUkB,EAAU/mE,MAAMpE,GAAIJ,KAAK6pE,QAC7EzpE,GAAK,EAETs2F,EAAat2F,EAAI,EACjBJ,KAAKqwF,iBAAmB5vF,EACxBT,KAAKswF,sBAAsBzkF,KAAK7L,KAAKsxF,YAAYgF,QAC7ChoB,GAAU1E,iBAAiB2B,EAAWvrE,KAAK6pE,QAAQ/lE,QAAU,EAC7D+yF,GAAuB,EAEnB72F,KAAK6pE,OAAOitB,wBAEZ92F,KAAKuwF,0BAA4B9tE,YAAW,WACxC,EAAKkxE,0BACN3zF,KAAK6pE,OAAOitB,yBAUnC,GAAI92F,KAAK6pE,OAAOktB,UAAW,CACvB,IAAMrC,EAAe10F,KAAKuB,KACtB+oE,EAGAtqE,KAAKuB,KAAO,OACLvB,KAAKg3F,WAAW5rB,EAAWqO,KAClCz5E,KAAKuB,KAAO,CAAE,KAAQ,OAAQ,KAAQ,QAASvB,KAAKuB,MACpDi0F,EAAW,IAIXx1F,KAAKuB,OAASmzF,GAAoD,oBAA7B10F,KAAK6pE,OAAO8qB,cACjD30F,KAAK6pE,OAAO8qB,aAAa30F,KAAMA,KAAKuB,MAW5C,GAJK+oE,GAAakrB,IACdA,EAAWlnB,GAAUnD,qBAAqBnrE,KAAKuB,KAAM6pE,KAGpDd,IAAakrB,EAAY,OAAO,EAIrCx1F,KAAK6oE,SAASgJ,2CAA0C,GAIxD,IAAM1iC,EAASnvC,KAAK6oE,SAAS15B,SAa7B,GAZiB,oBAAbqmD,GAAkCrmD,GAClB,cAAhBA,EAAOtwB,MACP7e,KAAK6oE,SAASsG,cAAgBnvE,KAAK6oE,SAASwB,WAAWvmE,OAAS,GAChE9D,KAAK6pE,OAAO5B,YACZjoE,KAAK6oE,SAAS+L,kBAAkB,OAGhC4gB,EAAW,GACXx1F,KAAKi0F,kBAIS,SAAdj0F,KAAKuB,MAAiC,aAAd6pE,IAA6Bd,EAAU,CAC/D,IAAM2sB,EAAcj3F,KAAK6oE,SAASkC,QAAQ,GACpCmsB,EAAkBl3F,KAAK6oE,SAASkC,SAAS,IAC1CksB,GAAoC,SAArBA,EAAY11F,MAC3B21F,GAA4C,SAAzBA,EAAgB31F,OACpCvB,KAAK6oE,SAAS8L,OAAO,IAAK,CAAEpzE,KAAM,SAI1C,IAAKi0F,IAAax1F,KAAKm2F,SAASX,IAAclrB,IAEtCA,EAAU,CAIV,IAAK,0DAA0DhoE,KAAKgoE,GAAW,CAG3E,IAAM5wC,EAAQ,MAAK15B,KAAK6oE,SAASyG,cAAtB,GAAwCtvE,KAAK05B,OACxD15B,KAAK6oE,SAAS8L,OAAOic,GAAS7U,YAAYtC,GAAM,CAC5CtN,6BAA6B,EAC7B5qE,KAAMvB,KAAKuB,KACXm4B,MAAOA,IAEX,IAAMy9D,EAAWn3F,KAAKuB,KAEtBvB,KAAKsxF,YAAY8F,oBAAoBp3F,KAAK6pE,QAG1C7pE,KAAKsxF,YAAY/U,QAAQv8E,KAAKswF,sBAAsBoG,GAApD,MAAsE12F,KAAK6pE,OAA3E,CAAmFsC,6BAA6B,KAChHnsE,KAAKuB,KAAO41F,EAEhBn3F,KAAK6oE,SAAS8G,oBACd,IAAM2mB,EAAOt2F,KAAK6oE,SAASsD,4BAC3BnsE,KAAK6oE,SAASsD,6BAA8B,EAE5C,IAAMzyC,EAAQ,MAAK15B,KAAK6oE,SAASyG,cAAtB,GAAwCtvE,KAAK05B,OACxD15B,KAAK6oE,SAAS8L,OAAOrK,EAAU,CAC3ByD,OAAQ,QACRxsE,KAAMvB,KAAKuB,KACXm4B,MAAOA,EACPuuC,YAAY,IAIhBjoE,KAAKq2F,uBAED/rB,EAASvtC,SAAS,OAClB/8B,KAAKuB,KAAO,OACZvB,KAAK6oE,SAAS8L,OAAO,IAAK,CAAEpzE,KAAM,OAAQm4B,MAAOA,KAErD15B,KAAK6oE,SAASsD,4BAA8BmqB,EAC5Ct2F,KAAK6oE,SAASgH,mBACd7vE,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,QAC/B7pE,KAAKi0F,iBACLj0F,KAAKuuE,UAAU,eAEXsoB,GACA72F,KAAK2zF,wBAYjB,OAPA3zF,KAAKq3F,iBAGD5d,GAAOA,EAAI6K,iBACX7K,EAAI6K,iBACJ7K,EAAI8K,oBAED,I,mCAgBE5tB,EAAMpiD,GAmBf,GAlBAA,EAAUA,GAAW,GAEjBA,EAAQk/D,OAASzzE,KAAKgvF,SACtBz6E,EAAQ8tE,WACJriF,KAAK6pE,OAAO8rB,mBAAqBp/B,UAAUq/B,SAC3Cr/B,UAAUq/B,QAAQnI,IAElBztF,KAAKi2F,gBACLj2F,KAAKi2F,cAAcH,OACnB91F,KAAKi2F,cAAcF,OAAOC,OAAM,SAAAp2D,GAAG,OAAIha,QAAQwiD,KAAKxoC,QAGxDrrB,EAAQ+iF,aAA6B,YAAdt3F,KAAKuB,MAC5BvB,KAAKu3F,YAAY,WAIrBv3F,KAAK6oE,SAASgJ,2CAA0C,GACpDt9D,EAAQiuE,kBAAmB,CAE3B,IAAM/hF,EAAIk2D,EAAKh+C,OAAO,GAChB82E,EAAKmB,GAAS5U,YAAYv7E,GAChC,IAAKT,KAAKw3F,WAAW5G,GAASpX,sBAAsBiW,GAAKA,GAAO,OAKpE,IAAIgI,EAAc,GACdra,GAAgB,EACpB,GAAIp9E,KAAK03F,gBACL13F,KAAK03F,iBAAkB,EAIvB13F,KAAK6oE,SAAS8L,OAAOhe,EAAM,CACvBsR,WAAYjoE,KAAK6pE,OAAO5B,WACxB1mE,KAAM,aAEP,CACH,IAAMm4B,EAAQ,MAAK15B,KAAK6oE,SAASyG,cAAtB,GAAwCtvE,KAAK05B,OAQlDi+D,EAAYt1C,EAAiBN,eAAe4U,GAT/C,uBAUH,YAAgBghC,EAAhB,+CAA2B,KAAhBl3F,EAAgB,QACvB,GAAkB,YAAdT,KAAKuB,KAAoB,CACzBvB,KAAK6oE,SAASwK,mBACdrzE,KAAKwwF,gBAAkB,EACvB,IAAM/tC,EAAUziD,KAAK6oE,SAAS8I,2CACxB+jB,EAAc9+B,GAAY1E,QAAQzP,EAAUhiD,GAClD28E,EAAgBsY,EAAY5xF,OAAS,EACV,IAAvB4xF,EAAY5xF,QACZ9D,KAAK6oE,SAAS8L,OAAOl0E,EAAG,CAAEc,KAAM,YAC5B,mBAAmBe,KAAKmgD,EAAUhiD,IAElCT,KAAK6oE,SAASgJ,2CAA0C,GAE5D+Z,GAAQhO,YAAY59E,QAEpBA,KAAK6oE,SAAS8L,OAAOl0E,EAAG,CAAEc,KAAM,YAC5Bm0F,EAAY,GAAG/oF,QAAU81C,EAAUhiD,GACnCT,KAAK6oE,SAAS2M,iBAAiBkgB,EAAY,GAAG/oF,OAAQ+oF,EAAY,GAAG/oF,MAAM7I,OAAS2+C,EAAQ3+C,OAAS,GAEzG2zF,EAAc/B,EAAY,GAAG/oF,YAE9B,GAAkB,SAAd3M,KAAKuB,KAAiB,CAK7B,IAAMi0F,EAAW,CACb,IAAK,oBACL,EAAK,kBACL,IAAK,mBACP/0F,GACF,GAAI+0F,EAAU,CACV,GAAiB,sBAAbA,GACA,GAAIx1F,KAAK43F,qBAAuB53F,KAAK6pE,OAAOguB,YAAY,GAEpD,YADA73F,KAAKuuE,UAAU,cAGhB,GAAiB,oBAAbinB,GACHx1F,KAAK83F,mBAAqB93F,KAAK6pE,OAAOguB,YAAY,GAElD,YADA73F,KAAKuuE,UAAU,SAIvBvuE,KAAKm2F,SAASX,QAEVx1F,KAAK6pE,OAAOkuB,kBACiB,gBAA7B/3F,KAAK6oE,SAAS7O,YACd,QAAQ13D,KAAK7B,IACuD,IAApET,KAAK6oE,SAASwB,WAAW7hD,QAAO,SAAAplB,GAAC,MAAe,UAAXA,EAAEyb,QAAkB/a,QAIzD9D,KAAK6oE,SAAS8L,OAAOl0E,EAAG,CAAEc,KAAM,OAAQm4B,MAAOA,IAC/C15B,KAAK6oE,SAAS4P,oBAEdz4E,KAAK6oE,SAAS8L,OAAOl0E,EAAG,CACpBc,KAAM,OACNm4B,MAAOA,EACPuuC,WAAYjoE,KAAK6pE,OAAO5B,iBAIf,SAAdjoE,KAAKuB,MACZvB,KAAK6oE,SAAS8L,OAAOl0E,EAAG,CAAEc,KAAM,OAAQm4B,MAAOA,KAzEpD,mFA6EW,YAAd15B,KAAKuB,MACLvB,KAAKsxF,YAAY8F,oBAAoBp3F,KAAK6pE,QAG9C7pE,KAAKi0F,iBAELj0F,KAAKq3F,iBAILzL,GAAQzO,qBAAqBn9E,KAAMy3F,EAAara,K,8BAShD,IAFA,IAAIp0E,EAAS,EACPmC,EAAMnL,KAAK6oE,SAASppE,KAAK4wE,SAAQ,GAC9BjwE,EAAI,EAAGA,EAAI+K,EAAIrH,OAAQ1D,IAC5B4I,EAAkB,GAATA,EAAcmC,EAAIqnB,WAAWpyB,GACtC4I,GAAkB,EAEtB,OAAOpG,KAAKD,IAAIqG,K,uCAEH,WACRhJ,KAAK6yF,QACN7yF,KAAK6yF,OAAQ,EACb7U,uBAAsB,SAAAga,GAAC,OAAI1J,GAAiB,IAAS,EAAK2J,gB,8BAa1DC,GACJA,EAAgBA,GAAiB,GACjCl4F,KAAK6yF,OAAQ,EAIRjtF,OAAOuyF,WAAYvyF,OAAOuyF,SAAW,IAIrCn4F,KAAK6oE,SAASz3D,WACfwU,QAAQwiD,KAAK,oCAAsCgE,GAAStD,aAAa9oE,KAAK6oE,SAAS7sD,OACvFhc,KAAK6oE,SAAS7sD,KAAO,CAAC,CAAEg+C,SAAU,OAAQ7oD,OAAQ,KAKtDnR,KAAK6oE,SAAS3/D,SAAQ,SAAAhB,GAClBA,EAAE4jD,MAAQ,GACV5jD,EAAEohD,YAAa,KAEnB,IAAM8uC,EAAWp4F,KAAK0zF,YAClB1zF,KAAK6oE,SAASoI,cACdjxE,KAAK6oE,SAASz3D,SAAS06C,MAAQssC,EAAWp4F,KAAKuB,KAAO,GAEtDvB,KAAK6oE,SAASiG,iBAAgB,SAAA5mE,GAAOA,EAAEohD,YAAa,KAKxD,IAAMsD,EAAQ0M,GAASY,UAAU,CAC7BxR,UAAW,eACXD,WAAY,CAGR+Y,KAAMxhE,KAAKq4F,QAIXz2B,aAAcs2B,EAAcI,iBAEhC9vC,OAAQxoD,KAAK6pE,OAAOrhB,QACrBxoD,KAAK6oE,SAASppE,MAIXoe,EAAOorC,GAAK6D,SAASF,EAAO,YAClC/uC,EAAKyG,WAAa,CAGd,UAAa,KAGb,cAAe,QAEnB,IAAM24D,EAAWh0B,GAAK6D,SAAS,GAAI,aACnCmwB,EAASzzB,SAAS,SAAU3rC,EAAK2oC,OAAQ,MACzC,IAAM+xC,EAAS,CAACtb,GAChB,GAAmB,IAAfp/D,EAAKkqB,MAAa,CAClB,IAAMm1C,EAAcj0B,GAAK6D,SAAS,GAAI,qBACtCowB,EAAY1zB,SAAS,SAAU3rC,EAAK2oC,OAAS3oC,EAAKkqB,MAAO,MACzDm1C,EAAY1zB,SAAS,kBAAmB3rC,EAAKkqB,MAAO,MACpDwwD,EAAO1sF,KAAKqxE,GAEhBqb,EAAO1sF,KAAKgS,GACZ,IAAMxT,EAAU4+C,GAAK6D,SAASyrC,EAAQ,gBAItCv4F,KAAKwvF,MAAMpR,UAAY/zE,EAAQqhD,SAAS,EAAG1rD,KAAK6pE,OAAO2uB,wBACvDx4F,KAAKwvF,MAAMzjC,UAAUpd,OAAO,cAAeypD,GAE3Cp4F,KAAKkwF,eAAe9R,UAChB,oDACA9kB,GAAS0rB,SAAShlF,KAAK6oE,SAASppE,KAAMO,KAAK6pE,QAC3C,UAKJ,IAAMsoB,EAAgBnyF,KAAKy4F,sBAC3B,GAAItG,EAAe,CACf,IAAMuG,EAAmB7+D,SAAS5xB,cAAc,OAChDywF,EAAiB3sC,UAAU54B,IAAI,iBAC/BulE,EAAiBh/D,MAAMjP,SAAW,WAClCiuE,EAAiBh/D,MAAM7qB,KAAOsjF,EAActjF,KAAO,KACnD6pF,EAAiBh/D,MAAMmxB,IAAMsnC,EAActnC,IAAM,KACjD6tC,EAAiBh/D,MAAMoxB,MAAQloD,KAAKuE,KAAKgrF,EAAc38E,MAAQ28E,EAActjF,MAAQ,KACrF6pF,EAAiBh/D,MAAM8sB,OAAS5jD,KAAKuE,KAAKgrF,EAAc5jC,OAAS4jC,EAActnC,IAAM,GAAK,KAC1F7qD,KAAKwvF,MAAMmJ,aAAaD,EAAkB14F,KAAKwvF,MAAM+F,WAAW,O,iCAOpE,OADAv1F,KAAK03F,iBAAkB,GAChB,I,+BAWP,OAJAj1E,WAAW,WACPziB,KAAK44F,kBACL54F,KAAKi0F,kBACPryF,KAAK5B,MAAO,IACP,I,8BAEH+N,GACA/N,KAAK6oE,SAASoI,eACdljE,EAAE8qF,cAAcC,QAAQ,aAAc94F,KAAK+4F,MAAM,mBACjDhrF,EAAE8qF,cAAcC,QAAQ,mBAAoB94F,KAAK+4F,MAAM,SACvDhrF,EAAE8qF,cAAcC,QAAQ,kBAAmB94F,KAAK+4F,MAAM,aAEtDhrF,EAAE8qF,cAAcC,QAAQ,aAAc94F,KAAKg5F,cAAc,mBACzDjrF,EAAE8qF,cAAcC,QAAQ,mBAAoB94F,KAAKg5F,cAAc,SAC/DjrF,EAAE8qF,cAAcC,QAAQ,kBAAmB94F,KAAKg5F,cAAc,YAGlEjrF,EAAEu2E,mB,qCAES7kF,EAAMsuE,GAKjBA,EAASA,GAAU,QACnB,IAAI/kE,EAAS,GACb,GAAe,UAAX+kE,GAAiC,mBAAXA,EACtB/kE,EAASvJ,EAAK4wE,QAAmB,mBAAXtC,QACnB,GAAe,WAAXA,EACP/kE,EAASvJ,EAAKulF,SAAShlF,KAAK6pE,aACzB,GAAe,WAAXkE,EACP/kE,EAASswD,GAASuzB,gBAAgBptF,EAAMO,KAAK6pE,aAC1C,GAAe,gBAAXkE,EAA0B,CACjC,IAAMkrB,EAAyBj5F,KAAK6pE,OAAOoiB,mBAC3CjsF,KAAK6pE,OAAOoiB,mBAAqB,GACjCjjF,EAASswD,GAASuzB,gBAAgBptF,EAAMO,KAAK6pE,QAC7C7pE,KAAK6pE,OAAOoiB,mBAAqBgN,OAC9B,GAAe,gBAAXlrB,GAAuC,iCAAXA,EAA2C,CAC9E,IAAMkrB,EAAyBj5F,KAAK6pE,OAAOoiB,mBACrCiN,EAAiBl5F,KAAK6pE,OAAOphB,WACnCzoD,KAAK6pE,OAAOoiB,mBAAqB,OAClB,iCAAXle,IACA/tE,KAAK6pE,OAAOphB,YAAa,GAE7Bz/C,EAASswD,GAASuzB,gBAAgBptF,EAAMO,KAAK6pE,QAC7C7pE,KAAK6pE,OAAOoiB,mBAAqBgN,EACjCj5F,KAAK6pE,OAAOphB,WAAaywC,OACtB,GAAe,SAAXnrB,EAAmB,CAC1B,IAAMorB,EAAO7/B,GAAS8vB,MAAM3pF,EAAMO,KAAK6pE,QACvC7gE,EAAShC,KAAKkkC,UAAUiuD,OACN,cAAXprB,EACP/kE,EAAS47E,GAAYnlF,EAAMO,KAAK6pE,QAEhCjkD,QAAQwiD,KAAK,mBAAoB2F,GAErC,OAAO/kE,I,4BA2BL+kE,GACF,OAAO/tE,KAAKo5F,eAAep5F,KAAK6oE,SAASppE,KAAMsuE,K,oCAuBrCA,GACV,IAAM/X,EAAQh2D,KAAK6oE,SAAS4I,mBAC5B,IAAKzb,EAAS,MAAO,GACrB,IAAMv2D,EAAO65D,GAAS2I,SAAS,OAAQjM,GACvC,OAAOh2D,KAAKo5F,eAAe35F,EAAMsuE,K,8CAWjC,OAAO/tE,KAAK6oE,SAASoI,gB,wCAgBrB,OAAOjxE,KAAK6oE,SAAS7sD,KAAKlY,S,0CAG1B,IAAIkF,EAAS,EACT5I,EAAI,EACJ81D,EAAOl2D,KAAK6oE,SAASiI,SAAS1wE,GAC9Bi5F,GAAiB,EACrB,MAAOnjC,GACCA,EAAK2D,aAAe3D,EAAK4D,aACzB9wD,GAAU,GAEVktD,EAAK2D,YACLw/B,GAAiB,EACVnjC,EAAK4D,YACZu/B,GAAiB,GAErBj5F,GAAK,EACL81D,EAAOl2D,KAAK6oE,SAASiI,SAAS1wE,GAElC,OAAOi5F,EAAiBrwF,EAAS,I,wCAGjC,IAAIA,EAAS,EACT5I,EAAI,EACJ81D,EAAOl2D,KAAK6oE,SAASiI,SAAS1wE,GAC9Bk5F,GAAe,EACnB,MAAOpjC,GACCA,EAAK2D,aAAe3D,EAAK4D,aACzB9wD,GAAU,GAEVktD,EAAK2D,YACLy/B,GAAe,EACRpjC,EAAK4D,YACZw/B,GAAe,GAEnBl5F,GAAK,EACL81D,EAAOl2D,KAAK6oE,SAASiI,SAAS1wE,GAElC,OAAOk5F,EAAetwF,EAAS,I,0CAU/B,OAAuC,IAAhChJ,KAAK6oE,SAASoG,gB,wCAUrB,OAAOjvE,KAAK6oE,SAASsG,aAAenvE,KAAK6oE,SAASwB,WAAWvmE,OAAS,I,wCAMtE,OAAuC,IAAhC9D,KAAK6oE,SAASoG,eACjBjvE,KAAK6oE,SAASsG,aAAenvE,KAAK6oE,SAASwB,WAAWvmE,OAAS,I,6BAqBhE6yD,EAAMpiD,GACT,GAAIoiD,EAAM,CACN,IAAM4iC,EAAWv5F,KAAK6oE,SAASppE,KAAK4wE,UAapC,OAZI1Z,IAAS4iC,IACThlF,EAAUA,GAAW,GACrBvU,KAAK6oE,SAAS8L,OAAOhe,EAAM71D,OAAO6V,OAAO,GAAI3W,KAAK6pE,OAAQ,CACtDgL,cAAe,aACfC,cAAe,QACf/G,OAAQ,QACRxsE,KAAM,OACN4qE,4BAA6B53D,EAAQ43D,+BAEzCnsE,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,QAC/B7pE,KAAKi0F,kBAEFt9B,EAGX,OAAO32D,KAAK6oE,SAASppE,KAAK4wE,Y,4BAW1B,OAAOrwE,KAAKkoC,U,6BAMZ,OAHAloC,KAAKo1F,YAELp1F,KAAKsxF,YAAYkI,KAAKx5F,KAAK6pE,SACpB,I,6BAKP,OAFA7pE,KAAKo1F,YACLp1F,KAAKsxF,YAAYmI,KAAKz5F,KAAK6pE,SACpB,I,uCAKH7pE,KAAK6yF,OACL7yF,KAAKi4F,UAET,IAAI3lE,EAAMtyB,KAAKi+E,oBACTsW,EAAcv0F,KAAKwvF,MAAMyC,wBAC/B,IAAK3/D,EAAK,CACN,IAAMonE,EAAkB15F,KAAKy4F,sBACzBiB,IACApnE,EAAM,CACFlvB,EAAGs2F,EAAgBlkF,MAAQ++E,EAAY1lF,KAAO7O,KAAKwvF,MAAMM,WACzD5hF,EAAGwrF,EAAgB7uC,IAAM0pC,EAAY1pC,IAAM7qD,KAAKwvF,MAAMmK,YAIlE,GAAIrnE,EAAK,CACL,IAAMlvB,EAAIkvB,EAAIlvB,EAAIwC,OAAOg0F,QACrBx2F,EAAImxF,EAAY1lF,KAChB7O,KAAKwvF,MAAMK,OAAO,CACdhlC,IAAK,EACLh8C,KAAMzL,EAAImxF,EAAY1lF,KAAO7O,KAAKwvF,MAAMM,WAAa,GACrD+J,SAAU,WAEPz2F,EAAImxF,EAAY/+E,OACvBxV,KAAKwvF,MAAMK,OAAO,CACdhlC,IAAK,EACLh8C,KAAMzL,EAAImxF,EAAY/+E,MAAQxV,KAAKwvF,MAAMM,WAAa,GACtD+J,SAAU,c,sCAMtB75F,KAAKwvF,MAAMK,OAAO,EAAG,K,oCAGrB,IAAM0E,EAAcv0F,KAAKwvF,MAAMyC,wBAC/BjyF,KAAKwvF,MAAMK,OAAO0E,EAAY1lF,KAAOjJ,OAAOg0F,QAAS,K,0CAQrD55F,KAAKu3F,YAAY,a,yCAUjB,OAPAv3F,KAAKgvF,SAGDhvF,KAAK6oE,SAASoI,eACdjxE,KAAK85F,UAETjgE,SAASkgE,YAAY,SACd,I,oCAGP/5F,KAAKgvF,SAELhvF,KAAKm1F,uBAEL,IADA,IAAI/xF,EAAIy2B,SAAS2M,KAAKk3C,uBAAuB,gBACpCt9E,EAAE,EAAGA,EAAEgD,EAAEU,OAAQ1D,IACtBgD,EAAEhD,GAAG2rD,UAAUizB,OAAO,cAE1B,OAAO,I,oCAaP,OAVAh/E,KAAKgvF,SACkB,QAAnBhvF,KAAK0uF,YACL1uF,KAAK0uF,WAAa,OAClB1uF,KAAKg6F,2BAELh6F,KAAK0uF,WAAa,OAClB1uF,KAAKm1F,wBAGTn1F,KAAK6Q,YAAY7Q,KAAKkoC,QAASloC,KAAK6pE,OAAQ7pE,KAAK0uF,aAC1C,I,wCAKP,OAFA1uF,KAAKgvF,SACLn1D,SAASkgE,YAAY,QACd,I,4CAKP,OAFA/5F,KAAKgvF,SACLn1D,SAASkgE,YAAY,UACd,I,8BAuDH53F,EAAGoS,GACP,GAAiB,kBAANpS,GAAkBA,EAAE2B,OAAS,EAAG,CAYvC,GAXAyQ,EAAUA,GAAW,GACjBA,EAAQk/D,OAASzzE,KAAKgvF,SACtBz6E,EAAQ8tE,WACJriF,KAAK6pE,OAAO8rB,mBAAqBp/B,UAAUq/B,SAC3Cr/B,UAAUq/B,QAAQnI,IAElBztF,KAAKi2F,gBACLj2F,KAAKi2F,cAAcH,OACnB91F,KAAKi2F,cAAcF,SAGjB,SAAN5zF,EAEAnC,KAAK6oE,SAASgQ,oBACX,GAAU,MAAN12E,EACPnC,KAAK6oE,SAASkQ,sBACX,CACH,IAAMtS,EAAazmE,KAAK05B,MACxB15B,KAAK6oE,SAAS8L,OAAOxyE,EAArB,IACIZ,KAAMvB,KAAKuB,KACXm4B,MAAO15B,KAAK6oE,SAASyG,eAClB/6D,IAEHA,EAAQ+tE,aACRtiF,KAAK05B,MAAQ+sC,GAKrB,OAFAzmE,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,QAC/B7pE,KAAKi0F,kBACE,EAEX,OAAO,I,kCAEC1yF,EAAMmlE,EAAQK,GACtB/mE,KAAK2zF,wBAGL3zF,KAAK0wF,oBAAsB,YAAYpuF,KAAKtC,KAAKuB,OAAS,YAAYe,KAAKf,GACvEmlE,GACA1mE,KAAKi6F,QAAQvzB,EAAQ,CACjBqH,OAAQ,QACRxsE,KAAM,CAAE,KAAQ,OAAQ,KAAQ,QAASA,KAIjDvB,KAAK6oE,SAASgJ,2CAA0C,GAC3C,YAATtwE,GACAvB,KAAK6oE,SAASwK,mBACduY,GAAQhO,YAAY59E,MACpBA,KAAKwwF,gBAAkB,EAEnBxwF,KAAK8+E,wBACL9+E,KAAKk6F,qBAAqB,iBAE9Bl6F,KAAK6oE,SAAS8L,OAAO,IAAU,CAAEpzE,KAAM,UAEvCvB,KAAKuB,KAAOA,EAEZwlE,GACA/mE,KAAKi6F,QAAQlzB,EAAQ,CACjBgH,OAAQ,QACRxsE,KAAMA,IAI0B,oBAA7BvB,KAAK6pE,OAAO8qB,cACnB30F,KAAK6pE,OAAO8qB,aAAa30F,KAAMA,KAAKuB,MAExCvB,KAAKi0F,mB,gCAaC1/E,GAGN,GAFAA,EAAUA,GAAW,GACrBq3E,GAAQhO,YAAY59E,MAChBuU,EAAQg1D,QAGR,OAFAvpE,KAAK6oE,SAASkJ,wCAAwC,MACtD/xE,KAAKu3F,YAAY,SACV,EAEX,IAAM90C,EAAUziD,KAAK6oE,SAAS8I,0CAA0Cp9D,EAAQi1D,kBAChF,GAAI/mB,EAAS,CACT,GAAgB,QAAZA,GAAiC,QAAZA,EACrBziD,KAAK6oE,SAASkJ,wCAAwC,IACtD/xE,KAAK6oE,SAAS8L,OAAOlyB,EAAQj+C,MAAM,GAAI,CAAEjD,KAAMvB,KAAKuB,WACjD,CAGH,IAAMA,EAAO,OACb,GAAIq1D,GAAY1F,eAAe3vD,EAAMkhD,GAAU,CAC3C,IAAMomB,EAAWkM,GAAa9Q,YAAY7hB,EAAMS,SAASJ,GAAUlhD,EAAM,KAAMvB,KAAK6pE,OAAOrhB,QAC3FxoD,KAAK6oE,SAASkJ,wCAAwClJ,OACnD,CAGH,IAAMA,EAAWkM,GAAa9Q,YAAY7hB,EAAMS,SAASJ,GAAUlhD,EAAM,KAAMvB,KAAK6pE,OAAOrhB,QACvFqgB,EACA7oE,KAAK6oE,SAASkJ,wCAAwClJ,GAEtD7oE,KAAK6oE,SAASgJ,2CAA0C,IAMpE,OAFA7xE,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,QAC/B7pE,KAAKuuE,UAAU,gBACR,EAEX,OAAO,I,0CAGPvuE,KAAK6oE,SAAS0M,6CACdv1E,KAAK6oE,SAASwK,mBACd,IAAM5wB,EAAUziD,KAAK6oE,SAAS8I,2CACxB+jB,EAAc9+B,GAAY1E,QAAQzP,GACxC,GAA2B,IAAvBizC,EAAY5xF,OACZ8nF,GAAQhO,YAAY59E,MACpBA,KAAK6oE,SAASgJ,2CAA0C,OACrD,CACH,IAAMtkE,EAAQvN,KAAKwwF,gBAAkBkF,EAAY5xF,OAC3CzD,EAAIoiD,EAAQ3+C,OAAS4xF,EAAYnoF,GAAOZ,MAAM7I,OAC1C,IAANzD,GACAL,KAAK6oE,SAAS2M,iBAAiBkgB,EAAYnoF,GAAOZ,MAAOtM,GAE7DurF,GAAQzO,qBAAqBn9E,KAAM01F,EAAYnoF,GAAOZ,MAAO+oF,EAAY5xF,OAAS,GAEtF9D,KAAKi0F,mB,wCAOL,OAJAj0F,KAAKwwF,iBAAmB,EAGxBxwF,KAAKm6F,qBACE,I,4CAIP,GADAn6F,KAAKwwF,iBAAmB,EACpBxwF,KAAKwwF,gBAAkB,EAAG,CAI1BxwF,KAAK6oE,SAASwK,mBACd,IAAM5wB,EAAUziD,KAAK6oE,SAAS8I,2CACxB+jB,EAAc9+B,GAAY1E,QAAQzP,GACxCziD,KAAKwwF,gBAAkBkF,EAAY5xF,OAAS,EAGhD,OADA9D,KAAKm6F,qBACE,I,4CA+BWjyE,EAAIu6B,GACtB,IAiCI23C,EACAC,EACAC,EACAC,EACAC,EArCEv1F,EAAOjF,KACU,WAAnB,GAAOyiD,KAAyBA,EAAQigC,SAAWjgC,EAAQ2hC,UAEvD3hC,EAAQigC,SACRx6D,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,UAAWtuC,KAAKkkC,UAAUuX,EAAQigC,UAEpFjgC,EAAQutC,KACR9nE,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,cAAetuC,KAAKkkC,UAAUuX,EAAQutC,MAExFvtC,EAAQg4C,UACRvyE,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,mBAAoBtuC,KAAKkkC,UAAUuX,EAAQg4C,WAE7Fh4C,EAAQhkC,OACRyJ,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,gBAAiBtuC,KAAKkkC,UAAUuX,EAAQhkC,QAK1FgkC,EAAQ2hC,SACRl8D,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,kBAAmBtuC,KAAKkkC,UAAUuX,EAAQ2hC,UAE5F3hC,EAAQkgC,mBACRz6D,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,4BAA6BtuC,KAAKkkC,UAAUuX,EAAQkgC,oBAEtGlgC,EAAQmgC,iBACR16D,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,0BAA2BtuC,KAAKkkC,UAAUuX,EAAQmgC,mBAMxG16D,EAAGk6D,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,UAAWtuC,KAAKkkC,UAAUuX,IAOhFkrC,GAAGzlE,EAAI,gCAAgC,SAAUunE,GAE7C,GAAgB,cAAZA,EAAG5wE,MAAuC,IAAf4wE,EAAGqD,SAAgC,IAAfrD,EAAGqD,QAAe,CAEjErD,EAAGlL,kBACa,eAAZkL,EAAG5wE,OACH+G,QAAQ9S,IAAI,OAAQ28E,EAAG5wE,MACvB4wE,EAAGnL,kBAGPp8D,EAAG6jC,UAAU54B,IAAI,WACjBinE,EAAiB/xF,KAAK4Z,MAEN,eAAZwtE,EAAG5wE,OAAyBy7E,EAAU7K,EAAGiL,eAAe,GAAGC,YAG/D,IAAMl4C,EAAUv6B,EAAGi6D,aAAa,QAAUl9E,EAAK4kE,OAAOv0B,UAAY,mBAC9DmN,GACAx9C,EAAKkxF,SAASnvF,KAAKssD,MAAM7Q,IAI7B,IAAMm4C,EAA2B1yE,EAAGi6D,aAAa,QAAUl9E,EAAK4kE,OAAOv0B,UAAY,6BAC/EslD,IACAP,EAAmBnyE,EACfsyE,GAAqBhgB,aAAaggB,GACtCA,EAAoB50F,OAAO6c,YAAW,WAC9ByF,EAAG6jC,UAAUylB,SAAS,aACtBvsE,EAAK2pF,aAAc,EACnB3pF,EAAKkxF,SAASnvF,KAAKssD,MAAMsnC,OAE9B,UAIfjN,GAAGzlE,EAAI,0BAA0B,WAE7BA,EAAG6jC,UAAUizB,OAAO,cAQxB2O,GAAGzlE,EAAI,qBAAqB,SAAUunE,GAQlC,GANAvnE,EAAG6jC,UAAUizB,OAAO,WAMhByQ,GAAMA,EAAGnL,eACT,IACImL,EAAGnL,iBACL,MAAOt+E,GACL4f,QAAQ9S,IAAI,MAAO9M,GAI3B,IAAK,IAAI5F,EAAI,EAAGA,EAAIqvF,EAAGiL,eAAe52F,OAAQ1D,IAC1C,GAAIqvF,EAAGiL,eAAet6F,GAAGu6F,aAAeL,EAAS,CAE7C,IAAMr3F,EAAS42B,SAASghE,iBAAiBpL,EAAGiL,eAAet6F,GAAGgzF,QAAS3D,EAAGiL,eAAet6F,GAAGkzF,SACxFrwF,IAAWs3F,GAAmBA,IAC9BA,EAAgBlhD,cAAc,IAAIyhD,WAAW,cAAe,CAAEC,SAAS,IACvER,EAAkB,MAElBt3F,IACAs3F,EAAkBt3F,EAClBA,EAAOo2C,cAAc,IAAIyhD,WAAW,aAAc,CAAEC,SAAS,EAAMjI,QAAS,UAK5FnF,GAAGzlE,EAAI,cAAc,SAAUunE,GAER,IAAfA,EAAGqD,SAAgC,IAAfrD,EAAGqD,SACvB5qE,EAAG6jC,UAAU54B,IAAI,cAIzBw6D,GAAGzlE,EAAI,0BAA0B,SAAUunE,GAIvC,GADAxqF,EAAK2pF,aAAc,EACf2L,EAAiB,CACjB9K,EAAGlL,kBACHkL,EAAGnL,iBACH,IAAMrhF,EAASs3F,EAGf,OAFAA,EAAkB,UAClBt3F,EAAOo2C,cAAc,IAAIyhD,WAAW,UAAW,CAAEC,SAAS,KAK9D,GAFA7yE,EAAG6jC,UAAUizB,OAAO,WACpB92D,EAAG6jC,UAAU54B,IAAI,UACD,UAAZs8D,EAAG5wE,MAAkC,IAAd4wE,EAAGG,OAM1B,OAFAH,EAAGlL,uBACHkL,EAAGnL,iBAKP1+E,OAAO6c,YAAW,WAAcyF,EAAG6jC,UAAUizB,OAAO,YAAc,KAClE,IAAIv8B,EAAUv6B,EAAGi6D,aAAa,QAAUl9E,EAAK4kE,OAAOv0B,UAChD,2BACErzB,EAAM5Z,KAAK4Z,OAIbiG,IAAOmyE,GAAoBp4E,EAAMm4E,EAAiB,OAClD33C,OAAU1+C,IAET0+C,GAAWgtC,EAAG3V,QAAU2V,EAAG1V,WAC5Bt3B,EAAUv6B,EAAGi6D,aAAa,QAAUl9E,EAAK4kE,OAAOv0B,UAC5C,sBAEHmN,GAAWgtC,EAAG3V,SACfr3B,EAAUv6B,EAAGi6D,aAAa,QAAUl9E,EAAK4kE,OAAOv0B,UAC5C,iBAEHmN,GAAWgtC,EAAG1V,WACft3B,EAAUv6B,EAAGi6D,aAAa,QAAUl9E,EAAK4kE,OAAOv0B,UAC5C,kBAEHmN,IACDA,EAAUv6B,EAAGi6D,aAAa,QAAUl9E,EAAK4kE,OAAOv0B,UAC5C,YAEJmN,GAGAx9C,EAAKkxF,SAASnvF,KAAKssD,MAAM7Q,IAE7BgtC,EAAGlL,kBACHkL,EAAGnL,sB,kCAGC3vC,EAAOqW,EAAKgwC,EAAWv4C,GAC/B,IAAMw4C,EAASphE,SAAS5xB,cAAc,QAKtC,OAJAgzF,EAAO7c,UAAYzpC,EACfqW,GAAOiwC,EAAOlvC,UAAU54B,IAAI,GAAG3uB,MAAMjE,KAAKyqD,EAAI1+C,MAAM,OACpD0uF,GAAaC,EAAO7Y,aAAa,aAAc4Y,GACnDh7F,KAAK29E,sBAAsBsd,EAAQx4C,GAC5Bw4C,I,yCAOQC,EAAQzY,GACvB78D,QAAQ9S,IAAI,UACZ,IAAMqoF,EAAejN,GAAiB,gCAAiC,+BACnEluF,KAAK++E,gBAAgBhzB,UAAUylB,SAAS,aACxC2pB,EAAapvC,UAAU54B,IAAI,YAE3BsvD,EAAQ3+E,QAAU,EAElBq3F,EAAazhE,MAAMoxB,MAAQ,QACD,IAAnB23B,EAAQ3+E,QAAmC,IAAnB2+E,EAAQ3+E,OAEvCq3F,EAAazhE,MAAMoxB,MAAQ,QACD,IAAnB23B,EAAQ3+E,OAEfq3F,EAAazhE,MAAMoxB,MAAQ,OAG3BqwC,EAAazhE,MAAMoxB,MAAQ,QAG/BqwC,EAAazhE,MAAM8sB,OAAS,OAC5B,IAAI23B,EAAS,GArBmB,uBAsBhC,YAAqBsE,EAArB,+CAA8B,KAAnB3I,EAAmB,QAC1BqE,GAAU,MACY,kBAAXrE,EACPqE,GAAU,gBAAkBrE,EAAOx7D,QAAQ,KAAM,UAAY,KAEzDw7D,EAAO9X,QACPmc,GAAU,gBAAkBrE,EAAO9X,MAAM1jD,QAAQ,KAAM,UAAY,KAEnEw7D,EAAO9gD,UACPmlD,GAAU,kBAAoBrE,EAAO9gD,QAAQ1a,QAAQ,KAAM,UAAY,KAEvEw7D,EAAOnF,SACPwJ,GAAU,iBAAmBrE,EAAOnF,OAAOr2D,QAAQ,KAAM,UAAY,KAErEw7D,EAAOr3B,UACP07B,GAAU,kBAAoBrE,EAAOr3B,QAAQnkC,QAAQ,KAAM,UAAY,KAEvEw7D,EAAOwH,QACPnD,GAAU,gBAAkBrE,EAAOwH,MAAMhjE,QAAQ,KAAM,UAAY,KAEnEw7D,EAAO5wB,UACPi1B,GAAU,kBAAoBrE,EAAO5wB,QAAU,MAGvDi1B,GAAU,IACVA,GAAUrE,EAAOnlC,OAAS,GAC1BwpC,GAAU,SAhDkB,kFAkDhCA,EAAS,OAASA,EAAS,QAC3Bgd,EAAa/c,UAAYD,EACzBid,GAAgBpZ,WAAWhiF,KAAMm7F,EAAa78C,qBAAqB,MAAO,wBAC1E,IAAM+8C,EAAWr7F,KAAK++E,gBAAgBuc,cAAc,+DAAiEJ,EAAS,MACxHzwE,EAAW4wE,EAASpJ,wBAC1B,GAAIxnE,EAAU,CACNA,EAASogC,IAAMswC,EAAa5c,aAAe,IAE3C4c,EAAazhE,MAAMoxB,MAAQ,OACvB23B,EAAQ3+E,QAAU,EAClBq3F,EAAazhE,MAAM8sB,OAAS,OACrBi8B,EAAQ3+E,QAAU,GACzBq3F,EAAazhE,MAAM8sB,OAAS,QAE5B20C,EAAazhE,MAAM8sB,OAAS,SAGpC,IAAMqE,GAAOpgC,EAASogC,IAAMswC,EAAa5c,aAAe,IAAI74E,WAAa,KACnEmJ,EAAOjM,KAAKsR,IAAI,EAAGtR,KAAKkJ,IAAIlG,OAAO64E,WAAa0c,EAAa/mB,aAAe3pD,EAAS5b,KAAO4b,EAASjV,MAAQ2lF,EAAa/mB,aAAe,IAAO,KACtJ+mB,EAAazhE,MAAM6hE,UAAY,aAAe1sF,EAAO,IAAMg8C,EAAM,IAEjEswC,EAAapvC,UAAU54B,IAAI,cAE/B,OAAO,I,2CAGPvN,QAAQ9S,IAAI,WACZ,IAAMqoF,EAAethE,SAASs0D,eAAe,iCAM7C,OALIgN,IACAA,EAAapvC,UAAUizB,OAAO,cAC9Bmc,EAAa/c,UAAY,GAClBgQ,GAAqB+M,KAEzB,I,4CAOW14C,GAElB,OADAziD,KAAKwkF,qBACExkF,KAAKm2F,SAAS1zC,K,2CAEJy+B,GACjB,GAAwC,QAApClhF,KAAK6pE,OAAOqlB,oBAA+B,CAC7B,kBAAVhO,GAAuC,kBAAVA,GAAuC,oBAAVA,GAE1DlhF,KAAKo1F,YAETp1F,KAAKk1F,uBAELl1F,KAAKwkF,qBAGLxkF,KAAKykF,wBAIL,IAHA,IAAMtD,EAASnhF,KAAK++E,gBAAgBrB,uBAAuB,kBAEvDx3C,GAAQ,EACH9lC,EAAI,EAAGA,EAAI+gF,EAAOr9E,OAAQ1D,IAC/B,GAAI+gF,EAAO/gF,GAAGo7F,QAAQta,QAAUA,EAAO,CACnCh7C,GAAQ,EACR,MAKR,GAAIA,EACA,IAAK,IAAI9lC,EAAI,EAAGA,EAAI+gF,EAAOr9E,OAAQ1D,IAC3B+gF,EAAO/gF,GAAGo7F,QAAQta,QAAUA,EAC5BC,EAAO/gF,GAAG2rD,UAAU54B,IAAI,cAExBguD,EAAO/gF,GAAG2rD,UAAUizB,OAAO,cAIvCh/E,KAAKgvF,SAET,OAAO,I,4CAOP,IAAMyM,EAAUz7F,KAAK++E,gBAAgB5K,iBAAiB,4FACtD,GAAIsnB,EACA,IAAK,IAAIr7F,EAAI,EAAGA,EAAIq7F,EAAQ33F,OAAQ1D,IAAK,CACrC,IAAM86F,EAASO,EAAQr7F,GACnBs7F,EAAiBR,EAAO/Y,aAAa,gBACzC,GAAIuZ,GAAkB,UAAUp5F,KAAK44F,EAAO9c,WAAY,CACpD8c,EAAO9Y,aAAa,yBAA0B8Y,EAAO9c,WAChDsd,IACDA,EAAiBR,EAAO9c,UAAU/a,eAEtC63B,EAAO9c,UAAYsd,EACnB,IAAMj5C,EAAUy4C,EAAO/Y,aAAa,QAAUniF,KAAK6pE,OAAOv0B,UAAY,WACtE,GAAImN,EAAS,CACTy4C,EAAO9Y,aAAa,yBAA0B3/B,GAC9C,IAAMuhC,EAAiBkX,EAAO/Y,aAAa,wBAC3C,GAAI6B,EACAkX,EAAO9Y,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,UAAW0uC,OAC9D,CACH,IAAM2X,EAAa30F,KAAKssD,MAAM7Q,GAC1B1wC,MAAMmE,QAAQylF,KACdA,EAAW,GAAKA,EAAW,GAAGt4B,eAElC63B,EAAO9Y,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,UAAWtuC,KAAKkkC,UAAUywD,OAMpG,OAAO,I,8CAQP,IAAMF,EAAUz7F,KAAK++E,gBAAgB5K,iBAAiB,4FACtD,GAAIsnB,EACA,IAAK,IAAIr7F,EAAI,EAAGA,EAAIq7F,EAAQ33F,OAAQ1D,IAAK,CACrC,IAAM86F,EAASO,EAAQr7F,GACjB44B,EAAUkiE,EAAO/Y,aAAa,0BAChCnpD,IACAkiE,EAAO9c,UAAYplD,GAEvB,IAAMypB,EAAUy4C,EAAO/Y,aAAa,0BAChC1/B,GACAy4C,EAAO9Y,aAAa,QAAUpiF,KAAK6pE,OAAOv0B,UAAY,UAAWmN,GAI7E,OAAO,I,qDAEoBhiD,GAG3B,OAFAT,KAAKi6F,QAAQx5F,GACbT,KAAKykF,yBACE,I,kDAIP,IAAImX,GAAc,EAQlB,OAPI57F,KAAK++E,kBACL6c,EAAc57F,KAAK++E,gBAAgBhzB,UAAUylB,SAAS,YACtDxxE,KAAK++E,gBAAgBC,gBACdh/E,KAAK++E,gBACZ/+E,KAAK++E,gBAAkB,MAE3B/+E,KAAKk1F,qBAAqB0G,EAAc,GAAK,aACtC,I,oDAIP57F,KAAK6pE,OAAOmZ,sBAAwB,CAChC,OAAU,SACV,OAAU,SACV,OAAU,SACV,OAAU,UACV,QAAW,UACbhjF,KAAK6pE,OAAOmZ,uBACd,IAAI9B,EAAQlhF,KAAK++E,gBACb/+E,KAAK++E,gBAAgBuc,cAAc,iCAAmC,KAS1E,OARApa,EAAQA,EAAQA,EAAMx/D,GAAK,GACvB1hB,KAAK++E,kBACL/+E,KAAK++E,gBAAgBC,gBACdh/E,KAAK++E,gBACZ/+E,KAAK++E,gBAAkB,MAE3B/+E,KAAKk1F,uBACDhU,GAASlhF,KAAKk6F,qBAAqBhZ,IAChC,I,2CAEUiC,GAGjB,OAFAnjF,KAAK8+E,wBAAyB,EAC9B9+E,KAAKg6F,uBAAuB7W,IACrB,I,6CAKP,OAFAnjF,KAAK8+E,wBAAyB,EAC9B9+E,KAAKg6F,0BACE,I,wCAGPh6F,KAAK67F,gB,6CAEc1Y,GAEnB,GADAv9D,QAAQ9S,IAAI,SAAU9S,KAAK8+E,yBACvB9+E,KAAK4uF,YAAT,CAWA,GALK5uF,KAAK8+E,wBACN9+E,KAAK87F,cAGT97F,KAAK8+E,wBAA0B9+E,KAAK8+E,uBAChC9+E,KAAK8+E,uBAAwB,CACzB9+E,KAAK++E,gBACL/+E,KAAK++E,gBAAgBhzB,UAAU54B,IAAI,eAGnCnzB,KAAK++E,gBAAkBqc,GAAgBlY,KAAKljF,KAAMmjF,GAElDwK,GAAG3tF,KAAK++E,gBAAiB,gCAAgC,WACrD95E,EAAK+pF,YAETn1D,SAAS2M,KAAKjkB,YAAYviB,KAAK++E,kBAInC,IAAM95E,EAAOjF,KACb4F,OAAO6c,YAAW,WAAcxd,EAAK85E,gBAAgBhzB,UAAU54B,IAAI,gBAAkB,QAC9EnzB,KAAK++E,iBACZ/+E,KAAK++E,gBAAgBhzB,UAAUizB,OAAO,cAK1C,MAHmD,oBAAxCh/E,KAAK6pE,OAAOkyB,yBACnB/7F,KAAK6pE,OAAOkyB,wBAAwB/7F,KAAMA,KAAK8+E,uBAAwB9+E,KAAK++E,kBAEzE,EA/BHn5D,QAAQ9S,IAAI,e,kCAqHR4mB,GAGR,GAFA15B,KAAK2zF,wBACLj6D,EAAQ60D,GAAc70D,GAClBA,EAAMn4B,KAAM,CAEZ,GAAIvB,KAAK6oE,SAASoI,cAEdjxE,KAAKu3F,YAAY79D,EAAMn4B,UACpB,CAEH,IAAMmzF,EAAe10F,KAAKuB,KACpBy6F,EAAqE,UAAvDh8F,KAAK6oE,SAASuI,cAAgBpxE,KAAK6pE,OAAO6Y,SAC1D,OAAS,OACTuZ,EAAqBj8F,KAAKg5F,cAAc,aAU5C,GATmB,SAAfgD,GAAyB,YAAY15F,KAAK25F,KAC1CA,EAAqBA,EAAmBz3F,MAAM,GAAI,IAEtDxE,KAAKi6F,QAAQgC,EAAoB,CAC7B16F,KAAMy6F,EACNlnB,cAAe,OACf/G,OAAuB,SAAfiuB,EAAwB,OAAS,cAE7Ch8F,KAAKuB,KAAOy6F,EACRh8F,KAAKk8F,kBAAmB,CAGxB,IAAM/sD,EAASnvC,KAAK6oE,SAAS15B,UACzBA,GAA2B,UAAhBA,EAAOtwB,MAAoC,SAAhBswB,EAAOtwB,OAC7CswB,EAAO5tC,KAAOy6F,GAIlBh8F,KAAKuB,OAASmzF,GAAoD,oBAA7B10F,KAAK6pE,OAAO8qB,cACjD30F,KAAK6pE,OAAO8qB,aAAa30F,KAAMA,KAAKuB,aAGrCm4B,EAAMn4B,KA0BjB,OAxBIvB,KAAK6oE,SAASoI,eAEVjxE,KAAK05B,MAAMowB,YAAcpwB,EAAMowB,aAAe9pD,KAAK05B,MAAMowB,aACzDpwB,EAAMowB,WAAa,QAEnBpwB,EAAMkwB,WAAalwB,EAAMkwB,YAAc5pD,KAAK05B,MAAMkwB,YAClDlwB,EAAMkwB,UAAY,QAElBlwB,EAAM4K,OAAS5K,EAAM4K,QAAUtkC,KAAK05B,MAAM4K,QAC1C5K,EAAM4K,MAAQ,QAEd5K,EAAM+vB,iBAAmB/vB,EAAM+vB,kBAAoBzpD,KAAK05B,MAAM+vB,kBAC9D/vB,EAAM+vB,gBAAkB,QAExB/vB,EAAMgxB,UAAYhxB,EAAMgxB,WAAa1qD,KAAK05B,MAAMgxB,WAChDhxB,EAAMgxB,SAAW,QAErB1qD,KAAK05B,MAAL,MAAkB15B,KAAK05B,MAAvB,GAAiCA,KAIjC15B,KAAK6oE,SAASoQ,YAAYv/C,GAC1B15B,KAAKsxF,YAAY5U,SAAS18E,KAAK6pE,UAE5B,I,kCAGP,OAAOhwC,SAASu+D,YAAcv+D,SAASm6C,gBAAkBh0E,KAAKi6E,W,+BAGzDj6E,KAAK0zF,cAGF1zF,KAAKi6E,SAASxG,OAASzzE,KAAKi6E,SAASxG,QACzCzzE,KAAKuuE,UAAU,W,8BAIfvuE,KAAK0zF,aACD1zF,KAAKi6E,SAASe,MACdh7E,KAAKi6E,SAASe,S,gCAKtBh7E,KAAK6oE,SAASwI,e,wCAGdrxE,KAAK6oE,SAAS0I,Y,iCAkBPjuD,EAAMm2D,GAGb,OAAOz5E,KAAK+wF,aAAaztE,EAAMm2D,K,iCASxB9iB,GAGP32D,KAAK6wF,aAAal6B,K,iCAYXA,EAAMpiD,GACb,OAAOvU,KAAK6wF,aAAal6B,EAAMpiD,K,iCAUxB4nF,GAcP,GAbKn8F,KAAK6pE,SACN7pE,KAAK6pE,OAAS,CACV5B,YAAY,EACZ8vB,kBAAkB,EAClBF,YAAa,CAACzsF,IAAUA,KACxBmpE,6BAA6B,EAC7BtK,gCAAgC,EAChC8U,gBAAiB,GACjBiE,sBAAuB,SACvB1tC,UAAW,KAGnBt1C,KAAK6pE,OAAL,MAAmB7pE,KAAK6pE,OAAxB,GAAmCsyB,QACHp4F,IAA5B/D,KAAK6pE,OAAOguB,cAA8B9lF,MAAMmE,QAAQlW,KAAK6pE,OAAOguB,aAAc,CAClF,IAAM9vD,EAAQtyB,SAASzV,KAAK6pE,OAAOguB,aACnC73F,KAAK6pE,OAAOguB,YAAc,CAAC9vD,EAAOA,GAQtC,GANuD,qBAA5C/nC,KAAK6pE,OAAO0K,8BACnBv0E,KAAK6pE,OAAO0K,6BAA8B,GAE9Cv0E,KAAK6pE,OAAO2E,WAAa2tB,EAAK3tB,YAAc4tB,GAC5Cp8F,KAAK6pE,OAAOrhB,OAAS1nD,OAAO6V,OAAO,GAAIigD,GAAYzH,OAAQnvD,KAAK6pE,OAAOrhB,SAElE,eAAelmD,KAAKtC,KAAK6pE,OAAOv0B,WACjC,MAAMjU,MAAM,mEAEX,KAAK/+B,KAAKtC,KAAK6pE,OAAOv0B,aACvBt1C,KAAK6pE,OAAOv0B,WAAa,KAG7BkqC,GAAKE,OAAS1/E,KAAK6pE,OAAO6V,QAAUF,GAAKE,OACzCF,GAAKY,MAAMpgF,KAAK6pE,OAAO8V,SACvB3/E,KAAK6pE,OAAOmZ,sBAAwBmZ,EAAKnZ,uBAAyB,CAC9D,GAAM,SACN,GAAM,SACN,GAAM,SACN,GAAM,SACN,GAAM,SACN,GAAM,SACN,GAAM,SACN,GAAM,SACN,GAAM,UACRxD,GAAKE,OAAO3V,UAAU,EAAG,KAAO,SAElC/pE,KAAKi2F,mBAAgBlyF,EACrB/D,KAAKq8F,2BAAwBt4F,EAC7B/D,KAAK61F,yBAAsB9xF,EAC3B/D,KAAKk2F,yBAAsBnyF,EACvB/D,KAAK6pE,OAAOosB,gBAC6B,kBAA9Bj2F,KAAK6pE,OAAOosB,eACnBj2F,KAAKi2F,cAAgB,IAAIqG,MACzBt8F,KAAKi2F,cAAcsG,QAAU,OAC7Bv8F,KAAKi2F,cAAcryE,IAAM5jB,KAAK6pE,OAAOosB,cACrCj2F,KAAKi2F,cAAcuG,OAAS9O,GAC5B1tF,KAAKq8F,sBAAwBr8F,KAAKi2F,cAClCj2F,KAAK61F,oBAAsB71F,KAAKi2F,cAChCj2F,KAAKk2F,oBAAsBl2F,KAAKi2F,gBAEhCrwE,QAAQu8B,OAAOniD,KAAK6pE,OAAOosB,cAAcvT,SACzC1iF,KAAKi2F,cAAgB,IAAIqG,MACzBt8F,KAAKi2F,cAAcsG,QAAU,OAC7Bv8F,KAAKi2F,cAAcryE,IAAM5jB,KAAK6pE,OAAOosB,cAAcvT,QACnD1iF,KAAKi2F,cAAcuG,OAAS9O,GAC5B1tF,KAAKq8F,sBAAwBr8F,KAAKi2F,cAClCj2F,KAAK61F,oBAAsB71F,KAAKi2F,cAChCj2F,KAAKk2F,oBAAsBl2F,KAAKi2F,cAC5Bj2F,KAAK6pE,OAAOosB,cAAcwG,WAC1Bz8F,KAAKq8F,sBAAwB,IAAIC,MACjCt8F,KAAKq8F,sBAAsBE,QAAU,OACrCv8F,KAAKq8F,sBAAsBz4E,IAAM5jB,KAAK6pE,OAAOosB,cAAcwG,SAC3Dz8F,KAAKq8F,sBAAsBG,OAAS9O,IAEpC1tF,KAAK6pE,OAAOosB,cAAcyG,SAC1B18F,KAAK61F,oBAAsB,IAAIyG,MAC/Bt8F,KAAK61F,oBAAoB0G,QAAU,OACnCv8F,KAAK61F,oBAAoBjyE,IAAM5jB,KAAK6pE,OAAOosB,cAAcyG,OACzD18F,KAAK61F,oBAAoB2G,OAAS9O,IAElC1tF,KAAK6pE,OAAOosB,cAAcvgB,SAC1B11E,KAAKk2F,oBAAsB,IAAIoG,MAC/Bt8F,KAAKk2F,oBAAoBqG,QAAU,OACnCv8F,KAAKk2F,oBAAoBtyE,IAAM5jB,KAAK6pE,OAAOosB,cAAcvgB,OACzD11E,KAAKk2F,oBAAoBsG,OAAS9O,MAI1C1tF,KAAK6pE,OAAO8yB,aACZ38F,KAAK28F,WAAa,IAAIL,MACtBt8F,KAAK28F,WAAWJ,QAAU,OAC1Bv8F,KAAK28F,WAAW/4E,IAAM5jB,KAAK6pE,OAAO8yB,WAClC38F,KAAK28F,WAAWH,OAAS9O,M,6BAc1BkP,EAAQC,GAEX,SAASC,EAASC,EAAWH,GACzB,IAAI5zF,EAAS,KACb,OAAQ4zF,GACJ,IAAK,MACD5zF,EAAS+zF,EAAUl0B,SAASppE,KAC5B,MACJ,IAAK,YACIs9F,EAAUl0B,SAASoI,gBACpBjoE,EAAS+zF,EAAUl0B,SAAS4I,oBAEhC,MACJ,IAAK,OACD,IAAMpH,EAAW0yB,EAAUl0B,SAASwB,WAC9Bx3C,EAAOkqE,EAAUl0B,SAASoG,cAChC,GAAIp8C,GAAQ,EAAG,CACX7pB,EAAS,GACT,IAAK,IAAI5I,EAAI,EAAGA,GAAKyyB,EAAMzyB,IACvB4I,EAAO6C,KAAKw+D,EAASjqE,IAG7B,MAEJ,IAAK,QACD,IAAMiqE,EAAW0yB,EAAUl0B,SAASwB,WAC9B93C,EAAQwqE,EAAUl0B,SAASsG,YAAc,EAC/C,GAAI58C,GAAS83C,EAASvmE,OAAS,EAAG,CAC9BkF,EAAS,GACT,IAAK,IAAI5I,EAAImyB,EAAOnyB,GAAKiqE,EAASvmE,OAAS,EAAG1D,IAC1C4I,EAAO6C,KAAKw+D,EAASjqE,IAG7B,MAEJ,IAAK,QACL,IAAK,MAED,MACJ,IAAK,QACD4I,EAAS+zF,EAAUl0B,SAASwB,WAC5B,MACJ,IAAK,SACD,IAAMl7B,EAAS4tD,EAAUl0B,SAAS15B,SAC9BA,GAA0B,SAAhBA,EAAOtwB,OACjB7V,EAAS+zF,EAAUl0B,SAAS15B,UAEhC,MAEJ,QACIvpB,QAAQ9S,IAAI,sBAAwBiqF,EAAUl+E,KAAO,KACrD,MAER,OAAO7V,EAEX,SAASg0F,EAAgBJ,GACrB,IAAI5zF,EAAS,GACb,OAAQ4zF,GACJ,IAAK,MACDh3E,QAAQ9S,IAAI,sCACZ,MACJ,IAAK,YACD9J,EAAS,eACT,MACJ,IAAK,OACDA,EAAS,WACT,MACJ,IAAK,QACDA,EAAS,SACT,MACJ,IAAK,QACD4c,QAAQ9S,IAAI,wCACZ,MACJ,IAAK,SACD9J,EAAS,YACT,MACJ,QACI4c,QAAQ9S,IAAI,gCAAkC8pF,EAAS,KACvD,MAER,OAAO5zF,EA/EX6zF,EAAeA,GAAgB,CAAEpzB,kBAAkB,GAiFnD,IAAMzT,EAAQ8mC,EAAS98F,KAAM48F,GAC7B,GAAc,OAAV5mC,EAEA,OADAh2D,KAAK6pE,OAAOozB,YAAYD,EAAgBJ,KACjC,EAEX,IAAMroF,EAAU,MAAKvU,KAAK6pE,SACtBgzB,EAAapzB,kBAA6C,WAAzBl1D,EAAQ2oF,gBACzC3oF,EAAQ03E,mBAAsBrmF,OAAOonF,KAAqC,QAA9Bz4E,EAAQw4E,kBAA+B,YAAc,OAC7F8P,EAAapzB,mBACbl1D,EAAQk0C,YAAa,IAG7B,IAAMkO,EAAO2C,GAASuzB,gBAAgB72B,EAAOzhD,GAa7C,OAZIsoF,EAAapzB,kBACb7jE,OAAOuyF,SAASgF,mBAAqBn9F,KACrCA,KAAKi4F,QAAQ,CAAEK,iBAAiB,IAC5Bt4F,KAAK6pE,OAAOuzB,iBACZp9F,KAAK6pE,OAAOuzB,gBAAgBp9F,KAAKwvF,MAAO74B,EAAM32D,KAAK6pE,SAGnD7pE,KAAK6pE,OAAOozB,aACZj9F,KAAK6pE,OAAOozB,YAAYtmC,EAAMpiD,IAI/B,M,KAcf,SAASw9E,GAAsB7pE,GAC3B,OAAIA,EAAG6jC,UAAUylB,SAAS,cACtBtpD,EAAG6jC,UAAUylB,SAAS,mBACtBtpD,EAAG6jC,UAAUylB,SAAS,qBACftpD,GAGXnW,MAAMvC,KAAK0Y,EAAGihC,UAAUjgD,SAAQ,SAASmiD,GACrCriD,EAASA,GAAU+oF,GAAsB1mC,MAEtCriD,GAJP,IAAIA,EAoBR,SAASupF,GAAwBrqE,EAAI9kB,EAAG8K,GACpC,IAAIlF,EAAS,CAAEk/B,QAAS,KAAMwoC,SAAUh7D,OAAO2nF,mBAG3CC,GAAmB,EAEvB,GAAIp1E,EAAGi6D,aAAa,gBAAiB,CACjCn5E,EAAOk/B,QAAUhgB,EAGjB,IAAMhnB,EAAIgnB,EAAG+pE,wBACPsL,EAAKn6F,GAAKlC,EAAE2N,KAAO3N,EAAEsU,OAAS,EAC9BgoF,EAAKtvF,GAAKhN,EAAE2pD,IAAM3pD,EAAEqtD,QAAU,EACpCvlD,EAAO0nE,SAAW6sB,EAAKA,EAAKC,EAAKA,EAMjCF,EAAmBl6F,GAAKlC,EAAE2N,MAAQzL,GAAKlC,EAAEsU,MAY7C,OATI8nF,GAAoBp1E,EAAGihC,UACvBp3C,MAAMvC,KAAK0Y,EAAGihC,UAAUjgD,SAAQ,SAASmiD,GACrC,IAAMinC,EAAUC,GAAwBlnC,EAAOjoD,EAAG8K,GAC9CokF,EAAQpqD,SAAWoqD,EAAQ5hB,UAAY1nE,EAAO0nE,WAC9C1nE,EAASspF,MAKdtpF,EAKX,IAAIyqF,GAAW,EASf,SAASuB,GAAclX,EAAWpX,EAAQ1Q,GACtC,IAAM6T,EAAS/oE,OAAO6V,OAAO,GAAImnE,EAAUjU,QAI3C,OAHAA,EAAOoiB,mBAAqB,GAC5BpiB,EAAOojB,yBAA2BpjB,EAAOojB,0BAA4B,GACrEpjB,EAAOojB,yBAAyB9O,OAAS,OAClCzX,EAASpN,GAASuzB,gBAAgB72B,EAAO6T,GAcnD,SAASuyB,GAAYn5F,EAAQw/C,EAASmyC,EAAa6I,GAEhD,IAAIC,EAAW,GAGC,UAAZj7C,GAGIx/C,EAAO05F,aACP15F,EAAO05F,WAAW7G,OAClB7yF,EAAO05F,WAAW5G,OAAOC,OAAM,SAAAp2D,GAAG,OAAIha,QAAQwiD,KAAKxoC,OAGvD38B,EAAO0wF,yBACY,WAAZlxC,EACPi7C,EAAW1I,GAAc/xF,EAAQ,YAAaw6F,GAE3B,UAAZh7C,GAAuB,OAAOngD,KAAKmgD,GAE1Ci7C,GAAYz6F,EAAO4lE,SAASoI,cAAgB,GAAK,cACrChuE,EAAO06F,oBAAoB/I,GACpB,gBAAZnyC,EAEPi7C,EAAW1I,GAAc/xF,EAAQ,GAAIA,EAAO4lE,SAASkC,QAAQ,IAC1C,SAAZtoB,GAEPi7C,EAAW1I,GAAc/xF,EAAQ,GAAIA,EAAO4lE,SAASppE,MACrDwD,EAAOitF,eAAe9R,UAClB,oDACI9kB,GAAS0rB,SAAS/hF,EAAO4lE,SAASppE,KAAMwD,EAAO4mE,QACnD,UAEJ5mE,EAAOg3E,SAASmI,aAAa,aAAc,UAAYsb,IAUvDA,EAAWD,EAAezI,GAAc/xF,EAAQw/C,EAAU,IAAKg7C,GAAgBh7C,EAInF,IAAMm7C,EAAqB,SAASt7F,KAAKW,EAAOgtF,aAAa1N,aACzD,MAAa,MACjBt/E,EAAOgtF,aAAa1N,YAAcmb,EAAWE,EAIjDnP,GAAUzsF,UAAU67F,MAAQpP,GAAUzsF,UAAUw3F,KAChD/K,GAAUzsF,UAAU87F,MAAQrP,GAAUzsF,UAAUy3F,KAChDhL,GAAUzsF,UAAU+7F,gBAAkBtP,GAAUzsF,UAAUq1F,eAC1D5I,GAAUzsF,UAAUg8F,eAAiBvP,GAAUzsF,UAAUi8F,cACzDxP,GAAUzsF,UAAUk8F,aAAezP,GAAUzsF,UAAUm8F,YACvD1P,GAAUzsF,UAAUo8F,QAAU3P,GAAUzsF,UAAUi4F,QAGnC,QACX3L,oBACAG,cCvoHJ,SAAS4P,GAAclrD,EAAWwjB,EAAM2nC,GAGpC,IAAI/wF,EAAQ+wF,EACRC,EAAa,EAEXC,EAAcrrD,EAAUrvC,OAE9B,MAAOyJ,EAAQopD,EAAK7yD,OAAQ,CACxB,IAAMqiD,EAAYwQ,EAAKppD,GAEvB,GAAIgxF,GAAc,GACd5nC,EAAKnyD,MAAM+I,EAAOA,EAAQixF,KAAiBrrD,EAC3C,OAAO5lC,EACc,OAAd44C,EACP54C,IACqB,MAAd44C,EACPo4C,IACqB,MAAdp4C,GACPo4C,IAGJhxF,IAGJ,OAAQ,EAGZ,SAASkxF,GAAkBC,EAAWppC,EAAWC,EAAY7M,GAGzD,IAFA,IAAMi2C,EAAY,GAETv+F,EAAI,EAAGA,EAAIs+F,EAAU56F,OAAQ1D,IAClC,GAA0B,SAAtBs+F,EAAUt+F,GAAGye,KAAiB,CAC9B,IAAM83C,EAAO+nC,EAAUt+F,GAAG8O,KAEtB0vF,GAAiB,EACjBC,EAAY,EACZC,OAAS,EAEbA,EAAYnoC,EAAKrhD,QAAQggD,IACN,IAAfwpC,IACAD,EAAYC,EACRD,EAAY,GACZF,EAAU9yF,KAAK,CACXgT,KAAM,OACN3P,KAAMynD,EAAKnyD,MAAM,EAAGq6F,KAG5BD,GAAiB,GAErB,IAAIjxF,GAAO,EACX,OAAQA,EAAM,CACV,GAAIixF,EAAgB,CAEhB,GADAE,EAAYnoC,EAAKrhD,QAAQggD,EAAWupC,IACjB,IAAfC,EAAkB,CAClBnxF,GAAO,EACP,MAEAkxF,IAAcC,GACdH,EAAU9yF,KAAK,CACXgT,KAAM,OACN3P,KAAMynD,EAAKnyD,MAAMq6F,EAAWC,KAIpCD,EAAYC,MACT,CAKH,GAJAA,EAAYT,GACR9oC,EACAoB,EACAkoC,EAAYvpC,EAAUxxD,SACP,IAAfg7F,EAAkB,CAClBnxF,GAAO,EACP,MAGJgxF,EAAU9yF,KAAK,CACXgT,KAAM,OACN3P,KAAMynD,EAAKnyD,MACPq6F,EAAYvpC,EAAUxxD,OACtBg7F,GACJC,QAASpoC,EAAKnyD,MACVq6F,EACAC,EAAYvpC,EAAWzxD,QAC3B4kD,UAAWA,IAGfm2C,EAAYC,EAAYvpC,EAAWzxD,OAGvC86F,GAAkBA,EAElBC,EAAYloC,EAAK7yD,QACjB66F,EAAU9yF,KAAK,CACXgT,KAAM,OACN3P,KAAMynD,EAAKnyD,MAAMq6F,UAIzBF,EAAU9yF,KAAK6yF,EAAUt+F,IAIjC,OAAOu+F,EAGX,SAASK,GAAoBroC,EAAMsoC,GAE/B,IADA,IAAI/vF,EAAO,CAAC,CAAC2P,KAAM,OAAQ3P,KAAMynD,IACxBv2D,EAAI,EAAGA,EAAI6+F,EAAWC,OAAOp7F,OAAQ1D,IAAK,CAC/C,IAAM+yC,EAAY8rD,EAAWC,OAAO9+F,GACpC8O,EAAOuvF,GACHvvF,EAAMikC,EAAU,GAAIA,EAAU,GAAI,aAE1C,IAAK,IAAI/yC,EAAI,EAAGA,EAAI6+F,EAAWtlE,QAAQ71B,OAAQ1D,IAAK,CAChD,IAAM+yC,EAAY8rD,EAAWtlE,QAAQv5B,GACrC8O,EAAOuvF,GACHvvF,EAAMikC,EAAU,GAAIA,EAAU,GAAI,gBAG1C,OAAOjkC,EAIX,SAASiwF,GAAiBn9B,EAAOztD,GAG7B,IAAM83C,EAAOxyB,SAAS5xB,cAAc,QACpC,IACIokD,EAAK+xB,UAAY,oDACG7pE,EAAQ6qF,eAAep9B,EAAOztD,GACjC,UACnB,MAAOxG,GACL6X,QAAQ5f,MAAO,qBAAwBg8D,EAAQ,oBAAsBj0D,GACrEs+C,EAAKk2B,YAAcvgB,EAGvB,OADA3V,EAAK63B,UAAY,UACV73B,EAGX,SAASgzC,GAAiB1oC,EAAMpiD,EAASm0C,EAAW42C,GAMhD,IAAIjzC,EAAOxyB,SAAS5xB,cAAc,QAClCokD,EAAK+1B,aAAa,cAAc,QAC5B7tE,EAAQgrF,0BACRlzC,EAAK+1B,aAAa,QAAU7tE,EAAQ+gC,UAAY,mBAAoBqhB,GAChEjO,GACA2D,EAAK+1B,aAAa,QAAU7tE,EAAQ+gC,UAAY,qBAAsBoT,IAI9E,IACI2D,EAAK+xB,UAAY7pE,EAAQirF,eAAe7oC,EAAMjO,GAAa,eAAgB,OAAQn0C,EAAQi0C,QAC5F,MAAOz6C,GAEN,GADA6X,QAAQ5f,MAAO,mBAAsB2wD,EAAO,UAAY5oD,IACpDuxF,EAGA,OAAO,KAFPjzC,EAAOxyB,SAASyV,eAAeqnB,GAKvC,OAAOtK,EAGX,SAASozC,GAA2B9oC,EAAMjO,EAAWn0C,EAAS+qF,GAI1D,IAAMI,EAAaL,GAAiB1oC,EAAMpiD,EAASm0C,EAAW42C,GAE9D,GAAII,GAAc,+BAA+Bp9F,KAAKiS,EAAQorF,yBAA0B,CACpF,IAAMthF,EAAWwb,SAAS+lE,yBAI1B,GAHI,cAAct9F,KAAKiS,EAAQorF,0BAA4BprF,EAAQ6qF,gBAC/D/gF,EAASkE,YAAY48E,GAAiBxoC,EAAMpiD,IAE5C,sBAAsBjS,KAAKiS,EAAQorF,0BAA4BprF,EAAQsrF,sBAAuB,CAC9F,IAAMxzC,EAAOxyB,SAAS5xB,cAAc,QACpCokD,EAAK+xB,UAAa7pE,EAAQsrF,sBAAsBlpC,EAAMpiD,GACtD83C,EAAK63B,UAAY,UACjB7lE,EAASkE,YAAY8pC,GAGzB,OADAhuC,EAASkE,YAAYm9E,GACdrhF,EAGX,OAAOqhF,EAGX,SAASra,GAAS1uB,EAAMpiD,GAGpB,IAAI8J,EAAW,KACf,GAAI9J,EAAQurF,IAAIC,qBAAuB,cAAcz9F,KAAKq0D,GACtDt4C,EAAWwb,SAAS+lE,yBACpBvhF,EAASkE,YAAYk9E,GAA2B9oC,OAAM5yD,EAAWwQ,GAAS,QACvE,CACH,IAAMrF,EAAO8vF,GAAoBroC,EAAMpiD,EAAQurF,IAAIb,YACnD,GAAoB,IAAhB/vF,EAAKpL,QAAiC,SAAjBoL,EAAK,GAAG2P,KAE7B,OAAO,KAEXR,EAAWwb,SAAS+lE,yBAEpB,IAAK,IAAIx/F,EAAI,EAAGA,EAAI8O,EAAKpL,OAAQ1D,IACR,SAAjB8O,EAAK9O,GAAGye,KACRR,EAASkE,YAAYsX,SAASyV,eAAepgC,EAAK9O,GAAG8O,OAErDmP,EAASkE,YAAYk9E,GAA2BvwF,EAAK9O,GAAG8O,KAAMA,EAAK9O,GAAGsoD,UAAWn0C,GAAS,IAItG,OAAO8J,EAGX,SAAS2hF,GAAYh3C,EAAMz0C,GACvB,IAAMs6E,EAAkB7lC,EAAKm5B,aAAa,QAAU5tE,EAAQ+gC,UACxD,oBACJ,GAAIu5C,EAAJ,CACI,IAAMnmC,EAAYM,EAAKm5B,aAAa,QAAU5tE,EAAQ+gC,UAAY,aAC5D+W,EAAOozC,GAA2B5Q,EAAiBnmC,EAAWn0C,GAAS,GACjE,MAAR83C,IACArD,EAAKu5B,YAAc,GACnBv5B,EAAKzmC,YAAY8pC,QALzB,CAWA,GAA+B,IAA3BrD,EAAKusC,WAAWzxF,QAAgD,IAAhCklD,EAAKusC,WAAW,GAAG0K,SAAgB,CAGnE,IAAMtpC,EAAO3N,EAAKusC,WAAW,GAAGhT,YAChC,GAAIhuE,EAAQurF,IAAIC,qBAAuB,cAAcz9F,KAAKq0D,GAGtD,OAFA3N,EAAKu5B,YAAc,QACnBv5B,EAAKzmC,YAAak9E,GAA2B9oC,OAAM5yD,EAAWwQ,GAAS,IAI3E,IAAMrF,EAAO8vF,GAAoBroC,EAAMpiD,EAAQurF,IAAIb,YACnD,GAAoB,IAAhB/vF,EAAKpL,QAAiC,SAAjBoL,EAAK,GAAG2P,KAK7B,OAFAmqC,EAAKu5B,YAAc,QACnBv5B,EAAKzmC,YAAak9E,GAA2BvwF,EAAK,GAAGA,KAAMA,EAAK,GAAGw5C,UAAWn0C,GAAS,IAEpF,GAAoB,IAAhBrF,EAAKpL,QAAiC,SAAjBoL,EAAK,GAAG2P,KAGpC,OAIR,IAAK,IAAIze,EAAI,EAAGA,EAAI4oD,EAAKusC,WAAWzxF,OAAQ1D,IAAK,CAC7C,IAAM8/F,EAAYl3C,EAAKusC,WAAWn1F,GAClC,GAA2B,IAAvB8/F,EAAUD,SAAgB,CAG1B,IAAME,EAAO9a,GAAS6a,EAAU3d,YAAahuE,GACzC4rF,IACA//F,GAAK+/F,EAAK5K,WAAWzxF,OAAS,EAC9BklD,EAAKo3C,aAAaD,EAAMD,SAEzB,GAA2B,IAAvBA,EAAUD,SAAgB,CAEjC,IAAMvjE,EAAMwjE,EAAUG,SAASjkF,cAC/B,GAAY,WAARsgB,GACAnoB,EAAQ+rF,yBAAyBh+F,KAAK49F,EAAUrhF,MAAO,CACvD,IAAI6a,EAAQ,eAD2C,uBAEvD,YAAiBwmE,EAAUrhF,KAAKvS,MAAM,KAAtC,+CAA4C,KAAjCjM,EAAiC,QAClC4xC,EAAI5xC,EAAEiM,MAAM,KACS,SAAvB2lC,EAAE,GAAG71B,gBAEDsd,EADsB,YAAtBuY,EAAE,GAAGsuD,aACG,eAEA,cARmC,kFAcvD,IAAMl0C,EAAOozC,GAA2BS,EAAU3d,YAC9C7oD,EAAOnlB,GAAS,GACpB2rF,EAAU9L,WAAWgM,aAAa/zC,EAAM6zC,OACrC,CAEH,IAAMM,EACFjsF,EAAQksF,oBAAoBn+F,KAAK49F,EAAUhc,cACzC3vE,EAAQmsF,SAAStrF,SAASsnB,IACxBnoB,EAAQosF,mBAAmBr+F,KAAK49F,EAAUhc,YAE9Csc,GACAR,GAAYE,EAAW3rF,OAQ3C,IAAMqsF,GAAiB,CAEnBtrD,UAAW,GAGXorD,SAAU,CAAC,WAAY,QAAS,WAAY,MAAO,OAC/C,aAAc,kBAGlBG,kBAAmB,WAInBC,YAAa,iBAIbC,aAAc,kBAIdxB,yBAAyB,EAGzBI,wBAAyB,SAEzBG,IAAK,CACDkB,UAAU,EACVjB,qBAAsB,EACtBd,WAAY,CACRC,OAAS,CAAC,CAAC,MAAM,QACjBvlE,QAAS,CAAC,CAAC,KAAM,MAAO,CAAC,MAAO,WAK5C,SAASsnE,GAAoBj4C,EAAMz0C,GAC/B,IAQI,GAPAA,EAAUzT,OAAO6V,OAAO,GAAIiqF,GAAgBrsF,GAC5CA,EAAQosF,mBAAqB,IAAI10F,OAAOsI,EAAQusF,aAChDvsF,EAAQksF,oBAAsB,IAAIx0F,OAAOsI,EAAQwsF,cACjDxsF,EAAQ+rF,yBAA2B,IAAIr0F,OAAOsI,EAAQssF,mBACtDtsF,EAAQi0C,OAASoO,GAAYzH,OAGzB56C,EAAQ+gC,UAAW,CACnB,IAAK,eAAehzC,KAAKiS,EAAQ+gC,WAC7B,MAAMjU,MAAM,mEAEX,KAAK/+B,KAAKiS,EAAQ+gC,aACvB/gC,EAAQ+gC,WAAa,KAIzB0qD,GAAYh3C,EAAMz0C,GACpB,MAAMxG,GACAA,aAAaszB,MACbzb,QAAQ5f,MAAM,0BAA4B+H,EAAEmzF,SAE5Ct7E,QAAQ5f,MAAM,4DAA8DgjD,IAKrE,QACXi4C,wBC9TR,SAASv1C,GAASiL,EAAMjO,EAAWqlB,EAAQvlB,GACvCE,EAAYA,GAAa,eAEzB9iC,QAAQu8B,OAAO,uDAAuD7/C,KAAKomD,GACvE,iBAAkBA,GAKtB,IAAM8a,EAASphB,EAAMS,SAAS8T,GAQxBkS,EAAWkM,GAAa9Q,YAAYT,EAAQ,OAAQ,KAAMhb,GAEhE,GAAe,aAAXulB,EAAuB,OAAOlF,EAQlC,IAAIjc,EAAQ0M,GAASY,UAAU,CAACxR,UAAWA,GAAYmgB,GAUvD,GAFAjc,EAAQ3D,GAAK0D,SAASC,GAEP,SAAXmhB,EAAmB,OAAOnhB,EAK9B,IAAM/uC,EAAOorC,GAAK6D,SAASF,EAAO,YAE5BqwB,EAAWh0B,GAAK6D,SAAS,GAAI,aACnCmwB,EAASzzB,SAAS,SAAU3rC,EAAK2oC,OAAQ,MACzC,IAAM+xC,EAAS,CAACtb,GAChB,GAAmB,IAAfp/D,EAAKkqB,MAAa,CAClB,IAAMm1C,EAAcj0B,GAAK6D,SAAS,GAAI,qBACtCowB,EAAY1zB,SAAS,SAAU3rC,EAAK2oC,OAAS3oC,EAAKkqB,MAAO,MACzDm1C,EAAY1zB,SAAS,kBAAmB3rC,EAAKkqB,MAAO,MACpDwwD,EAAO1sF,KAAKqxE,GAEhBqb,EAAO1sF,KAAKgS,GACZ,IAAMxT,EAAU4+C,GAAK6D,SAASyrC,EAAQ,gBAOtC,OAAOluF,EAAQqhD,WAgCnB,SAASy1C,GAAcj5D,EAAS2hC,GAC5B,IAAK4kB,GACD,MAAMptD,MAAM,uCAKhB,OAHAwoC,EAASA,GAAU,GACnBA,EAAOozB,YAAcpzB,EAAOozB,aAAemE,GAC3Cv3B,EAAOuzB,gBAAkBvzB,EAAOuzB,iBAAmBiE,GAC5C,IAAI5S,GAAUA,UAAU6S,GAAWp5D,GAAU2hC,GAgBxD,SAASmb,GAAShjB,EAAOztD,GACrB,IAAK+kD,GAAS0rB,SAEV,OADAp/D,QAAQwiD,KAAK,oCACN,GAEX7zD,EAAUA,GAAW,GACrBA,EAAQi0C,OAASj0C,EAAQi0C,QAAU,GACnC1nD,OAAO6V,OAAOpC,EAAQi0C,OAAQoO,GAAYzH,QAE1C,IAAM0Z,EAAWkM,GAAa9Q,YAAY7hB,EAAMS,SAASmf,GACrD,OAAQ,KAAMztD,EAAQi0C,QAE1B,OAAO8Q,GAAS0rB,SAASnc,EAAUt0D,GAiBvC,SAASgtF,GAAWv/B,EAAOztD,GACvB,IAAK+kD,GAAS8vB,MAEV,OADAxjE,QAAQwiD,KAAK,iCACN,GAEX7zD,EAAUA,GAAW,GACrBA,EAAQi0C,OAASj0C,EAAQi0C,QAAU,GACnC1nD,OAAO6V,OAAOpC,EAAQi0C,OAAQoO,GAAYzH,QAE1C,IAAM0Z,EAAWkM,GAAa9Q,YAAY7hB,EAAMS,SAASmf,GACrD,OAAQ,KAAMztD,EAAQi0C,QAE1B,OAAO8Q,GAAS8vB,MAAMvgB,EAAUt0D,GAgCpC,SAASitF,GAAWpb,EAAK7xE,GACrB,OAAOktF,GAAS1W,QAAQ3E,EAAK7xE,GA0CjC,SAASmtF,GAAqB1/B,EAAOztD,GACjC,IAAK+kD,GAASuzB,gBAEV,OADAjnE,QAAQwiD,KAAK,8CACN,GAEX7zD,EAAUA,GAAW,GACrBA,EAAQi0C,OAASj0C,EAAQi0C,QAAU,GACnC1nD,OAAO6V,OAAOpC,EAAQi0C,OAAQoO,GAAYzH,QAE1C,IAAM0Z,EAAWkM,GAAa9Q,YAAY7hB,EAAMS,SAASmf,GACrD,OAAQ,KAAMztD,EAAQi0C,QAE1B,OAAO8Q,GAASuzB,gBAAgBhkB,EAAUt0D,GAI9C,SAASotF,GAAgB/yD,GACrBA,EAAKmd,UAAUizB,OAAO,aAClBpwC,EAAKua,UACLp3C,MAAMvC,KAAKo/B,EAAKua,UAAUjgD,SAAQ,SAAA9F,GAC9Bu+F,GAAgBv+F,MAc5B,SAASw+F,GAAgBhzD,EAAMizD,GACtBA,GAAUjzD,EAAK4sD,QAAQsG,SAAWD,GAQnCjzD,EAAKmd,UAAUizB,OAAO,aAClBpwC,EAAKua,UAAYva,EAAKua,SAASrlD,OAAS,GACxCiO,MAAMvC,KAAKo/B,EAAKua,UAAUjgD,SAAQ,SAAA9F,GAC9Bw+F,GAAgBx+F,EAAGy+F,QAV3BjzD,EAAKmd,UAAU54B,IAAI,aACfyb,EAAKua,UAAYva,EAAKua,SAASrlD,OAAS,GACxCiO,MAAMvC,KAAKo/B,EAAKua,UAAUjgD,SAAQ,SAAA9F,GAC9Bw+F,GAAgBx+F,OAahC,SAASg+F,GAAMzqC,EAAMkT,GAMjB,IALKA,GAAUjkE,QAAUA,OAAOuyF,WAC5BtuB,EAASjkE,OAAOuyF,SAAStuB,QAE7BA,EAASA,GAAU,GAEdA,EAAOqzB,cAAwC,UAAxBrzB,EAAOqzB,aAS5B,GAA4B,WAAxBrzB,EAAOqzB,aACd,GAAKt3F,QAAWA,OAAOm8F,IAEhB,CACH,IAAMC,EAAQ,IAAIp8F,OAAOm8F,IAAIE,MAAM,CAACC,WAAY,eAC1Cx8D,EAAS,CACXy8D,aAAc,MACdC,QAASv4B,EAAOw4B,mBAAqB,SAErCC,KAAM3rC,EACN4rC,SAAU,QAGdP,EAAMQ,iBAAiB98D,GAAQ,SAAS9F,EAAK1wB,GACzC,GAAI0wB,EACAha,QAAQwiD,KAAK,kCAAmCxoC,EAAKA,EAAI2e,YAEzD,GAAIrvC,GAAQA,EAAKuzF,YAAa,CAC1B,IAAMC,EAAa,IAAIj1E,WAAWve,EAAKuzF,aACjCjiF,EAAO,IAAImiF,KAAK,CAACD,EAAW5xF,QAAS,CAAC+N,KAAM,eAC5ChW,EAAMC,IAAIuX,gBAAgBG,GAE1BoiF,EAAe,IAAItG,MAAMzzF,GAC/B+5F,EAAa7M,OAAOC,OAAM,SAAAp2D,GAAG,OAAIha,QAAQ9S,IAAI8sB,WAE7Cha,QAAQ9S,IAAI,4BAA8B5D,WAvBtD0W,QAAQwiD,KAAK,qEA8Bc,WAAxByB,EAAOqzB,cACdt3E,QAAQwiD,KAAK,yEA1C4C,CAGzD,IAAMy6B,EAAY,IAAIC,yBAAyBnsC,GAC3C/wD,OACAA,OAAOm9F,gBAAgB3B,MAAMyB,GAE7Bj9E,QAAQ9S,IAAI,UAAW6jD,IAsEnC,SAAS0qC,GAAUn5D,EAASyuB,EAAMkT,GAC9B,GAAKjkE,OAAL,CAQA,IALKikE,GAAUjkE,OAAOuyF,WAClBtuB,EAASjkE,OAAOuyF,SAAStuB,QAE7BA,EAASA,GAAU,GAES,WAAxBA,EAAOqzB,aAGP,OAFAt3E,QAAQwiD,KAAK,4DACTyB,EAAOozB,aAAapzB,EAAOozB,YAAYtmC,IAG/C,GAAK/wD,OAAOm8F,IAAZ,CAIA,IAAMC,EAAQ,IAAIp8F,OAAOm8F,IAAIE,MAAM,CAACC,WAAY,eAE1Cx8D,EAAS,CACXy8D,aAAc,OACdC,QAASv4B,EAAOw4B,mBAAqB,SACrCC,KAAM3rC,EACN4rC,SAAU,OACVS,gBAAiB,CAAC,SAGtBp9F,OAAOuyF,SAAWvyF,OAAOuyF,UAAY,GACrCvyF,OAAOuyF,SAAS8K,iBAAmB/6D,EAEnC,IAAMg7D,EAASr5B,EAAOs5B,mBAAqBv9F,OAAOuyF,SAASgL,kBAG3DnB,EAAMQ,iBAAiB98D,GAAQ,SAAS9F,EAAK1wB,GACzC,GAAI0wB,EACAha,QAAQwiD,KAAK,kCAAmCxoC,EAAKA,EAAI2e,YAEzD,GAAIrvC,GAAQA,EAAKuzF,YAAa,CAC1B,IAAMW,EAAW,IAAIC,YAAY,SAASC,OAAO,IAAI71E,WAAWve,EAAKuzF,cACrE78F,OAAOuyF,SAASoL,eAAiBH,EAAS92F,MAAM,MAAMkY,KAAI,SAAAphB,GAAC,OAAIA,EAAI4D,KAAKssD,MAAMlwD,GAAK,MACnFwC,OAAOuyF,SAASqL,gBAAkB,GAHR,2BAI1B,YAAmB59F,OAAOuyF,SAASoL,eAAnC,+CAAmD,KAAxCxgE,EAAwC,QAC3CA,EAAK1hC,OACLuE,OAAOuyF,SAASqL,gBAAgB33F,KAAKk3B,EAAK1hC,QANxB,kFAS1BuE,OAAOuyF,SAASsL,qBAAuB,GAGvC/9D,EAAOy8D,aAAe,MACtBz8D,EAAOs9D,gBAAkB,GACzBhB,EAAMQ,iBAAiB98D,GAAQ,SAAS9F,EAAK1wB,GACzC,GAAI0wB,EACAha,QAAQwiD,KAAK,0BAA2BzR,EAAO,WAAY/2B,EAAKA,EAAI2e,YAEpE,GAAIrvC,GAAQA,EAAKuzF,YAAa,CAC1B,IAAMC,EAAa,IAAIj1E,WAAWve,EAAKuzF,aACjCjiF,EAAO,IAAImiF,KAAK,CAACD,EAAW5xF,QAAS,CAAC+N,KAAM,eAC5ChW,EAAMC,IAAIuX,gBAAgBG,GAE3B5a,OAAOuyF,SAASuL,eAuCjB99F,OAAOuyF,SAASuL,eAAeC,SAtC/B/9F,OAAOuyF,SAASuL,eAAiB,IAAIpH,MACrC12F,OAAOuyF,SAASuL,eAAerhF,iBAAiB,SAAS,WACjD6gF,GAAQA,EAAOt9F,OAAOuyF,SAASgF,mBAAoB,SACnDv3F,OAAOuyF,SAASgF,oBAChBv3F,OAAOuyF,SAASgF,mBAAmBlF,UACnCryF,OAAOuyF,SAAS8K,iBAAmB,KACnCr9F,OAAOuyF,SAASgF,mBAAqB,KACrCv3F,OAAOuyF,SAASqL,gBAAkB,GAClC59F,OAAOuyF,SAASoL,eAAiB,GACjC39F,OAAOuyF,SAASsL,qBAAuB,IAEvC9B,GAAgB/7F,OAAOuyF,SAAS8K,qBAGxCr9F,OAAOuyF,SAASuL,eAAerhF,iBAAiB,cAAc,WAC1D,IAAIhhB,EAAQ,GAIN4B,EAAsD,IAA7C2C,OAAOuyF,SAASuL,eAAeE,YAAqB,IALH,uBAQhE,YAAmBh+F,OAAOuyF,SAASoL,eAAnC,+CAAmD,KAAxCxgE,EAAwC,QAC3CA,EAAKywD,KAAOvwF,IACZ5B,EAAQ0hC,EAAK1hC,QAV2C,kFAa5DuE,OAAOuyF,SAASsL,uBAAyBpiG,IACzCuE,OAAOuyF,SAAS0L,sBAAwBxiG,EACpCA,GAASA,IAAUuE,OAAOuyF,SAAS2L,oBACnCl+F,OAAOuyF,SAASuL,eAAeC,SAE/B/9F,OAAOuyF,SAASsL,qBAAuBpiG,EACvCugG,GAAgBh8F,OAAOuyF,SAAS8K,iBAAkBr9F,OAAOuyF,SAASsL,4BAQlF79F,OAAOuyF,SAASuL,eAAe9/E,IAAM/a,EACjCq6F,GACAA,EAAOt9F,OAAOuyF,SAASgF,mBAAoB,WAE/Cv3F,OAAOuyF,SAASuL,eAAe3N,gBAO3CnwE,QAAQ9S,IAAI,4BAA8B5D,WAnGlD0W,QAAQwiD,KAAK,kEAwHrB,SAAS27B,KACL,OAAKn+F,QACLA,OAAOuyF,SAAWvyF,OAAOuyF,UAAY,GAEhCvyF,OAAOuyF,SAASuL,eACjB99F,OAAOuyF,SAASuL,eAAeM,OAAe,SAC7Cp+F,OAAOuyF,SAASuL,eAAeO,MAE7B,QAF2C,UAFN,SAHxB,cAiBxB,SAASC,KACAt+F,SACLA,OAAOuyF,SAAWvyF,OAAOuyF,UAAY,GACjCvyF,OAAOuyF,SAASuL,iBACZ99F,OAAOuyF,SAASgL,mBAChBv9F,OAAOuyF,SAASgL,kBAAkBv9F,OAAOuyF,SAASgF,mBAAoB,UAE1Ev3F,OAAOuyF,SAASuL,eAAeC,UAWvC,SAASQ,KACAv+F,SACLA,OAAOuyF,SAAWvyF,OAAOuyF,UAAY,GACjCvyF,OAAOuyF,SAASuL,iBACZ99F,OAAOuyF,SAASgL,mBAChBv9F,OAAOuyF,SAASgL,kBAAkBv9F,OAAOuyF,SAASgF,mBAAoB,WAE1Ev3F,OAAOuyF,SAASuL,eAAe3N,SAcvC,SAASqO,GAAcjhD,EAAOj4C,GAC1B,GAAKtF,SACLA,OAAOuyF,SAAWvyF,OAAOuyF,UAAY,GACjCvyF,OAAOuyF,SAASuL,gBAAgB,CAChC,IAAIW,EAAY,EAEhB,GADAz+F,OAAOuyF,SAAS2L,oBAAsB,KAClC3gD,EAAO,CACPv9C,OAAOuyF,SAASoL,eAAiB39F,OAAOuyF,SAASoL,gBAAkB,GAD5D,2BAEP,YAAmB39F,OAAOuyF,SAASoL,eAAnC,+CAAmD,KAAxCxgE,EAAwC,QAC3CA,EAAK1hC,QAAU8hD,IACfkhD,EAAYthE,EAAKywD,KAAO,MAJzB,kFAOP,IAAI8Q,EAAa1+F,OAAOuyF,SAASqL,gBAAgBluF,QAAQ6tC,GACrDmhD,GAAc,IACdA,GAAcp5F,EACVo5F,EAAa1+F,OAAOuyF,SAASqL,gBAAgB1/F,SAC7C8B,OAAOuyF,SAAS2L,oBAAsBQ,IAIlD1+F,OAAOuyF,SAASuL,eAAeE,YAAcS,EACzCz+F,OAAOuyF,SAASgL,mBAChBv9F,OAAOuyF,SAASgL,kBAAkBv9F,OAAOuyF,SAASgF,mBAAoB,WAE1Ev3F,OAAOuyF,SAASuL,eAAe3N,QAyBvC,SAASwO,GAAqBhwF,GAC1B0sF,GAAoBpnE,SAAS2M,KAAMjyB,GAGvC,SAAS+sF,GAAWp5D,GAChB,IAAIl/B,EAASk/B,EACb,GAAuB,kBAAZA,IACPl/B,EAAS6wB,SAASs0D,eAAejmD,IAC5Bl/B,GACD,MAAMq4B,MAAM,wBAAD,OAAyB6G,EAAzB,0BAGnB,OAAOl/B,EAiFX,SAASi4F,GAAoB/4D,EAAS3zB,GAC7BiwF,IAILjwF,EAAUA,GAAW,GACrBA,EAAQirF,eAAiBjrF,EAAQirF,gBAAkB9zC,GACnDn3C,EAAQ6qF,eAAiB7qF,EAAQ6qF,gBAAkBpa,GACnDzwE,EAAQsrF,sBAAwBtrF,EAAQsrF,uBAAyB6B,GACjEntF,EAAQi0C,OAASj0C,EAAQi0C,QAAUoO,GAAYzH,OAC/Cq1C,GAAWvD,oBAAoBK,GAAWp5D,GAAU3zB,IARhDqR,QAAQwiD,KAAK,wCAarB,SAASq8B,GAAkBlwF,GACvB,GAAIA,EAAQ+gC,UAAW,CACnB,IAAK,eAAehzC,KAAKiS,EAAQ+gC,WAC7B,MAAMjU,MAAM,mEAEX,KAAK/+B,KAAKiS,EAAQ+gC,aACpB/gC,EAAQ+gC,WAAa,MAchC,SAASovD,GAAwBx8D,EAAS3zB,GACtC2zB,EAAUo5D,GAAWp5D,GAGrBA,EAAUA,EAAQihB,SAAS,GAEvBjhB,aAAmBumD,GAAUA,UAC7BvmD,EAAQw8D,2BAERnwF,EAAUA,GAAW,GACrBkwF,GAAkBlwF,GAClB2zB,EAAQk2C,UAAYl2C,EAAQi6C,aAAa,SACpC5tE,EAAQ+gC,WAAa,IAAM,qBAkCxC,SAASqvD,GAAmBz8D,EAAS3zB,GAMjC,OALA2zB,EAAUo5D,GAAWp5D,GAGrBA,EAAUA,EAAQihB,SAAS,GAEvBjhB,aAAmBumD,GAAUA,UACtBvmD,EAAQ2mD,iBAEnBt6E,EAAUA,GAAW,GACrBkwF,GAAkBlwF,GACX2zB,EAAQi6C,aAAa,SACvB5tE,EAAQ+gC,WAAa,IAAM,qBAGpC,IAAMsvD,GAAW,CACb7nB,cAAerxB,GACfm5C,cAAe7f,GACf0c,wBACAH,cACAC,cACAL,iBACAoD,wBACAtD,uBACAyD,2BACAC,sBACAtD,aACA0C,mBACAG,kBACAC,mBACAC,kBAGWQ,MC91BfE,EAAUC,QAAU,SAAUC,GAC5BlkG,OAAOC,eAAeikG,EAAIhjG,UAAW,YAAa,CAAEX,MAAOujG,KAC3DI,EAAIpkD,UAAUkkD,EAAUnkG,KAAMmkG,IAGjBA,SCVA,iB,qBCFf,IAAI71F,EAA8B,EAAQ,QAI1CA,EAA4B,UAAU,SAAU3E,GAC9C,OAAO,SAAqB4E,EAAMC,EAAYrL,GAC5C,OAAOwG,EAAKtK,KAAMkP,EAAMC,EAAYrL,Q,kCCLxC,IAAItB,EAAI,EAAQ,QACZ+B,EAAW,EAAQ,QACnB2R,EAAU,EAAQ,QAClB9G,EAAkB,EAAQ,QAC1B7L,EAAW,EAAQ,QACnBgC,EAAkB,EAAQ,QAC1BsjB,EAAiB,EAAQ,QACzBJ,EAA+B,EAAQ,QACvCrmB,EAAkB,EAAQ,QAE1BiQ,EAAUjQ,EAAgB,WAC1B6iG,EAAc,GAAGzgG,MACjB0P,EAAMtR,KAAKsR,IAKf1R,EAAE,CAAES,OAAQ,QAASS,OAAO,EAAMP,QAASslB,EAA6B,UAAY,CAClFjkB,MAAO,SAAeuD,EAAOC,GAC3B,IAKIwJ,EAAaxI,EAAQnH,EALrBmC,EAAIuB,EAAgBvF,MACpB8D,EAASP,EAASS,EAAEF,QACpBojC,EAAI93B,EAAgBrH,EAAOjE,GAC3BwpC,EAAMl+B,OAAwBrL,IAARiE,EAAoBlE,EAASkE,EAAKlE,GAG5D,GAAIoS,EAAQlS,KACVwN,EAAcxN,EAAE6M,YAEU,mBAAfW,GAA8BA,IAAgBO,QAASmE,EAAQ1E,EAAYxP,WAE3EuC,EAASiN,KAClBA,EAAcA,EAAYa,GACN,OAAhBb,IAAsBA,OAAczN,IAHxCyN,OAAczN,EAKZyN,IAAgBO,YAAyBhO,IAAhByN,GAC3B,OAAOyzF,EAAY1kG,KAAKyD,EAAGkjC,EAAGoG,GAIlC,IADAtkC,EAAS,SAAqBjF,IAAhByN,EAA4BO,MAAQP,GAAa0C,EAAIo5B,EAAMpG,EAAG,IACvErlC,EAAI,EAAGqlC,EAAIoG,EAAKpG,IAAKrlC,IAASqlC,KAAKljC,GAAG6kB,EAAe7f,EAAQnH,EAAGmC,EAAEkjC,IAEvE,OADAl+B,EAAOlF,OAASjC,EACTmH,M,qBCzCX,IAAIglB,EAAgB,EAAQ,QACxB9mB,EAAyB,EAAQ,QAErCtH,EAAOD,QAAU,SAAUoG,GACzB,OAAOioB,EAAc9mB,EAAuBnB,M,qBCL9C,IAAIkJ,EAA8B,EAAQ,QAI1CA,EAA4B,QAAQ,SAAU3E,GAC5C,OAAO,SAAmB4E,EAAMC,EAAYrL,GAC1C,OAAOwG,EAAKtK,KAAMkP,EAAMC,EAAYrL,Q,mBCJxClE,EAAOD,QAAU,CACfulG,YAAa,EACbC,oBAAqB,EACrBC,aAAc,EACdC,eAAgB,EAChBC,YAAa,EACbC,cAAe,EACfC,aAAc,EACdC,qBAAsB,EACtBC,SAAU,EACVC,kBAAmB,EACnBC,eAAgB,EAChBC,gBAAiB,EACjBC,kBAAmB,EACnBC,UAAW,EACXC,cAAe,EACfC,aAAc,EACdC,SAAU,EACVC,iBAAkB,EAClBC,OAAQ,EACRC,YAAa,EACbC,cAAe,EACfC,cAAe,EACfC,eAAgB,EAChBC,aAAc,EACdC,cAAe,EACfC,iBAAkB,EAClBC,iBAAkB,EAClBC,eAAgB,EAChBC,iBAAkB,EAClBC,cAAe,EACfC,UAAW,I,qBCjCb,IAAIr+D,EAAgB,EAAQ,QAE5B/oC,EAAOD,QAAUgpC,IAEXxnC,OAAOgR,MAEkB,iBAAnBhR,OAAO0S,U,qBCNnB,IAAI/M,EAAS,EAAQ,QAErBlH,EAAOD,QAAUmH,EAAOg6B,S,qBCFxB,IAAIt+B,EAAI,EAAQ,QACZE,EAAQ,EAAQ,QAEhBukG,EAAarkG,KAAKskG,KAClBvkG,EAAMC,KAAKD,IACXG,EAAIF,KAAKE,EAIbN,EAAE,CAAES,OAAQ,OAAQC,MAAM,EAAMC,QAAS8jG,GAAcA,EAAW,OAAS77F,KAAY,CACrF87F,KAAM,SAAc9jG,GAClB,IAAI9B,EAAIoB,EAAMC,EAAIS,GAAK,GAAK,EAC5B,OAAQ9B,EAAI,GAAKA,EAAIwB,EAAIA,KAAOA,EAAI","file":"math-input.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"math-input\"] = factory();\n\telse\n\t\troot[\"math-input\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar expm1 = require('../internals/math-expm1');\n\nvar abs = Math.abs;\nvar exp = Math.exp;\nvar E = Math.E;\n\nvar FORCED = fails(function () {\n  return Math.sinh(-2e-17) != -2e-17;\n});\n\n// `Math.sinh` method\n// https://tc39.github.io/ecma262/#sec-math.sinh\n// V8 near Chromium 38 has a problem with very small numbers\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  sinh: function sinh(x) {\n    return abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (E / 2);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.blink` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.blink\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('blink') }, {\n  blink: function blink() {\n    return createHTML(this, 'blink', '', '');\n  }\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\n// `Math.expm1` method\n// https://tc39.github.io/ecma262/#sec-math.expm1\n$({ target: 'Math', stat: true, forced: expm1 != Math.expm1 }, { expm1: expm1 });\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://тест').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#б').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/forced-object-prototype-accessors-methods');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineGetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__defineGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineGetter__: function __defineGetter__(P, getter) {\n      definePropertyModule.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar task = require('../internals/task');\n\nvar FORCED = !global.setImmediate || !global.clearImmediate;\n\n// http://w3c.github.io/setImmediate/\n$({ global: true, bind: true, enumerable: true, forced: FORCED }, {\n  // `setImmediate` method\n  // http://w3c.github.io/setImmediate/#si-setImmediate\n  setImmediate: task.set,\n  // `clearImmediate` method\n  // http://w3c.github.io/setImmediate/#si-clearImmediate\n  clearImmediate: task.clear\n});\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.big` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.big\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('big') }, {\n  big: function big() {\n    return createHTML(this, 'big', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: sloppyArrayMethod('reduce') }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int32', function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","/* eslint-disable no-new */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = sloppyArrayMethod('forEach') ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.anchor` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.anchor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('anchor') }, {\n  anchor: function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.fontsize` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fontsize\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fontsize') }, {\n  fontsize: function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  }\n});\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.species` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.species\ndefineWellKnownSymbol('species');\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var $ = require('../internals/export');\nvar ownKeys = require('../internals/own-keys');\n\n// `Reflect.ownKeys` method\n// https://tc39.github.io/ecma262/#sec-reflect.ownkeys\n$({ target: 'Reflect', stat: true }, {\n  ownKeys: ownKeys\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimEnd = require('../internals/string-trim').end;\nvar forcedStringTrimMethod = require('../internals/forced-string-trim-method');\n\nvar FORCED = forcedStringTrimMethod('trimEnd');\n\nvar trimEnd = FORCED ? function trimEnd() {\n  return $trimEnd(this);\n} : ''.trimEnd;\n\n// `String.prototype.{ trimEnd, trimRight }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimEnd: trimEnd,\n  trimRight: trimEnd\n});\n","var log = Math.log;\n\n// `Math.log1p` method implementation\n// https://tc39.github.io/ecma262/#sec-math.log1p\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log(1 + x);\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\n\n// `WeakSet` constructor\n// https://tc39.github.io/ecma262/#sec-weakset-constructor\ncollection('WeakSet', function (init) {\n  return function WeakSet() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionWeak);\n","'use strict';\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-arrays-constructors-requires-wrappers');\nvar exportTypedArrayStaticMethod = require('../internals/array-buffer-view-core').exportTypedArrayStaticMethod;\nvar typedArrayFrom = require('../internals/typed-array-from');\n\n// `%TypedArray%.from` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.from\nexportTypedArrayStaticMethod('from', typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.strike` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.strike\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('strike') }, {\n  strike: function strike() {\n    return createHTML(this, 'strike', '', '');\n  }\n});\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.split` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.split\ndefineWellKnownSymbol('split');\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var $ = require('../internals/export');\nvar parseInt = require('../internals/parse-int');\n\n// `Number.parseInt` method\n// https://tc39.github.io/ecma262/#sec-number.parseint\n$({ target: 'Number', stat: true, forced: Number.parseInt != parseInt }, {\n  parseInt: parseInt\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.match` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.match\ndefineWellKnownSymbol('match');\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\n// `Math.sign` method\n// https://tc39.github.io/ecma262/#sec-math.sign\n$({ target: 'Math', stat: true }, {\n  sign: sign\n});\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.github.io/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar defineProperties = require('../internals/object-define-properties');\nvar redefine = require('../internals/redefine');\nvar anInstance = require('../internals/an-instance');\nvar has = require('../internals/has');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/punycode-to-ascii');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar URLSearchParamsModule = require('../modules/web.url-search-params');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+\\-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n// eslint-disable-next-line no-control-regex\nvar TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts && !fails(post)) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\n\n// Forced replacement object prototype accessors methods\nmodule.exports = IS_PURE || !fails(function () {\n  var key = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, key, function () { /* empty */ });\n  delete global[key];\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var $ = require('../internals/export');\n\n// `Number.EPSILON` constant\n// https://tc39.github.io/ecma262/#sec-number.epsilon\n$({ target: 'Number', stat: true }, {\n  EPSILON: Math.pow(2, -52)\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\nvar abs = Math.abs;\nvar pow = Math.pow;\n\n// `Math.cbrt` method\n// https://tc39.github.io/ecma262/#sec-math.cbrt\n$({ target: 'Math', stat: true }, {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * pow(abs(x), 1 / 3);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar fails = require('../internals/fails');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\nvar ERROR_INSTEAD_OF_FALSE = fails(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(definePropertyModule.f({}, 1, { value: 1 }), 1, { value: 2 });\n});\n\n// `Reflect.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-reflect.defineproperty\n$({ target: 'Reflect', stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS }, {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    var key = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      definePropertyModule.f(target, key, attributes);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","module.exports = {};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flat');\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","var $ = require('../internals/export');\n\nvar floor = Math.floor;\nvar log = Math.log;\nvar LOG2E = Math.LOG2E;\n\n// `Math.clz32` method\n// https://tc39.github.io/ecma262/#sec-math.clz32\n$({ target: 'Math', stat: true }, {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - floor(log(x + 0.5) * LOG2E) : 32;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-mathlive.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-mathlive.vue?vue&type=style&index=0&lang=css&\"","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: sloppyArrayMethod('some') }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/forced-string-trim-method');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float64Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float64', function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.sub` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/webkit-string-pad-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar fails = require('../internals/fails');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = HAS_SPECIES_SUPPORT && !fails(function () {\n  [].filter.call({ length: -1, 0: 1 }, function (it) { throw it; });\n});\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar bind = require('../internals/bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var index = 0;\n  var iteratorMethod = getIteratorMethod(O);\n  var length, result, step, iterator, next;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      createProperty(result, index, mapping\n        ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true)\n        : step.value\n      );\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar SLOPPY_METHOD = sloppyArrayMethod('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || SLOPPY_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== 'number' && hint !== 'default') {\n    throw TypeError('Incorrect hint');\n  } return toPrimitive(anObject(this), hint !== 'number');\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (reason.REPLACE_KEEPS_$0 || (typeof replaceValue === 'string' && replaceValue.indexOf('$0') === -1)) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","var $ = require('../internals/export');\nvar log1p = require('../internals/math-log1p');\n\nvar nativeAcosh = Math.acosh;\nvar log = Math.log;\nvar sqrt = Math.sqrt;\nvar LN2 = Math.LN2;\n\nvar FORCED = !nativeAcosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  || Math.floor(nativeAcosh(Number.MAX_VALUE)) != 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  || nativeAcosh(Infinity) != Infinity;\n\n// `Math.acosh` method\n// https://tc39.github.io/ecma262/#sec-math.acosh\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? log(x) + LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModule = require('../internals/object-define-property');\nvar regExpFlags = require('../internals/regexp-flags');\nvar UNSUPPORTED_Y = require('../internals/regexp-sticky-helpers').UNSUPPORTED_Y;\n\n// `RegExp.prototype.flags` getter\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nif (DESCRIPTORS && (/./g.flags != 'g' || UNSUPPORTED_Y)) {\n  objectDefinePropertyModule.f(RegExp.prototype, 'flags', {\n    configurable: true,\n    get: regExpFlags\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar thisNumberValue = require('../internals/this-number-value');\n\nvar nativeToPrecision = 1.0.toPrecision;\n\nvar FORCED = fails(function () {\n  // IE7-\n  return nativeToPrecision.call(1, undefined) !== '1';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToPrecision.call({});\n});\n\n// `Number.prototype.toPrecision` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.toprecision\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toPrecision: function toPrecision(precision) {\n    return precision === undefined\n      ? nativeToPrecision.call(thisNumberValue(this))\n      : nativeToPrecision.call(thisNumberValue(this), precision);\n  }\n});\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\nvar abs = Math.abs;\n\n// `Number.isSafeInteger` method\n// https://tc39.github.io/ecma262/#sec-number.issafeinteger\n$({ target: 'Number', stat: true }, {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1FFFFFFFFFFFFF;\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/forced-object-prototype-accessors-methods');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupSetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__lookupSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupSetter__: function __lookupSetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.set;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.github.io/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar createProperty = require('../internals/create-property');\n\nvar ISNT_GENERIC = fails(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n});\n\n// `Array.of` method\n// https://tc39.github.io/ecma262/#sec-array.of\n// WebKit Array.of isn't generic\n$({ target: 'Array', stat: true, forced: ISNT_GENERIC }, {\n  of: function of(/* ...args */) {\n    var index = 0;\n    var argumentsLength = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(argumentsLength);\n    while (argumentsLength > index) createProperty(result, index, arguments[index++]);\n    result.length = argumentsLength;\n    return result;\n  }\n});\n","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `Number.isInteger` method implementation\n// https://tc39.github.io/ecma262/#sec-number.isinteger\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var global = require('../internals/global');\nvar userAgent = require('../internals/user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new NativeArrayBuffer(); // eslint-disable-line no-new\n    new NativeArrayBuffer(1.5); // eslint-disable-line no-new\n    new NativeArrayBuffer(NaN); // eslint-disable-line no-new\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataView[PROTOTYPE].setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar padStart = require('../internals/string-pad').start;\n\nvar abs = Math.abs;\nvar DatePrototype = Date.prototype;\nvar getTime = DatePrototype.getTime;\nvar nativeDateToISOString = DatePrototype.toISOString;\n\n// `Date.prototype.toISOString` method implementation\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit fails here:\nmodule.exports = (fails(function () {\n  return nativeDateToISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  nativeDateToISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var date = this;\n  var year = date.getUTCFullYear();\n  var milliseconds = date.getUTCMilliseconds();\n  var sign = year < 0 ? '-' : year > 9999 ? '+' : '';\n  return sign + padStart(abs(year), sign ? 6 : 4, 0) +\n    '-' + padStart(date.getUTCMonth() + 1, 2, 0) +\n    '-' + padStart(date.getUTCDate(), 2, 0) +\n    'T' + padStart(date.getUTCHours(), 2, 0) +\n    ':' + padStart(date.getUTCMinutes(), 2, 0) +\n    ':' + padStart(date.getUTCSeconds(), 2, 0) +\n    '.' + padStart(milliseconds, 3, 0) +\n    'Z';\n} : nativeDateToISOString;\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.sup` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.sup\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sup') }, {\n  sup: function sup() {\n    return createHTML(this, 'sup', '', '');\n  }\n});\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/user-agent');\n\n// eslint-disable-next-line unicorn/no-unsafe-regex\nmodule.exports = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LOG10E = Math.LOG10E;\n\n// `Math.log10` method\n// https://tc39.github.io/ecma262/#sec-math.log10\n$({ target: 'Math', stat: true }, {\n  log10: function log10(x) {\n    return log(x) * LOG10E;\n  }\n});\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.search` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.search\ndefineWellKnownSymbol('search');\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseFloat = global.parseFloat;\nvar FORCED = 1 / nativeParseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = nativeParseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : nativeParseFloat;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: nativeGetOwnPropertyNames\n});\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flatMap');\n","exports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/wrapped-well-known-symbol');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-arrays-constructors-requires-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","// IEEE754 conversions based on https://github.com/feross/ieee754\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = 1 / 0;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\nvar exp = Math.exp;\n\n// `Math.tanh` method\n// https://tc39.github.io/ecma262/#sec-math.tanh\n$({ target: 'Math', stat: true }, {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","var $ = require('../internals/export');\n\nvar nativeAsinh = Math.asinh;\nvar log = Math.log;\nvar sqrt = Math.sqrt;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : log(x + sqrt(x * x + 1));\n}\n\n// `Math.asinh` method\n// https://tc39.github.io/ecma262/#sec-math.asinh\n// Tor Browser bug: Math.asinh(0) -> -0\n$({ target: 'Math', stat: true, forced: !(nativeAsinh && 1 / nativeAsinh(0) > 0) }, {\n  asinh: asinh\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar fails = require('../internals/fails');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\n// `Reflect.set` method\n// https://tc39.github.io/ecma262/#sec-reflect.set\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDescriptor = getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);\n  var existingDescriptor, prototype;\n  if (!ownDescriptor) {\n    if (isObject(prototype = getPrototypeOf(target))) {\n      return set(prototype, propertyKey, V, receiver);\n    }\n    ownDescriptor = createPropertyDescriptor(0);\n  }\n  if (has(ownDescriptor, 'value')) {\n    if (ownDescriptor.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = getOwnPropertyDescriptorModule.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      definePropertyModule.f(receiver, propertyKey, existingDescriptor);\n    } else definePropertyModule.f(receiver, propertyKey, createPropertyDescriptor(0, V));\n    return true;\n  }\n  return ownDescriptor.set === undefined ? false : (ownDescriptor.set.call(receiver, V), true);\n}\n\n// MS Edge 17-18 Reflect.set allows setting the property to object\n// with non-writable property on the prototype\nvar MS_EDGE_BUG = fails(function () {\n  var object = definePropertyModule.f({}, 'a', { configurable: true });\n  // eslint-disable-next-line no-undef\n  return Reflect.set(getPrototypeOf(object), 'a', 1, object) !== false;\n});\n\n$({ target: 'Reflect', stat: true, forced: MS_EDGE_BUG }, {\n  set: set\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar objectGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\n// `Reflect.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-reflect.getprototypeof\n$({ target: 'Reflect', stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return objectGetPrototypeOf(anObject(target));\n  }\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.replace` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.replace\ndefineWellKnownSymbol('replace');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.unscopables` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.unscopables\ndefineWellKnownSymbol('unscopables');\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var $ = require('../internals/export');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\n\n// `ArrayBuffer.isView` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.isview\n$({ target: 'ArrayBuffer', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n  isView: ArrayBufferViewCore.isView\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $padEnd = require('../internals/string-pad').end;\nvar WEBKIT_BUG = require('../internals/webkit-string-pad-bug');\n\n// `String.prototype.padEnd` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padend\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint16Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint16', function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8ClampedArray` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeEndsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int16Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int16', function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\nvar objectSetPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Reflect.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-reflect.setprototypeof\nif (objectSetPrototypeOf) $({ target: 'Reflect', stat: true }, {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    anObject(target);\n    aPossiblePrototype(proto);\n    try {\n      objectSetPrototypeOf(target, proto);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\n// `Number.isInteger` method\n// https://tc39.github.io/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isInteger\n});\n","var nativeExpm1 = Math.expm1;\nvar exp = Math.exp;\n\n// `Math.expm1` method implementation\n// https://tc39.github.io/ecma262/#sec-math.expm1\nmodule.exports = (!nativeExpm1\n  // Old FF bug\n  || nativeExpm1(10) > 22025.465794806719 || nativeExpm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || nativeExpm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;\n} : nativeExpm1;\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\n// `Math.log2` method\n// https://tc39.github.io/ecma262/#sec-math.log2\n$({ target: 'Math', stat: true }, {\n  log2: function log2(x) {\n    return log(x) / LN2;\n  }\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var $ = require('../internals/export');\n\n// `Number.isNaN` method\n// https://tc39.github.io/ecma262/#sec-number.isnan\n$({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.fontcolor` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fontcolor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fontcolor') }, {\n  fontcolor: function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  }\n});\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar anObject = require('../internals/an-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\n\n// `Reflect.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-reflect.getownpropertydescriptor\n$({ target: 'Reflect', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);\n  }\n});\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar microtask = require('../internals/microtask');\nvar classof = require('../internals/classof-raw');\n\nvar process = global.process;\nvar isNode = classof(process) == 'process';\n\n// `queueMicrotask` method\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask\n$({ global: true, enumerable: true, noTargetGet: true }, {\n  queueMicrotask: function queueMicrotask(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n","var $ = require('../internals/export');\n\nvar nativeAtanh = Math.atanh;\nvar log = Math.log;\n\n// `Math.atanh` method\n// https://tc39.github.io/ecma262/#sec-math.atanh\n// Tor Browser bug: Math.atanh(-0) -> 0\n$({ target: 'Math', stat: true, forced: !(nativeAtanh && 1 / nativeAtanh(-0) < 0) }, {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : log((1 + x) / (1 - x)) / 2;\n  }\n});\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar SLOPPY_METHOD = sloppyArrayMethod('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || SLOPPY_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('splice') }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/wrapped-well-known-symbol');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: sloppyArrayMethod('every') }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\n\nvar nativeApply = getBuiltIn('Reflect', 'apply');\nvar functionApply = Function.apply;\n\n// MS Edge argumentsList argument is optional\nvar OPTIONAL_ARGUMENTS_LIST = !fails(function () {\n  nativeApply(function () { /* empty */ });\n});\n\n// `Reflect.apply` method\n// https://tc39.github.io/ecma262/#sec-reflect.apply\n$({ target: 'Reflect', stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {\n  apply: function apply(target, thisArgument, argumentsList) {\n    aFunction(target);\n    anObject(argumentsList);\n    return nativeApply\n      ? nativeApply(target, thisArgument, argumentsList)\n      : functionApply.call(target, thisArgument, argumentsList);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","var $ = require('../internals/export');\nvar copyWithin = require('../internals/array-copy-within');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\n$({ target: 'Array', proto: true }, {\n  copyWithin: copyWithin\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('copyWithin');\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Reflect.deleteProperty` method\n// https://tc39.github.io/ecma262/#sec-reflect.deleteproperty\n$({ target: 'Reflect', stat: true }, {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var descriptor = getOwnPropertyDescriptor(anObject(target), propertyKey);\n    return descriptor && !descriptor.configurable ? false : delete target[propertyKey];\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","var $ = require('../internals/export');\nvar toISOString = require('../internals/date-to-iso-string');\n\n// `Date.prototype.toISOString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit has a broken implementations\n$({ target: 'Date', proto: true, forced: Date.prototype.toISOString !== toISOString }, {\n  toISOString: toISOString\n});\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anObject = require('../internals/an-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\nvar nativeSeal = Object.seal;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeSeal(1); });\n\n// `Object.seal` method\n// https://tc39.github.io/ecma262/#sec-object.seal\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  seal: function seal(it) {\n    return nativeSeal && isObject(it) ? nativeSeal(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","var $ = require('../internals/export');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER;\n\n// `DataView` constructor\n// https://tc39.github.io/ecma262/#sec-dataview-constructor\n$({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {\n  DataView: ArrayBufferModule.DataView\n});\n","'use strict';\nvar isObject = require('../internals/is-object');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar HAS_INSTANCE = wellKnownSymbol('hasInstance');\nvar FunctionPrototype = Function.prototype;\n\n// `Function.prototype[@@hasInstance]` method\n// https://tc39.github.io/ecma262/#sec-function.prototype-@@hasinstance\nif (!(HAS_INSTANCE in FunctionPrototype)) {\n  definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: function (O) {\n    if (typeof this != 'function' || !isObject(O)) return false;\n    if (!isObject(this.prototype)) return O instanceof this;\n    // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n    while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n    return false;\n  } });\n}\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var userAgent = require('../internals/user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var bind = require('../internals/bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\n\nvar nativeImul = Math.imul;\n\nvar FORCED = fails(function () {\n  return nativeImul(0xFFFFFFFF, 5) != -5 || nativeImul.length != 2;\n});\n\n// `Math.imul` method\n// https://tc39.github.io/ecma262/#sec-math.imul\n// some WebKit versions fails with big numbers, some has wrong arity\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  imul: function imul(x, y) {\n    var UINT16 = 0xFFFF;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","var sign = require('../internals/math-sign');\n\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n// `Math.fround` method implementation\n// https://tc39.github.io/ecma262/#sec-math.fround\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","'use strict';\nvar $ = require('../internals/export');\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\n$({ target: 'URL', proto: true, enumerable: true }, {\n  toJSON: function toJSON() {\n    return URL.prototype.toString.call(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/forced-object-prototype-accessors-methods');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupGetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__lookupGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupGetter__: function __lookupGetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.get;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.github.io/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n});\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, undefined, true);\n    return obj;\n  }\n});\n","var $ = require('../internals/export');\nvar parseFloat = require('../internals/parse-float');\n\n// `Number.parseFloat` method\n// https://tc39.github.io/ecma262/#sec-number.parseFloat\n$({ target: 'Number', stat: true, forced: Number.parseFloat != parseFloat }, {\n  parseFloat: parseFloat\n});\n","module.exports = false;\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.italics` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.italics\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('italics') }, {\n  italics: function italics() {\n    return createHTML(this, 'i', '', '');\n  }\n});\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var $ = require('../internals/export');\n\n// `Reflect.has` method\n// https://tc39.github.io/ecma262/#sec-reflect.has\n$({ target: 'Reflect', stat: true }, {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.fixed` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsExtensible = Object.isExtensible;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsExtensible(1); });\n\n// `Object.isExtensible` method\n// https://tc39.github.io/ecma262/#sec-object.isextensible\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isExtensible: function isExtensible(it) {\n    return isObject(it) ? nativeIsExtensible ? nativeIsExtensible(it) : true : false;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.small` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.small\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('small') }, {\n  small: function small() {\n    return createHTML(this, 'small', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line  max-statements\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n","var $ = require('../internals/export');\nvar log1p = require('../internals/math-log1p');\n\n// `Math.log1p` method\n// https://tc39.github.io/ecma262/#sec-math.log1p\n$({ target: 'Math', stat: true }, { log1p: log1p });\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.bold` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.bold\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('bold') }, {\n  bold: function bold() {\n    return createHTML(this, 'b', '', '');\n  }\n});\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\nvar nativePreventExtensions = Object.preventExtensions;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativePreventExtensions(1); });\n\n// `Object.preventExtensions` method\n// https://tc39.github.io/ecma262/#sec-object.preventextensions\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  preventExtensions: function preventExtensions(it) {\n    return nativePreventExtensions && isObject(it) ? nativePreventExtensions(onFreeze(it)) : it;\n  }\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar anObject = require('../internals/an-object');\nvar FREEZING = require('../internals/freezing');\n\n// `Reflect.preventExtensions` method\n// https://tc39.github.io/ecma262/#sec-reflect.preventextensions\n$({ target: 'Reflect', stat: true, sham: !FREEZING }, {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      var objectPreventExtensions = getBuiltIn('Object', 'preventExtensions');\n      if (objectPreventExtensions) objectPreventExtensions(target);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(REPLACE_SUPPORTS_NAMED_GROUPS && REPLACE_KEEPS_$0)) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, { REPLACE_KEEPS_$0: REPLACE_KEEPS_$0 });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","var $ = require('../internals/export');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `String.raw` method\n// https://tc39.github.io/ecma262/#sec-string.raw\n$({ target: 'String', stat: true }, {\n  raw: function raw(template) {\n    var rawTemplate = toIndexedObject(template.raw);\n    var literalSegments = toLength(rawTemplate.length);\n    var argumentsLength = arguments.length;\n    var elements = [];\n    var i = 0;\n    while (literalSegments > i) {\n      elements.push(String(rawTemplate[i++]));\n      if (i < argumentsLength) elements.push(String(arguments[i]));\n    } return elements.join('');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar fails = require('../internals/fails');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = HAS_SPECIES_SUPPORT && !fails(function () {\n  [].map.call({ length: -1, 0: 1 }, function (it) { throw it; });\n});\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\n\nvar objectIsExtensible = Object.isExtensible;\n\n// `Reflect.isExtensible` method\n// https://tc39.github.io/ecma262/#sec-reflect.isextensible\n$({ target: 'Reflect', stat: true }, {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return objectIsExtensible ? objectIsExtensible(target) : true;\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.hasInstance` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.hasinstance\ndefineWellKnownSymbol('hasInstance');\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsFrozen = Object.isFrozen;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsFrozen(1); });\n\n// `Object.isFrozen` method\n// https://tc39.github.io/ecma262/#sec-object.isfrozen\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isFrozen: function isFrozen(it) {\n    return isObject(it) ? nativeIsFrozen ? nativeIsFrozen(it) : false : true;\n  }\n});\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var global = require('../internals/global');\n\nvar globalIsFinite = global.isFinite;\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\nmodule.exports = Number.isFinite || function isFinite(it) {\n  return typeof it == 'number' && globalIsFinite(it);\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsSealed = Object.isSealed;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsSealed(1); });\n\n// `Object.isSealed` method\n// https://tc39.github.io/ecma262/#sec-object.issealed\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isSealed: function isSealed(it) {\n    return isObject(it) ? nativeIsSealed ? nativeIsSealed(it) : false : true;\n  }\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = nativeParseInt(whitespaces + '08') !== 8 || nativeParseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return nativeParseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : nativeParseInt;\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('lastIndexOf');\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = (NEGATIVE_ZERO || SLOPPY_METHOD) ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var $ = require('../internals/export');\n\n// `Number.MIN_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.min_safe_integer\n$({ target: 'Number', stat: true }, {\n  MIN_SAFE_INTEGER: -0x1FFFFFFFFFFFFF\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/forced-object-prototype-accessors-methods');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineSetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__defineSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineSetter__: function __defineSetter__(P, setter) {\n      definePropertyModule.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n    }\n  });\n}\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar DataView = global.DataView;\nvar DataViewPrototype = DataView && DataView.prototype;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar NATIVE_ARRAY_BUFFER = !!(global.ArrayBuffer && DataView);\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar isView = function isView(it) {\n  var klass = classof(it);\n  return klass === 'DataView' || has(TypedArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  return isObject(it) && has(TypedArrayConstructorsList, classof(it));\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n      delete TypedArrayConstructor.prototype[KEY];\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n        delete TypedArrayConstructor[KEY];\n      }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\n// WebKit bug - the same parent prototype for typed arrays and data view\nif (NATIVE_ARRAY_BUFFER && setPrototypeOf && getPrototypeOf(DataViewPrototype) !== ObjectPrototype) {\n  setPrototypeOf(DataViewPrototype, ObjectPrototype);\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER: NATIVE_ARRAY_BUFFER,\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-arrays-constructors-requires-wrappers');\n\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayStaticMethod = ArrayBufferViewCore.exportTypedArrayStaticMethod;\n\n// `%TypedArray%.of` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.of\nexportTypedArrayStaticMethod('of', function of(/* ...items */) {\n  var index = 0;\n  var length = arguments.length;\n  var result = new (aTypedArrayConstructor(this))(length);\n  while (length > index) result[index] = arguments[index++];\n  return result;\n}, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/forced-string-trim-method');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.isConcatSpreadable` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.isconcatspreadable\ndefineWellKnownSymbol('isConcatSpreadable');\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar dateToPrimitive = require('../internals/date-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar DatePrototype = Date.prototype;\n\n// `Date.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-date.prototype-@@toprimitive\nif (!(TO_PRIMITIVE in DatePrototype)) {\n  createNonEnumerableProperty(DatePrototype, TO_PRIMITIVE, dateToPrimitive);\n}\n","var $ = require('../internals/export');\nvar numberIsFinite = require('../internals/number-is-finite');\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\n$({ target: 'Number', stat: true }, { isFinite: numberIsFinite });\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar FORCED = fails(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n});\n\n// `Date.prototype.toJSON` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tojson\n$({ target: 'Date', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduceRight = require('../internals/array-reduce').right;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.reduceRight` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n$({ target: 'Array', proto: true, forced: sloppyArrayMethod('reduceRight') }, {\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar codeAt = require('../internals/string-multibyte').codeAt;\n\n// `String.prototype.codePointAt` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n$({ target: 'String', proto: true }, {\n  codePointAt: function codePointAt(pos) {\n    return codeAt(this, pos);\n  }\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var $ = require('../internals/export');\nvar fround = require('../internals/math-fround');\n\n// `Math.fround` method\n// https://tc39.github.io/ecma262/#sec-math.fround\n$({ target: 'Math', stat: true }, { fround: fround });\n","var $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\nvar fromCharCode = String.fromCharCode;\nvar nativeFromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\nvar INCORRECT_LENGTH = !!nativeFromCodePoint && nativeFromCodePoint.length != 1;\n\n// `String.fromCodePoint` method\n// https://tc39.github.io/ecma262/#sec-string.fromcodepoint\n$({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var elements = [];\n    var length = arguments.length;\n    var i = 0;\n    var code;\n    while (length > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10FFFF) !== code) throw RangeError(code + ' is not a valid code point');\n      elements.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00)\n      );\n    } return elements.join('');\n  }\n});\n","// document.currentScript polyfill by Adam Miller\n\n// MIT license\n\n(function(document){\n  var currentScript = \"currentScript\",\n      scripts = document.getElementsByTagName('script'); // Live NodeList collection\n\n  // If browser needs currentScript polyfill, add get currentScript() to the document object\n  if (!(currentScript in document)) {\n    Object.defineProperty(document, currentScript, {\n      get: function(){\n\n        // IE 6-10 supports script readyState\n        // IE 10+ support stack trace\n        try { throw new Error(); }\n        catch (err) {\n\n          // Find the second match for the \"at\" string to get file src url from stack.\n          // Specifically works with the format of stack traces in IE.\n          var i, res = ((/.*at [^\\(]*\\((.*):.+:.+\\)$/ig).exec(err.stack) || [false])[1];\n\n          // For all scripts on the page, if src matches or if ready state is interactive, return the script tag\n          for(i in scripts){\n            if(scripts[i].src == res || scripts[i].readyState == \"interactive\"){\n              return scripts[i];\n            }\n          }\n\n          // If no match, return null\n          return null;\n        }\n      }\n    });\n  }\n})(document);\n","// `Math.sign` method implementation\n// https://tc39.github.io/ecma262/#sec-math.sign\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var setSpecies = require('../internals/set-species');\n\n// `Array[@@species]` getter\n// https://tc39.github.io/ecma262/#sec-get-array-@@species\nsetSpecies('Array');\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    require('current-script-polyfill')\n  }\n\n  var i\n  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))) {\n    __webpack_public_path__ = i[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mathfield\",attrs:{\"id\":_vm.id}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mathfield\" :id=\"id\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'math-input',\r\n  props:\r\n    {\r\n      id: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      value: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      config: {\r\n        type: Object,\r\n        default: () => ({})\r\n      },\r\n      onKeystroke: {\r\n        type: Function,\r\n        default: function (_keystroke, _ev) { return true; }\r\n      },\r\n      onMoveOutOf: {\r\n        type: Function,\r\n        default: function (_direction) { return true; }\r\n      },\r\n      onTabOutOf: {\r\n        type: Function,\r\n        default: function (_direction) { return true; }\r\n      }\r\n    },\r\n    /*\r\n     * To register this component, call:\r\n     * ```\r\n     *     import MathLive from './mathlive.mjs';\r\n     *     import Mathfield from './vue-mathlive.mjs';\r\n     *     Vue.use(Mathfield, MathLive);\r\n     * ```\r\n     *\r\n     * The HTML tag for this component is `<mathlive-mathfield>`\r\n     *\r\n     * @param {object} vue - This module, as returned from an import statement\r\n     * @param {object} mathlive - The MathLive module, as returned from an import\r\n     * statement\r\n     */\r\n    watch: {\r\n        value: function(newValue, oldValue) {\r\n            // When the `value` prop (from the model) is modified\r\n            // update the mathfield to stay in sync, but don't send back content\r\n            // change notifications, to avoid infinite loops.\r\n            console.log(newValue, oldValue);\r\n            \r\n            if (newValue !== oldValue) {\r\n                if (!newValue) {\r\n                    newValue = ' '\r\n                }\r\n                this.$el.mathfield.$latex(newValue, {\r\n                    suppressChangeNotifications: true\r\n                });\r\n            }\r\n        },\r\n        config: {\r\n            deep: true,\r\n            handler: function(config) {\r\n                this.$el.mathfield.$setConfig(config)\r\n            }\r\n        },\r\n    },\r\n    mounted: function () {\r\n        // A new instance is being created\r\n        const vm = this; // Keep a reference to the ViewModel\r\n        // Wait until the DOM has been constructed...\r\n        this.$nextTick(function () {\r\n            // ... then make the MathField\r\n            // console.log(vm.$el, vm.config)\r\n            vm.$mathlive.makeMathField(vm.$el, {\r\n                ...vm.config,\r\n                // To support the 'model' directive, this handler will connect\r\n                // the content of the mathfield to the ViewModel\r\n                onContentDidChange: _ => {\r\n                    // When the mathfield is updated, notify the model.\r\n                    // The initial input value is generated from the <slot>\r\n                    // content, so it may need to be updated.\r\n                    // vm.$emit('input', vm.$el.mathfield.$text());\r\n                    vm.$emit('input', vm.$el.mathfield.$latex());\r\n                },\r\n                // Those asynchronous notification handlers are translated to events\r\n                onFocus: _ => {vm.$emit('focus'); },\r\n                onBlur: _ => { vm.$emit('blur'); },\r\n                onContentWillChange: _ => { vm.$emit('content-will-change'); },\r\n                onSelectionWillChange: _ => { vm.$emit('selection-will-change'); },\r\n                onUndoStateWillChange: (_, command) => { vm.$emit('undo-state-will-change', command); },\r\n                onUndoStateDidChange: (_, command) => { vm.$emit('undo-state-did-change', command); },\r\n                onVirtualKeyboardToggle: (_, visible, keyboardElement) => { vm.$emit('virtual-keyboard-toggle', visible, keyboardElement); },\r\n                onReadAloudStatus: (_, status) => { vm.$emit('read-aloud-status', status); },\r\n\r\n                // Those notification handlers expect an answer back, so translate\r\n                // them to callbacks via props\r\n                onKeystroke: function(_, keystroke, ev) { return vm.onKeystroke(keystroke, ev); },\r\n                onMoveOutOf: (_, direction) => { return vm.onMoveOutOf(direction); },\r\n                onTabOutOf: (_, direction) => { return vm.onTabOutOf(direction); },\r\n\r\n            });\r\n        });\r\n    },\r\n    methods: {\r\n        /*\r\n         *\r\n         * @param {string} selector\r\n         */\r\n        perform: function(selector) {\r\n            this.$el.mathfield.$perform(selector);\r\n        },\r\n        /*\r\n         * @return {boolean}\r\n         */\r\n        hasFocus: function() {\r\n            return this.$el.mathfield.$hasFocus();\r\n        },\r\n        focus: function() {\r\n            this.$el.mathfield.$focus();\r\n        },\r\n        blur: function() {\r\n            this.$el.mathfield.$blur();\r\n        },\r\n        text: function(format) {\r\n            console.log(format);\r\n            return this.$el.mathfield.$text(format);\r\n        },\r\n        selectedText: function(format) {\r\n            return this.$el.mathfield.$selectedText(format);\r\n        },\r\n        insert: function(text, options) {\r\n            this.$el.mathfield.$insert(text, options);\r\n        },\r\n        keystroke: function(keys, evt) {\r\n            return this.$el.mathfield.$keystroke(keys, evt);\r\n        },\r\n        typedText: function(text) {\r\n            this.$el.mathfield.$keystroke(text);\r\n        },\r\n        selectionIsCollapsed: function() {\r\n            return this.$el.mathfield.$selectionIsCollapsed();\r\n        },\r\n        selectionDepth: function() {\r\n            return this.$el.mathfield.$selectionDepth();\r\n        },\r\n        selectionAtStart: function() {\r\n            return this.$el.mathfield.$selectionAtStart();\r\n        },\r\n        selectionAtEnd: function() {\r\n            return this.$el.mathfield.$selectionAtEnd();\r\n        },\r\n        select: function() {\r\n            this.$el.mathfield.$select();\r\n        },\r\n        clearSelection: function() {\r\n            this.$el.mathfield.$clearSelection();\r\n        },\r\n        // updateOutput(mathfield) {\r\n        //     document.getElementById('output').innerHTML = mathfield.$text('latex');\r\n        // }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n@import \"./mathlive.core.css\";\r\n@import \"./mathlive.css\";\r\n\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\nhtml {\r\n  fill: currentColor;\r\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\",\r\n    \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\r\n    \"Helvetica Neue\", sans-serif;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\nbody {\r\n  --hue: 210;\r\n  --on-primary: hsl(var(--hue), 0%, 95%);\r\n  --primary: hsl(var(--hue), 40%, 50%);\r\n  --surface: #fafafa;\r\n  --surface-border: #fff;\r\n  --on-surface: hsl(var(--hue), 19%, 26%);\r\n\r\n  --secondary-surface: hsl(0, 0%, 99.5%);\r\n  --secondary-surface-border: hsl(0, 0%, 93%);\r\n  --link: hsl(var(--hue), 100%, 40%);\r\n\r\n  --editable: #fff;\r\n  --editable-border: #ddd;\r\n  --on-editable: #333;\r\n\r\n  background: var(--surface);\r\n  color: var(--on-surface);\r\n}\r\n\r\nh2 {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  line-height: 0.7;\r\n  padding-top: 1em;\r\n  padding-bottom: 1em;\r\n  border: none;\r\n}\r\nh3 {\r\n  font-weight: 600;\r\n  line-height: 0.7;\r\n  margin-top: 3em;\r\n  margin-bottom: 2em;\r\n}\r\n\r\nh4 {\r\n  margin-top: 2em;\r\n  margin-bottom: 1.5em;\r\n}\r\n\r\nh3 strong,\r\nh4 strong {\r\n  color: var(--primary);\r\n}\r\n\r\nh4 {\r\n  font-weight: 400;\r\n}\r\n/* h2, h3 {\r\n    background: linear-gradient(#eee, #333);\r\n    -webkit-background-clip: text;\r\n    background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n} */\r\nmain {\r\n  padding-top: 3rem;\r\n  width: 640px;\r\n  max-width: 100vw;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  flex-flow: column wrap;\r\n  margin: auto;\r\n}\r\nmain > div {\r\n  width: 100%;\r\n}\r\n\r\nmain > div.frame {\r\n  margin-top: 2em;\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n  width: calc(100% - 2em);\r\n  margin-bottom: 4em;\r\n  background: var(--secondary-surface);\r\n  border: 1px solid var(--secondary-surface-border);\r\n  border-radius: 8px;\r\n}\r\n\r\nkbd {\r\n  font-family: Consolas, Monaco, \"Andale Mono\", monospace;\r\n  background: #f4f4f4;\r\n  color: #333;\r\n  padding: 1px 5px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.links {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding-top: 1em;\r\n  padding-bottom: 2em;\r\n  width: 100%;\r\n  font-size: 24px;\r\n}\r\n@media (max-width: 512px) {\r\n  .links {\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n.output {\r\n  font-family: \"Source Code Pro\", Menlo, \"Bitstream Vera Sans Mono\", Monaco,\r\n    Courier, \"Andale Mono\", monospace;\r\n  color: #f0c674;\r\n\r\n  background: #35434e;\r\n\r\n  padding: 5px;\r\n  margin: 10px 0 10px 0;\r\n  border-radius: 5px;\r\n  border: 1px solid #333;\r\n\r\n  min-height: 1em;\r\n  padding-top: 0.5em;\r\n  padding-bottom: 0.5em;\r\n\r\n  word-break: break-word;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.mathfield {\r\n  /* border: 1px solid var(--editable-border); */\r\n  border: 1px solid #e3e3e3;\r\n  /* border-bottom: 1px dashed #999; */\r\n  /* padding: 5px; */\r\n  /* margin: 10px 0 10px 0; */\r\n  border-radius: 6px;\r\n  color: #333;\r\n  font-size: 1.2em;\r\n  /* background: rgba(0, 0, 0, 0.05); */\r\n  /* background: var(--editable); */\r\n  /* color: var(--on-editable); */\r\n  /* height: 100px; */\r\n}\r\n\r\n.fa-w-24 {\r\n  width: 24px;\r\n  vertical-align: -5px;\r\n}\r\n\r\na,\r\na:visited,\r\na:active {\r\n  text-decoration: none;\r\n  color: var(--link);\r\n  /* border-radius: 1em; */\r\n  border: 1px solid transparent;\r\n}\r\n\r\n.links a {\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n}\r\n.links a:visited:hover,\r\n.links a:hover {\r\n  border: 1px solid var(--secondary-surface-border);\r\n  background: var(--surface);\r\n}\r\n\r\na:hover {\r\n  text-decoration: underline;\r\n}\r\n.links a:hover {\r\n  text-decoration: none;\r\n}\r\n\r\nbody > header {\r\n  background-color: var(--primary);\r\n  height: 130px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  box-shadow: 16px 6px 24px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\nheader h1 {\r\n  font-family: \"Futura\", \"Open Sans\", system-ui, -apple-system,\r\n    BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\",\r\n    \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\r\n\r\n  /* font-size: 3rem; */\r\n  color: var(--on-primary);\r\n  text-transform: uppercase;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 1024px;\r\n  letter-spacing: -0.04ex;\r\n  text-rendering: optimizeLegibility;\r\n  line-height: 0.9;\r\n  width: 640px;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  letter-spacing: 0.004em;\r\n  margin: auto;\r\n}\r\n\r\nfooter {\r\n  margin-top: 5em;\r\n  margin-bottom: 5em;\r\n  text-align: center;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-flow: column wrap;\r\n}\r\n\r\nfooter a,\r\nfooter a:visited,\r\nfooter a:active {\r\n  font-size: 18px;\r\n  padding-top: 6px;\r\n  padding-bottom: 6px;\r\n}\r\n\r\n@media only screen and (max-width: 512px) {\r\n  header {\r\n    height: 100px;\r\n  }\r\n\r\n  header h1 {\r\n    max-width: 320px;\r\n    width: auto;\r\n    font-size: 2rem;\r\n  }\r\n\r\n  .examples {\r\n    width: 320px;\r\n  }\r\n}\r\n\r\n@media (prefers-color-scheme: dark) {\r\n  body {\r\n    --surface: hsl(var(--hue), 19%, 26%);\r\n    --surface-border: hsl(0, 0%, 20%);\r\n    --on-surface: hsl(0, 0%, 98%);\r\n    --primary: hsl(var(--hue), 100%, 50%);\r\n\r\n    --secondary-surface: hsl(0, 0%, 19%, 0.3);\r\n    --secondary-surface-border: hsl(0, 0%, 22%);\r\n    --link: hsl(var(--hue), 100%, 63%);\r\n\r\n    --editable: #333;\r\n    --editable-border: hsl(0, 0%, 13%);\r\n    --on-editable: #fff;\r\n  }\r\n  h2,\r\n  h3 {\r\n    color: hsl(var(--hue), 20%, 90%);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-mathlive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-mathlive.vue?vue&type=script&lang=js&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./vue-mathlive.vue?vue&type=template&id=6b820180&\"\nimport script from \"./vue-mathlive.vue?vue&type=script&lang=js&\"\nexport * from \"./vue-mathlive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vue-mathlive.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\nBreaks a JavaScript string into individual user-perceived \"characters\"\r\ncalled extended grapheme clusters by implementing the Unicode UAX-29 standard, version 8.0.0\r\n\r\nUsage:\r\nvar splitter = new GraphemeSplitter();\r\n//returns an array of strings, one string for each grapheme cluster\r\nvar graphemes = splitter.splitGraphemes(string);\r\n\r\n*/\r\n\r\n\tconst CR = 0,\r\n\t\tLF = 1,\r\n\t\tControl = 2,\r\n\t\tExtend = 3,\r\n\t\tRegional_Indicator = 4,\r\n\t\tSpacingMark = 5,\r\n\t\tL = 6,\r\n\t\tV = 7,\r\n\t\tT = 8,\r\n\t\tLV = 9,\r\n\t\tLVT = 10,\r\n\t\tOther = 11,\r\n\t\tSkin_Tone = 12;\r\n\t\t\r\n\t// Private function, gets a Unicode code point from a JavaScript UTF-16 string\r\n\t// handling surrogate pairs appropriately\r\n\tfunction codePointAt(str, idx){\r\n        idx = idx || 0;\r\n\t\tconst code = str.charCodeAt(idx);\r\n\r\n\t\t// if a high surrogate\r\n\t\tif (0xD800 <= code && code <= 0xDBFF &&\r\n\t\t\tidx < str.length - 1){\r\n\t\t\tconst hi = code;\r\n\t\t\tconst low = str.charCodeAt(idx + 1);\r\n\t\t\tif (0xDC00 <= low && low <= 0xDFFF){\r\n\t\t\t\treturn ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\r\n\t\t\t}\r\n\t\t\treturn hi;\r\n\t\t}\r\n\t\t\r\n\t\t// if a low surrogate\r\n\t\tif (0xDC00 <= code && code <= 0xDFFF &&\r\n\t\t\tidx >= 1){\r\n\t\t\tconst hi = str.charCodeAt(idx - 1);\r\n\t\t\tconst low = code;\r\n\t\t\tif (0xD800 <= hi && hi <= 0xDBFF){\r\n\t\t\t\treturn ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\r\n\t\t\t}\r\n\t\t\treturn low;\r\n\t\t}\r\n\t\t\r\n\t\t//just return the char if an unmatched surrogate half or a\r\n\t\t//single-char codepoint\r\n\t\treturn code;\r\n\t}\r\n\t\r\n\t// Private function, returns whether a break is allowed between the\r\n\t// two given grapheme breaking classes\r\n\tfunction shouldBreak(previous, current){\r\n\r\n\t\tif (previous === Other && current === Skin_Tone) {\r\n\t\t\t// From version 10. Skin tone modifiers with emojis\r\n\t\t\treturn false;\r\n\t\t} else if (previous === Extend && current === Other) {\r\n\t\t\t// From version 10. Combining emojis, such as the Bowie emoji\r\n\t\t\treturn false;\r\n\t\t} else if (previous === Other && current === Extend) {\r\n\t\t\t// From version 10. Combining emojis, such as skin tones emojis\r\n\t\t\treturn false;\r\n\t\t} else if(previous === CR && current === LF){\r\n\t\t\t// GB3. CR X LF\r\n\t\t\treturn false;\r\n\t\t} else if(previous === Control || previous === CR || previous === LF){\r\n\t\t// GB4. (Control|CR|LF) ÷\r\n\t\t\treturn true;\r\n\t\t} else if(current === Control || current === CR || current === LF){\r\n\t\t// GB5. ÷ (Control|CR|LF)\r\n\t\t\treturn true;\r\n\t\t} else if(previous === L &&\r\n\t\t\t(current === L || current === V || current === LV || current === LVT)){\r\n\t\t// GB6. L X (L|V|LV|LVT)\r\n\t\t\treturn false;\r\n\t\t} else if((previous === LV || previous === V) &&\r\n\t\t// GB7. (LV|V) X (V|T)\r\n\t\t\t(current === V || current === T)){\r\n\t\t\treturn false;\r\n\t\t} else if((previous === LVT || previous === T) &&\r\n\t\t\tcurrent === T){\r\n            // GB8. (LVT|T) X (T)\r\n\t\t\treturn false;\r\n\t\t} else if(previous === Regional_Indicator && current === Regional_Indicator){\r\n\t\t// GB8a. Regional_Indicator X Regional_Indicator\r\n\t\t\treturn false;\r\n\t\t} else if (current === Extend){\r\n\t\t// GB9. X Extend\r\n\t\t\treturn false;\r\n\t\t} else if(current === SpacingMark){\r\n\t\t// GB9a. X SpacingMark\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// GB9b. Prepend X (there are currently no characters with this class)\r\n\t\t// else if previous is Prepend\r\n\t\t//   return false\r\n\t\t\r\n\t\t// GB10. Any ÷ Any\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// Returns the next grapheme break in the string after the given index\r\n\tfunction nextBreak(string, index){\r\n        index = index || 0;\r\n\t\tif(index < 0){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif(index >= string.length - 1){\r\n\t\t\treturn string.length;\r\n\t\t}\r\n\t\tlet prev = getGraphemeBreakProperty(codePointAt(string, index));\r\n\t\tfor (let i = index + 1; i < string.length; i++) {\r\n\t\t\t// check for already processed low surrogates\r\n\t\t\tif(0xd800 <= string.charCodeAt(i - 1) && string.charCodeAt(i - 1) <= 0xdbff &&\r\n\t\t\t\t0xdc00 <= string.charCodeAt(i) && string.charCodeAt(i) <= 0xdfff){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tconst next = getGraphemeBreakProperty(codePointAt(string, i));\r\n\t\t\tif(shouldBreak(prev, next)){\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprev = next;\r\n\t\t}\r\n\t\treturn string.length;\r\n\t}\r\n\t\r\n\t// Breaks the given string into an array of grapheme cluster strings\r\n\tfunction splitGraphemes(str){\r\n\t\t// If it's all ASCII, short-circuit the grapheme splitting...\r\n\t\tif (/^[\\x20-\\xFF]*$/.test(str)) return str;\r\n\r\n\t\tconst res = [];\r\n\t\tlet index = 0;\r\n\t\tlet brk;\r\n\t\twhile((brk = nextBreak(str, index)) < str.length){\r\n\t\t\tres.push(str.slice(index, brk));\r\n\t\t\tindex = brk;\r\n\t\t}\r\n\t\tif(index < str.length){\r\n\t\t\tres.push(str.slice(index));\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\t// Returns the number of grapheme clusters there are in the given string\r\n\tfunction countGraphemes(str){\r\n\t\tlet count = 0;\r\n\t\tlet index = 0;\r\n\t\tlet brk;\r\n\t\twhile((brk = nextBreak(str, index)) < str.length){\r\n\t\t\tindex = brk;\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tif(index < str.length){\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\t\r\n\t//given a Unicode code point, determines this symbol's grapheme break property\r\n\tfunction getGraphemeBreakProperty(code){\r\n\t\t\r\n\t\t//grapheme break property for Unicode 8.0.0,\r\n\t\t//taken from http://www.unicode.org/Public/8.0.0/ucd/auxiliary/GraphemeBreakProperty.txt\r\n\t\t//and adapted to JavaScript rules\r\n\t\t\r\n\t\tif(\r\n\t\t0x000D === code // Cc       <control-000D>\r\n\t\t){\r\n\t\t\treturn CR;\r\n\t\t}\r\n\t\t\r\n\t\tif(\r\n\t\t0x000A === code // Cc       <control-000A>\r\n\t\t){\r\n\t\t\treturn LF;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(\r\n\t\t(0x0000 <= code && code <= 0x0009) || // Cc  [10] <control-0000>..<control-0009>\r\n\t\t(0x000B <= code && code <= 0x000C) || // Cc   [2] <control-000B>..<control-000C>\r\n\t\t(0x000E <= code && code <= 0x001F) || // Cc  [18] <control-000E>..<control-001F>\r\n\t\t(0x007F <= code && code <= 0x009F) || // Cc  [33] <control-007F>..<control-009F>\r\n\t\t0x00AD === code || // Cf       SOFT HYPHEN\r\n\t\t(0x0600 <= code && code <= 0x0605) || // Cf   [6] ARABIC NUMBER SIGN..ARABIC NUMBER MARK ABOVE\r\n\t\t0x061C === code || // Cf       ARABIC LETTER MARK\r\n\t\t0x06DD === code || // Cf       ARABIC END OF AYAH\r\n\t\t0x070F === code || // Cf       SYRIAC ABBREVIATION MARK\r\n\t\t0x180E === code || // Cf       MONGOLIAN VOWEL SEPARATOR\r\n\t\t0x200B === code || // Cf       ZERO WIDTH SPACE\r\n\t\t(0x200E <= code && code <= 0x200F) || // Cf   [2] LEFT-TO-RIGHT MARK..RIGHT-TO-LEFT MARK\r\n\t\t0x2028 === code || // Zl       LINE SEPARATOR\r\n\t\t0x2029 === code || // Zp       PARAGRAPH SEPARATOR\r\n\t\t(0x202A <= code && code <= 0x202E) || // Cf   [5] LEFT-TO-RIGHT EMBEDDING..RIGHT-TO-LEFT OVERRIDE\r\n\t\t(0x2060 <= code && code <= 0x2064) || // Cf   [5] WORD JOINER..INVISIBLE PLUS\r\n\t\t0x2065 === code || // Cn       <reserved-2065>\r\n\t\t(0x2066 <= code && code <= 0x206F) || // Cf  [10] LEFT-TO-RIGHT ISOLATE..NOMINAL DIGIT SHAPES\r\n\t\t(0xD800 <= code && code <= 0xDFFF) || // Cs [2048] <surrogate-D800>..<surrogate-DFFF>\r\n\t\t0xFEFF === code || // Cf       ZERO WIDTH NO-BREAK SPACE\r\n\t\t(0xFFF0 <= code && code <= 0xFFF8) || // Cn   [9] <reserved-FFF0>..<reserved-FFF8>\r\n\t\t(0xFFF9 <= code && code <= 0xFFFB) || // Cf   [3] INTERLINEAR ANNOTATION ANCHOR..INTERLINEAR ANNOTATION TERMINATOR\r\n\t\t0x110BD === code || // Cf       KAITHI NUMBER SIGN\r\n\t\t(0x1BCA0 <= code && code <= 0x1BCA3) || // Cf   [4] SHORTHAND FORMAT LETTER OVERLAP..SHORTHAND FORMAT UP STEP\r\n\t\t(0x1D173 <= code && code <= 0x1D17A) || // Cf   [8] MUSICAL SYMBOL BEGIN BEAM..MUSICAL SYMBOL END PHRASE\r\n\t\t0xE0000 === code || // Cn       <reserved-E0000>\r\n\t\t0xE0001 === code || // Cf       LANGUAGE TAG\r\n\t\t(0xE0002 <= code && code <= 0xE001F) || // Cn  [30] <reserved-E0002>..<reserved-E001F>\r\n\t\t(0xE0020 <= code && code <= 0xE007F) || // Cf  [96] TAG SPACE..CANCEL TAG\r\n\t\t(0xE0080 <= code && code <= 0xE00FF) || // Cn [128] <reserved-E0080>..<reserved-E00FF>\r\n\t\t(0xE01F0 <= code && code <= 0xE0FFF) // Cn [3600] <reserved-E01F0>..<reserved-E0FFF>\r\n\t\t){\r\n\t\t\treturn Control;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(\r\n\t\t(0x0300 <= code && code <= 0x036F) || // Mn [112] COMBINING GRAVE ACCENT..COMBINING LATIN SMALL LETTER X\r\n\t\t(0x0483 <= code && code <= 0x0487) || // Mn   [5] COMBINING CYRILLIC TITLO..COMBINING CYRILLIC POKRYTIE\r\n\t\t(0x0488 <= code && code <= 0x0489) || // Me   [2] COMBINING CYRILLIC HUNDRED THOUSANDS SIGN..COMBINING CYRILLIC MILLIONS SIGN\r\n\t\t(0x0591 <= code && code <= 0x05BD) || // Mn  [45] HEBREW ACCENT ETNAHTA..HEBREW POINT METEG\r\n\t\t0x05BF === code || // Mn       HEBREW POINT RAFE\r\n\t\t(0x05C1 <= code && code <= 0x05C2) || // Mn   [2] HEBREW POINT SHIN DOT..HEBREW POINT SIN DOT\r\n\t\t(0x05C4 <= code && code <= 0x05C5) || // Mn   [2] HEBREW MARK UPPER DOT..HEBREW MARK LOWER DOT\r\n\t\t0x05C7 === code || // Mn       HEBREW POINT QAMATS QATAN\r\n\t\t(0x0610 <= code && code <= 0x061A) || // Mn  [11] ARABIC SIGN SALLALLAHOU ALAYHE WASSALLAM..ARABIC SMALL KASRA\r\n\t\t(0x064B <= code && code <= 0x065F) || // Mn  [21] ARABIC FATHATAN..ARABIC WAVY HAMZA BELOW\r\n\t\t0x0670 === code || // Mn       ARABIC LETTER SUPERSCRIPT ALEF\r\n\t\t(0x06D6 <= code && code <= 0x06DC) || // Mn   [7] ARABIC SMALL HIGH LIGATURE SAD WITH LAM WITH ALEF MAKSURA..ARABIC SMALL HIGH SEEN\r\n\t\t(0x06DF <= code && code <= 0x06E4) || // Mn   [6] ARABIC SMALL HIGH ROUNDED ZERO..ARABIC SMALL HIGH MADDA\r\n\t\t(0x06E7 <= code && code <= 0x06E8) || // Mn   [2] ARABIC SMALL HIGH YEH..ARABIC SMALL HIGH NOON\r\n\t\t(0x06EA <= code && code <= 0x06ED) || // Mn   [4] ARABIC EMPTY CENTRE LOW STOP..ARABIC SMALL LOW MEEM\r\n\t\t0x0711 === code || // Mn       SYRIAC LETTER SUPERSCRIPT ALAPH\r\n\t\t(0x0730 <= code && code <= 0x074A) || // Mn  [27] SYRIAC PTHAHA ABOVE..SYRIAC BARREKH\r\n\t\t(0x07A6 <= code && code <= 0x07B0) || // Mn  [11] THAANA ABAFILI..THAANA SUKUN\r\n\t\t(0x07EB <= code && code <= 0x07F3) || // Mn   [9] NKO COMBINING SHORT HIGH TONE..NKO COMBINING DOUBLE DOT ABOVE\r\n\t\t(0x0816 <= code && code <= 0x0819) || // Mn   [4] SAMARITAN MARK IN..SAMARITAN MARK DAGESH\r\n\t\t(0x081B <= code && code <= 0x0823) || // Mn   [9] SAMARITAN MARK EPENTHETIC YUT..SAMARITAN VOWEL SIGN A\r\n\t\t(0x0825 <= code && code <= 0x0827) || // Mn   [3] SAMARITAN VOWEL SIGN SHORT A..SAMARITAN VOWEL SIGN U\r\n\t\t(0x0829 <= code && code <= 0x082D) || // Mn   [5] SAMARITAN VOWEL SIGN LONG I..SAMARITAN MARK NEQUDAA\r\n\t\t(0x0859 <= code && code <= 0x085B) || // Mn   [3] MANDAIC AFFRICATION MARK..MANDAIC GEMINATION MARK\r\n\t\t(0x08E3 <= code && code <= 0x0902) || // Mn  [32] ARABIC TURNED DAMMA BELOW..DEVANAGARI SIGN ANUSVARA\r\n\t\t0x093A === code || // Mn       DEVANAGARI VOWEL SIGN OE\r\n\t\t0x093C === code || // Mn       DEVANAGARI SIGN NUKTA\r\n\t\t(0x0941 <= code && code <= 0x0948) || // Mn   [8] DEVANAGARI VOWEL SIGN U..DEVANAGARI VOWEL SIGN AI\r\n\t\t0x094D === code || // Mn       DEVANAGARI SIGN VIRAMA\r\n\t\t(0x0951 <= code && code <= 0x0957) || // Mn   [7] DEVANAGARI STRESS SIGN UDATTA..DEVANAGARI VOWEL SIGN UUE\r\n\t\t(0x0962 <= code && code <= 0x0963) || // Mn   [2] DEVANAGARI VOWEL SIGN VOCALIC L..DEVANAGARI VOWEL SIGN VOCALIC LL\r\n\t\t0x0981 === code || // Mn       BENGALI SIGN CANDRABINDU\r\n\t\t0x09BC === code || // Mn       BENGALI SIGN NUKTA\r\n\t\t0x09BE === code || // Mc       BENGALI VOWEL SIGN AA\r\n\t\t(0x09C1 <= code && code <= 0x09C4) || // Mn   [4] BENGALI VOWEL SIGN U..BENGALI VOWEL SIGN VOCALIC RR\r\n\t\t0x09CD === code || // Mn       BENGALI SIGN VIRAMA\r\n\t\t0x09D7 === code || // Mc       BENGALI AU LENGTH MARK\r\n\t\t(0x09E2 <= code && code <= 0x09E3) || // Mn   [2] BENGALI VOWEL SIGN VOCALIC L..BENGALI VOWEL SIGN VOCALIC LL\r\n\t\t(0x0A01 <= code && code <= 0x0A02) || // Mn   [2] GURMUKHI SIGN ADAK BINDI..GURMUKHI SIGN BINDI\r\n\t\t0x0A3C === code || // Mn       GURMUKHI SIGN NUKTA\r\n\t\t(0x0A41 <= code && code <= 0x0A42) || // Mn   [2] GURMUKHI VOWEL SIGN U..GURMUKHI VOWEL SIGN UU\r\n\t\t(0x0A47 <= code && code <= 0x0A48) || // Mn   [2] GURMUKHI VOWEL SIGN EE..GURMUKHI VOWEL SIGN AI\r\n\t\t(0x0A4B <= code && code <= 0x0A4D) || // Mn   [3] GURMUKHI VOWEL SIGN OO..GURMUKHI SIGN VIRAMA\r\n\t\t0x0A51 === code || // Mn       GURMUKHI SIGN UDAAT\r\n\t\t(0x0A70 <= code && code <= 0x0A71) || // Mn   [2] GURMUKHI TIPPI..GURMUKHI ADDAK\r\n\t\t0x0A75 === code || // Mn       GURMUKHI SIGN YAKASH\r\n\t\t(0x0A81 <= code && code <= 0x0A82) || // Mn   [2] GUJARATI SIGN CANDRABINDU..GUJARATI SIGN ANUSVARA\r\n\t\t0x0ABC === code || // Mn       GUJARATI SIGN NUKTA\r\n\t\t(0x0AC1 <= code && code <= 0x0AC5) || // Mn   [5] GUJARATI VOWEL SIGN U..GUJARATI VOWEL SIGN CANDRA E\r\n\t\t(0x0AC7 <= code && code <= 0x0AC8) || // Mn   [2] GUJARATI VOWEL SIGN E..GUJARATI VOWEL SIGN AI\r\n\t\t0x0ACD === code || // Mn       GUJARATI SIGN VIRAMA\r\n\t\t(0x0AE2 <= code && code <= 0x0AE3) || // Mn   [2] GUJARATI VOWEL SIGN VOCALIC L..GUJARATI VOWEL SIGN VOCALIC LL\r\n\t\t0x0B01 === code || // Mn       ORIYA SIGN CANDRABINDU\r\n\t\t0x0B3C === code || // Mn       ORIYA SIGN NUKTA\r\n\t\t0x0B3E === code || // Mc       ORIYA VOWEL SIGN AA\r\n\t\t0x0B3F === code || // Mn       ORIYA VOWEL SIGN I\r\n\t\t(0x0B41 <= code && code <= 0x0B44) || // Mn   [4] ORIYA VOWEL SIGN U..ORIYA VOWEL SIGN VOCALIC RR\r\n\t\t0x0B4D === code || // Mn       ORIYA SIGN VIRAMA\r\n\t\t0x0B56 === code || // Mn       ORIYA AI LENGTH MARK\r\n\t\t0x0B57 === code || // Mc       ORIYA AU LENGTH MARK\r\n\t\t(0x0B62 <= code && code <= 0x0B63) || // Mn   [2] ORIYA VOWEL SIGN VOCALIC L..ORIYA VOWEL SIGN VOCALIC LL\r\n\t\t0x0B82 === code || // Mn       TAMIL SIGN ANUSVARA\r\n\t\t0x0BBE === code || // Mc       TAMIL VOWEL SIGN AA\r\n\t\t0x0BC0 === code || // Mn       TAMIL VOWEL SIGN II\r\n\t\t0x0BCD === code || // Mn       TAMIL SIGN VIRAMA\r\n\t\t0x0BD7 === code || // Mc       TAMIL AU LENGTH MARK\r\n\t\t0x0C00 === code || // Mn       TELUGU SIGN COMBINING CANDRABINDU ABOVE\r\n\t\t(0x0C3E <= code && code <= 0x0C40) || // Mn   [3] TELUGU VOWEL SIGN AA..TELUGU VOWEL SIGN II\r\n\t\t(0x0C46 <= code && code <= 0x0C48) || // Mn   [3] TELUGU VOWEL SIGN E..TELUGU VOWEL SIGN AI\r\n\t\t(0x0C4A <= code && code <= 0x0C4D) || // Mn   [4] TELUGU VOWEL SIGN O..TELUGU SIGN VIRAMA\r\n\t\t(0x0C55 <= code && code <= 0x0C56) || // Mn   [2] TELUGU LENGTH MARK..TELUGU AI LENGTH MARK\r\n\t\t(0x0C62 <= code && code <= 0x0C63) || // Mn   [2] TELUGU VOWEL SIGN VOCALIC L..TELUGU VOWEL SIGN VOCALIC LL\r\n\t\t0x0C81 === code || // Mn       KANNADA SIGN CANDRABINDU\r\n\t\t0x0CBC === code || // Mn       KANNADA SIGN NUKTA\r\n\t\t0x0CBF === code || // Mn       KANNADA VOWEL SIGN I\r\n\t\t0x0CC2 === code || // Mc       KANNADA VOWEL SIGN UU\r\n\t\t0x0CC6 === code || // Mn       KANNADA VOWEL SIGN E\r\n\t\t(0x0CCC <= code && code <= 0x0CCD) || // Mn   [2] KANNADA VOWEL SIGN AU..KANNADA SIGN VIRAMA\r\n\t\t(0x0CD5 <= code && code <= 0x0CD6) || // Mc   [2] KANNADA LENGTH MARK..KANNADA AI LENGTH MARK\r\n\t\t(0x0CE2 <= code && code <= 0x0CE3) || // Mn   [2] KANNADA VOWEL SIGN VOCALIC L..KANNADA VOWEL SIGN VOCALIC LL\r\n\t\t0x0D01 === code || // Mn       MALAYALAM SIGN CANDRABINDU\r\n\t\t0x0D3E === code || // Mc       MALAYALAM VOWEL SIGN AA\r\n\t\t(0x0D41 <= code && code <= 0x0D44) || // Mn   [4] MALAYALAM VOWEL SIGN U..MALAYALAM VOWEL SIGN VOCALIC RR\r\n\t\t0x0D4D === code || // Mn       MALAYALAM SIGN VIRAMA\r\n\t\t0x0D57 === code || // Mc       MALAYALAM AU LENGTH MARK\r\n\t\t(0x0D62 <= code && code <= 0x0D63) || // Mn   [2] MALAYALAM VOWEL SIGN VOCALIC L..MALAYALAM VOWEL SIGN VOCALIC LL\r\n\t\t0x0DCA === code || // Mn       SINHALA SIGN AL-LAKUNA\r\n\t\t0x0DCF === code || // Mc       SINHALA VOWEL SIGN AELA-PILLA\r\n\t\t(0x0DD2 <= code && code <= 0x0DD4) || // Mn   [3] SINHALA VOWEL SIGN KETTI IS-PILLA..SINHALA VOWEL SIGN KETTI PAA-PILLA\r\n\t\t0x0DD6 === code || // Mn       SINHALA VOWEL SIGN DIGA PAA-PILLA\r\n\t\t0x0DDF === code || // Mc       SINHALA VOWEL SIGN GAYANUKITTA\r\n\t\t0x0E31 === code || // Mn       THAI CHARACTER MAI HAN-AKAT\r\n\t\t(0x0E34 <= code && code <= 0x0E3A) || // Mn   [7] THAI CHARACTER SARA I..THAI CHARACTER PHINTHU\r\n\t\t(0x0E47 <= code && code <= 0x0E4E) || // Mn   [8] THAI CHARACTER MAITAIKHU..THAI CHARACTER YAMAKKAN\r\n\t\t0x0EB1 === code || // Mn       LAO VOWEL SIGN MAI KAN\r\n\t\t(0x0EB4 <= code && code <= 0x0EB9) || // Mn   [6] LAO VOWEL SIGN I..LAO VOWEL SIGN UU\r\n\t\t(0x0EBB <= code && code <= 0x0EBC) || // Mn   [2] LAO VOWEL SIGN MAI KON..LAO SEMIVOWEL SIGN LO\r\n\t\t(0x0EC8 <= code && code <= 0x0ECD) || // Mn   [6] LAO TONE MAI EK..LAO NIGGAHITA\r\n\t\t(0x0F18 <= code && code <= 0x0F19) || // Mn   [2] TIBETAN ASTROLOGICAL SIGN -KHYUD PA..TIBETAN ASTROLOGICAL SIGN SDONG TSHUGS\r\n\t\t0x0F35 === code || // Mn       TIBETAN MARK NGAS BZUNG NYI ZLA\r\n\t\t0x0F37 === code || // Mn       TIBETAN MARK NGAS BZUNG SGOR RTAGS\r\n\t\t0x0F39 === code || // Mn       TIBETAN MARK TSA -PHRU\r\n\t\t(0x0F71 <= code && code <= 0x0F7E) || // Mn  [14] TIBETAN VOWEL SIGN AA..TIBETAN SIGN RJES SU NGA RO\r\n\t\t(0x0F80 <= code && code <= 0x0F84) || // Mn   [5] TIBETAN VOWEL SIGN REVERSED I..TIBETAN MARK HALANTA\r\n\t\t(0x0F86 <= code && code <= 0x0F87) || // Mn   [2] TIBETAN SIGN LCI RTAGS..TIBETAN SIGN YANG RTAGS\r\n\t\t(0x0F8D <= code && code <= 0x0F97) || // Mn  [11] TIBETAN SUBJOINED SIGN LCE TSA CAN..TIBETAN SUBJOINED LETTER JA\r\n\t\t(0x0F99 <= code && code <= 0x0FBC) || // Mn  [36] TIBETAN SUBJOINED LETTER NYA..TIBETAN SUBJOINED LETTER FIXED-FORM RA\r\n\t\t0x0FC6 === code || // Mn       TIBETAN SYMBOL PADMA GDAN\r\n\t\t(0x102D <= code && code <= 0x1030) || // Mn   [4] MYANMAR VOWEL SIGN I..MYANMAR VOWEL SIGN UU\r\n\t\t(0x1032 <= code && code <= 0x1037) || // Mn   [6] MYANMAR VOWEL SIGN AI..MYANMAR SIGN DOT BELOW\r\n\t\t(0x1039 <= code && code <= 0x103A) || // Mn   [2] MYANMAR SIGN VIRAMA..MYANMAR SIGN ASAT\r\n\t\t(0x103D <= code && code <= 0x103E) || // Mn   [2] MYANMAR CONSONANT SIGN MEDIAL WA..MYANMAR CONSONANT SIGN MEDIAL HA\r\n\t\t(0x1058 <= code && code <= 0x1059) || // Mn   [2] MYANMAR VOWEL SIGN VOCALIC L..MYANMAR VOWEL SIGN VOCALIC LL\r\n\t\t(0x105E <= code && code <= 0x1060) || // Mn   [3] MYANMAR CONSONANT SIGN MON MEDIAL NA..MYANMAR CONSONANT SIGN MON MEDIAL LA\r\n\t\t(0x1071 <= code && code <= 0x1074) || // Mn   [4] MYANMAR VOWEL SIGN GEBA KAREN I..MYANMAR VOWEL SIGN KAYAH EE\r\n\t\t0x1082 === code || // Mn       MYANMAR CONSONANT SIGN SHAN MEDIAL WA\r\n\t\t(0x1085 <= code && code <= 0x1086) || // Mn   [2] MYANMAR VOWEL SIGN SHAN E ABOVE..MYANMAR VOWEL SIGN SHAN FINAL Y\r\n\t\t0x108D === code || // Mn       MYANMAR SIGN SHAN COUNCIL EMPHATIC TONE\r\n\t\t0x109D === code || // Mn       MYANMAR VOWEL SIGN AITON AI\r\n\t\t(0x135D <= code && code <= 0x135F) || // Mn   [3] ETHIOPIC COMBINING GEMINATION AND VOWEL LENGTH MARK..ETHIOPIC COMBINING GEMINATION MARK\r\n\t\t(0x1712 <= code && code <= 0x1714) || // Mn   [3] TAGALOG VOWEL SIGN I..TAGALOG SIGN VIRAMA\r\n\t\t(0x1732 <= code && code <= 0x1734) || // Mn   [3] HANUNOO VOWEL SIGN I..HANUNOO SIGN PAMUDPOD\r\n\t\t(0x1752 <= code && code <= 0x1753) || // Mn   [2] BUHID VOWEL SIGN I..BUHID VOWEL SIGN U\r\n\t\t(0x1772 <= code && code <= 0x1773) || // Mn   [2] TAGBANWA VOWEL SIGN I..TAGBANWA VOWEL SIGN U\r\n\t\t(0x17B4 <= code && code <= 0x17B5) || // Mn   [2] KHMER VOWEL INHERENT AQ..KHMER VOWEL INHERENT AA\r\n\t\t(0x17B7 <= code && code <= 0x17BD) || // Mn   [7] KHMER VOWEL SIGN I..KHMER VOWEL SIGN UA\r\n\t\t0x17C6 === code || // Mn       KHMER SIGN NIKAHIT\r\n\t\t(0x17C9 <= code && code <= 0x17D3) || // Mn  [11] KHMER SIGN MUUSIKATOAN..KHMER SIGN BATHAMASAT\r\n\t\t0x17DD === code || // Mn       KHMER SIGN ATTHACAN\r\n\t\t(0x180B <= code && code <= 0x180D) || // Mn   [3] MONGOLIAN FREE VARIATION SELECTOR ONE..MONGOLIAN FREE VARIATION SELECTOR THREE\r\n\t\t0x18A9 === code || // Mn       MONGOLIAN LETTER ALI GALI DAGALGA\r\n\t\t(0x1920 <= code && code <= 0x1922) || // Mn   [3] LIMBU VOWEL SIGN A..LIMBU VOWEL SIGN U\r\n\t\t(0x1927 <= code && code <= 0x1928) || // Mn   [2] LIMBU VOWEL SIGN E..LIMBU VOWEL SIGN O\r\n\t\t0x1932 === code || // Mn       LIMBU SMALL LETTER ANUSVARA\r\n\t\t(0x1939 <= code && code <= 0x193B) || // Mn   [3] LIMBU SIGN MUKPHRENG..LIMBU SIGN SA-I\r\n\t\t(0x1A17 <= code && code <= 0x1A18) || // Mn   [2] BUGINESE VOWEL SIGN I..BUGINESE VOWEL SIGN U\r\n\t\t0x1A1B === code || // Mn       BUGINESE VOWEL SIGN AE\r\n\t\t0x1A56 === code || // Mn       TAI THAM CONSONANT SIGN MEDIAL LA\r\n\t\t(0x1A58 <= code && code <= 0x1A5E) || // Mn   [7] TAI THAM SIGN MAI KANG LAI..TAI THAM CONSONANT SIGN SA\r\n\t\t0x1A60 === code || // Mn       TAI THAM SIGN SAKOT\r\n\t\t0x1A62 === code || // Mn       TAI THAM VOWEL SIGN MAI SAT\r\n\t\t(0x1A65 <= code && code <= 0x1A6C) || // Mn   [8] TAI THAM VOWEL SIGN I..TAI THAM VOWEL SIGN OA BELOW\r\n\t\t(0x1A73 <= code && code <= 0x1A7C) || // Mn  [10] TAI THAM VOWEL SIGN OA ABOVE..TAI THAM SIGN KHUEN-LUE KARAN\r\n\t\t0x1A7F === code || // Mn       TAI THAM COMBINING CRYPTOGRAMMIC DOT\r\n\t\t(0x1AB0 <= code && code <= 0x1ABD) || // Mn  [14] COMBINING DOUBLED CIRCUMFLEX ACCENT..COMBINING PARENTHESES BELOW\r\n\t\t0x1ABE === code || // Me       COMBINING PARENTHESES OVERLAY\r\n\t\t(0x1B00 <= code && code <= 0x1B03) || // Mn   [4] BALINESE SIGN ULU RICEM..BALINESE SIGN SURANG\r\n\t\t0x1B34 === code || // Mn       BALINESE SIGN REREKAN\r\n\t\t(0x1B36 <= code && code <= 0x1B3A) || // Mn   [5] BALINESE VOWEL SIGN ULU..BALINESE VOWEL SIGN RA REPA\r\n\t\t0x1B3C === code || // Mn       BALINESE VOWEL SIGN LA LENGA\r\n\t\t0x1B42 === code || // Mn       BALINESE VOWEL SIGN PEPET\r\n\t\t(0x1B6B <= code && code <= 0x1B73) || // Mn   [9] BALINESE MUSICAL SYMBOL COMBINING TEGEH..BALINESE MUSICAL SYMBOL COMBINING GONG\r\n\t\t(0x1B80 <= code && code <= 0x1B81) || // Mn   [2] SUNDANESE SIGN PANYECEK..SUNDANESE SIGN PANGLAYAR\r\n\t\t(0x1BA2 <= code && code <= 0x1BA5) || // Mn   [4] SUNDANESE CONSONANT SIGN PANYAKRA..SUNDANESE VOWEL SIGN PANYUKU\r\n\t\t(0x1BA8 <= code && code <= 0x1BA9) || // Mn   [2] SUNDANESE VOWEL SIGN PAMEPET..SUNDANESE VOWEL SIGN PANEULEUNG\r\n\t\t(0x1BAB <= code && code <= 0x1BAD) || // Mn   [3] SUNDANESE SIGN VIRAMA..SUNDANESE CONSONANT SIGN PASANGAN WA\r\n\t\t0x1BE6 === code || // Mn       BATAK SIGN TOMPI\r\n\t\t(0x1BE8 <= code && code <= 0x1BE9) || // Mn   [2] BATAK VOWEL SIGN PAKPAK E..BATAK VOWEL SIGN EE\r\n\t\t0x1BED === code || // Mn       BATAK VOWEL SIGN KARO O\r\n\t\t(0x1BEF <= code && code <= 0x1BF1) || // Mn   [3] BATAK VOWEL SIGN U FOR SIMALUNGUN SA..BATAK CONSONANT SIGN H\r\n\t\t(0x1C2C <= code && code <= 0x1C33) || // Mn   [8] LEPCHA VOWEL SIGN E..LEPCHA CONSONANT SIGN T\r\n\t\t(0x1C36 <= code && code <= 0x1C37) || // Mn   [2] LEPCHA SIGN RAN..LEPCHA SIGN NUKTA\r\n\t\t(0x1CD0 <= code && code <= 0x1CD2) || // Mn   [3] VEDIC TONE KARSHANA..VEDIC TONE PRENKHA\r\n\t\t(0x1CD4 <= code && code <= 0x1CE0) || // Mn  [13] VEDIC SIGN YAJURVEDIC MIDLINE SVARITA..VEDIC TONE RIGVEDIC KASHMIRI INDEPENDENT SVARITA\r\n\t\t(0x1CE2 <= code && code <= 0x1CE8) || // Mn   [7] VEDIC SIGN VISARGA SVARITA..VEDIC SIGN VISARGA ANUDATTA WITH TAIL\r\n\t\t0x1CED === code || // Mn       VEDIC SIGN TIRYAK\r\n\t\t0x1CF4 === code || // Mn       VEDIC TONE CANDRA ABOVE\r\n\t\t(0x1CF8 <= code && code <= 0x1CF9) || // Mn   [2] VEDIC TONE RING ABOVE..VEDIC TONE DOUBLE RING ABOVE\r\n\t\t(0x1DC0 <= code && code <= 0x1DF5) || // Mn  [54] COMBINING DOTTED GRAVE ACCENT..COMBINING UP TACK ABOVE\r\n\t\t(0x1DFC <= code && code <= 0x1DFF) || // Mn   [4] COMBINING DOUBLE INVERTED BREVE BELOW..COMBINING RIGHT ARROWHEAD AND DOWN ARROWHEAD BELOW\r\n\t\t(0x200C <= code && code <= 0x200D) || // Cf   [2] ZERO WIDTH NON-JOINER..ZERO WIDTH JOINER\r\n\t\t(0x20D0 <= code && code <= 0x20DC) || // Mn  [13] COMBINING LEFT HARPOON ABOVE..COMBINING FOUR DOTS ABOVE\r\n\t\t(0x20DD <= code && code <= 0x20E0) || // Me   [4] COMBINING ENCLOSING CIRCLE..COMBINING ENCLOSING CIRCLE BACKSLASH\r\n\t\t0x20E1 === code || // Mn       COMBINING LEFT RIGHT ARROW ABOVE\r\n\t\t(0x20E2 <= code && code <= 0x20E4) || // Me   [3] COMBINING ENCLOSING SCREEN..COMBINING ENCLOSING UPWARD POINTING TRIANGLE\r\n\t\t(0x20E5 <= code && code <= 0x20F0) || // Mn  [12] COMBINING REVERSE SOLIDUS OVERLAY..COMBINING ASTERISK ABOVE\r\n\t\t(0x2CEF <= code && code <= 0x2CF1) || // Mn   [3] COPTIC COMBINING NI ABOVE..COPTIC COMBINING SPIRITUS LENIS\r\n\t\t0x2D7F === code || // Mn       TIFINAGH CONSONANT JOINER\r\n\t\t(0x2DE0 <= code && code <= 0x2DFF) || // Mn  [32] COMBINING CYRILLIC LETTER BE..COMBINING CYRILLIC LETTER IOTIFIED BIG YUS\r\n\t\t(0x302A <= code && code <= 0x302D) || // Mn   [4] IDEOGRAPHIC LEVEL TONE MARK..IDEOGRAPHIC ENTERING TONE MARK\r\n\t\t(0x302E <= code && code <= 0x302F) || // Mc   [2] HANGUL SINGLE DOT TONE MARK..HANGUL DOUBLE DOT TONE MARK\r\n\t\t(0x3099 <= code && code <= 0x309A) || // Mn   [2] COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK..COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK\r\n\t\t0xA66F === code || // Mn       COMBINING CYRILLIC VZMET\r\n\t\t(0xA670 <= code && code <= 0xA672) || // Me   [3] COMBINING CYRILLIC TEN MILLIONS SIGN..COMBINING CYRILLIC THOUSAND MILLIONS SIGN\r\n\t\t(0xA674 <= code && code <= 0xA67D) || // Mn  [10] COMBINING CYRILLIC LETTER UKRAINIAN IE..COMBINING CYRILLIC PAYEROK\r\n\t\t(0xA69E <= code && code <= 0xA69F) || // Mn   [2] COMBINING CYRILLIC LETTER EF..COMBINING CYRILLIC LETTER IOTIFIED E\r\n\t\t(0xA6F0 <= code && code <= 0xA6F1) || // Mn   [2] BAMUM COMBINING MARK KOQNDON..BAMUM COMBINING MARK TUKWENTIS\r\n\t\t0xA802 === code || // Mn       SYLOTI NAGRI SIGN DVISVARA\r\n\t\t0xA806 === code || // Mn       SYLOTI NAGRI SIGN HASANTA\r\n\t\t0xA80B === code || // Mn       SYLOTI NAGRI SIGN ANUSVARA\r\n\t\t(0xA825 <= code && code <= 0xA826) || // Mn   [2] SYLOTI NAGRI VOWEL SIGN U..SYLOTI NAGRI VOWEL SIGN E\r\n\t\t0xA8C4 === code || // Mn       SAURASHTRA SIGN VIRAMA\r\n\t\t(0xA8E0 <= code && code <= 0xA8F1) || // Mn  [18] COMBINING DEVANAGARI DIGIT ZERO..COMBINING DEVANAGARI SIGN AVAGRAHA\r\n\t\t(0xA926 <= code && code <= 0xA92D) || // Mn   [8] KAYAH LI VOWEL UE..KAYAH LI TONE CALYA PLOPHU\r\n\t\t(0xA947 <= code && code <= 0xA951) || // Mn  [11] REJANG VOWEL SIGN I..REJANG CONSONANT SIGN R\r\n\t\t(0xA980 <= code && code <= 0xA982) || // Mn   [3] JAVANESE SIGN PANYANGGA..JAVANESE SIGN LAYAR\r\n\t\t0xA9B3 === code || // Mn       JAVANESE SIGN CECAK TELU\r\n\t\t(0xA9B6 <= code && code <= 0xA9B9) || // Mn   [4] JAVANESE VOWEL SIGN WULU..JAVANESE VOWEL SIGN SUKU MENDUT\r\n\t\t0xA9BC === code || // Mn       JAVANESE VOWEL SIGN PEPET\r\n\t\t0xA9E5 === code || // Mn       MYANMAR SIGN SHAN SAW\r\n\t\t(0xAA29 <= code && code <= 0xAA2E) || // Mn   [6] CHAM VOWEL SIGN AA..CHAM VOWEL SIGN OE\r\n\t\t(0xAA31 <= code && code <= 0xAA32) || // Mn   [2] CHAM VOWEL SIGN AU..CHAM VOWEL SIGN UE\r\n\t\t(0xAA35 <= code && code <= 0xAA36) || // Mn   [2] CHAM CONSONANT SIGN LA..CHAM CONSONANT SIGN WA\r\n\t\t0xAA43 === code || // Mn       CHAM CONSONANT SIGN FINAL NG\r\n\t\t0xAA4C === code || // Mn       CHAM CONSONANT SIGN FINAL M\r\n\t\t0xAA7C === code || // Mn       MYANMAR SIGN TAI LAING TONE-2\r\n\t\t0xAAB0 === code || // Mn       TAI VIET MAI KANG\r\n\t\t(0xAAB2 <= code && code <= 0xAAB4) || // Mn   [3] TAI VIET VOWEL I..TAI VIET VOWEL U\r\n\t\t(0xAAB7 <= code && code <= 0xAAB8) || // Mn   [2] TAI VIET MAI KHIT..TAI VIET VOWEL IA\r\n\t\t(0xAABE <= code && code <= 0xAABF) || // Mn   [2] TAI VIET VOWEL AM..TAI VIET TONE MAI EK\r\n\t\t0xAAC1 === code || // Mn       TAI VIET TONE MAI THO\r\n\t\t(0xAAEC <= code && code <= 0xAAED) || // Mn   [2] MEETEI MAYEK VOWEL SIGN UU..MEETEI MAYEK VOWEL SIGN AAI\r\n\t\t0xAAF6 === code || // Mn       MEETEI MAYEK VIRAMA\r\n\t\t0xABE5 === code || // Mn       MEETEI MAYEK VOWEL SIGN ANAP\r\n\t\t0xABE8 === code || // Mn       MEETEI MAYEK VOWEL SIGN UNAP\r\n\t\t0xABED === code || // Mn       MEETEI MAYEK APUN IYEK\r\n\t\t0xFB1E === code || // Mn       HEBREW POINT JUDEO-SPANISH VARIKA\r\n\t\t(0xFE00 <= code && code <= 0xFE0F) || // Mn  [16] VARIATION SELECTOR-1..VARIATION SELECTOR-16\r\n\t\t(0xFE20 <= code && code <= 0xFE2F) || // Mn  [16] COMBINING LIGATURE LEFT HALF..COMBINING CYRILLIC TITLO RIGHT HALF\r\n\t\t(0xFF9E <= code && code <= 0xFF9F) || // Lm   [2] HALFWIDTH KATAKANA VOICED SOUND MARK..HALFWIDTH KATAKANA SEMI-VOICED SOUND MARK\r\n\t\t0x101FD === code || // Mn       PHAISTOS DISC SIGN COMBINING OBLIQUE STROKE\r\n\t\t0x102E0 === code || // Mn       COPTIC EPACT THOUSANDS MARK\r\n\t\t(0x10376 <= code && code <= 0x1037A) || // Mn   [5] COMBINING OLD PERMIC LETTER AN..COMBINING OLD PERMIC LETTER SII\r\n\t\t(0x10A01 <= code && code <= 0x10A03) || // Mn   [3] KHAROSHTHI VOWEL SIGN I..KHAROSHTHI VOWEL SIGN VOCALIC R\r\n\t\t(0x10A05 <= code && code <= 0x10A06) || // Mn   [2] KHAROSHTHI VOWEL SIGN E..KHAROSHTHI VOWEL SIGN O\r\n\t\t(0x10A0C <= code && code <= 0x10A0F) || // Mn   [4] KHAROSHTHI VOWEL LENGTH MARK..KHAROSHTHI SIGN VISARGA\r\n\t\t(0x10A38 <= code && code <= 0x10A3A) || // Mn   [3] KHAROSHTHI SIGN BAR ABOVE..KHAROSHTHI SIGN DOT BELOW\r\n\t\t0x10A3F === code || // Mn       KHAROSHTHI VIRAMA\r\n\t\t(0x10AE5 <= code && code <= 0x10AE6) || // Mn   [2] MANICHAEAN ABBREVIATION MARK ABOVE..MANICHAEAN ABBREVIATION MARK BELOW\r\n\t\t0x11001 === code || // Mn       BRAHMI SIGN ANUSVARA\r\n\t\t(0x11038 <= code && code <= 0x11046) || // Mn  [15] BRAHMI VOWEL SIGN AA..BRAHMI VIRAMA\r\n\t\t(0x1107F <= code && code <= 0x11081) || // Mn   [3] BRAHMI NUMBER JOINER..KAITHI SIGN ANUSVARA\r\n\t\t(0x110B3 <= code && code <= 0x110B6) || // Mn   [4] KAITHI VOWEL SIGN U..KAITHI VOWEL SIGN AI\r\n\t\t(0x110B9 <= code && code <= 0x110BA) || // Mn   [2] KAITHI SIGN VIRAMA..KAITHI SIGN NUKTA\r\n\t\t(0x11100 <= code && code <= 0x11102) || // Mn   [3] CHAKMA SIGN CANDRABINDU..CHAKMA SIGN VISARGA\r\n\t\t(0x11127 <= code && code <= 0x1112B) || // Mn   [5] CHAKMA VOWEL SIGN A..CHAKMA VOWEL SIGN UU\r\n\t\t(0x1112D <= code && code <= 0x11134) || // Mn   [8] CHAKMA VOWEL SIGN AI..CHAKMA MAAYYAA\r\n\t\t0x11173 === code || // Mn       MAHAJANI SIGN NUKTA\r\n\t\t(0x11180 <= code && code <= 0x11181) || // Mn   [2] SHARADA SIGN CANDRABINDU..SHARADA SIGN ANUSVARA\r\n\t\t(0x111B6 <= code && code <= 0x111BE) || // Mn   [9] SHARADA VOWEL SIGN U..SHARADA VOWEL SIGN O\r\n\t\t(0x111CA <= code && code <= 0x111CC) || // Mn   [3] SHARADA SIGN NUKTA..SHARADA EXTRA SHORT VOWEL MARK\r\n\t\t(0x1122F <= code && code <= 0x11231) || // Mn   [3] KHOJKI VOWEL SIGN U..KHOJKI VOWEL SIGN AI\r\n\t\t0x11234 === code || // Mn       KHOJKI SIGN ANUSVARA\r\n\t\t(0x11236 <= code && code <= 0x11237) || // Mn   [2] KHOJKI SIGN NUKTA..KHOJKI SIGN SHADDA\r\n\t\t0x112DF === code || // Mn       KHUDAWADI SIGN ANUSVARA\r\n\t\t(0x112E3 <= code && code <= 0x112EA) || // Mn   [8] KHUDAWADI VOWEL SIGN U..KHUDAWADI SIGN VIRAMA\r\n\t\t(0x11300 <= code && code <= 0x11301) || // Mn   [2] GRANTHA SIGN COMBINING ANUSVARA ABOVE..GRANTHA SIGN CANDRABINDU\r\n\t\t0x1133C === code || // Mn       GRANTHA SIGN NUKTA\r\n\t\t0x1133E === code || // Mc       GRANTHA VOWEL SIGN AA\r\n\t\t0x11340 === code || // Mn       GRANTHA VOWEL SIGN II\r\n\t\t0x11357 === code || // Mc       GRANTHA AU LENGTH MARK\r\n\t\t(0x11366 <= code && code <= 0x1136C) || // Mn   [7] COMBINING GRANTHA DIGIT ZERO..COMBINING GRANTHA DIGIT SIX\r\n\t\t(0x11370 <= code && code <= 0x11374) || // Mn   [5] COMBINING GRANTHA LETTER A..COMBINING GRANTHA LETTER PA\r\n\t\t0x114B0 === code || // Mc       TIRHUTA VOWEL SIGN AA\r\n\t\t(0x114B3 <= code && code <= 0x114B8) || // Mn   [6] TIRHUTA VOWEL SIGN U..TIRHUTA VOWEL SIGN VOCALIC LL\r\n\t\t0x114BA === code || // Mn       TIRHUTA VOWEL SIGN SHORT E\r\n\t\t0x114BD === code || // Mc       TIRHUTA VOWEL SIGN SHORT O\r\n\t\t(0x114BF <= code && code <= 0x114C0) || // Mn   [2] TIRHUTA SIGN CANDRABINDU..TIRHUTA SIGN ANUSVARA\r\n\t\t(0x114C2 <= code && code <= 0x114C3) || // Mn   [2] TIRHUTA SIGN VIRAMA..TIRHUTA SIGN NUKTA\r\n\t\t0x115AF === code || // Mc       SIDDHAM VOWEL SIGN AA\r\n\t\t(0x115B2 <= code && code <= 0x115B5) || // Mn   [4] SIDDHAM VOWEL SIGN U..SIDDHAM VOWEL SIGN VOCALIC RR\r\n\t\t(0x115BC <= code && code <= 0x115BD) || // Mn   [2] SIDDHAM SIGN CANDRABINDU..SIDDHAM SIGN ANUSVARA\r\n\t\t(0x115BF <= code && code <= 0x115C0) || // Mn   [2] SIDDHAM SIGN VIRAMA..SIDDHAM SIGN NUKTA\r\n\t\t(0x115DC <= code && code <= 0x115DD) || // Mn   [2] SIDDHAM VOWEL SIGN ALTERNATE U..SIDDHAM VOWEL SIGN ALTERNATE UU\r\n\t\t(0x11633 <= code && code <= 0x1163A) || // Mn   [8] MODI VOWEL SIGN U..MODI VOWEL SIGN AI\r\n\t\t0x1163D === code || // Mn       MODI SIGN ANUSVARA\r\n\t\t(0x1163F <= code && code <= 0x11640) || // Mn   [2] MODI SIGN VIRAMA..MODI SIGN ARDHACANDRA\r\n\t\t0x116AB === code || // Mn       TAKRI SIGN ANUSVARA\r\n\t\t0x116AD === code || // Mn       TAKRI VOWEL SIGN AA\r\n\t\t(0x116B0 <= code && code <= 0x116B5) || // Mn   [6] TAKRI VOWEL SIGN U..TAKRI VOWEL SIGN AU\r\n\t\t0x116B7 === code || // Mn       TAKRI SIGN NUKTA\r\n\t\t(0x1171D <= code && code <= 0x1171F) || // Mn   [3] AHOM CONSONANT SIGN MEDIAL LA..AHOM CONSONANT SIGN MEDIAL LIGATING RA\r\n\t\t(0x11722 <= code && code <= 0x11725) || // Mn   [4] AHOM VOWEL SIGN I..AHOM VOWEL SIGN UU\r\n\t\t(0x11727 <= code && code <= 0x1172B) || // Mn   [5] AHOM VOWEL SIGN AW..AHOM SIGN KILLER\r\n\t\t(0x16AF0 <= code && code <= 0x16AF4) || // Mn   [5] BASSA VAH COMBINING HIGH TONE..BASSA VAH COMBINING HIGH-LOW TONE\r\n\t\t(0x16B30 <= code && code <= 0x16B36) || // Mn   [7] PAHAWH HMONG MARK CIM TUB..PAHAWH HMONG MARK CIM TAUM\r\n\t\t(0x16F8F <= code && code <= 0x16F92) || // Mn   [4] MIAO TONE RIGHT..MIAO TONE BELOW\r\n\t\t(0x1BC9D <= code && code <= 0x1BC9E) || // Mn   [2] DUPLOYAN THICK LETTER SELECTOR..DUPLOYAN DOUBLE MARK\r\n\t\t0x1D165 === code || // Mc       MUSICAL SYMBOL COMBINING STEM\r\n\t\t(0x1D167 <= code && code <= 0x1D169) || // Mn   [3] MUSICAL SYMBOL COMBINING TREMOLO-1..MUSICAL SYMBOL COMBINING TREMOLO-3\r\n\t\t(0x1D16E <= code && code <= 0x1D172) || // Mc   [5] MUSICAL SYMBOL COMBINING FLAG-1..MUSICAL SYMBOL COMBINING FLAG-5\r\n\t\t(0x1D17B <= code && code <= 0x1D182) || // Mn   [8] MUSICAL SYMBOL COMBINING ACCENT..MUSICAL SYMBOL COMBINING LOURE\r\n\t\t(0x1D185 <= code && code <= 0x1D18B) || // Mn   [7] MUSICAL SYMBOL COMBINING DOIT..MUSICAL SYMBOL COMBINING TRIPLE TONGUE\r\n\t\t(0x1D1AA <= code && code <= 0x1D1AD) || // Mn   [4] MUSICAL SYMBOL COMBINING DOWN BOW..MUSICAL SYMBOL COMBINING SNAP PIZZICATO\r\n\t\t(0x1D242 <= code && code <= 0x1D244) || // Mn   [3] COMBINING GREEK MUSICAL TRISEME..COMBINING GREEK MUSICAL PENTASEME\r\n\t\t(0x1DA00 <= code && code <= 0x1DA36) || // Mn  [55] SIGNWRITING HEAD RIM..SIGNWRITING AIR SUCKING IN\r\n\t\t(0x1DA3B <= code && code <= 0x1DA6C) || // Mn  [50] SIGNWRITING MOUTH CLOSED NEUTRAL..SIGNWRITING EXCITEMENT\r\n\t\t0x1DA75 === code || // Mn       SIGNWRITING UPPER BODY TILTING FROM HIP JOINTS\r\n\t\t0x1DA84 === code || // Mn       SIGNWRITING LOCATION HEAD NECK\r\n\t\t(0x1DA9B <= code && code <= 0x1DA9F) || // Mn   [5] SIGNWRITING FILL MODIFIER-2..SIGNWRITING FILL MODIFIER-6\r\n\t\t(0x1DAA1 <= code && code <= 0x1DAAF) || // Mn  [15] SIGNWRITING ROTATION MODIFIER-2..SIGNWRITING ROTATION MODIFIER-16\r\n\t\t(0x1E8D0 <= code && code <= 0x1E8D6) || // Mn   [7] MENDE KIKAKUI COMBINING NUMBER TEENS..MENDE KIKAKUI COMBINING NUMBER MILLIONS\r\n\t\t(0xE0100 <= code && code <= 0xE01EF) // Mn [240] VARIATION SELECTOR-17..VARIATION SELECTOR-256\r\n\t\t){\r\n\t\t\treturn Extend;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(\r\n\t\t(0x1F1E6 <= code && code <= 0x1F1FF) // So  [26] REGIONAL INDICATOR SYMBOL LETTER A..REGIONAL INDICATOR SYMBOL LETTER Z\r\n\t\t){\r\n\t\t\treturn Regional_Indicator;\r\n\t\t}\r\n\r\n\t\tif(\r\n\t\t(0x1F3FB <= code && code <= 0x1F3FF) //EMOJI MODIFIER FITZPATRICK\r\n\t\t){\r\n\t\t\treturn Skin_Tone;\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif(\r\n\t\t0x0903 === code || // Mc       DEVANAGARI SIGN VISARGA\r\n\t\t0x093B === code || // Mc       DEVANAGARI VOWEL SIGN OOE\r\n\t\t(0x093E <= code && code <= 0x0940) || // Mc   [3] DEVANAGARI VOWEL SIGN AA..DEVANAGARI VOWEL SIGN II\r\n\t\t(0x0949 <= code && code <= 0x094C) || // Mc   [4] DEVANAGARI VOWEL SIGN CANDRA O..DEVANAGARI VOWEL SIGN AU\r\n\t\t(0x094E <= code && code <= 0x094F) || // Mc   [2] DEVANAGARI VOWEL SIGN PRISHTHAMATRA E..DEVANAGARI VOWEL SIGN AW\r\n\t\t(0x0982 <= code && code <= 0x0983) || // Mc   [2] BENGALI SIGN ANUSVARA..BENGALI SIGN VISARGA\r\n\t\t(0x09BF <= code && code <= 0x09C0) || // Mc   [2] BENGALI VOWEL SIGN I..BENGALI VOWEL SIGN II\r\n\t\t(0x09C7 <= code && code <= 0x09C8) || // Mc   [2] BENGALI VOWEL SIGN E..BENGALI VOWEL SIGN AI\r\n\t\t(0x09CB <= code && code <= 0x09CC) || // Mc   [2] BENGALI VOWEL SIGN O..BENGALI VOWEL SIGN AU\r\n\t\t0x0A03 === code || // Mc       GURMUKHI SIGN VISARGA\r\n\t\t(0x0A3E <= code && code <= 0x0A40) || // Mc   [3] GURMUKHI VOWEL SIGN AA..GURMUKHI VOWEL SIGN II\r\n\t\t0x0A83 === code || // Mc       GUJARATI SIGN VISARGA\r\n\t\t(0x0ABE <= code && code <= 0x0AC0) || // Mc   [3] GUJARATI VOWEL SIGN AA..GUJARATI VOWEL SIGN II\r\n\t\t0x0AC9 === code || // Mc       GUJARATI VOWEL SIGN CANDRA O\r\n\t\t(0x0ACB <= code && code <= 0x0ACC) || // Mc   [2] GUJARATI VOWEL SIGN O..GUJARATI VOWEL SIGN AU\r\n\t\t(0x0B02 <= code && code <= 0x0B03) || // Mc   [2] ORIYA SIGN ANUSVARA..ORIYA SIGN VISARGA\r\n\t\t0x0B40 === code || // Mc       ORIYA VOWEL SIGN II\r\n\t\t(0x0B47 <= code && code <= 0x0B48) || // Mc   [2] ORIYA VOWEL SIGN E..ORIYA VOWEL SIGN AI\r\n\t\t(0x0B4B <= code && code <= 0x0B4C) || // Mc   [2] ORIYA VOWEL SIGN O..ORIYA VOWEL SIGN AU\r\n\t\t0x0BBF === code || // Mc       TAMIL VOWEL SIGN I\r\n\t\t(0x0BC1 <= code && code <= 0x0BC2) || // Mc   [2] TAMIL VOWEL SIGN U..TAMIL VOWEL SIGN UU\r\n\t\t(0x0BC6 <= code && code <= 0x0BC8) || // Mc   [3] TAMIL VOWEL SIGN E..TAMIL VOWEL SIGN AI\r\n\t\t(0x0BCA <= code && code <= 0x0BCC) || // Mc   [3] TAMIL VOWEL SIGN O..TAMIL VOWEL SIGN AU\r\n\t\t(0x0C01 <= code && code <= 0x0C03) || // Mc   [3] TELUGU SIGN CANDRABINDU..TELUGU SIGN VISARGA\r\n\t\t(0x0C41 <= code && code <= 0x0C44) || // Mc   [4] TELUGU VOWEL SIGN U..TELUGU VOWEL SIGN VOCALIC RR\r\n\t\t(0x0C82 <= code && code <= 0x0C83) || // Mc   [2] KANNADA SIGN ANUSVARA..KANNADA SIGN VISARGA\r\n\t\t0x0CBE === code || // Mc       KANNADA VOWEL SIGN AA\r\n\t\t(0x0CC0 <= code && code <= 0x0CC1) || // Mc   [2] KANNADA VOWEL SIGN II..KANNADA VOWEL SIGN U\r\n\t\t(0x0CC3 <= code && code <= 0x0CC4) || // Mc   [2] KANNADA VOWEL SIGN VOCALIC R..KANNADA VOWEL SIGN VOCALIC RR\r\n\t\t(0x0CC7 <= code && code <= 0x0CC8) || // Mc   [2] KANNADA VOWEL SIGN EE..KANNADA VOWEL SIGN AI\r\n\t\t(0x0CCA <= code && code <= 0x0CCB) || // Mc   [2] KANNADA VOWEL SIGN O..KANNADA VOWEL SIGN OO\r\n\t\t(0x0D02 <= code && code <= 0x0D03) || // Mc   [2] MALAYALAM SIGN ANUSVARA..MALAYALAM SIGN VISARGA\r\n\t\t(0x0D3F <= code && code <= 0x0D40) || // Mc   [2] MALAYALAM VOWEL SIGN I..MALAYALAM VOWEL SIGN II\r\n\t\t(0x0D46 <= code && code <= 0x0D48) || // Mc   [3] MALAYALAM VOWEL SIGN E..MALAYALAM VOWEL SIGN AI\r\n\t\t(0x0D4A <= code && code <= 0x0D4C) || // Mc   [3] MALAYALAM VOWEL SIGN O..MALAYALAM VOWEL SIGN AU\r\n\t\t(0x0D82 <= code && code <= 0x0D83) || // Mc   [2] SINHALA SIGN ANUSVARAYA..SINHALA SIGN VISARGAYA\r\n\t\t(0x0DD0 <= code && code <= 0x0DD1) || // Mc   [2] SINHALA VOWEL SIGN KETTI AEDA-PILLA..SINHALA VOWEL SIGN DIGA AEDA-PILLA\r\n\t\t(0x0DD8 <= code && code <= 0x0DDE) || // Mc   [7] SINHALA VOWEL SIGN GAETTA-PILLA..SINHALA VOWEL SIGN KOMBUVA HAA GAYANUKITTA\r\n\t\t(0x0DF2 <= code && code <= 0x0DF3) || // Mc   [2] SINHALA VOWEL SIGN DIGA GAETTA-PILLA..SINHALA VOWEL SIGN DIGA GAYANUKITTA\r\n\t\t0x0E33 === code || // Lo       THAI CHARACTER SARA AM\r\n\t\t0x0EB3 === code || // Lo       LAO VOWEL SIGN AM\r\n\t\t(0x0F3E <= code && code <= 0x0F3F) || // Mc   [2] TIBETAN SIGN YAR TSHES..TIBETAN SIGN MAR TSHES\r\n\t\t0x0F7F === code || // Mc       TIBETAN SIGN RNAM BCAD\r\n\t\t0x1031 === code || // Mc       MYANMAR VOWEL SIGN E\r\n\t\t(0x103B <= code && code <= 0x103C) || // Mc   [2] MYANMAR CONSONANT SIGN MEDIAL YA..MYANMAR CONSONANT SIGN MEDIAL RA\r\n\t\t(0x1056 <= code && code <= 0x1057) || // Mc   [2] MYANMAR VOWEL SIGN VOCALIC R..MYANMAR VOWEL SIGN VOCALIC RR\r\n\t\t0x1084 === code || // Mc       MYANMAR VOWEL SIGN SHAN E\r\n\t\t0x17B6 === code || // Mc       KHMER VOWEL SIGN AA\r\n\t\t(0x17BE <= code && code <= 0x17C5) || // Mc   [8] KHMER VOWEL SIGN OE..KHMER VOWEL SIGN AU\r\n\t\t(0x17C7 <= code && code <= 0x17C8) || // Mc   [2] KHMER SIGN REAHMUK..KHMER SIGN YUUKALEAPINTU\r\n\t\t(0x1923 <= code && code <= 0x1926) || // Mc   [4] LIMBU VOWEL SIGN EE..LIMBU VOWEL SIGN AU\r\n\t\t(0x1929 <= code && code <= 0x192B) || // Mc   [3] LIMBU SUBJOINED LETTER YA..LIMBU SUBJOINED LETTER WA\r\n\t\t(0x1930 <= code && code <= 0x1931) || // Mc   [2] LIMBU SMALL LETTER KA..LIMBU SMALL LETTER NGA\r\n\t\t(0x1933 <= code && code <= 0x1938) || // Mc   [6] LIMBU SMALL LETTER TA..LIMBU SMALL LETTER LA\r\n\t\t(0x1A19 <= code && code <= 0x1A1A) || // Mc   [2] BUGINESE VOWEL SIGN E..BUGINESE VOWEL SIGN O\r\n\t\t0x1A55 === code || // Mc       TAI THAM CONSONANT SIGN MEDIAL RA\r\n\t\t0x1A57 === code || // Mc       TAI THAM CONSONANT SIGN LA TANG LAI\r\n\t\t(0x1A6D <= code && code <= 0x1A72) || // Mc   [6] TAI THAM VOWEL SIGN OY..TAI THAM VOWEL SIGN THAM AI\r\n\t\t0x1B04 === code || // Mc       BALINESE SIGN BISAH\r\n\t\t0x1B35 === code || // Mc       BALINESE VOWEL SIGN TEDUNG\r\n\t\t0x1B3B === code || // Mc       BALINESE VOWEL SIGN RA REPA TEDUNG\r\n\t\t(0x1B3D <= code && code <= 0x1B41) || // Mc   [5] BALINESE VOWEL SIGN LA LENGA TEDUNG..BALINESE VOWEL SIGN TALING REPA TEDUNG\r\n\t\t(0x1B43 <= code && code <= 0x1B44) || // Mc   [2] BALINESE VOWEL SIGN PEPET TEDUNG..BALINESE ADEG ADEG\r\n\t\t0x1B82 === code || // Mc       SUNDANESE SIGN PANGWISAD\r\n\t\t0x1BA1 === code || // Mc       SUNDANESE CONSONANT SIGN PAMINGKAL\r\n\t\t(0x1BA6 <= code && code <= 0x1BA7) || // Mc   [2] SUNDANESE VOWEL SIGN PANAELAENG..SUNDANESE VOWEL SIGN PANOLONG\r\n\t\t0x1BAA === code || // Mc       SUNDANESE SIGN PAMAAEH\r\n\t\t0x1BE7 === code || // Mc       BATAK VOWEL SIGN E\r\n\t\t(0x1BEA <= code && code <= 0x1BEC) || // Mc   [3] BATAK VOWEL SIGN I..BATAK VOWEL SIGN O\r\n\t\t0x1BEE === code || // Mc       BATAK VOWEL SIGN U\r\n\t\t(0x1BF2 <= code && code <= 0x1BF3) || // Mc   [2] BATAK PANGOLAT..BATAK PANONGONAN\r\n\t\t(0x1C24 <= code && code <= 0x1C2B) || // Mc   [8] LEPCHA SUBJOINED LETTER YA..LEPCHA VOWEL SIGN UU\r\n\t\t(0x1C34 <= code && code <= 0x1C35) || // Mc   [2] LEPCHA CONSONANT SIGN NYIN-DO..LEPCHA CONSONANT SIGN KANG\r\n\t\t0x1CE1 === code || // Mc       VEDIC TONE ATHARVAVEDIC INDEPENDENT SVARITA\r\n\t\t(0x1CF2 <= code && code <= 0x1CF3) || // Mc   [2] VEDIC SIGN ARDHAVISARGA..VEDIC SIGN ROTATED ARDHAVISARGA\r\n\t\t(0xA823 <= code && code <= 0xA824) || // Mc   [2] SYLOTI NAGRI VOWEL SIGN A..SYLOTI NAGRI VOWEL SIGN I\r\n\t\t0xA827 === code || // Mc       SYLOTI NAGRI VOWEL SIGN OO\r\n\t\t(0xA880 <= code && code <= 0xA881) || // Mc   [2] SAURASHTRA SIGN ANUSVARA..SAURASHTRA SIGN VISARGA\r\n\t\t(0xA8B4 <= code && code <= 0xA8C3) || // Mc  [16] SAURASHTRA CONSONANT SIGN HAARU..SAURASHTRA VOWEL SIGN AU\r\n\t\t(0xA952 <= code && code <= 0xA953) || // Mc   [2] REJANG CONSONANT SIGN H..REJANG VIRAMA\r\n\t\t0xA983 === code || // Mc       JAVANESE SIGN WIGNYAN\r\n\t\t(0xA9B4 <= code && code <= 0xA9B5) || // Mc   [2] JAVANESE VOWEL SIGN TARUNG..JAVANESE VOWEL SIGN TOLONG\r\n\t\t(0xA9BA <= code && code <= 0xA9BB) || // Mc   [2] JAVANESE VOWEL SIGN TALING..JAVANESE VOWEL SIGN DIRGA MURE\r\n\t\t(0xA9BD <= code && code <= 0xA9C0) || // Mc   [4] JAVANESE CONSONANT SIGN KERET..JAVANESE PANGKON\r\n\t\t(0xAA2F <= code && code <= 0xAA30) || // Mc   [2] CHAM VOWEL SIGN O..CHAM VOWEL SIGN AI\r\n\t\t(0xAA33 <= code && code <= 0xAA34) || // Mc   [2] CHAM CONSONANT SIGN YA..CHAM CONSONANT SIGN RA\r\n\t\t0xAA4D === code || // Mc       CHAM CONSONANT SIGN FINAL H\r\n\t\t0xAAEB === code || // Mc       MEETEI MAYEK VOWEL SIGN II\r\n\t\t(0xAAEE <= code && code <= 0xAAEF) || // Mc   [2] MEETEI MAYEK VOWEL SIGN AU..MEETEI MAYEK VOWEL SIGN AAU\r\n\t\t0xAAF5 === code || // Mc       MEETEI MAYEK VOWEL SIGN VISARGA\r\n\t\t(0xABE3 <= code && code <= 0xABE4) || // Mc   [2] MEETEI MAYEK VOWEL SIGN ONAP..MEETEI MAYEK VOWEL SIGN INAP\r\n\t\t(0xABE6 <= code && code <= 0xABE7) || // Mc   [2] MEETEI MAYEK VOWEL SIGN YENAP..MEETEI MAYEK VOWEL SIGN SOUNAP\r\n\t\t(0xABE9 <= code && code <= 0xABEA) || // Mc   [2] MEETEI MAYEK VOWEL SIGN CHEINAP..MEETEI MAYEK VOWEL SIGN NUNG\r\n\t\t0xABEC === code || // Mc       MEETEI MAYEK LUM IYEK\r\n\t\t0x11000 === code || // Mc       BRAHMI SIGN CANDRABINDU\r\n\t\t0x11002 === code || // Mc       BRAHMI SIGN VISARGA\r\n\t\t0x11082 === code || // Mc       KAITHI SIGN VISARGA\r\n\t\t(0x110B0 <= code && code <= 0x110B2) || // Mc   [3] KAITHI VOWEL SIGN AA..KAITHI VOWEL SIGN II\r\n\t\t(0x110B7 <= code && code <= 0x110B8) || // Mc   [2] KAITHI VOWEL SIGN O..KAITHI VOWEL SIGN AU\r\n\t\t0x1112C === code || // Mc       CHAKMA VOWEL SIGN E\r\n\t\t0x11182 === code || // Mc       SHARADA SIGN VISARGA\r\n\t\t(0x111B3 <= code && code <= 0x111B5) || // Mc   [3] SHARADA VOWEL SIGN AA..SHARADA VOWEL SIGN II\r\n\t\t(0x111BF <= code && code <= 0x111C0) || // Mc   [2] SHARADA VOWEL SIGN AU..SHARADA SIGN VIRAMA\r\n\t\t(0x1122C <= code && code <= 0x1122E) || // Mc   [3] KHOJKI VOWEL SIGN AA..KHOJKI VOWEL SIGN II\r\n\t\t(0x11232 <= code && code <= 0x11233) || // Mc   [2] KHOJKI VOWEL SIGN O..KHOJKI VOWEL SIGN AU\r\n\t\t0x11235 === code || // Mc       KHOJKI SIGN VIRAMA\r\n\t\t(0x112E0 <= code && code <= 0x112E2) || // Mc   [3] KHUDAWADI VOWEL SIGN AA..KHUDAWADI VOWEL SIGN II\r\n\t\t(0x11302 <= code && code <= 0x11303) || // Mc   [2] GRANTHA SIGN ANUSVARA..GRANTHA SIGN VISARGA\r\n\t\t0x1133F === code || // Mc       GRANTHA VOWEL SIGN I\r\n\t\t(0x11341 <= code && code <= 0x11344) || // Mc   [4] GRANTHA VOWEL SIGN U..GRANTHA VOWEL SIGN VOCALIC RR\r\n\t\t(0x11347 <= code && code <= 0x11348) || // Mc   [2] GRANTHA VOWEL SIGN EE..GRANTHA VOWEL SIGN AI\r\n\t\t(0x1134B <= code && code <= 0x1134D) || // Mc   [3] GRANTHA VOWEL SIGN OO..GRANTHA SIGN VIRAMA\r\n\t\t(0x11362 <= code && code <= 0x11363) || // Mc   [2] GRANTHA VOWEL SIGN VOCALIC L..GRANTHA VOWEL SIGN VOCALIC LL\r\n\t\t(0x114B1 <= code && code <= 0x114B2) || // Mc   [2] TIRHUTA VOWEL SIGN I..TIRHUTA VOWEL SIGN II\r\n\t\t0x114B9 === code || // Mc       TIRHUTA VOWEL SIGN E\r\n\t\t(0x114BB <= code && code <= 0x114BC) || // Mc   [2] TIRHUTA VOWEL SIGN AI..TIRHUTA VOWEL SIGN O\r\n\t\t0x114BE === code || // Mc       TIRHUTA VOWEL SIGN AU\r\n\t\t0x114C1 === code || // Mc       TIRHUTA SIGN VISARGA\r\n\t\t(0x115B0 <= code && code <= 0x115B1) || // Mc   [2] SIDDHAM VOWEL SIGN I..SIDDHAM VOWEL SIGN II\r\n\t\t(0x115B8 <= code && code <= 0x115BB) || // Mc   [4] SIDDHAM VOWEL SIGN E..SIDDHAM VOWEL SIGN AU\r\n\t\t0x115BE === code || // Mc       SIDDHAM SIGN VISARGA\r\n\t\t(0x11630 <= code && code <= 0x11632) || // Mc   [3] MODI VOWEL SIGN AA..MODI VOWEL SIGN II\r\n\t\t(0x1163B <= code && code <= 0x1163C) || // Mc   [2] MODI VOWEL SIGN O..MODI VOWEL SIGN AU\r\n\t\t0x1163E === code || // Mc       MODI SIGN VISARGA\r\n\t\t0x116AC === code || // Mc       TAKRI SIGN VISARGA\r\n\t\t(0x116AE <= code && code <= 0x116AF) || // Mc   [2] TAKRI VOWEL SIGN I..TAKRI VOWEL SIGN II\r\n\t\t0x116B6 === code || // Mc       TAKRI SIGN VIRAMA\r\n\t\t(0x11720 <= code && code <= 0x11721) || // Mc   [2] AHOM VOWEL SIGN A..AHOM VOWEL SIGN AA\r\n\t\t0x11726 === code || // Mc       AHOM VOWEL SIGN E\r\n\t\t(0x16F51 <= code && code <= 0x16F7E) || // Mc  [46] MIAO SIGN ASPIRATION..MIAO VOWEL SIGN NG\r\n\t\t0x1D166 === code || // Mc       MUSICAL SYMBOL COMBINING SPRECHGESANG STEM\r\n\t\t0x1D16D === code // Mc       MUSICAL SYMBOL COMBINING AUGMENTATION DOT\r\n\t\t){\r\n\t\t\treturn SpacingMark;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(\r\n\t\t(0x1100 <= code && code <= 0x115F) || // Lo  [96] HANGUL CHOSEONG KIYEOK..HANGUL CHOSEONG FILLER\r\n\t\t(0xA960 <= code && code <= 0xA97C) // Lo  [29] HANGUL CHOSEONG TIKEUT-MIEUM..HANGUL CHOSEONG SSANGYEORINHIEUH\r\n\t\t){\r\n\t\t\treturn L;\r\n\t\t}\r\n\t\t\r\n\t\tif(\r\n\t\t(0x1160 <= code && code <= 0x11A7) || // Lo  [72] HANGUL JUNGSEONG FILLER..HANGUL JUNGSEONG O-YAE\r\n\t\t(0xD7B0 <= code && code <= 0xD7C6) // Lo  [23] HANGUL JUNGSEONG O-YEO..HANGUL JUNGSEONG ARAEA-E\r\n\t\t){\r\n\t\t\treturn V;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(\r\n\t\t(0x11A8 <= code && code <= 0x11FF) || // Lo  [88] HANGUL JONGSEONG KIYEOK..HANGUL JONGSEONG SSANGNIEUN\r\n\t\t(0xD7CB <= code && code <= 0xD7FB) // Lo  [49] HANGUL JONGSEONG NIEUN-RIEUL..HANGUL JONGSEONG PHIEUPH-THIEUTH\r\n\t\t){\r\n\t\t\treturn T;\r\n\t\t}\r\n\t\t\r\n\t\tif(\r\n\t\t0xAC00 === code || // Lo       HANGUL SYLLABLE GA\r\n\t\t0xAC1C === code || // Lo       HANGUL SYLLABLE GAE\r\n\t\t0xAC38 === code || // Lo       HANGUL SYLLABLE GYA\r\n\t\t0xAC54 === code || // Lo       HANGUL SYLLABLE GYAE\r\n\t\t0xAC70 === code || // Lo       HANGUL SYLLABLE GEO\r\n\t\t0xAC8C === code || // Lo       HANGUL SYLLABLE GE\r\n\t\t0xACA8 === code || // Lo       HANGUL SYLLABLE GYEO\r\n\t\t0xACC4 === code || // Lo       HANGUL SYLLABLE GYE\r\n\t\t0xACE0 === code || // Lo       HANGUL SYLLABLE GO\r\n\t\t0xACFC === code || // Lo       HANGUL SYLLABLE GWA\r\n\t\t0xAD18 === code || // Lo       HANGUL SYLLABLE GWAE\r\n\t\t0xAD34 === code || // Lo       HANGUL SYLLABLE GOE\r\n\t\t0xAD50 === code || // Lo       HANGUL SYLLABLE GYO\r\n\t\t0xAD6C === code || // Lo       HANGUL SYLLABLE GU\r\n\t\t0xAD88 === code || // Lo       HANGUL SYLLABLE GWEO\r\n\t\t0xADA4 === code || // Lo       HANGUL SYLLABLE GWE\r\n\t\t0xADC0 === code || // Lo       HANGUL SYLLABLE GWI\r\n\t\t0xADDC === code || // Lo       HANGUL SYLLABLE GYU\r\n\t\t0xADF8 === code || // Lo       HANGUL SYLLABLE GEU\r\n\t\t0xAE14 === code || // Lo       HANGUL SYLLABLE GYI\r\n\t\t0xAE30 === code || // Lo       HANGUL SYLLABLE GI\r\n\t\t0xAE4C === code || // Lo       HANGUL SYLLABLE GGA\r\n\t\t0xAE68 === code || // Lo       HANGUL SYLLABLE GGAE\r\n\t\t0xAE84 === code || // Lo       HANGUL SYLLABLE GGYA\r\n\t\t0xAEA0 === code || // Lo       HANGUL SYLLABLE GGYAE\r\n\t\t0xAEBC === code || // Lo       HANGUL SYLLABLE GGEO\r\n\t\t0xAED8 === code || // Lo       HANGUL SYLLABLE GGE\r\n\t\t0xAEF4 === code || // Lo       HANGUL SYLLABLE GGYEO\r\n\t\t0xAF10 === code || // Lo       HANGUL SYLLABLE GGYE\r\n\t\t0xAF2C === code || // Lo       HANGUL SYLLABLE GGO\r\n\t\t0xAF48 === code || // Lo       HANGUL SYLLABLE GGWA\r\n\t\t0xAF64 === code || // Lo       HANGUL SYLLABLE GGWAE\r\n\t\t0xAF80 === code || // Lo       HANGUL SYLLABLE GGOE\r\n\t\t0xAF9C === code || // Lo       HANGUL SYLLABLE GGYO\r\n\t\t0xAFB8 === code || // Lo       HANGUL SYLLABLE GGU\r\n\t\t0xAFD4 === code || // Lo       HANGUL SYLLABLE GGWEO\r\n\t\t0xAFF0 === code || // Lo       HANGUL SYLLABLE GGWE\r\n\t\t0xB00C === code || // Lo       HANGUL SYLLABLE GGWI\r\n\t\t0xB028 === code || // Lo       HANGUL SYLLABLE GGYU\r\n\t\t0xB044 === code || // Lo       HANGUL SYLLABLE GGEU\r\n\t\t0xB060 === code || // Lo       HANGUL SYLLABLE GGYI\r\n\t\t0xB07C === code || // Lo       HANGUL SYLLABLE GGI\r\n\t\t0xB098 === code || // Lo       HANGUL SYLLABLE NA\r\n\t\t0xB0B4 === code || // Lo       HANGUL SYLLABLE NAE\r\n\t\t0xB0D0 === code || // Lo       HANGUL SYLLABLE NYA\r\n\t\t0xB0EC === code || // Lo       HANGUL SYLLABLE NYAE\r\n\t\t0xB108 === code || // Lo       HANGUL SYLLABLE NEO\r\n\t\t0xB124 === code || // Lo       HANGUL SYLLABLE NE\r\n\t\t0xB140 === code || // Lo       HANGUL SYLLABLE NYEO\r\n\t\t0xB15C === code || // Lo       HANGUL SYLLABLE NYE\r\n\t\t0xB178 === code || // Lo       HANGUL SYLLABLE NO\r\n\t\t0xB194 === code || // Lo       HANGUL SYLLABLE NWA\r\n\t\t0xB1B0 === code || // Lo       HANGUL SYLLABLE NWAE\r\n\t\t0xB1CC === code || // Lo       HANGUL SYLLABLE NOE\r\n\t\t0xB1E8 === code || // Lo       HANGUL SYLLABLE NYO\r\n\t\t0xB204 === code || // Lo       HANGUL SYLLABLE NU\r\n\t\t0xB220 === code || // Lo       HANGUL SYLLABLE NWEO\r\n\t\t0xB23C === code || // Lo       HANGUL SYLLABLE NWE\r\n\t\t0xB258 === code || // Lo       HANGUL SYLLABLE NWI\r\n\t\t0xB274 === code || // Lo       HANGUL SYLLABLE NYU\r\n\t\t0xB290 === code || // Lo       HANGUL SYLLABLE NEU\r\n\t\t0xB2AC === code || // Lo       HANGUL SYLLABLE NYI\r\n\t\t0xB2C8 === code || // Lo       HANGUL SYLLABLE NI\r\n\t\t0xB2E4 === code || // Lo       HANGUL SYLLABLE DA\r\n\t\t0xB300 === code || // Lo       HANGUL SYLLABLE DAE\r\n\t\t0xB31C === code || // Lo       HANGUL SYLLABLE DYA\r\n\t\t0xB338 === code || // Lo       HANGUL SYLLABLE DYAE\r\n\t\t0xB354 === code || // Lo       HANGUL SYLLABLE DEO\r\n\t\t0xB370 === code || // Lo       HANGUL SYLLABLE DE\r\n\t\t0xB38C === code || // Lo       HANGUL SYLLABLE DYEO\r\n\t\t0xB3A8 === code || // Lo       HANGUL SYLLABLE DYE\r\n\t\t0xB3C4 === code || // Lo       HANGUL SYLLABLE DO\r\n\t\t0xB3E0 === code || // Lo       HANGUL SYLLABLE DWA\r\n\t\t0xB3FC === code || // Lo       HANGUL SYLLABLE DWAE\r\n\t\t0xB418 === code || // Lo       HANGUL SYLLABLE DOE\r\n\t\t0xB434 === code || // Lo       HANGUL SYLLABLE DYO\r\n\t\t0xB450 === code || // Lo       HANGUL SYLLABLE DU\r\n\t\t0xB46C === code || // Lo       HANGUL SYLLABLE DWEO\r\n\t\t0xB488 === code || // Lo       HANGUL SYLLABLE DWE\r\n\t\t0xB4A4 === code || // Lo       HANGUL SYLLABLE DWI\r\n\t\t0xB4C0 === code || // Lo       HANGUL SYLLABLE DYU\r\n\t\t0xB4DC === code || // Lo       HANGUL SYLLABLE DEU\r\n\t\t0xB4F8 === code || // Lo       HANGUL SYLLABLE DYI\r\n\t\t0xB514 === code || // Lo       HANGUL SYLLABLE DI\r\n\t\t0xB530 === code || // Lo       HANGUL SYLLABLE DDA\r\n\t\t0xB54C === code || // Lo       HANGUL SYLLABLE DDAE\r\n\t\t0xB568 === code || // Lo       HANGUL SYLLABLE DDYA\r\n\t\t0xB584 === code || // Lo       HANGUL SYLLABLE DDYAE\r\n\t\t0xB5A0 === code || // Lo       HANGUL SYLLABLE DDEO\r\n\t\t0xB5BC === code || // Lo       HANGUL SYLLABLE DDE\r\n\t\t0xB5D8 === code || // Lo       HANGUL SYLLABLE DDYEO\r\n\t\t0xB5F4 === code || // Lo       HANGUL SYLLABLE DDYE\r\n\t\t0xB610 === code || // Lo       HANGUL SYLLABLE DDO\r\n\t\t0xB62C === code || // Lo       HANGUL SYLLABLE DDWA\r\n\t\t0xB648 === code || // Lo       HANGUL SYLLABLE DDWAE\r\n\t\t0xB664 === code || // Lo       HANGUL SYLLABLE DDOE\r\n\t\t0xB680 === code || // Lo       HANGUL SYLLABLE DDYO\r\n\t\t0xB69C === code || // Lo       HANGUL SYLLABLE DDU\r\n\t\t0xB6B8 === code || // Lo       HANGUL SYLLABLE DDWEO\r\n\t\t0xB6D4 === code || // Lo       HANGUL SYLLABLE DDWE\r\n\t\t0xB6F0 === code || // Lo       HANGUL SYLLABLE DDWI\r\n\t\t0xB70C === code || // Lo       HANGUL SYLLABLE DDYU\r\n\t\t0xB728 === code || // Lo       HANGUL SYLLABLE DDEU\r\n\t\t0xB744 === code || // Lo       HANGUL SYLLABLE DDYI\r\n\t\t0xB760 === code || // Lo       HANGUL SYLLABLE DDI\r\n\t\t0xB77C === code || // Lo       HANGUL SYLLABLE RA\r\n\t\t0xB798 === code || // Lo       HANGUL SYLLABLE RAE\r\n\t\t0xB7B4 === code || // Lo       HANGUL SYLLABLE RYA\r\n\t\t0xB7D0 === code || // Lo       HANGUL SYLLABLE RYAE\r\n\t\t0xB7EC === code || // Lo       HANGUL SYLLABLE REO\r\n\t\t0xB808 === code || // Lo       HANGUL SYLLABLE RE\r\n\t\t0xB824 === code || // Lo       HANGUL SYLLABLE RYEO\r\n\t\t0xB840 === code || // Lo       HANGUL SYLLABLE RYE\r\n\t\t0xB85C === code || // Lo       HANGUL SYLLABLE RO\r\n\t\t0xB878 === code || // Lo       HANGUL SYLLABLE RWA\r\n\t\t0xB894 === code || // Lo       HANGUL SYLLABLE RWAE\r\n\t\t0xB8B0 === code || // Lo       HANGUL SYLLABLE ROE\r\n\t\t0xB8CC === code || // Lo       HANGUL SYLLABLE RYO\r\n\t\t0xB8E8 === code || // Lo       HANGUL SYLLABLE RU\r\n\t\t0xB904 === code || // Lo       HANGUL SYLLABLE RWEO\r\n\t\t0xB920 === code || // Lo       HANGUL SYLLABLE RWE\r\n\t\t0xB93C === code || // Lo       HANGUL SYLLABLE RWI\r\n\t\t0xB958 === code || // Lo       HANGUL SYLLABLE RYU\r\n\t\t0xB974 === code || // Lo       HANGUL SYLLABLE REU\r\n\t\t0xB990 === code || // Lo       HANGUL SYLLABLE RYI\r\n\t\t0xB9AC === code || // Lo       HANGUL SYLLABLE RI\r\n\t\t0xB9C8 === code || // Lo       HANGUL SYLLABLE MA\r\n\t\t0xB9E4 === code || // Lo       HANGUL SYLLABLE MAE\r\n\t\t0xBA00 === code || // Lo       HANGUL SYLLABLE MYA\r\n\t\t0xBA1C === code || // Lo       HANGUL SYLLABLE MYAE\r\n\t\t0xBA38 === code || // Lo       HANGUL SYLLABLE MEO\r\n\t\t0xBA54 === code || // Lo       HANGUL SYLLABLE ME\r\n\t\t0xBA70 === code || // Lo       HANGUL SYLLABLE MYEO\r\n\t\t0xBA8C === code || // Lo       HANGUL SYLLABLE MYE\r\n\t\t0xBAA8 === code || // Lo       HANGUL SYLLABLE MO\r\n\t\t0xBAC4 === code || // Lo       HANGUL SYLLABLE MWA\r\n\t\t0xBAE0 === code || // Lo       HANGUL SYLLABLE MWAE\r\n\t\t0xBAFC === code || // Lo       HANGUL SYLLABLE MOE\r\n\t\t0xBB18 === code || // Lo       HANGUL SYLLABLE MYO\r\n\t\t0xBB34 === code || // Lo       HANGUL SYLLABLE MU\r\n\t\t0xBB50 === code || // Lo       HANGUL SYLLABLE MWEO\r\n\t\t0xBB6C === code || // Lo       HANGUL SYLLABLE MWE\r\n\t\t0xBB88 === code || // Lo       HANGUL SYLLABLE MWI\r\n\t\t0xBBA4 === code || // Lo       HANGUL SYLLABLE MYU\r\n\t\t0xBBC0 === code || // Lo       HANGUL SYLLABLE MEU\r\n\t\t0xBBDC === code || // Lo       HANGUL SYLLABLE MYI\r\n\t\t0xBBF8 === code || // Lo       HANGUL SYLLABLE MI\r\n\t\t0xBC14 === code || // Lo       HANGUL SYLLABLE BA\r\n\t\t0xBC30 === code || // Lo       HANGUL SYLLABLE BAE\r\n\t\t0xBC4C === code || // Lo       HANGUL SYLLABLE BYA\r\n\t\t0xBC68 === code || // Lo       HANGUL SYLLABLE BYAE\r\n\t\t0xBC84 === code || // Lo       HANGUL SYLLABLE BEO\r\n\t\t0xBCA0 === code || // Lo       HANGUL SYLLABLE BE\r\n\t\t0xBCBC === code || // Lo       HANGUL SYLLABLE BYEO\r\n\t\t0xBCD8 === code || // Lo       HANGUL SYLLABLE BYE\r\n\t\t0xBCF4 === code || // Lo       HANGUL SYLLABLE BO\r\n\t\t0xBD10 === code || // Lo       HANGUL SYLLABLE BWA\r\n\t\t0xBD2C === code || // Lo       HANGUL SYLLABLE BWAE\r\n\t\t0xBD48 === code || // Lo       HANGUL SYLLABLE BOE\r\n\t\t0xBD64 === code || // Lo       HANGUL SYLLABLE BYO\r\n\t\t0xBD80 === code || // Lo       HANGUL SYLLABLE BU\r\n\t\t0xBD9C === code || // Lo       HANGUL SYLLABLE BWEO\r\n\t\t0xBDB8 === code || // Lo       HANGUL SYLLABLE BWE\r\n\t\t0xBDD4 === code || // Lo       HANGUL SYLLABLE BWI\r\n\t\t0xBDF0 === code || // Lo       HANGUL SYLLABLE BYU\r\n\t\t0xBE0C === code || // Lo       HANGUL SYLLABLE BEU\r\n\t\t0xBE28 === code || // Lo       HANGUL SYLLABLE BYI\r\n\t\t0xBE44 === code || // Lo       HANGUL SYLLABLE BI\r\n\t\t0xBE60 === code || // Lo       HANGUL SYLLABLE BBA\r\n\t\t0xBE7C === code || // Lo       HANGUL SYLLABLE BBAE\r\n\t\t0xBE98 === code || // Lo       HANGUL SYLLABLE BBYA\r\n\t\t0xBEB4 === code || // Lo       HANGUL SYLLABLE BBYAE\r\n\t\t0xBED0 === code || // Lo       HANGUL SYLLABLE BBEO\r\n\t\t0xBEEC === code || // Lo       HANGUL SYLLABLE BBE\r\n\t\t0xBF08 === code || // Lo       HANGUL SYLLABLE BBYEO\r\n\t\t0xBF24 === code || // Lo       HANGUL SYLLABLE BBYE\r\n\t\t0xBF40 === code || // Lo       HANGUL SYLLABLE BBO\r\n\t\t0xBF5C === code || // Lo       HANGUL SYLLABLE BBWA\r\n\t\t0xBF78 === code || // Lo       HANGUL SYLLABLE BBWAE\r\n\t\t0xBF94 === code || // Lo       HANGUL SYLLABLE BBOE\r\n\t\t0xBFB0 === code || // Lo       HANGUL SYLLABLE BBYO\r\n\t\t0xBFCC === code || // Lo       HANGUL SYLLABLE BBU\r\n\t\t0xBFE8 === code || // Lo       HANGUL SYLLABLE BBWEO\r\n\t\t0xC004 === code || // Lo       HANGUL SYLLABLE BBWE\r\n\t\t0xC020 === code || // Lo       HANGUL SYLLABLE BBWI\r\n\t\t0xC03C === code || // Lo       HANGUL SYLLABLE BBYU\r\n\t\t0xC058 === code || // Lo       HANGUL SYLLABLE BBEU\r\n\t\t0xC074 === code || // Lo       HANGUL SYLLABLE BBYI\r\n\t\t0xC090 === code || // Lo       HANGUL SYLLABLE BBI\r\n\t\t0xC0AC === code || // Lo       HANGUL SYLLABLE SA\r\n\t\t0xC0C8 === code || // Lo       HANGUL SYLLABLE SAE\r\n\t\t0xC0E4 === code || // Lo       HANGUL SYLLABLE SYA\r\n\t\t0xC100 === code || // Lo       HANGUL SYLLABLE SYAE\r\n\t\t0xC11C === code || // Lo       HANGUL SYLLABLE SEO\r\n\t\t0xC138 === code || // Lo       HANGUL SYLLABLE SE\r\n\t\t0xC154 === code || // Lo       HANGUL SYLLABLE SYEO\r\n\t\t0xC170 === code || // Lo       HANGUL SYLLABLE SYE\r\n\t\t0xC18C === code || // Lo       HANGUL SYLLABLE SO\r\n\t\t0xC1A8 === code || // Lo       HANGUL SYLLABLE SWA\r\n\t\t0xC1C4 === code || // Lo       HANGUL SYLLABLE SWAE\r\n\t\t0xC1E0 === code || // Lo       HANGUL SYLLABLE SOE\r\n\t\t0xC1FC === code || // Lo       HANGUL SYLLABLE SYO\r\n\t\t0xC218 === code || // Lo       HANGUL SYLLABLE SU\r\n\t\t0xC234 === code || // Lo       HANGUL SYLLABLE SWEO\r\n\t\t0xC250 === code || // Lo       HANGUL SYLLABLE SWE\r\n\t\t0xC26C === code || // Lo       HANGUL SYLLABLE SWI\r\n\t\t0xC288 === code || // Lo       HANGUL SYLLABLE SYU\r\n\t\t0xC2A4 === code || // Lo       HANGUL SYLLABLE SEU\r\n\t\t0xC2C0 === code || // Lo       HANGUL SYLLABLE SYI\r\n\t\t0xC2DC === code || // Lo       HANGUL SYLLABLE SI\r\n\t\t0xC2F8 === code || // Lo       HANGUL SYLLABLE SSA\r\n\t\t0xC314 === code || // Lo       HANGUL SYLLABLE SSAE\r\n\t\t0xC330 === code || // Lo       HANGUL SYLLABLE SSYA\r\n\t\t0xC34C === code || // Lo       HANGUL SYLLABLE SSYAE\r\n\t\t0xC368 === code || // Lo       HANGUL SYLLABLE SSEO\r\n\t\t0xC384 === code || // Lo       HANGUL SYLLABLE SSE\r\n\t\t0xC3A0 === code || // Lo       HANGUL SYLLABLE SSYEO\r\n\t\t0xC3BC === code || // Lo       HANGUL SYLLABLE SSYE\r\n\t\t0xC3D8 === code || // Lo       HANGUL SYLLABLE SSO\r\n\t\t0xC3F4 === code || // Lo       HANGUL SYLLABLE SSWA\r\n\t\t0xC410 === code || // Lo       HANGUL SYLLABLE SSWAE\r\n\t\t0xC42C === code || // Lo       HANGUL SYLLABLE SSOE\r\n\t\t0xC448 === code || // Lo       HANGUL SYLLABLE SSYO\r\n\t\t0xC464 === code || // Lo       HANGUL SYLLABLE SSU\r\n\t\t0xC480 === code || // Lo       HANGUL SYLLABLE SSWEO\r\n\t\t0xC49C === code || // Lo       HANGUL SYLLABLE SSWE\r\n\t\t0xC4B8 === code || // Lo       HANGUL SYLLABLE SSWI\r\n\t\t0xC4D4 === code || // Lo       HANGUL SYLLABLE SSYU\r\n\t\t0xC4F0 === code || // Lo       HANGUL SYLLABLE SSEU\r\n\t\t0xC50C === code || // Lo       HANGUL SYLLABLE SSYI\r\n\t\t0xC528 === code || // Lo       HANGUL SYLLABLE SSI\r\n\t\t0xC544 === code || // Lo       HANGUL SYLLABLE A\r\n\t\t0xC560 === code || // Lo       HANGUL SYLLABLE AE\r\n\t\t0xC57C === code || // Lo       HANGUL SYLLABLE YA\r\n\t\t0xC598 === code || // Lo       HANGUL SYLLABLE YAE\r\n\t\t0xC5B4 === code || // Lo       HANGUL SYLLABLE EO\r\n\t\t0xC5D0 === code || // Lo       HANGUL SYLLABLE E\r\n\t\t0xC5EC === code || // Lo       HANGUL SYLLABLE YEO\r\n\t\t0xC608 === code || // Lo       HANGUL SYLLABLE YE\r\n\t\t0xC624 === code || // Lo       HANGUL SYLLABLE O\r\n\t\t0xC640 === code || // Lo       HANGUL SYLLABLE WA\r\n\t\t0xC65C === code || // Lo       HANGUL SYLLABLE WAE\r\n\t\t0xC678 === code || // Lo       HANGUL SYLLABLE OE\r\n\t\t0xC694 === code || // Lo       HANGUL SYLLABLE YO\r\n\t\t0xC6B0 === code || // Lo       HANGUL SYLLABLE U\r\n\t\t0xC6CC === code || // Lo       HANGUL SYLLABLE WEO\r\n\t\t0xC6E8 === code || // Lo       HANGUL SYLLABLE WE\r\n\t\t0xC704 === code || // Lo       HANGUL SYLLABLE WI\r\n\t\t0xC720 === code || // Lo       HANGUL SYLLABLE YU\r\n\t\t0xC73C === code || // Lo       HANGUL SYLLABLE EU\r\n\t\t0xC758 === code || // Lo       HANGUL SYLLABLE YI\r\n\t\t0xC774 === code || // Lo       HANGUL SYLLABLE I\r\n\t\t0xC790 === code || // Lo       HANGUL SYLLABLE JA\r\n\t\t0xC7AC === code || // Lo       HANGUL SYLLABLE JAE\r\n\t\t0xC7C8 === code || // Lo       HANGUL SYLLABLE JYA\r\n\t\t0xC7E4 === code || // Lo       HANGUL SYLLABLE JYAE\r\n\t\t0xC800 === code || // Lo       HANGUL SYLLABLE JEO\r\n\t\t0xC81C === code || // Lo       HANGUL SYLLABLE JE\r\n\t\t0xC838 === code || // Lo       HANGUL SYLLABLE JYEO\r\n\t\t0xC854 === code || // Lo       HANGUL SYLLABLE JYE\r\n\t\t0xC870 === code || // Lo       HANGUL SYLLABLE JO\r\n\t\t0xC88C === code || // Lo       HANGUL SYLLABLE JWA\r\n\t\t0xC8A8 === code || // Lo       HANGUL SYLLABLE JWAE\r\n\t\t0xC8C4 === code || // Lo       HANGUL SYLLABLE JOE\r\n\t\t0xC8E0 === code || // Lo       HANGUL SYLLABLE JYO\r\n\t\t0xC8FC === code || // Lo       HANGUL SYLLABLE JU\r\n\t\t0xC918 === code || // Lo       HANGUL SYLLABLE JWEO\r\n\t\t0xC934 === code || // Lo       HANGUL SYLLABLE JWE\r\n\t\t0xC950 === code || // Lo       HANGUL SYLLABLE JWI\r\n\t\t0xC96C === code || // Lo       HANGUL SYLLABLE JYU\r\n\t\t0xC988 === code || // Lo       HANGUL SYLLABLE JEU\r\n\t\t0xC9A4 === code || // Lo       HANGUL SYLLABLE JYI\r\n\t\t0xC9C0 === code || // Lo       HANGUL SYLLABLE JI\r\n\t\t0xC9DC === code || // Lo       HANGUL SYLLABLE JJA\r\n\t\t0xC9F8 === code || // Lo       HANGUL SYLLABLE JJAE\r\n\t\t0xCA14 === code || // Lo       HANGUL SYLLABLE JJYA\r\n\t\t0xCA30 === code || // Lo       HANGUL SYLLABLE JJYAE\r\n\t\t0xCA4C === code || // Lo       HANGUL SYLLABLE JJEO\r\n\t\t0xCA68 === code || // Lo       HANGUL SYLLABLE JJE\r\n\t\t0xCA84 === code || // Lo       HANGUL SYLLABLE JJYEO\r\n\t\t0xCAA0 === code || // Lo       HANGUL SYLLABLE JJYE\r\n\t\t0xCABC === code || // Lo       HANGUL SYLLABLE JJO\r\n\t\t0xCAD8 === code || // Lo       HANGUL SYLLABLE JJWA\r\n\t\t0xCAF4 === code || // Lo       HANGUL SYLLABLE JJWAE\r\n\t\t0xCB10 === code || // Lo       HANGUL SYLLABLE JJOE\r\n\t\t0xCB2C === code || // Lo       HANGUL SYLLABLE JJYO\r\n\t\t0xCB48 === code || // Lo       HANGUL SYLLABLE JJU\r\n\t\t0xCB64 === code || // Lo       HANGUL SYLLABLE JJWEO\r\n\t\t0xCB80 === code || // Lo       HANGUL SYLLABLE JJWE\r\n\t\t0xCB9C === code || // Lo       HANGUL SYLLABLE JJWI\r\n\t\t0xCBB8 === code || // Lo       HANGUL SYLLABLE JJYU\r\n\t\t0xCBD4 === code || // Lo       HANGUL SYLLABLE JJEU\r\n\t\t0xCBF0 === code || // Lo       HANGUL SYLLABLE JJYI\r\n\t\t0xCC0C === code || // Lo       HANGUL SYLLABLE JJI\r\n\t\t0xCC28 === code || // Lo       HANGUL SYLLABLE CA\r\n\t\t0xCC44 === code || // Lo       HANGUL SYLLABLE CAE\r\n\t\t0xCC60 === code || // Lo       HANGUL SYLLABLE CYA\r\n\t\t0xCC7C === code || // Lo       HANGUL SYLLABLE CYAE\r\n\t\t0xCC98 === code || // Lo       HANGUL SYLLABLE CEO\r\n\t\t0xCCB4 === code || // Lo       HANGUL SYLLABLE CE\r\n\t\t0xCCD0 === code || // Lo       HANGUL SYLLABLE CYEO\r\n\t\t0xCCEC === code || // Lo       HANGUL SYLLABLE CYE\r\n\t\t0xCD08 === code || // Lo       HANGUL SYLLABLE CO\r\n\t\t0xCD24 === code || // Lo       HANGUL SYLLABLE CWA\r\n\t\t0xCD40 === code || // Lo       HANGUL SYLLABLE CWAE\r\n\t\t0xCD5C === code || // Lo       HANGUL SYLLABLE COE\r\n\t\t0xCD78 === code || // Lo       HANGUL SYLLABLE CYO\r\n\t\t0xCD94 === code || // Lo       HANGUL SYLLABLE CU\r\n\t\t0xCDB0 === code || // Lo       HANGUL SYLLABLE CWEO\r\n\t\t0xCDCC === code || // Lo       HANGUL SYLLABLE CWE\r\n\t\t0xCDE8 === code || // Lo       HANGUL SYLLABLE CWI\r\n\t\t0xCE04 === code || // Lo       HANGUL SYLLABLE CYU\r\n\t\t0xCE20 === code || // Lo       HANGUL SYLLABLE CEU\r\n\t\t0xCE3C === code || // Lo       HANGUL SYLLABLE CYI\r\n\t\t0xCE58 === code || // Lo       HANGUL SYLLABLE CI\r\n\t\t0xCE74 === code || // Lo       HANGUL SYLLABLE KA\r\n\t\t0xCE90 === code || // Lo       HANGUL SYLLABLE KAE\r\n\t\t0xCEAC === code || // Lo       HANGUL SYLLABLE KYA\r\n\t\t0xCEC8 === code || // Lo       HANGUL SYLLABLE KYAE\r\n\t\t0xCEE4 === code || // Lo       HANGUL SYLLABLE KEO\r\n\t\t0xCF00 === code || // Lo       HANGUL SYLLABLE KE\r\n\t\t0xCF1C === code || // Lo       HANGUL SYLLABLE KYEO\r\n\t\t0xCF38 === code || // Lo       HANGUL SYLLABLE KYE\r\n\t\t0xCF54 === code || // Lo       HANGUL SYLLABLE KO\r\n\t\t0xCF70 === code || // Lo       HANGUL SYLLABLE KWA\r\n\t\t0xCF8C === code || // Lo       HANGUL SYLLABLE KWAE\r\n\t\t0xCFA8 === code || // Lo       HANGUL SYLLABLE KOE\r\n\t\t0xCFC4 === code || // Lo       HANGUL SYLLABLE KYO\r\n\t\t0xCFE0 === code || // Lo       HANGUL SYLLABLE KU\r\n\t\t0xCFFC === code || // Lo       HANGUL SYLLABLE KWEO\r\n\t\t0xD018 === code || // Lo       HANGUL SYLLABLE KWE\r\n\t\t0xD034 === code || // Lo       HANGUL SYLLABLE KWI\r\n\t\t0xD050 === code || // Lo       HANGUL SYLLABLE KYU\r\n\t\t0xD06C === code || // Lo       HANGUL SYLLABLE KEU\r\n\t\t0xD088 === code || // Lo       HANGUL SYLLABLE KYI\r\n\t\t0xD0A4 === code || // Lo       HANGUL SYLLABLE KI\r\n\t\t0xD0C0 === code || // Lo       HANGUL SYLLABLE TA\r\n\t\t0xD0DC === code || // Lo       HANGUL SYLLABLE TAE\r\n\t\t0xD0F8 === code || // Lo       HANGUL SYLLABLE TYA\r\n\t\t0xD114 === code || // Lo       HANGUL SYLLABLE TYAE\r\n\t\t0xD130 === code || // Lo       HANGUL SYLLABLE TEO\r\n\t\t0xD14C === code || // Lo       HANGUL SYLLABLE TE\r\n\t\t0xD168 === code || // Lo       HANGUL SYLLABLE TYEO\r\n\t\t0xD184 === code || // Lo       HANGUL SYLLABLE TYE\r\n\t\t0xD1A0 === code || // Lo       HANGUL SYLLABLE TO\r\n\t\t0xD1BC === code || // Lo       HANGUL SYLLABLE TWA\r\n\t\t0xD1D8 === code || // Lo       HANGUL SYLLABLE TWAE\r\n\t\t0xD1F4 === code || // Lo       HANGUL SYLLABLE TOE\r\n\t\t0xD210 === code || // Lo       HANGUL SYLLABLE TYO\r\n\t\t0xD22C === code || // Lo       HANGUL SYLLABLE TU\r\n\t\t0xD248 === code || // Lo       HANGUL SYLLABLE TWEO\r\n\t\t0xD264 === code || // Lo       HANGUL SYLLABLE TWE\r\n\t\t0xD280 === code || // Lo       HANGUL SYLLABLE TWI\r\n\t\t0xD29C === code || // Lo       HANGUL SYLLABLE TYU\r\n\t\t0xD2B8 === code || // Lo       HANGUL SYLLABLE TEU\r\n\t\t0xD2D4 === code || // Lo       HANGUL SYLLABLE TYI\r\n\t\t0xD2F0 === code || // Lo       HANGUL SYLLABLE TI\r\n\t\t0xD30C === code || // Lo       HANGUL SYLLABLE PA\r\n\t\t0xD328 === code || // Lo       HANGUL SYLLABLE PAE\r\n\t\t0xD344 === code || // Lo       HANGUL SYLLABLE PYA\r\n\t\t0xD360 === code || // Lo       HANGUL SYLLABLE PYAE\r\n\t\t0xD37C === code || // Lo       HANGUL SYLLABLE PEO\r\n\t\t0xD398 === code || // Lo       HANGUL SYLLABLE PE\r\n\t\t0xD3B4 === code || // Lo       HANGUL SYLLABLE PYEO\r\n\t\t0xD3D0 === code || // Lo       HANGUL SYLLABLE PYE\r\n\t\t0xD3EC === code || // Lo       HANGUL SYLLABLE PO\r\n\t\t0xD408 === code || // Lo       HANGUL SYLLABLE PWA\r\n\t\t0xD424 === code || // Lo       HANGUL SYLLABLE PWAE\r\n\t\t0xD440 === code || // Lo       HANGUL SYLLABLE POE\r\n\t\t0xD45C === code || // Lo       HANGUL SYLLABLE PYO\r\n\t\t0xD478 === code || // Lo       HANGUL SYLLABLE PU\r\n\t\t0xD494 === code || // Lo       HANGUL SYLLABLE PWEO\r\n\t\t0xD4B0 === code || // Lo       HANGUL SYLLABLE PWE\r\n\t\t0xD4CC === code || // Lo       HANGUL SYLLABLE PWI\r\n\t\t0xD4E8 === code || // Lo       HANGUL SYLLABLE PYU\r\n\t\t0xD504 === code || // Lo       HANGUL SYLLABLE PEU\r\n\t\t0xD520 === code || // Lo       HANGUL SYLLABLE PYI\r\n\t\t0xD53C === code || // Lo       HANGUL SYLLABLE PI\r\n\t\t0xD558 === code || // Lo       HANGUL SYLLABLE HA\r\n\t\t0xD574 === code || // Lo       HANGUL SYLLABLE HAE\r\n\t\t0xD590 === code || // Lo       HANGUL SYLLABLE HYA\r\n\t\t0xD5AC === code || // Lo       HANGUL SYLLABLE HYAE\r\n\t\t0xD5C8 === code || // Lo       HANGUL SYLLABLE HEO\r\n\t\t0xD5E4 === code || // Lo       HANGUL SYLLABLE HE\r\n\t\t0xD600 === code || // Lo       HANGUL SYLLABLE HYEO\r\n\t\t0xD61C === code || // Lo       HANGUL SYLLABLE HYE\r\n\t\t0xD638 === code || // Lo       HANGUL SYLLABLE HO\r\n\t\t0xD654 === code || // Lo       HANGUL SYLLABLE HWA\r\n\t\t0xD670 === code || // Lo       HANGUL SYLLABLE HWAE\r\n\t\t0xD68C === code || // Lo       HANGUL SYLLABLE HOE\r\n\t\t0xD6A8 === code || // Lo       HANGUL SYLLABLE HYO\r\n\t\t0xD6C4 === code || // Lo       HANGUL SYLLABLE HU\r\n\t\t0xD6E0 === code || // Lo       HANGUL SYLLABLE HWEO\r\n\t\t0xD6FC === code || // Lo       HANGUL SYLLABLE HWE\r\n\t\t0xD718 === code || // Lo       HANGUL SYLLABLE HWI\r\n\t\t0xD734 === code || // Lo       HANGUL SYLLABLE HYU\r\n\t\t0xD750 === code || // Lo       HANGUL SYLLABLE HEU\r\n\t\t0xD76C === code || // Lo       HANGUL SYLLABLE HYI\r\n\t\t0xD788 === code // Lo       HANGUL SYLLABLE HI\r\n\t\t){\r\n\t\t\treturn LV;\r\n\t\t}\r\n\t\t\r\n\t\tif(\r\n\t\t(0xAC01 <= code && code <= 0xAC1B) || // Lo  [27] HANGUL SYLLABLE GAG..HANGUL SYLLABLE GAH\r\n\t\t(0xAC1D <= code && code <= 0xAC37) || // Lo  [27] HANGUL SYLLABLE GAEG..HANGUL SYLLABLE GAEH\r\n\t\t(0xAC39 <= code && code <= 0xAC53) || // Lo  [27] HANGUL SYLLABLE GYAG..HANGUL SYLLABLE GYAH\r\n\t\t(0xAC55 <= code && code <= 0xAC6F) || // Lo  [27] HANGUL SYLLABLE GYAEG..HANGUL SYLLABLE GYAEH\r\n\t\t(0xAC71 <= code && code <= 0xAC8B) || // Lo  [27] HANGUL SYLLABLE GEOG..HANGUL SYLLABLE GEOH\r\n\t\t(0xAC8D <= code && code <= 0xACA7) || // Lo  [27] HANGUL SYLLABLE GEG..HANGUL SYLLABLE GEH\r\n\t\t(0xACA9 <= code && code <= 0xACC3) || // Lo  [27] HANGUL SYLLABLE GYEOG..HANGUL SYLLABLE GYEOH\r\n\t\t(0xACC5 <= code && code <= 0xACDF) || // Lo  [27] HANGUL SYLLABLE GYEG..HANGUL SYLLABLE GYEH\r\n\t\t(0xACE1 <= code && code <= 0xACFB) || // Lo  [27] HANGUL SYLLABLE GOG..HANGUL SYLLABLE GOH\r\n\t\t(0xACFD <= code && code <= 0xAD17) || // Lo  [27] HANGUL SYLLABLE GWAG..HANGUL SYLLABLE GWAH\r\n\t\t(0xAD19 <= code && code <= 0xAD33) || // Lo  [27] HANGUL SYLLABLE GWAEG..HANGUL SYLLABLE GWAEH\r\n\t\t(0xAD35 <= code && code <= 0xAD4F) || // Lo  [27] HANGUL SYLLABLE GOEG..HANGUL SYLLABLE GOEH\r\n\t\t(0xAD51 <= code && code <= 0xAD6B) || // Lo  [27] HANGUL SYLLABLE GYOG..HANGUL SYLLABLE GYOH\r\n\t\t(0xAD6D <= code && code <= 0xAD87) || // Lo  [27] HANGUL SYLLABLE GUG..HANGUL SYLLABLE GUH\r\n\t\t(0xAD89 <= code && code <= 0xADA3) || // Lo  [27] HANGUL SYLLABLE GWEOG..HANGUL SYLLABLE GWEOH\r\n\t\t(0xADA5 <= code && code <= 0xADBF) || // Lo  [27] HANGUL SYLLABLE GWEG..HANGUL SYLLABLE GWEH\r\n\t\t(0xADC1 <= code && code <= 0xADDB) || // Lo  [27] HANGUL SYLLABLE GWIG..HANGUL SYLLABLE GWIH\r\n\t\t(0xADDD <= code && code <= 0xADF7) || // Lo  [27] HANGUL SYLLABLE GYUG..HANGUL SYLLABLE GYUH\r\n\t\t(0xADF9 <= code && code <= 0xAE13) || // Lo  [27] HANGUL SYLLABLE GEUG..HANGUL SYLLABLE GEUH\r\n\t\t(0xAE15 <= code && code <= 0xAE2F) || // Lo  [27] HANGUL SYLLABLE GYIG..HANGUL SYLLABLE GYIH\r\n\t\t(0xAE31 <= code && code <= 0xAE4B) || // Lo  [27] HANGUL SYLLABLE GIG..HANGUL SYLLABLE GIH\r\n\t\t(0xAE4D <= code && code <= 0xAE67) || // Lo  [27] HANGUL SYLLABLE GGAG..HANGUL SYLLABLE GGAH\r\n\t\t(0xAE69 <= code && code <= 0xAE83) || // Lo  [27] HANGUL SYLLABLE GGAEG..HANGUL SYLLABLE GGAEH\r\n\t\t(0xAE85 <= code && code <= 0xAE9F) || // Lo  [27] HANGUL SYLLABLE GGYAG..HANGUL SYLLABLE GGYAH\r\n\t\t(0xAEA1 <= code && code <= 0xAEBB) || // Lo  [27] HANGUL SYLLABLE GGYAEG..HANGUL SYLLABLE GGYAEH\r\n\t\t(0xAEBD <= code && code <= 0xAED7) || // Lo  [27] HANGUL SYLLABLE GGEOG..HANGUL SYLLABLE GGEOH\r\n\t\t(0xAED9 <= code && code <= 0xAEF3) || // Lo  [27] HANGUL SYLLABLE GGEG..HANGUL SYLLABLE GGEH\r\n\t\t(0xAEF5 <= code && code <= 0xAF0F) || // Lo  [27] HANGUL SYLLABLE GGYEOG..HANGUL SYLLABLE GGYEOH\r\n\t\t(0xAF11 <= code && code <= 0xAF2B) || // Lo  [27] HANGUL SYLLABLE GGYEG..HANGUL SYLLABLE GGYEH\r\n\t\t(0xAF2D <= code && code <= 0xAF47) || // Lo  [27] HANGUL SYLLABLE GGOG..HANGUL SYLLABLE GGOH\r\n\t\t(0xAF49 <= code && code <= 0xAF63) || // Lo  [27] HANGUL SYLLABLE GGWAG..HANGUL SYLLABLE GGWAH\r\n\t\t(0xAF65 <= code && code <= 0xAF7F) || // Lo  [27] HANGUL SYLLABLE GGWAEG..HANGUL SYLLABLE GGWAEH\r\n\t\t(0xAF81 <= code && code <= 0xAF9B) || // Lo  [27] HANGUL SYLLABLE GGOEG..HANGUL SYLLABLE GGOEH\r\n\t\t(0xAF9D <= code && code <= 0xAFB7) || // Lo  [27] HANGUL SYLLABLE GGYOG..HANGUL SYLLABLE GGYOH\r\n\t\t(0xAFB9 <= code && code <= 0xAFD3) || // Lo  [27] HANGUL SYLLABLE GGUG..HANGUL SYLLABLE GGUH\r\n\t\t(0xAFD5 <= code && code <= 0xAFEF) || // Lo  [27] HANGUL SYLLABLE GGWEOG..HANGUL SYLLABLE GGWEOH\r\n\t\t(0xAFF1 <= code && code <= 0xB00B) || // Lo  [27] HANGUL SYLLABLE GGWEG..HANGUL SYLLABLE GGWEH\r\n\t\t(0xB00D <= code && code <= 0xB027) || // Lo  [27] HANGUL SYLLABLE GGWIG..HANGUL SYLLABLE GGWIH\r\n\t\t(0xB029 <= code && code <= 0xB043) || // Lo  [27] HANGUL SYLLABLE GGYUG..HANGUL SYLLABLE GGYUH\r\n\t\t(0xB045 <= code && code <= 0xB05F) || // Lo  [27] HANGUL SYLLABLE GGEUG..HANGUL SYLLABLE GGEUH\r\n\t\t(0xB061 <= code && code <= 0xB07B) || // Lo  [27] HANGUL SYLLABLE GGYIG..HANGUL SYLLABLE GGYIH\r\n\t\t(0xB07D <= code && code <= 0xB097) || // Lo  [27] HANGUL SYLLABLE GGIG..HANGUL SYLLABLE GGIH\r\n\t\t(0xB099 <= code && code <= 0xB0B3) || // Lo  [27] HANGUL SYLLABLE NAG..HANGUL SYLLABLE NAH\r\n\t\t(0xB0B5 <= code && code <= 0xB0CF) || // Lo  [27] HANGUL SYLLABLE NAEG..HANGUL SYLLABLE NAEH\r\n\t\t(0xB0D1 <= code && code <= 0xB0EB) || // Lo  [27] HANGUL SYLLABLE NYAG..HANGUL SYLLABLE NYAH\r\n\t\t(0xB0ED <= code && code <= 0xB107) || // Lo  [27] HANGUL SYLLABLE NYAEG..HANGUL SYLLABLE NYAEH\r\n\t\t(0xB109 <= code && code <= 0xB123) || // Lo  [27] HANGUL SYLLABLE NEOG..HANGUL SYLLABLE NEOH\r\n\t\t(0xB125 <= code && code <= 0xB13F) || // Lo  [27] HANGUL SYLLABLE NEG..HANGUL SYLLABLE NEH\r\n\t\t(0xB141 <= code && code <= 0xB15B) || // Lo  [27] HANGUL SYLLABLE NYEOG..HANGUL SYLLABLE NYEOH\r\n\t\t(0xB15D <= code && code <= 0xB177) || // Lo  [27] HANGUL SYLLABLE NYEG..HANGUL SYLLABLE NYEH\r\n\t\t(0xB179 <= code && code <= 0xB193) || // Lo  [27] HANGUL SYLLABLE NOG..HANGUL SYLLABLE NOH\r\n\t\t(0xB195 <= code && code <= 0xB1AF) || // Lo  [27] HANGUL SYLLABLE NWAG..HANGUL SYLLABLE NWAH\r\n\t\t(0xB1B1 <= code && code <= 0xB1CB) || // Lo  [27] HANGUL SYLLABLE NWAEG..HANGUL SYLLABLE NWAEH\r\n\t\t(0xB1CD <= code && code <= 0xB1E7) || // Lo  [27] HANGUL SYLLABLE NOEG..HANGUL SYLLABLE NOEH\r\n\t\t(0xB1E9 <= code && code <= 0xB203) || // Lo  [27] HANGUL SYLLABLE NYOG..HANGUL SYLLABLE NYOH\r\n\t\t(0xB205 <= code && code <= 0xB21F) || // Lo  [27] HANGUL SYLLABLE NUG..HANGUL SYLLABLE NUH\r\n\t\t(0xB221 <= code && code <= 0xB23B) || // Lo  [27] HANGUL SYLLABLE NWEOG..HANGUL SYLLABLE NWEOH\r\n\t\t(0xB23D <= code && code <= 0xB257) || // Lo  [27] HANGUL SYLLABLE NWEG..HANGUL SYLLABLE NWEH\r\n\t\t(0xB259 <= code && code <= 0xB273) || // Lo  [27] HANGUL SYLLABLE NWIG..HANGUL SYLLABLE NWIH\r\n\t\t(0xB275 <= code && code <= 0xB28F) || // Lo  [27] HANGUL SYLLABLE NYUG..HANGUL SYLLABLE NYUH\r\n\t\t(0xB291 <= code && code <= 0xB2AB) || // Lo  [27] HANGUL SYLLABLE NEUG..HANGUL SYLLABLE NEUH\r\n\t\t(0xB2AD <= code && code <= 0xB2C7) || // Lo  [27] HANGUL SYLLABLE NYIG..HANGUL SYLLABLE NYIH\r\n\t\t(0xB2C9 <= code && code <= 0xB2E3) || // Lo  [27] HANGUL SYLLABLE NIG..HANGUL SYLLABLE NIH\r\n\t\t(0xB2E5 <= code && code <= 0xB2FF) || // Lo  [27] HANGUL SYLLABLE DAG..HANGUL SYLLABLE DAH\r\n\t\t(0xB301 <= code && code <= 0xB31B) || // Lo  [27] HANGUL SYLLABLE DAEG..HANGUL SYLLABLE DAEH\r\n\t\t(0xB31D <= code && code <= 0xB337) || // Lo  [27] HANGUL SYLLABLE DYAG..HANGUL SYLLABLE DYAH\r\n\t\t(0xB339 <= code && code <= 0xB353) || // Lo  [27] HANGUL SYLLABLE DYAEG..HANGUL SYLLABLE DYAEH\r\n\t\t(0xB355 <= code && code <= 0xB36F) || // Lo  [27] HANGUL SYLLABLE DEOG..HANGUL SYLLABLE DEOH\r\n\t\t(0xB371 <= code && code <= 0xB38B) || // Lo  [27] HANGUL SYLLABLE DEG..HANGUL SYLLABLE DEH\r\n\t\t(0xB38D <= code && code <= 0xB3A7) || // Lo  [27] HANGUL SYLLABLE DYEOG..HANGUL SYLLABLE DYEOH\r\n\t\t(0xB3A9 <= code && code <= 0xB3C3) || // Lo  [27] HANGUL SYLLABLE DYEG..HANGUL SYLLABLE DYEH\r\n\t\t(0xB3C5 <= code && code <= 0xB3DF) || // Lo  [27] HANGUL SYLLABLE DOG..HANGUL SYLLABLE DOH\r\n\t\t(0xB3E1 <= code && code <= 0xB3FB) || // Lo  [27] HANGUL SYLLABLE DWAG..HANGUL SYLLABLE DWAH\r\n\t\t(0xB3FD <= code && code <= 0xB417) || // Lo  [27] HANGUL SYLLABLE DWAEG..HANGUL SYLLABLE DWAEH\r\n\t\t(0xB419 <= code && code <= 0xB433) || // Lo  [27] HANGUL SYLLABLE DOEG..HANGUL SYLLABLE DOEH\r\n\t\t(0xB435 <= code && code <= 0xB44F) || // Lo  [27] HANGUL SYLLABLE DYOG..HANGUL SYLLABLE DYOH\r\n\t\t(0xB451 <= code && code <= 0xB46B) || // Lo  [27] HANGUL SYLLABLE DUG..HANGUL SYLLABLE DUH\r\n\t\t(0xB46D <= code && code <= 0xB487) || // Lo  [27] HANGUL SYLLABLE DWEOG..HANGUL SYLLABLE DWEOH\r\n\t\t(0xB489 <= code && code <= 0xB4A3) || // Lo  [27] HANGUL SYLLABLE DWEG..HANGUL SYLLABLE DWEH\r\n\t\t(0xB4A5 <= code && code <= 0xB4BF) || // Lo  [27] HANGUL SYLLABLE DWIG..HANGUL SYLLABLE DWIH\r\n\t\t(0xB4C1 <= code && code <= 0xB4DB) || // Lo  [27] HANGUL SYLLABLE DYUG..HANGUL SYLLABLE DYUH\r\n\t\t(0xB4DD <= code && code <= 0xB4F7) || // Lo  [27] HANGUL SYLLABLE DEUG..HANGUL SYLLABLE DEUH\r\n\t\t(0xB4F9 <= code && code <= 0xB513) || // Lo  [27] HANGUL SYLLABLE DYIG..HANGUL SYLLABLE DYIH\r\n\t\t(0xB515 <= code && code <= 0xB52F) || // Lo  [27] HANGUL SYLLABLE DIG..HANGUL SYLLABLE DIH\r\n\t\t(0xB531 <= code && code <= 0xB54B) || // Lo  [27] HANGUL SYLLABLE DDAG..HANGUL SYLLABLE DDAH\r\n\t\t(0xB54D <= code && code <= 0xB567) || // Lo  [27] HANGUL SYLLABLE DDAEG..HANGUL SYLLABLE DDAEH\r\n\t\t(0xB569 <= code && code <= 0xB583) || // Lo  [27] HANGUL SYLLABLE DDYAG..HANGUL SYLLABLE DDYAH\r\n\t\t(0xB585 <= code && code <= 0xB59F) || // Lo  [27] HANGUL SYLLABLE DDYAEG..HANGUL SYLLABLE DDYAEH\r\n\t\t(0xB5A1 <= code && code <= 0xB5BB) || // Lo  [27] HANGUL SYLLABLE DDEOG..HANGUL SYLLABLE DDEOH\r\n\t\t(0xB5BD <= code && code <= 0xB5D7) || // Lo  [27] HANGUL SYLLABLE DDEG..HANGUL SYLLABLE DDEH\r\n\t\t(0xB5D9 <= code && code <= 0xB5F3) || // Lo  [27] HANGUL SYLLABLE DDYEOG..HANGUL SYLLABLE DDYEOH\r\n\t\t(0xB5F5 <= code && code <= 0xB60F) || // Lo  [27] HANGUL SYLLABLE DDYEG..HANGUL SYLLABLE DDYEH\r\n\t\t(0xB611 <= code && code <= 0xB62B) || // Lo  [27] HANGUL SYLLABLE DDOG..HANGUL SYLLABLE DDOH\r\n\t\t(0xB62D <= code && code <= 0xB647) || // Lo  [27] HANGUL SYLLABLE DDWAG..HANGUL SYLLABLE DDWAH\r\n\t\t(0xB649 <= code && code <= 0xB663) || // Lo  [27] HANGUL SYLLABLE DDWAEG..HANGUL SYLLABLE DDWAEH\r\n\t\t(0xB665 <= code && code <= 0xB67F) || // Lo  [27] HANGUL SYLLABLE DDOEG..HANGUL SYLLABLE DDOEH\r\n\t\t(0xB681 <= code && code <= 0xB69B) || // Lo  [27] HANGUL SYLLABLE DDYOG..HANGUL SYLLABLE DDYOH\r\n\t\t(0xB69D <= code && code <= 0xB6B7) || // Lo  [27] HANGUL SYLLABLE DDUG..HANGUL SYLLABLE DDUH\r\n\t\t(0xB6B9 <= code && code <= 0xB6D3) || // Lo  [27] HANGUL SYLLABLE DDWEOG..HANGUL SYLLABLE DDWEOH\r\n\t\t(0xB6D5 <= code && code <= 0xB6EF) || // Lo  [27] HANGUL SYLLABLE DDWEG..HANGUL SYLLABLE DDWEH\r\n\t\t(0xB6F1 <= code && code <= 0xB70B) || // Lo  [27] HANGUL SYLLABLE DDWIG..HANGUL SYLLABLE DDWIH\r\n\t\t(0xB70D <= code && code <= 0xB727) || // Lo  [27] HANGUL SYLLABLE DDYUG..HANGUL SYLLABLE DDYUH\r\n\t\t(0xB729 <= code && code <= 0xB743) || // Lo  [27] HANGUL SYLLABLE DDEUG..HANGUL SYLLABLE DDEUH\r\n\t\t(0xB745 <= code && code <= 0xB75F) || // Lo  [27] HANGUL SYLLABLE DDYIG..HANGUL SYLLABLE DDYIH\r\n\t\t(0xB761 <= code && code <= 0xB77B) || // Lo  [27] HANGUL SYLLABLE DDIG..HANGUL SYLLABLE DDIH\r\n\t\t(0xB77D <= code && code <= 0xB797) || // Lo  [27] HANGUL SYLLABLE RAG..HANGUL SYLLABLE RAH\r\n\t\t(0xB799 <= code && code <= 0xB7B3) || // Lo  [27] HANGUL SYLLABLE RAEG..HANGUL SYLLABLE RAEH\r\n\t\t(0xB7B5 <= code && code <= 0xB7CF) || // Lo  [27] HANGUL SYLLABLE RYAG..HANGUL SYLLABLE RYAH\r\n\t\t(0xB7D1 <= code && code <= 0xB7EB) || // Lo  [27] HANGUL SYLLABLE RYAEG..HANGUL SYLLABLE RYAEH\r\n\t\t(0xB7ED <= code && code <= 0xB807) || // Lo  [27] HANGUL SYLLABLE REOG..HANGUL SYLLABLE REOH\r\n\t\t(0xB809 <= code && code <= 0xB823) || // Lo  [27] HANGUL SYLLABLE REG..HANGUL SYLLABLE REH\r\n\t\t(0xB825 <= code && code <= 0xB83F) || // Lo  [27] HANGUL SYLLABLE RYEOG..HANGUL SYLLABLE RYEOH\r\n\t\t(0xB841 <= code && code <= 0xB85B) || // Lo  [27] HANGUL SYLLABLE RYEG..HANGUL SYLLABLE RYEH\r\n\t\t(0xB85D <= code && code <= 0xB877) || // Lo  [27] HANGUL SYLLABLE ROG..HANGUL SYLLABLE ROH\r\n\t\t(0xB879 <= code && code <= 0xB893) || // Lo  [27] HANGUL SYLLABLE RWAG..HANGUL SYLLABLE RWAH\r\n\t\t(0xB895 <= code && code <= 0xB8AF) || // Lo  [27] HANGUL SYLLABLE RWAEG..HANGUL SYLLABLE RWAEH\r\n\t\t(0xB8B1 <= code && code <= 0xB8CB) || // Lo  [27] HANGUL SYLLABLE ROEG..HANGUL SYLLABLE ROEH\r\n\t\t(0xB8CD <= code && code <= 0xB8E7) || // Lo  [27] HANGUL SYLLABLE RYOG..HANGUL SYLLABLE RYOH\r\n\t\t(0xB8E9 <= code && code <= 0xB903) || // Lo  [27] HANGUL SYLLABLE RUG..HANGUL SYLLABLE RUH\r\n\t\t(0xB905 <= code && code <= 0xB91F) || // Lo  [27] HANGUL SYLLABLE RWEOG..HANGUL SYLLABLE RWEOH\r\n\t\t(0xB921 <= code && code <= 0xB93B) || // Lo  [27] HANGUL SYLLABLE RWEG..HANGUL SYLLABLE RWEH\r\n\t\t(0xB93D <= code && code <= 0xB957) || // Lo  [27] HANGUL SYLLABLE RWIG..HANGUL SYLLABLE RWIH\r\n\t\t(0xB959 <= code && code <= 0xB973) || // Lo  [27] HANGUL SYLLABLE RYUG..HANGUL SYLLABLE RYUH\r\n\t\t(0xB975 <= code && code <= 0xB98F) || // Lo  [27] HANGUL SYLLABLE REUG..HANGUL SYLLABLE REUH\r\n\t\t(0xB991 <= code && code <= 0xB9AB) || // Lo  [27] HANGUL SYLLABLE RYIG..HANGUL SYLLABLE RYIH\r\n\t\t(0xB9AD <= code && code <= 0xB9C7) || // Lo  [27] HANGUL SYLLABLE RIG..HANGUL SYLLABLE RIH\r\n\t\t(0xB9C9 <= code && code <= 0xB9E3) || // Lo  [27] HANGUL SYLLABLE MAG..HANGUL SYLLABLE MAH\r\n\t\t(0xB9E5 <= code && code <= 0xB9FF) || // Lo  [27] HANGUL SYLLABLE MAEG..HANGUL SYLLABLE MAEH\r\n\t\t(0xBA01 <= code && code <= 0xBA1B) || // Lo  [27] HANGUL SYLLABLE MYAG..HANGUL SYLLABLE MYAH\r\n\t\t(0xBA1D <= code && code <= 0xBA37) || // Lo  [27] HANGUL SYLLABLE MYAEG..HANGUL SYLLABLE MYAEH\r\n\t\t(0xBA39 <= code && code <= 0xBA53) || // Lo  [27] HANGUL SYLLABLE MEOG..HANGUL SYLLABLE MEOH\r\n\t\t(0xBA55 <= code && code <= 0xBA6F) || // Lo  [27] HANGUL SYLLABLE MEG..HANGUL SYLLABLE MEH\r\n\t\t(0xBA71 <= code && code <= 0xBA8B) || // Lo  [27] HANGUL SYLLABLE MYEOG..HANGUL SYLLABLE MYEOH\r\n\t\t(0xBA8D <= code && code <= 0xBAA7) || // Lo  [27] HANGUL SYLLABLE MYEG..HANGUL SYLLABLE MYEH\r\n\t\t(0xBAA9 <= code && code <= 0xBAC3) || // Lo  [27] HANGUL SYLLABLE MOG..HANGUL SYLLABLE MOH\r\n\t\t(0xBAC5 <= code && code <= 0xBADF) || // Lo  [27] HANGUL SYLLABLE MWAG..HANGUL SYLLABLE MWAH\r\n\t\t(0xBAE1 <= code && code <= 0xBAFB) || // Lo  [27] HANGUL SYLLABLE MWAEG..HANGUL SYLLABLE MWAEH\r\n\t\t(0xBAFD <= code && code <= 0xBB17) || // Lo  [27] HANGUL SYLLABLE MOEG..HANGUL SYLLABLE MOEH\r\n\t\t(0xBB19 <= code && code <= 0xBB33) || // Lo  [27] HANGUL SYLLABLE MYOG..HANGUL SYLLABLE MYOH\r\n\t\t(0xBB35 <= code && code <= 0xBB4F) || // Lo  [27] HANGUL SYLLABLE MUG..HANGUL SYLLABLE MUH\r\n\t\t(0xBB51 <= code && code <= 0xBB6B) || // Lo  [27] HANGUL SYLLABLE MWEOG..HANGUL SYLLABLE MWEOH\r\n\t\t(0xBB6D <= code && code <= 0xBB87) || // Lo  [27] HANGUL SYLLABLE MWEG..HANGUL SYLLABLE MWEH\r\n\t\t(0xBB89 <= code && code <= 0xBBA3) || // Lo  [27] HANGUL SYLLABLE MWIG..HANGUL SYLLABLE MWIH\r\n\t\t(0xBBA5 <= code && code <= 0xBBBF) || // Lo  [27] HANGUL SYLLABLE MYUG..HANGUL SYLLABLE MYUH\r\n\t\t(0xBBC1 <= code && code <= 0xBBDB) || // Lo  [27] HANGUL SYLLABLE MEUG..HANGUL SYLLABLE MEUH\r\n\t\t(0xBBDD <= code && code <= 0xBBF7) || // Lo  [27] HANGUL SYLLABLE MYIG..HANGUL SYLLABLE MYIH\r\n\t\t(0xBBF9 <= code && code <= 0xBC13) || // Lo  [27] HANGUL SYLLABLE MIG..HANGUL SYLLABLE MIH\r\n\t\t(0xBC15 <= code && code <= 0xBC2F) || // Lo  [27] HANGUL SYLLABLE BAG..HANGUL SYLLABLE BAH\r\n\t\t(0xBC31 <= code && code <= 0xBC4B) || // Lo  [27] HANGUL SYLLABLE BAEG..HANGUL SYLLABLE BAEH\r\n\t\t(0xBC4D <= code && code <= 0xBC67) || // Lo  [27] HANGUL SYLLABLE BYAG..HANGUL SYLLABLE BYAH\r\n\t\t(0xBC69 <= code && code <= 0xBC83) || // Lo  [27] HANGUL SYLLABLE BYAEG..HANGUL SYLLABLE BYAEH\r\n\t\t(0xBC85 <= code && code <= 0xBC9F) || // Lo  [27] HANGUL SYLLABLE BEOG..HANGUL SYLLABLE BEOH\r\n\t\t(0xBCA1 <= code && code <= 0xBCBB) || // Lo  [27] HANGUL SYLLABLE BEG..HANGUL SYLLABLE BEH\r\n\t\t(0xBCBD <= code && code <= 0xBCD7) || // Lo  [27] HANGUL SYLLABLE BYEOG..HANGUL SYLLABLE BYEOH\r\n\t\t(0xBCD9 <= code && code <= 0xBCF3) || // Lo  [27] HANGUL SYLLABLE BYEG..HANGUL SYLLABLE BYEH\r\n\t\t(0xBCF5 <= code && code <= 0xBD0F) || // Lo  [27] HANGUL SYLLABLE BOG..HANGUL SYLLABLE BOH\r\n\t\t(0xBD11 <= code && code <= 0xBD2B) || // Lo  [27] HANGUL SYLLABLE BWAG..HANGUL SYLLABLE BWAH\r\n\t\t(0xBD2D <= code && code <= 0xBD47) || // Lo  [27] HANGUL SYLLABLE BWAEG..HANGUL SYLLABLE BWAEH\r\n\t\t(0xBD49 <= code && code <= 0xBD63) || // Lo  [27] HANGUL SYLLABLE BOEG..HANGUL SYLLABLE BOEH\r\n\t\t(0xBD65 <= code && code <= 0xBD7F) || // Lo  [27] HANGUL SYLLABLE BYOG..HANGUL SYLLABLE BYOH\r\n\t\t(0xBD81 <= code && code <= 0xBD9B) || // Lo  [27] HANGUL SYLLABLE BUG..HANGUL SYLLABLE BUH\r\n\t\t(0xBD9D <= code && code <= 0xBDB7) || // Lo  [27] HANGUL SYLLABLE BWEOG..HANGUL SYLLABLE BWEOH\r\n\t\t(0xBDB9 <= code && code <= 0xBDD3) || // Lo  [27] HANGUL SYLLABLE BWEG..HANGUL SYLLABLE BWEH\r\n\t\t(0xBDD5 <= code && code <= 0xBDEF) || // Lo  [27] HANGUL SYLLABLE BWIG..HANGUL SYLLABLE BWIH\r\n\t\t(0xBDF1 <= code && code <= 0xBE0B) || // Lo  [27] HANGUL SYLLABLE BYUG..HANGUL SYLLABLE BYUH\r\n\t\t(0xBE0D <= code && code <= 0xBE27) || // Lo  [27] HANGUL SYLLABLE BEUG..HANGUL SYLLABLE BEUH\r\n\t\t(0xBE29 <= code && code <= 0xBE43) || // Lo  [27] HANGUL SYLLABLE BYIG..HANGUL SYLLABLE BYIH\r\n\t\t(0xBE45 <= code && code <= 0xBE5F) || // Lo  [27] HANGUL SYLLABLE BIG..HANGUL SYLLABLE BIH\r\n\t\t(0xBE61 <= code && code <= 0xBE7B) || // Lo  [27] HANGUL SYLLABLE BBAG..HANGUL SYLLABLE BBAH\r\n\t\t(0xBE7D <= code && code <= 0xBE97) || // Lo  [27] HANGUL SYLLABLE BBAEG..HANGUL SYLLABLE BBAEH\r\n\t\t(0xBE99 <= code && code <= 0xBEB3) || // Lo  [27] HANGUL SYLLABLE BBYAG..HANGUL SYLLABLE BBYAH\r\n\t\t(0xBEB5 <= code && code <= 0xBECF) || // Lo  [27] HANGUL SYLLABLE BBYAEG..HANGUL SYLLABLE BBYAEH\r\n\t\t(0xBED1 <= code && code <= 0xBEEB) || // Lo  [27] HANGUL SYLLABLE BBEOG..HANGUL SYLLABLE BBEOH\r\n\t\t(0xBEED <= code && code <= 0xBF07) || // Lo  [27] HANGUL SYLLABLE BBEG..HANGUL SYLLABLE BBEH\r\n\t\t(0xBF09 <= code && code <= 0xBF23) || // Lo  [27] HANGUL SYLLABLE BBYEOG..HANGUL SYLLABLE BBYEOH\r\n\t\t(0xBF25 <= code && code <= 0xBF3F) || // Lo  [27] HANGUL SYLLABLE BBYEG..HANGUL SYLLABLE BBYEH\r\n\t\t(0xBF41 <= code && code <= 0xBF5B) || // Lo  [27] HANGUL SYLLABLE BBOG..HANGUL SYLLABLE BBOH\r\n\t\t(0xBF5D <= code && code <= 0xBF77) || // Lo  [27] HANGUL SYLLABLE BBWAG..HANGUL SYLLABLE BBWAH\r\n\t\t(0xBF79 <= code && code <= 0xBF93) || // Lo  [27] HANGUL SYLLABLE BBWAEG..HANGUL SYLLABLE BBWAEH\r\n\t\t(0xBF95 <= code && code <= 0xBFAF) || // Lo  [27] HANGUL SYLLABLE BBOEG..HANGUL SYLLABLE BBOEH\r\n\t\t(0xBFB1 <= code && code <= 0xBFCB) || // Lo  [27] HANGUL SYLLABLE BBYOG..HANGUL SYLLABLE BBYOH\r\n\t\t(0xBFCD <= code && code <= 0xBFE7) || // Lo  [27] HANGUL SYLLABLE BBUG..HANGUL SYLLABLE BBUH\r\n\t\t(0xBFE9 <= code && code <= 0xC003) || // Lo  [27] HANGUL SYLLABLE BBWEOG..HANGUL SYLLABLE BBWEOH\r\n\t\t(0xC005 <= code && code <= 0xC01F) || // Lo  [27] HANGUL SYLLABLE BBWEG..HANGUL SYLLABLE BBWEH\r\n\t\t(0xC021 <= code && code <= 0xC03B) || // Lo  [27] HANGUL SYLLABLE BBWIG..HANGUL SYLLABLE BBWIH\r\n\t\t(0xC03D <= code && code <= 0xC057) || // Lo  [27] HANGUL SYLLABLE BBYUG..HANGUL SYLLABLE BBYUH\r\n\t\t(0xC059 <= code && code <= 0xC073) || // Lo  [27] HANGUL SYLLABLE BBEUG..HANGUL SYLLABLE BBEUH\r\n\t\t(0xC075 <= code && code <= 0xC08F) || // Lo  [27] HANGUL SYLLABLE BBYIG..HANGUL SYLLABLE BBYIH\r\n\t\t(0xC091 <= code && code <= 0xC0AB) || // Lo  [27] HANGUL SYLLABLE BBIG..HANGUL SYLLABLE BBIH\r\n\t\t(0xC0AD <= code && code <= 0xC0C7) || // Lo  [27] HANGUL SYLLABLE SAG..HANGUL SYLLABLE SAH\r\n\t\t(0xC0C9 <= code && code <= 0xC0E3) || // Lo  [27] HANGUL SYLLABLE SAEG..HANGUL SYLLABLE SAEH\r\n\t\t(0xC0E5 <= code && code <= 0xC0FF) || // Lo  [27] HANGUL SYLLABLE SYAG..HANGUL SYLLABLE SYAH\r\n\t\t(0xC101 <= code && code <= 0xC11B) || // Lo  [27] HANGUL SYLLABLE SYAEG..HANGUL SYLLABLE SYAEH\r\n\t\t(0xC11D <= code && code <= 0xC137) || // Lo  [27] HANGUL SYLLABLE SEOG..HANGUL SYLLABLE SEOH\r\n\t\t(0xC139 <= code && code <= 0xC153) || // Lo  [27] HANGUL SYLLABLE SEG..HANGUL SYLLABLE SEH\r\n\t\t(0xC155 <= code && code <= 0xC16F) || // Lo  [27] HANGUL SYLLABLE SYEOG..HANGUL SYLLABLE SYEOH\r\n\t\t(0xC171 <= code && code <= 0xC18B) || // Lo  [27] HANGUL SYLLABLE SYEG..HANGUL SYLLABLE SYEH\r\n\t\t(0xC18D <= code && code <= 0xC1A7) || // Lo  [27] HANGUL SYLLABLE SOG..HANGUL SYLLABLE SOH\r\n\t\t(0xC1A9 <= code && code <= 0xC1C3) || // Lo  [27] HANGUL SYLLABLE SWAG..HANGUL SYLLABLE SWAH\r\n\t\t(0xC1C5 <= code && code <= 0xC1DF) || // Lo  [27] HANGUL SYLLABLE SWAEG..HANGUL SYLLABLE SWAEH\r\n\t\t(0xC1E1 <= code && code <= 0xC1FB) || // Lo  [27] HANGUL SYLLABLE SOEG..HANGUL SYLLABLE SOEH\r\n\t\t(0xC1FD <= code && code <= 0xC217) || // Lo  [27] HANGUL SYLLABLE SYOG..HANGUL SYLLABLE SYOH\r\n\t\t(0xC219 <= code && code <= 0xC233) || // Lo  [27] HANGUL SYLLABLE SUG..HANGUL SYLLABLE SUH\r\n\t\t(0xC235 <= code && code <= 0xC24F) || // Lo  [27] HANGUL SYLLABLE SWEOG..HANGUL SYLLABLE SWEOH\r\n\t\t(0xC251 <= code && code <= 0xC26B) || // Lo  [27] HANGUL SYLLABLE SWEG..HANGUL SYLLABLE SWEH\r\n\t\t(0xC26D <= code && code <= 0xC287) || // Lo  [27] HANGUL SYLLABLE SWIG..HANGUL SYLLABLE SWIH\r\n\t\t(0xC289 <= code && code <= 0xC2A3) || // Lo  [27] HANGUL SYLLABLE SYUG..HANGUL SYLLABLE SYUH\r\n\t\t(0xC2A5 <= code && code <= 0xC2BF) || // Lo  [27] HANGUL SYLLABLE SEUG..HANGUL SYLLABLE SEUH\r\n\t\t(0xC2C1 <= code && code <= 0xC2DB) || // Lo  [27] HANGUL SYLLABLE SYIG..HANGUL SYLLABLE SYIH\r\n\t\t(0xC2DD <= code && code <= 0xC2F7) || // Lo  [27] HANGUL SYLLABLE SIG..HANGUL SYLLABLE SIH\r\n\t\t(0xC2F9 <= code && code <= 0xC313) || // Lo  [27] HANGUL SYLLABLE SSAG..HANGUL SYLLABLE SSAH\r\n\t\t(0xC315 <= code && code <= 0xC32F) || // Lo  [27] HANGUL SYLLABLE SSAEG..HANGUL SYLLABLE SSAEH\r\n\t\t(0xC331 <= code && code <= 0xC34B) || // Lo  [27] HANGUL SYLLABLE SSYAG..HANGUL SYLLABLE SSYAH\r\n\t\t(0xC34D <= code && code <= 0xC367) || // Lo  [27] HANGUL SYLLABLE SSYAEG..HANGUL SYLLABLE SSYAEH\r\n\t\t(0xC369 <= code && code <= 0xC383) || // Lo  [27] HANGUL SYLLABLE SSEOG..HANGUL SYLLABLE SSEOH\r\n\t\t(0xC385 <= code && code <= 0xC39F) || // Lo  [27] HANGUL SYLLABLE SSEG..HANGUL SYLLABLE SSEH\r\n\t\t(0xC3A1 <= code && code <= 0xC3BB) || // Lo  [27] HANGUL SYLLABLE SSYEOG..HANGUL SYLLABLE SSYEOH\r\n\t\t(0xC3BD <= code && code <= 0xC3D7) || // Lo  [27] HANGUL SYLLABLE SSYEG..HANGUL SYLLABLE SSYEH\r\n\t\t(0xC3D9 <= code && code <= 0xC3F3) || // Lo  [27] HANGUL SYLLABLE SSOG..HANGUL SYLLABLE SSOH\r\n\t\t(0xC3F5 <= code && code <= 0xC40F) || // Lo  [27] HANGUL SYLLABLE SSWAG..HANGUL SYLLABLE SSWAH\r\n\t\t(0xC411 <= code && code <= 0xC42B) || // Lo  [27] HANGUL SYLLABLE SSWAEG..HANGUL SYLLABLE SSWAEH\r\n\t\t(0xC42D <= code && code <= 0xC447) || // Lo  [27] HANGUL SYLLABLE SSOEG..HANGUL SYLLABLE SSOEH\r\n\t\t(0xC449 <= code && code <= 0xC463) || // Lo  [27] HANGUL SYLLABLE SSYOG..HANGUL SYLLABLE SSYOH\r\n\t\t(0xC465 <= code && code <= 0xC47F) || // Lo  [27] HANGUL SYLLABLE SSUG..HANGUL SYLLABLE SSUH\r\n\t\t(0xC481 <= code && code <= 0xC49B) || // Lo  [27] HANGUL SYLLABLE SSWEOG..HANGUL SYLLABLE SSWEOH\r\n\t\t(0xC49D <= code && code <= 0xC4B7) || // Lo  [27] HANGUL SYLLABLE SSWEG..HANGUL SYLLABLE SSWEH\r\n\t\t(0xC4B9 <= code && code <= 0xC4D3) || // Lo  [27] HANGUL SYLLABLE SSWIG..HANGUL SYLLABLE SSWIH\r\n\t\t(0xC4D5 <= code && code <= 0xC4EF) || // Lo  [27] HANGUL SYLLABLE SSYUG..HANGUL SYLLABLE SSYUH\r\n\t\t(0xC4F1 <= code && code <= 0xC50B) || // Lo  [27] HANGUL SYLLABLE SSEUG..HANGUL SYLLABLE SSEUH\r\n\t\t(0xC50D <= code && code <= 0xC527) || // Lo  [27] HANGUL SYLLABLE SSYIG..HANGUL SYLLABLE SSYIH\r\n\t\t(0xC529 <= code && code <= 0xC543) || // Lo  [27] HANGUL SYLLABLE SSIG..HANGUL SYLLABLE SSIH\r\n\t\t(0xC545 <= code && code <= 0xC55F) || // Lo  [27] HANGUL SYLLABLE AG..HANGUL SYLLABLE AH\r\n\t\t(0xC561 <= code && code <= 0xC57B) || // Lo  [27] HANGUL SYLLABLE AEG..HANGUL SYLLABLE AEH\r\n\t\t(0xC57D <= code && code <= 0xC597) || // Lo  [27] HANGUL SYLLABLE YAG..HANGUL SYLLABLE YAH\r\n\t\t(0xC599 <= code && code <= 0xC5B3) || // Lo  [27] HANGUL SYLLABLE YAEG..HANGUL SYLLABLE YAEH\r\n\t\t(0xC5B5 <= code && code <= 0xC5CF) || // Lo  [27] HANGUL SYLLABLE EOG..HANGUL SYLLABLE EOH\r\n\t\t(0xC5D1 <= code && code <= 0xC5EB) || // Lo  [27] HANGUL SYLLABLE EG..HANGUL SYLLABLE EH\r\n\t\t(0xC5ED <= code && code <= 0xC607) || // Lo  [27] HANGUL SYLLABLE YEOG..HANGUL SYLLABLE YEOH\r\n\t\t(0xC609 <= code && code <= 0xC623) || // Lo  [27] HANGUL SYLLABLE YEG..HANGUL SYLLABLE YEH\r\n\t\t(0xC625 <= code && code <= 0xC63F) || // Lo  [27] HANGUL SYLLABLE OG..HANGUL SYLLABLE OH\r\n\t\t(0xC641 <= code && code <= 0xC65B) || // Lo  [27] HANGUL SYLLABLE WAG..HANGUL SYLLABLE WAH\r\n\t\t(0xC65D <= code && code <= 0xC677) || // Lo  [27] HANGUL SYLLABLE WAEG..HANGUL SYLLABLE WAEH\r\n\t\t(0xC679 <= code && code <= 0xC693) || // Lo  [27] HANGUL SYLLABLE OEG..HANGUL SYLLABLE OEH\r\n\t\t(0xC695 <= code && code <= 0xC6AF) || // Lo  [27] HANGUL SYLLABLE YOG..HANGUL SYLLABLE YOH\r\n\t\t(0xC6B1 <= code && code <= 0xC6CB) || // Lo  [27] HANGUL SYLLABLE UG..HANGUL SYLLABLE UH\r\n\t\t(0xC6CD <= code && code <= 0xC6E7) || // Lo  [27] HANGUL SYLLABLE WEOG..HANGUL SYLLABLE WEOH\r\n\t\t(0xC6E9 <= code && code <= 0xC703) || // Lo  [27] HANGUL SYLLABLE WEG..HANGUL SYLLABLE WEH\r\n\t\t(0xC705 <= code && code <= 0xC71F) || // Lo  [27] HANGUL SYLLABLE WIG..HANGUL SYLLABLE WIH\r\n\t\t(0xC721 <= code && code <= 0xC73B) || // Lo  [27] HANGUL SYLLABLE YUG..HANGUL SYLLABLE YUH\r\n\t\t(0xC73D <= code && code <= 0xC757) || // Lo  [27] HANGUL SYLLABLE EUG..HANGUL SYLLABLE EUH\r\n\t\t(0xC759 <= code && code <= 0xC773) || // Lo  [27] HANGUL SYLLABLE YIG..HANGUL SYLLABLE YIH\r\n\t\t(0xC775 <= code && code <= 0xC78F) || // Lo  [27] HANGUL SYLLABLE IG..HANGUL SYLLABLE IH\r\n\t\t(0xC791 <= code && code <= 0xC7AB) || // Lo  [27] HANGUL SYLLABLE JAG..HANGUL SYLLABLE JAH\r\n\t\t(0xC7AD <= code && code <= 0xC7C7) || // Lo  [27] HANGUL SYLLABLE JAEG..HANGUL SYLLABLE JAEH\r\n\t\t(0xC7C9 <= code && code <= 0xC7E3) || // Lo  [27] HANGUL SYLLABLE JYAG..HANGUL SYLLABLE JYAH\r\n\t\t(0xC7E5 <= code && code <= 0xC7FF) || // Lo  [27] HANGUL SYLLABLE JYAEG..HANGUL SYLLABLE JYAEH\r\n\t\t(0xC801 <= code && code <= 0xC81B) || // Lo  [27] HANGUL SYLLABLE JEOG..HANGUL SYLLABLE JEOH\r\n\t\t(0xC81D <= code && code <= 0xC837) || // Lo  [27] HANGUL SYLLABLE JEG..HANGUL SYLLABLE JEH\r\n\t\t(0xC839 <= code && code <= 0xC853) || // Lo  [27] HANGUL SYLLABLE JYEOG..HANGUL SYLLABLE JYEOH\r\n\t\t(0xC855 <= code && code <= 0xC86F) || // Lo  [27] HANGUL SYLLABLE JYEG..HANGUL SYLLABLE JYEH\r\n\t\t(0xC871 <= code && code <= 0xC88B) || // Lo  [27] HANGUL SYLLABLE JOG..HANGUL SYLLABLE JOH\r\n\t\t(0xC88D <= code && code <= 0xC8A7) || // Lo  [27] HANGUL SYLLABLE JWAG..HANGUL SYLLABLE JWAH\r\n\t\t(0xC8A9 <= code && code <= 0xC8C3) || // Lo  [27] HANGUL SYLLABLE JWAEG..HANGUL SYLLABLE JWAEH\r\n\t\t(0xC8C5 <= code && code <= 0xC8DF) || // Lo  [27] HANGUL SYLLABLE JOEG..HANGUL SYLLABLE JOEH\r\n\t\t(0xC8E1 <= code && code <= 0xC8FB) || // Lo  [27] HANGUL SYLLABLE JYOG..HANGUL SYLLABLE JYOH\r\n\t\t(0xC8FD <= code && code <= 0xC917) || // Lo  [27] HANGUL SYLLABLE JUG..HANGUL SYLLABLE JUH\r\n\t\t(0xC919 <= code && code <= 0xC933) || // Lo  [27] HANGUL SYLLABLE JWEOG..HANGUL SYLLABLE JWEOH\r\n\t\t(0xC935 <= code && code <= 0xC94F) || // Lo  [27] HANGUL SYLLABLE JWEG..HANGUL SYLLABLE JWEH\r\n\t\t(0xC951 <= code && code <= 0xC96B) || // Lo  [27] HANGUL SYLLABLE JWIG..HANGUL SYLLABLE JWIH\r\n\t\t(0xC96D <= code && code <= 0xC987) || // Lo  [27] HANGUL SYLLABLE JYUG..HANGUL SYLLABLE JYUH\r\n\t\t(0xC989 <= code && code <= 0xC9A3) || // Lo  [27] HANGUL SYLLABLE JEUG..HANGUL SYLLABLE JEUH\r\n\t\t(0xC9A5 <= code && code <= 0xC9BF) || // Lo  [27] HANGUL SYLLABLE JYIG..HANGUL SYLLABLE JYIH\r\n\t\t(0xC9C1 <= code && code <= 0xC9DB) || // Lo  [27] HANGUL SYLLABLE JIG..HANGUL SYLLABLE JIH\r\n\t\t(0xC9DD <= code && code <= 0xC9F7) || // Lo  [27] HANGUL SYLLABLE JJAG..HANGUL SYLLABLE JJAH\r\n\t\t(0xC9F9 <= code && code <= 0xCA13) || // Lo  [27] HANGUL SYLLABLE JJAEG..HANGUL SYLLABLE JJAEH\r\n\t\t(0xCA15 <= code && code <= 0xCA2F) || // Lo  [27] HANGUL SYLLABLE JJYAG..HANGUL SYLLABLE JJYAH\r\n\t\t(0xCA31 <= code && code <= 0xCA4B) || // Lo  [27] HANGUL SYLLABLE JJYAEG..HANGUL SYLLABLE JJYAEH\r\n\t\t(0xCA4D <= code && code <= 0xCA67) || // Lo  [27] HANGUL SYLLABLE JJEOG..HANGUL SYLLABLE JJEOH\r\n\t\t(0xCA69 <= code && code <= 0xCA83) || // Lo  [27] HANGUL SYLLABLE JJEG..HANGUL SYLLABLE JJEH\r\n\t\t(0xCA85 <= code && code <= 0xCA9F) || // Lo  [27] HANGUL SYLLABLE JJYEOG..HANGUL SYLLABLE JJYEOH\r\n\t\t(0xCAA1 <= code && code <= 0xCABB) || // Lo  [27] HANGUL SYLLABLE JJYEG..HANGUL SYLLABLE JJYEH\r\n\t\t(0xCABD <= code && code <= 0xCAD7) || // Lo  [27] HANGUL SYLLABLE JJOG..HANGUL SYLLABLE JJOH\r\n\t\t(0xCAD9 <= code && code <= 0xCAF3) || // Lo  [27] HANGUL SYLLABLE JJWAG..HANGUL SYLLABLE JJWAH\r\n\t\t(0xCAF5 <= code && code <= 0xCB0F) || // Lo  [27] HANGUL SYLLABLE JJWAEG..HANGUL SYLLABLE JJWAEH\r\n\t\t(0xCB11 <= code && code <= 0xCB2B) || // Lo  [27] HANGUL SYLLABLE JJOEG..HANGUL SYLLABLE JJOEH\r\n\t\t(0xCB2D <= code && code <= 0xCB47) || // Lo  [27] HANGUL SYLLABLE JJYOG..HANGUL SYLLABLE JJYOH\r\n\t\t(0xCB49 <= code && code <= 0xCB63) || // Lo  [27] HANGUL SYLLABLE JJUG..HANGUL SYLLABLE JJUH\r\n\t\t(0xCB65 <= code && code <= 0xCB7F) || // Lo  [27] HANGUL SYLLABLE JJWEOG..HANGUL SYLLABLE JJWEOH\r\n\t\t(0xCB81 <= code && code <= 0xCB9B) || // Lo  [27] HANGUL SYLLABLE JJWEG..HANGUL SYLLABLE JJWEH\r\n\t\t(0xCB9D <= code && code <= 0xCBB7) || // Lo  [27] HANGUL SYLLABLE JJWIG..HANGUL SYLLABLE JJWIH\r\n\t\t(0xCBB9 <= code && code <= 0xCBD3) || // Lo  [27] HANGUL SYLLABLE JJYUG..HANGUL SYLLABLE JJYUH\r\n\t\t(0xCBD5 <= code && code <= 0xCBEF) || // Lo  [27] HANGUL SYLLABLE JJEUG..HANGUL SYLLABLE JJEUH\r\n\t\t(0xCBF1 <= code && code <= 0xCC0B) || // Lo  [27] HANGUL SYLLABLE JJYIG..HANGUL SYLLABLE JJYIH\r\n\t\t(0xCC0D <= code && code <= 0xCC27) || // Lo  [27] HANGUL SYLLABLE JJIG..HANGUL SYLLABLE JJIH\r\n\t\t(0xCC29 <= code && code <= 0xCC43) || // Lo  [27] HANGUL SYLLABLE CAG..HANGUL SYLLABLE CAH\r\n\t\t(0xCC45 <= code && code <= 0xCC5F) || // Lo  [27] HANGUL SYLLABLE CAEG..HANGUL SYLLABLE CAEH\r\n\t\t(0xCC61 <= code && code <= 0xCC7B) || // Lo  [27] HANGUL SYLLABLE CYAG..HANGUL SYLLABLE CYAH\r\n\t\t(0xCC7D <= code && code <= 0xCC97) || // Lo  [27] HANGUL SYLLABLE CYAEG..HANGUL SYLLABLE CYAEH\r\n\t\t(0xCC99 <= code && code <= 0xCCB3) || // Lo  [27] HANGUL SYLLABLE CEOG..HANGUL SYLLABLE CEOH\r\n\t\t(0xCCB5 <= code && code <= 0xCCCF) || // Lo  [27] HANGUL SYLLABLE CEG..HANGUL SYLLABLE CEH\r\n\t\t(0xCCD1 <= code && code <= 0xCCEB) || // Lo  [27] HANGUL SYLLABLE CYEOG..HANGUL SYLLABLE CYEOH\r\n\t\t(0xCCED <= code && code <= 0xCD07) || // Lo  [27] HANGUL SYLLABLE CYEG..HANGUL SYLLABLE CYEH\r\n\t\t(0xCD09 <= code && code <= 0xCD23) || // Lo  [27] HANGUL SYLLABLE COG..HANGUL SYLLABLE COH\r\n\t\t(0xCD25 <= code && code <= 0xCD3F) || // Lo  [27] HANGUL SYLLABLE CWAG..HANGUL SYLLABLE CWAH\r\n\t\t(0xCD41 <= code && code <= 0xCD5B) || // Lo  [27] HANGUL SYLLABLE CWAEG..HANGUL SYLLABLE CWAEH\r\n\t\t(0xCD5D <= code && code <= 0xCD77) || // Lo  [27] HANGUL SYLLABLE COEG..HANGUL SYLLABLE COEH\r\n\t\t(0xCD79 <= code && code <= 0xCD93) || // Lo  [27] HANGUL SYLLABLE CYOG..HANGUL SYLLABLE CYOH\r\n\t\t(0xCD95 <= code && code <= 0xCDAF) || // Lo  [27] HANGUL SYLLABLE CUG..HANGUL SYLLABLE CUH\r\n\t\t(0xCDB1 <= code && code <= 0xCDCB) || // Lo  [27] HANGUL SYLLABLE CWEOG..HANGUL SYLLABLE CWEOH\r\n\t\t(0xCDCD <= code && code <= 0xCDE7) || // Lo  [27] HANGUL SYLLABLE CWEG..HANGUL SYLLABLE CWEH\r\n\t\t(0xCDE9 <= code && code <= 0xCE03) || // Lo  [27] HANGUL SYLLABLE CWIG..HANGUL SYLLABLE CWIH\r\n\t\t(0xCE05 <= code && code <= 0xCE1F) || // Lo  [27] HANGUL SYLLABLE CYUG..HANGUL SYLLABLE CYUH\r\n\t\t(0xCE21 <= code && code <= 0xCE3B) || // Lo  [27] HANGUL SYLLABLE CEUG..HANGUL SYLLABLE CEUH\r\n\t\t(0xCE3D <= code && code <= 0xCE57) || // Lo  [27] HANGUL SYLLABLE CYIG..HANGUL SYLLABLE CYIH\r\n\t\t(0xCE59 <= code && code <= 0xCE73) || // Lo  [27] HANGUL SYLLABLE CIG..HANGUL SYLLABLE CIH\r\n\t\t(0xCE75 <= code && code <= 0xCE8F) || // Lo  [27] HANGUL SYLLABLE KAG..HANGUL SYLLABLE KAH\r\n\t\t(0xCE91 <= code && code <= 0xCEAB) || // Lo  [27] HANGUL SYLLABLE KAEG..HANGUL SYLLABLE KAEH\r\n\t\t(0xCEAD <= code && code <= 0xCEC7) || // Lo  [27] HANGUL SYLLABLE KYAG..HANGUL SYLLABLE KYAH\r\n\t\t(0xCEC9 <= code && code <= 0xCEE3) || // Lo  [27] HANGUL SYLLABLE KYAEG..HANGUL SYLLABLE KYAEH\r\n\t\t(0xCEE5 <= code && code <= 0xCEFF) || // Lo  [27] HANGUL SYLLABLE KEOG..HANGUL SYLLABLE KEOH\r\n\t\t(0xCF01 <= code && code <= 0xCF1B) || // Lo  [27] HANGUL SYLLABLE KEG..HANGUL SYLLABLE KEH\r\n\t\t(0xCF1D <= code && code <= 0xCF37) || // Lo  [27] HANGUL SYLLABLE KYEOG..HANGUL SYLLABLE KYEOH\r\n\t\t(0xCF39 <= code && code <= 0xCF53) || // Lo  [27] HANGUL SYLLABLE KYEG..HANGUL SYLLABLE KYEH\r\n\t\t(0xCF55 <= code && code <= 0xCF6F) || // Lo  [27] HANGUL SYLLABLE KOG..HANGUL SYLLABLE KOH\r\n\t\t(0xCF71 <= code && code <= 0xCF8B) || // Lo  [27] HANGUL SYLLABLE KWAG..HANGUL SYLLABLE KWAH\r\n\t\t(0xCF8D <= code && code <= 0xCFA7) || // Lo  [27] HANGUL SYLLABLE KWAEG..HANGUL SYLLABLE KWAEH\r\n\t\t(0xCFA9 <= code && code <= 0xCFC3) || // Lo  [27] HANGUL SYLLABLE KOEG..HANGUL SYLLABLE KOEH\r\n\t\t(0xCFC5 <= code && code <= 0xCFDF) || // Lo  [27] HANGUL SYLLABLE KYOG..HANGUL SYLLABLE KYOH\r\n\t\t(0xCFE1 <= code && code <= 0xCFFB) || // Lo  [27] HANGUL SYLLABLE KUG..HANGUL SYLLABLE KUH\r\n\t\t(0xCFFD <= code && code <= 0xD017) || // Lo  [27] HANGUL SYLLABLE KWEOG..HANGUL SYLLABLE KWEOH\r\n\t\t(0xD019 <= code && code <= 0xD033) || // Lo  [27] HANGUL SYLLABLE KWEG..HANGUL SYLLABLE KWEH\r\n\t\t(0xD035 <= code && code <= 0xD04F) || // Lo  [27] HANGUL SYLLABLE KWIG..HANGUL SYLLABLE KWIH\r\n\t\t(0xD051 <= code && code <= 0xD06B) || // Lo  [27] HANGUL SYLLABLE KYUG..HANGUL SYLLABLE KYUH\r\n\t\t(0xD06D <= code && code <= 0xD087) || // Lo  [27] HANGUL SYLLABLE KEUG..HANGUL SYLLABLE KEUH\r\n\t\t(0xD089 <= code && code <= 0xD0A3) || // Lo  [27] HANGUL SYLLABLE KYIG..HANGUL SYLLABLE KYIH\r\n\t\t(0xD0A5 <= code && code <= 0xD0BF) || // Lo  [27] HANGUL SYLLABLE KIG..HANGUL SYLLABLE KIH\r\n\t\t(0xD0C1 <= code && code <= 0xD0DB) || // Lo  [27] HANGUL SYLLABLE TAG..HANGUL SYLLABLE TAH\r\n\t\t(0xD0DD <= code && code <= 0xD0F7) || // Lo  [27] HANGUL SYLLABLE TAEG..HANGUL SYLLABLE TAEH\r\n\t\t(0xD0F9 <= code && code <= 0xD113) || // Lo  [27] HANGUL SYLLABLE TYAG..HANGUL SYLLABLE TYAH\r\n\t\t(0xD115 <= code && code <= 0xD12F) || // Lo  [27] HANGUL SYLLABLE TYAEG..HANGUL SYLLABLE TYAEH\r\n\t\t(0xD131 <= code && code <= 0xD14B) || // Lo  [27] HANGUL SYLLABLE TEOG..HANGUL SYLLABLE TEOH\r\n\t\t(0xD14D <= code && code <= 0xD167) || // Lo  [27] HANGUL SYLLABLE TEG..HANGUL SYLLABLE TEH\r\n\t\t(0xD169 <= code && code <= 0xD183) || // Lo  [27] HANGUL SYLLABLE TYEOG..HANGUL SYLLABLE TYEOH\r\n\t\t(0xD185 <= code && code <= 0xD19F) || // Lo  [27] HANGUL SYLLABLE TYEG..HANGUL SYLLABLE TYEH\r\n\t\t(0xD1A1 <= code && code <= 0xD1BB) || // Lo  [27] HANGUL SYLLABLE TOG..HANGUL SYLLABLE TOH\r\n\t\t(0xD1BD <= code && code <= 0xD1D7) || // Lo  [27] HANGUL SYLLABLE TWAG..HANGUL SYLLABLE TWAH\r\n\t\t(0xD1D9 <= code && code <= 0xD1F3) || // Lo  [27] HANGUL SYLLABLE TWAEG..HANGUL SYLLABLE TWAEH\r\n\t\t(0xD1F5 <= code && code <= 0xD20F) || // Lo  [27] HANGUL SYLLABLE TOEG..HANGUL SYLLABLE TOEH\r\n\t\t(0xD211 <= code && code <= 0xD22B) || // Lo  [27] HANGUL SYLLABLE TYOG..HANGUL SYLLABLE TYOH\r\n\t\t(0xD22D <= code && code <= 0xD247) || // Lo  [27] HANGUL SYLLABLE TUG..HANGUL SYLLABLE TUH\r\n\t\t(0xD249 <= code && code <= 0xD263) || // Lo  [27] HANGUL SYLLABLE TWEOG..HANGUL SYLLABLE TWEOH\r\n\t\t(0xD265 <= code && code <= 0xD27F) || // Lo  [27] HANGUL SYLLABLE TWEG..HANGUL SYLLABLE TWEH\r\n\t\t(0xD281 <= code && code <= 0xD29B) || // Lo  [27] HANGUL SYLLABLE TWIG..HANGUL SYLLABLE TWIH\r\n\t\t(0xD29D <= code && code <= 0xD2B7) || // Lo  [27] HANGUL SYLLABLE TYUG..HANGUL SYLLABLE TYUH\r\n\t\t(0xD2B9 <= code && code <= 0xD2D3) || // Lo  [27] HANGUL SYLLABLE TEUG..HANGUL SYLLABLE TEUH\r\n\t\t(0xD2D5 <= code && code <= 0xD2EF) || // Lo  [27] HANGUL SYLLABLE TYIG..HANGUL SYLLABLE TYIH\r\n\t\t(0xD2F1 <= code && code <= 0xD30B) || // Lo  [27] HANGUL SYLLABLE TIG..HANGUL SYLLABLE TIH\r\n\t\t(0xD30D <= code && code <= 0xD327) || // Lo  [27] HANGUL SYLLABLE PAG..HANGUL SYLLABLE PAH\r\n\t\t(0xD329 <= code && code <= 0xD343) || // Lo  [27] HANGUL SYLLABLE PAEG..HANGUL SYLLABLE PAEH\r\n\t\t(0xD345 <= code && code <= 0xD35F) || // Lo  [27] HANGUL SYLLABLE PYAG..HANGUL SYLLABLE PYAH\r\n\t\t(0xD361 <= code && code <= 0xD37B) || // Lo  [27] HANGUL SYLLABLE PYAEG..HANGUL SYLLABLE PYAEH\r\n\t\t(0xD37D <= code && code <= 0xD397) || // Lo  [27] HANGUL SYLLABLE PEOG..HANGUL SYLLABLE PEOH\r\n\t\t(0xD399 <= code && code <= 0xD3B3) || // Lo  [27] HANGUL SYLLABLE PEG..HANGUL SYLLABLE PEH\r\n\t\t(0xD3B5 <= code && code <= 0xD3CF) || // Lo  [27] HANGUL SYLLABLE PYEOG..HANGUL SYLLABLE PYEOH\r\n\t\t(0xD3D1 <= code && code <= 0xD3EB) || // Lo  [27] HANGUL SYLLABLE PYEG..HANGUL SYLLABLE PYEH\r\n\t\t(0xD3ED <= code && code <= 0xD407) || // Lo  [27] HANGUL SYLLABLE POG..HANGUL SYLLABLE POH\r\n\t\t(0xD409 <= code && code <= 0xD423) || // Lo  [27] HANGUL SYLLABLE PWAG..HANGUL SYLLABLE PWAH\r\n\t\t(0xD425 <= code && code <= 0xD43F) || // Lo  [27] HANGUL SYLLABLE PWAEG..HANGUL SYLLABLE PWAEH\r\n\t\t(0xD441 <= code && code <= 0xD45B) || // Lo  [27] HANGUL SYLLABLE POEG..HANGUL SYLLABLE POEH\r\n\t\t(0xD45D <= code && code <= 0xD477) || // Lo  [27] HANGUL SYLLABLE PYOG..HANGUL SYLLABLE PYOH\r\n\t\t(0xD479 <= code && code <= 0xD493) || // Lo  [27] HANGUL SYLLABLE PUG..HANGUL SYLLABLE PUH\r\n\t\t(0xD495 <= code && code <= 0xD4AF) || // Lo  [27] HANGUL SYLLABLE PWEOG..HANGUL SYLLABLE PWEOH\r\n\t\t(0xD4B1 <= code && code <= 0xD4CB) || // Lo  [27] HANGUL SYLLABLE PWEG..HANGUL SYLLABLE PWEH\r\n\t\t(0xD4CD <= code && code <= 0xD4E7) || // Lo  [27] HANGUL SYLLABLE PWIG..HANGUL SYLLABLE PWIH\r\n\t\t(0xD4E9 <= code && code <= 0xD503) || // Lo  [27] HANGUL SYLLABLE PYUG..HANGUL SYLLABLE PYUH\r\n\t\t(0xD505 <= code && code <= 0xD51F) || // Lo  [27] HANGUL SYLLABLE PEUG..HANGUL SYLLABLE PEUH\r\n\t\t(0xD521 <= code && code <= 0xD53B) || // Lo  [27] HANGUL SYLLABLE PYIG..HANGUL SYLLABLE PYIH\r\n\t\t(0xD53D <= code && code <= 0xD557) || // Lo  [27] HANGUL SYLLABLE PIG..HANGUL SYLLABLE PIH\r\n\t\t(0xD559 <= code && code <= 0xD573) || // Lo  [27] HANGUL SYLLABLE HAG..HANGUL SYLLABLE HAH\r\n\t\t(0xD575 <= code && code <= 0xD58F) || // Lo  [27] HANGUL SYLLABLE HAEG..HANGUL SYLLABLE HAEH\r\n\t\t(0xD591 <= code && code <= 0xD5AB) || // Lo  [27] HANGUL SYLLABLE HYAG..HANGUL SYLLABLE HYAH\r\n\t\t(0xD5AD <= code && code <= 0xD5C7) || // Lo  [27] HANGUL SYLLABLE HYAEG..HANGUL SYLLABLE HYAEH\r\n\t\t(0xD5C9 <= code && code <= 0xD5E3) || // Lo  [27] HANGUL SYLLABLE HEOG..HANGUL SYLLABLE HEOH\r\n\t\t(0xD5E5 <= code && code <= 0xD5FF) || // Lo  [27] HANGUL SYLLABLE HEG..HANGUL SYLLABLE HEH\r\n\t\t(0xD601 <= code && code <= 0xD61B) || // Lo  [27] HANGUL SYLLABLE HYEOG..HANGUL SYLLABLE HYEOH\r\n\t\t(0xD61D <= code && code <= 0xD637) || // Lo  [27] HANGUL SYLLABLE HYEG..HANGUL SYLLABLE HYEH\r\n\t\t(0xD639 <= code && code <= 0xD653) || // Lo  [27] HANGUL SYLLABLE HOG..HANGUL SYLLABLE HOH\r\n\t\t(0xD655 <= code && code <= 0xD66F) || // Lo  [27] HANGUL SYLLABLE HWAG..HANGUL SYLLABLE HWAH\r\n\t\t(0xD671 <= code && code <= 0xD68B) || // Lo  [27] HANGUL SYLLABLE HWAEG..HANGUL SYLLABLE HWAEH\r\n\t\t(0xD68D <= code && code <= 0xD6A7) || // Lo  [27] HANGUL SYLLABLE HOEG..HANGUL SYLLABLE HOEH\r\n\t\t(0xD6A9 <= code && code <= 0xD6C3) || // Lo  [27] HANGUL SYLLABLE HYOG..HANGUL SYLLABLE HYOH\r\n\t\t(0xD6C5 <= code && code <= 0xD6DF) || // Lo  [27] HANGUL SYLLABLE HUG..HANGUL SYLLABLE HUH\r\n\t\t(0xD6E1 <= code && code <= 0xD6FB) || // Lo  [27] HANGUL SYLLABLE HWEOG..HANGUL SYLLABLE HWEOH\r\n\t\t(0xD6FD <= code && code <= 0xD717) || // Lo  [27] HANGUL SYLLABLE HWEG..HANGUL SYLLABLE HWEH\r\n\t\t(0xD719 <= code && code <= 0xD733) || // Lo  [27] HANGUL SYLLABLE HWIG..HANGUL SYLLABLE HWIH\r\n\t\t(0xD735 <= code && code <= 0xD74F) || // Lo  [27] HANGUL SYLLABLE HYUG..HANGUL SYLLABLE HYUH\r\n\t\t(0xD751 <= code && code <= 0xD76B) || // Lo  [27] HANGUL SYLLABLE HEUG..HANGUL SYLLABLE HEUH\r\n\t\t(0xD76D <= code && code <= 0xD787) || // Lo  [27] HANGUL SYLLABLE HYIG..HANGUL SYLLABLE HYIH\r\n\t\t(0xD789 <= code && code <= 0xD7A3) // Lo  [27] HANGUL SYLLABLE HIG..HANGUL SYLLABLE HIH\r\n\t\t){\r\n\t\t\treturn LVT;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//all unlisted characters have a grapheme break property of \"Other\"\r\n\t\treturn Other;\r\n\t}\r\n\r\n    export default {\r\n        splitGraphemes,\r\n        countGraphemes,\r\n        nextBreak\r\n    }\r\n\r\n\r\n","/**\r\n * @module core/lexer\r\n * @private\r\n */\r\n/**\r\n * ## Reference\r\n * TeX source code:\r\n * {@link  http://tug.org/texlive/devsrc/Build/source/texk/web2c/tex.web|Tex.web}\r\n *\r\n * For a list of standard TeX macros, see:\r\n * {@link ftp://tug.ctan.org/pub/tex-archive/systems/knuth/dist/lib/plain.tex|plain.tex}\r\n*/\r\n\r\n\r\nimport GraphemeSplitter from './grapheme-splitter.js';\r\n\r\n\r\n/**\r\n *\r\n * A token can be of type:\r\n *  - `literal`: the value is the character this token represents. This can be\r\n * a combination of Unicode codepoints, for example for emojis.\r\n *  - `^` and `_`: superscript and subscript commands.\r\n *  - `command`: a command such as `\\sin` or `\\text` or `\\alpha`\r\n *  - `{` and `}`: begin and end group (use for arguments of commands and for grouping)\r\n *  - `#`: parameter\r\n *\r\n *  - `placeholder`: a placeholder value meant to be replaced by some actual value\r\n *  - `space`: one or more space characters (including tab, etc...)\r\n *\r\n *  See: [TeX:289](http://tug.org/texlive/devsrc/Build/source/texk/web2c/tex.web)\r\n * @property {string} value\r\n * @property {string} type\r\n * @class module:core/lexer#Token\r\n * @private\r\n */\r\nclass Token {\r\n    constructor(type, value) {\r\n        this.type = type;\r\n        this.value = value;\r\n        console.assert(!(type === 'literal' && value === '}'));\r\n    }\r\n}\r\n\r\n/**\r\n * Given a LaTeX expression represented as a character string,\r\n * the Lexer class will scan and return Tokens for the lexical\r\n * units in the string.\r\n *\r\n * @param {string} s A string of LaTeX\r\n * @class Lexer\r\n * @class module:core/lexer#Lexer\r\n * @private\r\n */\r\nclass Lexer {\r\n    constructor(s) {\r\n        this.s = GraphemeSplitter.splitGraphemes(s);\r\n        this.pos = 0;\r\n    }\r\n    /**\r\n     * @return {boolean} True if we reached the end of the stream\r\n     * @method module:core/lexer#Lexer#end\r\n     * @private\r\n     */\r\n    end() {\r\n        return this.pos >= this.s.length;\r\n    }\r\n    /**\r\n     * Return the next char and advance\r\n     * @return {string}\r\n     * @method module:core/lexer#Lexer#get\r\n     * @private\r\n     */\r\n    get() {\r\n        return this.pos < this.s.length ? this.s[this.pos++] : null;\r\n    }\r\n    /**\r\n     * Return the next char, but do not advance\r\n     * @return {string}\r\n     * @method module:core/lexer#Lexer#peek\r\n     * @private\r\n     */\r\n    peek() {\r\n        return this.s[this.pos];\r\n    }\r\n    /**\r\n     * Return the next substring matching regEx and advance.\r\n     * @param {RegEx} regEx\r\n     * @return {?string}\r\n     * @method module:core/lexer#Lexer#scan\r\n     * @private\r\n     */\r\n    scan(regEx) {\r\n        let result;\r\n        // this.s can either be a string, if it's made up only of ASCII chars\r\n        // or an array of graphemes, if it's more complicated.\r\n        if (typeof this.s === 'string') {\r\n            result = regEx.exec(this.s.slice(this.pos));\r\n        } else {\r\n            result = regEx.exec(this.s.slice(this.pos).join(''));\r\n        }\r\n        if (result) {\r\n            this.pos += result[0].length;\r\n            return result[0];\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Return true if next char is white space. Does not advance.\r\n     *\r\n     * See [Stackoverflow](http://stackoverflow.com/questions/6073637/)\r\n     * @method module:core/lexer#Lexer#isWhiteSpace\r\n     * @private\r\n     */\r\n    isWhiteSpace() {\r\n        return /[ \\f\\n\\r\\t\\v\\xA0\\u2028\\u2029]/.test(this.s[this.pos]);\r\n/*\r\n    Note that browsers are inconsistent in their definitions of the\r\n    `\\s` metacharacter, so we use an explicit pattern instead.\r\n\r\n    - IE:          `[ \\f\\n\\r\\t\\v]`\r\n    - Chrome:      `[ \\f\\n\\r\\t\\v\\u00A0]`\r\n    - Firefox:     `[ \\f\\n\\r\\t\\v\\u00A0\\u2028\\u2029]`\r\n\r\n    - \\f \\u000C: form feed (FORM FEED)\r\n    - \\n \\u000A: linefeed (LINE FEED)\r\n    - \\r \\u000D: carriage return\r\n    - \\t \\u0009: tab (CHARACTER TABULATION)\r\n    - \\v \\u000B: vertical tab (LINE TABULATION)\r\n    - \\u00A0: NON-BREAKING SPACE\r\n    - \\u2028: LINE SEPARATOR\r\n    - \\u2029: PARAGRAPH SEPARATOR\r\n\r\n    Could be considered:\r\n    - \\u2000-\\u200a spacing\r\n    - \\u202f NARROW NO-BREAK SPACE\r\n    - \\u205F MEDIUM MATHEMATICAL SPACE\r\n    - \\u3000 IDEOGRAPHIC SPACE\r\n    - \\uFEFF ZERO WITH NON-BREAKING SPACE\r\n*/\r\n    }\r\n    /**\r\n     * Return a single token, or null, created from the lexer.\r\n     *\r\n     * @returns {Token}\r\n     * @method module:core/lexer#Lexer#makeToken\r\n     * @private\r\n     */\r\n    makeToken() {\r\n        // If we've reached the end, exit\r\n        if (this.end()) return null;\r\n        // Handle white space\r\n        // Note that in text mode, spaces are significant and can't be coalesced.\r\n        if (this.isWhiteSpace()) {\r\n            this.get();\r\n            return new Token('space');\r\n        }\r\n        let result = null;\r\n        // Is it a command?\r\n        if (this.peek() === '\\\\') {\r\n            this.get(); // Skip the initial \\\r\n            if (!this.end()) {\r\n                // A command is either a string of letters and asterisks...\r\n                let command = this.scan(/^[a-zA-Z*]+/);\r\n                // There are a few special commands that are handled here...\r\n                if (command === 'bgroup') {\r\n                    // Begin group, synonym for opening brace\r\n                    result = new Token('{');\r\n                } else if (command === 'egroup') {\r\n                    // End group, synonym for closing brace\r\n                    result = new Token('}');\r\n                } else {\r\n                    if (!command) {\r\n                        // ... or a single non-letter character\r\n                        command = this.get();\r\n                    }\r\n                   result = new Token('command', command);\r\n                }\r\n            }\r\n            // Is it a group start/end?\r\n        } else if (this.peek() === '{' || this.peek() === '}') {\r\n            result = new Token(this.get());\r\n        } else if (this.peek() === '#') {\r\n            // This could be either a param token, or a literal # (used for\r\n            // colorspecs, for example). A param token is a '#' followed by\r\n            // - a digit 0-9 followed by a non-alpha, non-digit\r\n            // - or '?'.\r\n            // Otherwise, it's a literal '#'.\r\n            this.get();\r\n            if (!this.end()) {\r\n                let isParam = false;\r\n                let next = this.peek();\r\n                if (/[0-9?]/.test(next)) {\r\n                    // Could be a param\r\n                    isParam = true;\r\n                    // Need to look ahead to the following char\r\n                    if (this.pos + 1 < this.s.length) {\r\n                        const after = this.s[this.pos + 1];\r\n                        isParam = /[^0-9A-Za-z]/.test(after);\r\n                    }\r\n                }\r\n                if (isParam) {\r\n                    result = new Token('#');\r\n                    next = this.get();\r\n                    if (next >= '0' && next <= '9') {\r\n                        result.value = parseInt(next);\r\n                    } else {\r\n                        result.value = '?';\r\n                    }\r\n                } else {\r\n                    result = new Token('literal', '#');\r\n                }\r\n            }\r\n            // result = new Token(this.get());\r\n            // if (!this.end()) {\r\n            //     const next = this.get();\r\n            //     if (next >= '0' && next <= '9') {\r\n            //         result.value = parseInt(next);\r\n            //     } else {\r\n            //         result.value = next;\r\n            //     }\r\n            // }\r\n        } else if (this.peek() === '~') {\r\n            // Spacing\r\n            this.get();\r\n            result = new Token('command', 'space');\r\n        } else if (this.peek() === '$') {\r\n            // Mode switch\r\n            this.get();\r\n            if (this.peek() === '$') {\r\n                // $$\r\n                this.get();\r\n                result = new Token('$$');\r\n            } else {\r\n                // $\r\n                result = new Token('$');\r\n            }\r\n        } else {\r\n            result = new Token('literal', this.get());\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Create Tokens from a stream of LaTeX\r\n *\r\n * @param {string} s - A string o LaTeX. It can include comments (with the `%`\r\n * marker) and multiple lines.\r\n * @return {Token[]}\r\n * @memberof module:core/lexer\r\n * @private\r\n */\r\nfunction tokenize(s) {\r\n    const result = [];\r\n    const lines = s.toString().split(/\\r?\\n/);\r\n    let stream =  '';\r\n    let sep = '';\r\n    for (const line of lines) {\r\n        stream += sep;\r\n        sep = ' ';\r\n        // Remove everything after a % (comment marker)\r\n        // (but \\% should be preserved...)\r\n        const m = line.match(/((?:\\\\%)|[^%])*/);\r\n        if (m) stream += m[0];\r\n    }\r\n\r\n    const lex = new Lexer(stream);\r\n    while (!lex.end()) {\r\n        const token = lex.makeToken();\r\n        if (token) result.push(token);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default {\r\n    tokenize\r\n}\r\n","\r\n\r\nexport default {\r\n    'AMS-Regular': {\r\n        '65': [0, 0.68889, 0, 0],\r\n        '66': [0, 0.68889, 0, 0],\r\n        '67': [0, 0.68889, 0, 0],\r\n        '68': [0, 0.68889, 0, 0],\r\n        '69': [0, 0.68889, 0, 0],\r\n        '70': [0, 0.68889, 0, 0],\r\n        '71': [0, 0.68889, 0, 0],\r\n        '72': [0, 0.68889, 0, 0],\r\n        '73': [0, 0.68889, 0, 0],\r\n        '74': [0.16667, 0.68889, 0, 0],\r\n        '75': [0, 0.68889, 0, 0],\r\n        '76': [0, 0.68889, 0, 0],\r\n        '77': [0, 0.68889, 0, 0],\r\n        '78': [0, 0.68889, 0, 0],\r\n        '79': [0.16667, 0.68889, 0, 0],\r\n        '80': [0, 0.68889, 0, 0],\r\n        '81': [0.16667, 0.68889, 0, 0],\r\n        '82': [0, 0.68889, 0, 0],\r\n        '83': [0, 0.68889, 0, 0],\r\n        '84': [0, 0.68889, 0, 0],\r\n        '85': [0, 0.68889, 0, 0],\r\n        '86': [0, 0.68889, 0, 0],\r\n        '87': [0, 0.68889, 0, 0],\r\n        '88': [0, 0.68889, 0, 0],\r\n        '89': [0, 0.68889, 0, 0],\r\n        '90': [0, 0.68889, 0, 0],\r\n        '107': [0, 0.68889, 0, 0],\r\n        '165': [0, 0.675, 0.025, 0],\r\n        '174': [0.15559, 0.69224, 0, 0],\r\n        '240': [0, 0.68889, 0, 0],\r\n        '295': [0, 0.68889, 0, 0],\r\n        '710': [0, 0.825, 0, 0],\r\n        '732': [0, 0.9, 0, 0],\r\n        '770': [0, 0.825, 0, 0],\r\n        '771': [0, 0.9, 0, 0],\r\n        '989': [0.08167, 0.58167, 0, 0],\r\n        '1008': [0, 0.43056, 0.04028, 0],\r\n        '8245': [0, 0.54986, 0, 0],\r\n        '8463': [0, 0.68889, 0, 0],\r\n        '8487': [0, 0.68889, 0, 0],\r\n        '8498': [0, 0.68889, 0, 0],\r\n        '8502': [0, 0.68889, 0, 0],\r\n        '8503': [0, 0.68889, 0, 0],\r\n        '8504': [0, 0.68889, 0, 0],\r\n        '8513': [0, 0.68889, 0, 0],\r\n        '8592': [-0.03598, 0.46402, 0, 0],\r\n        '8594': [-0.03598, 0.46402, 0, 0],\r\n        '8602': [-0.13313, 0.36687, 0, 0],\r\n        '8603': [-0.13313, 0.36687, 0, 0],\r\n        '8606': [0.01354, 0.52239, 0, 0],\r\n        '8608': [0.01354, 0.52239, 0, 0],\r\n        '8610': [0.01354, 0.52239, 0, 0],\r\n        '8611': [0.01354, 0.52239, 0, 0],\r\n        '8619': [0, 0.54986, 0, 0],\r\n        '8620': [0, 0.54986, 0, 0],\r\n        '8621': [-0.13313, 0.37788, 0, 0],\r\n        '8622': [-0.13313, 0.36687, 0, 0],\r\n        '8624': [0, 0.69224, 0, 0],\r\n        '8625': [0, 0.69224, 0, 0],\r\n        '8630': [0, 0.43056, 0, 0],\r\n        '8631': [0, 0.43056, 0, 0],\r\n        '8634': [0.08198, 0.58198, 0, 0],\r\n        '8635': [0.08198, 0.58198, 0, 0],\r\n        '8638': [0.19444, 0.69224, 0, 0],\r\n        '8639': [0.19444, 0.69224, 0, 0],\r\n        '8642': [0.19444, 0.69224, 0, 0],\r\n        '8643': [0.19444, 0.69224, 0, 0],\r\n        '8644': [0.1808, 0.675, 0, 0],\r\n        '8646': [0.1808, 0.675, 0, 0],\r\n        '8647': [0.1808, 0.675, 0, 0],\r\n        '8648': [0.19444, 0.69224, 0, 0],\r\n        '8649': [0.1808, 0.675, 0, 0],\r\n        '8650': [0.19444, 0.69224, 0, 0],\r\n        '8651': [0.01354, 0.52239, 0, 0],\r\n        '8652': [0.01354, 0.52239, 0, 0],\r\n        '8653': [-0.13313, 0.36687, 0, 0],\r\n        '8654': [-0.13313, 0.36687, 0, 0],\r\n        '8655': [-0.13313, 0.36687, 0, 0],\r\n        '8666': [0.13667, 0.63667, 0, 0],\r\n        '8667': [0.13667, 0.63667, 0, 0],\r\n        '8669': [-0.13313, 0.37788, 0, 0],\r\n        '8672': [-0.064, 0.437, 0, 0],\r\n        '8674': [-0.064, 0.437, 0, 0],\r\n        '8705': [0, 0.825, 0, 0],\r\n        '8708': [0, 0.68889, 0, 0],\r\n        '8709': [0.08167, 0.58167, 0, 0],\r\n        '8717': [0, 0.43056, 0, 0],\r\n        '8722': [-0.03598, 0.46402, 0, 0],\r\n        '8724': [0.08198, 0.69224, 0, 0],\r\n        '8726': [0.08167, 0.58167, 0, 0],\r\n        '8733': [0, 0.69224, 0, 0],\r\n        '8736': [0, 0.69224, 0, 0],\r\n        '8737': [0, 0.69224, 0, 0],\r\n        '8738': [0.03517, 0.52239, 0, 0],\r\n        '8739': [0.08167, 0.58167, 0, 0],\r\n        '8740': [0.25142, 0.74111, 0, 0],\r\n        '8741': [0.08167, 0.58167, 0, 0],\r\n        '8742': [0.25142, 0.74111, 0, 0],\r\n        '8756': [0, 0.69224, 0, 0],\r\n        '8757': [0, 0.69224, 0, 0],\r\n        '8764': [-0.13313, 0.36687, 0, 0],\r\n        '8765': [-0.13313, 0.37788, 0, 0],\r\n        '8769': [-0.13313, 0.36687, 0, 0],\r\n        '8770': [-0.03625, 0.46375, 0, 0],\r\n        '8774': [0.30274, 0.79383, 0, 0],\r\n        '8776': [-0.01688, 0.48312, 0, 0],\r\n        '8778': [0.08167, 0.58167, 0, 0],\r\n        '8782': [0.06062, 0.54986, 0, 0],\r\n        '8783': [0.06062, 0.54986, 0, 0],\r\n        '8785': [0.08198, 0.58198, 0, 0],\r\n        '8786': [0.08198, 0.58198, 0, 0],\r\n        '8787': [0.08198, 0.58198, 0, 0],\r\n        '8790': [0, 0.69224, 0, 0],\r\n        '8791': [0.22958, 0.72958, 0, 0],\r\n        '8796': [0.08198, 0.91667, 0, 0],\r\n        '8806': [0.25583, 0.75583, 0, 0],\r\n        '8807': [0.25583, 0.75583, 0, 0],\r\n        '8808': [0.25142, 0.75726, 0, 0],\r\n        '8809': [0.25142, 0.75726, 0, 0],\r\n        '8812': [0.25583, 0.75583, 0, 0],\r\n        '8814': [0.20576, 0.70576, 0, 0],\r\n        '8815': [0.20576, 0.70576, 0, 0],\r\n        '8816': [0.30274, 0.79383, 0, 0],\r\n        '8817': [0.30274, 0.79383, 0, 0],\r\n        '8818': [0.22958, 0.72958, 0, 0],\r\n        '8819': [0.22958, 0.72958, 0, 0],\r\n        '8822': [0.1808, 0.675, 0, 0],\r\n        '8823': [0.1808, 0.675, 0, 0],\r\n        '8828': [0.13667, 0.63667, 0, 0],\r\n        '8829': [0.13667, 0.63667, 0, 0],\r\n        '8830': [0.22958, 0.72958, 0, 0],\r\n        '8831': [0.22958, 0.72958, 0, 0],\r\n        '8832': [0.20576, 0.70576, 0, 0],\r\n        '8833': [0.20576, 0.70576, 0, 0],\r\n        '8840': [0.30274, 0.79383, 0, 0],\r\n        '8841': [0.30274, 0.79383, 0, 0],\r\n        '8842': [0.13597, 0.63597, 0, 0],\r\n        '8843': [0.13597, 0.63597, 0, 0],\r\n        '8847': [0.03517, 0.54986, 0, 0],\r\n        '8848': [0.03517, 0.54986, 0, 0],\r\n        '8858': [0.08198, 0.58198, 0, 0],\r\n        '8859': [0.08198, 0.58198, 0, 0],\r\n        '8861': [0.08198, 0.58198, 0, 0],\r\n        '8862': [0, 0.675, 0, 0],\r\n        '8863': [0, 0.675, 0, 0],\r\n        '8864': [0, 0.675, 0, 0],\r\n        '8865': [0, 0.675, 0, 0],\r\n        '8872': [0, 0.69224, 0, 0],\r\n        '8873': [0, 0.69224, 0, 0],\r\n        '8874': [0, 0.69224, 0, 0],\r\n        '8876': [0, 0.68889, 0, 0],\r\n        '8877': [0, 0.68889, 0, 0],\r\n        '8878': [0, 0.68889, 0, 0],\r\n        '8879': [0, 0.68889, 0, 0],\r\n        '8882': [0.03517, 0.54986, 0, 0],\r\n        '8883': [0.03517, 0.54986, 0, 0],\r\n        '8884': [0.13667, 0.63667, 0, 0],\r\n        '8885': [0.13667, 0.63667, 0, 0],\r\n        '8888': [0, 0.54986, 0, 0],\r\n        '8890': [0.19444, 0.43056, 0, 0],\r\n        '8891': [0.19444, 0.69224, 0, 0],\r\n        '8892': [0.19444, 0.69224, 0, 0],\r\n        '8901': [0, 0.54986, 0, 0],\r\n        '8903': [0.08167, 0.58167, 0, 0],\r\n        '8905': [0.08167, 0.58167, 0, 0],\r\n        '8906': [0.08167, 0.58167, 0, 0],\r\n        '8907': [0, 0.69224, 0, 0],\r\n        '8908': [0, 0.69224, 0, 0],\r\n        '8909': [-0.03598, 0.46402, 0, 0],\r\n        '8910': [0, 0.54986, 0, 0],\r\n        '8911': [0, 0.54986, 0, 0],\r\n        '8912': [0.03517, 0.54986, 0, 0],\r\n        '8913': [0.03517, 0.54986, 0, 0],\r\n        '8914': [0, 0.54986, 0, 0],\r\n        '8915': [0, 0.54986, 0, 0],\r\n        '8916': [0, 0.69224, 0, 0],\r\n        '8918': [0.0391, 0.5391, 0, 0],\r\n        '8919': [0.0391, 0.5391, 0, 0],\r\n        '8920': [0.03517, 0.54986, 0, 0],\r\n        '8921': [0.03517, 0.54986, 0, 0],\r\n        '8922': [0.38569, 0.88569, 0, 0],\r\n        '8923': [0.38569, 0.88569, 0, 0],\r\n        '8926': [0.13667, 0.63667, 0, 0],\r\n        '8927': [0.13667, 0.63667, 0, 0],\r\n        '8928': [0.30274, 0.79383, 0, 0],\r\n        '8929': [0.30274, 0.79383, 0, 0],\r\n        '8934': [0.23222, 0.74111, 0, 0],\r\n        '8935': [0.23222, 0.74111, 0, 0],\r\n        '8936': [0.23222, 0.74111, 0, 0],\r\n        '8937': [0.23222, 0.74111, 0, 0],\r\n        '8938': [0.20576, 0.70576, 0, 0],\r\n        '8939': [0.20576, 0.70576, 0, 0],\r\n        '8940': [0.30274, 0.79383, 0, 0],\r\n        '8941': [0.30274, 0.79383, 0, 0],\r\n        '8994': [0.19444, 0.69224, 0, 0],\r\n        '8995': [0.19444, 0.69224, 0, 0],\r\n        '9416': [0.15559, 0.69224, 0, 0],\r\n        '9484': [0, 0.69224, 0, 0],\r\n        '9488': [0, 0.69224, 0, 0],\r\n        '9492': [0, 0.37788, 0, 0],\r\n        '9496': [0, 0.37788, 0, 0],\r\n        '9585': [0.19444, 0.68889, 0, 0],\r\n        '9586': [0.19444, 0.74111, 0, 0],\r\n        '9632': [0, 0.675, 0, 0],\r\n        '9633': [0, 0.675, 0, 0],\r\n        '9650': [0, 0.54986, 0, 0],\r\n        '9651': [0, 0.54986, 0, 0],\r\n        '9654': [0.03517, 0.54986, 0, 0],\r\n        '9660': [0, 0.54986, 0, 0],\r\n        '9661': [0, 0.54986, 0, 0],\r\n        '9664': [0.03517, 0.54986, 0, 0],\r\n        '9674': [0.11111, 0.69224, 0, 0],\r\n        '9733': [0.19444, 0.69224, 0, 0],\r\n        '10003': [0, 0.69224, 0, 0],\r\n        '10016': [0, 0.69224, 0, 0],\r\n        '10731': [0.11111, 0.69224, 0, 0],\r\n        '10846': [0.19444, 0.75583, 0, 0],\r\n        '10877': [0.13667, 0.63667, 0, 0],\r\n        '10878': [0.13667, 0.63667, 0, 0],\r\n        '10885': [0.25583, 0.75583, 0, 0],\r\n        '10886': [0.25583, 0.75583, 0, 0],\r\n        '10887': [0.13597, 0.63597, 0, 0],\r\n        '10888': [0.13597, 0.63597, 0, 0],\r\n        '10889': [0.26167, 0.75726, 0, 0],\r\n        '10890': [0.26167, 0.75726, 0, 0],\r\n        '10891': [0.48256, 0.98256, 0, 0],\r\n        '10892': [0.48256, 0.98256, 0, 0],\r\n        '10901': [0.13667, 0.63667, 0, 0],\r\n        '10902': [0.13667, 0.63667, 0, 0],\r\n        '10933': [0.25142, 0.75726, 0, 0],\r\n        '10934': [0.25142, 0.75726, 0, 0],\r\n        '10935': [0.26167, 0.75726, 0, 0],\r\n        '10936': [0.26167, 0.75726, 0, 0],\r\n        '10937': [0.26167, 0.75726, 0, 0],\r\n        '10938': [0.26167, 0.75726, 0, 0],\r\n        '10949': [0.25583, 0.75583, 0, 0],\r\n        '10950': [0.25583, 0.75583, 0, 0],\r\n        '10955': [0.28481, 0.79383, 0, 0],\r\n        '10956': [0.28481, 0.79383, 0, 0],\r\n        '57350': [0.08167, 0.58167, 0, 0],\r\n        '57351': [0.08167, 0.58167, 0, 0],\r\n        '57352': [0.08167, 0.58167, 0, 0],\r\n        '57353': [0, 0.43056, 0.04028, 0],\r\n        '57356': [0.25142, 0.75726, 0, 0],\r\n        '57357': [0.25142, 0.75726, 0, 0],\r\n        '57358': [0.41951, 0.91951, 0, 0],\r\n        '57359': [0.30274, 0.79383, 0, 0],\r\n        '57360': [0.30274, 0.79383, 0, 0],\r\n        '57361': [0.41951, 0.91951, 0, 0],\r\n        '57366': [0.25142, 0.75726, 0, 0],\r\n        '57367': [0.25142, 0.75726, 0, 0],\r\n        '57368': [0.25142, 0.75726, 0, 0],\r\n        '57369': [0.25142, 0.75726, 0, 0],\r\n        '57370': [0.13597, 0.63597, 0, 0],\r\n        '57371': [0.13597, 0.63597, 0, 0]\r\n    },\r\n    'Caligraphic-Regular': {\r\n        '48': [0, 0.43056, 0, 0],\r\n        '49': [0, 0.43056, 0, 0],\r\n        '50': [0, 0.43056, 0, 0],\r\n        '51': [0.19444, 0.43056, 0, 0],\r\n        '52': [0.19444, 0.43056, 0, 0],\r\n        '53': [0.19444, 0.43056, 0, 0],\r\n        '54': [0, 0.64444, 0, 0],\r\n        '55': [0.19444, 0.43056, 0, 0],\r\n        '56': [0, 0.64444, 0, 0],\r\n        '57': [0.19444, 0.43056, 0, 0],\r\n        '65': [0, 0.68333, 0, 0.19445],\r\n        '66': [0, 0.68333, 0.03041, 0.13889],\r\n        '67': [0, 0.68333, 0.05834, 0.13889],\r\n        '68': [0, 0.68333, 0.02778, 0.08334],\r\n        '69': [0, 0.68333, 0.08944, 0.11111],\r\n        '70': [0, 0.68333, 0.09931, 0.11111],\r\n        '71': [0.09722, 0.68333, 0.0593, 0.11111],\r\n        '72': [0, 0.68333, 0.00965, 0.11111],\r\n        '73': [0, 0.68333, 0.07382, 0],\r\n        '74': [0.09722, 0.68333, 0.18472, 0.16667],\r\n        '75': [0, 0.68333, 0.01445, 0.05556],\r\n        '76': [0, 0.68333, 0, 0.13889],\r\n        '77': [0, 0.68333, 0, 0.13889],\r\n        '78': [0, 0.68333, 0.14736, 0.08334],\r\n        '79': [0, 0.68333, 0.02778, 0.11111],\r\n        '80': [0, 0.68333, 0.08222, 0.08334],\r\n        '81': [0.09722, 0.68333, 0, 0.11111],\r\n        '82': [0, 0.68333, 0, 0.08334],\r\n        '83': [0, 0.68333, 0.075, 0.13889],\r\n        '84': [0, 0.68333, 0.25417, 0],\r\n        '85': [0, 0.68333, 0.09931, 0.08334],\r\n        '86': [0, 0.68333, 0.08222, 0],\r\n        '87': [0, 0.68333, 0.08222, 0.08334],\r\n        '88': [0, 0.68333, 0.14643, 0.13889],\r\n        '89': [0.09722, 0.68333, 0.08222, 0.08334],\r\n        '90': [0, 0.68333, 0.07944, 0.13889]\r\n    },\r\n    'Fraktur-Regular': {\r\n        '33': [0, 0.69141, 0, 0],\r\n        '34': [0, 0.69141, 0, 0],\r\n        '38': [0, 0.69141, 0, 0],\r\n        '39': [0, 0.69141, 0, 0],\r\n        '40': [0.24982, 0.74947, 0, 0],\r\n        '41': [0.24982, 0.74947, 0, 0],\r\n        '42': [0, 0.62119, 0, 0],\r\n        '43': [0.08319, 0.58283, 0, 0],\r\n        '44': [0, 0.10803, 0, 0],\r\n        '45': [0.08319, 0.58283, 0, 0],\r\n        '46': [0, 0.10803, 0, 0],\r\n        '47': [0.24982, 0.74947, 0, 0],\r\n        '48': [0, 0.47534, 0, 0],\r\n        '49': [0, 0.47534, 0, 0],\r\n        '50': [0, 0.47534, 0, 0],\r\n        '51': [0.18906, 0.47534, 0, 0],\r\n        '52': [0.18906, 0.47534, 0, 0],\r\n        '53': [0.18906, 0.47534, 0, 0],\r\n        '54': [0, 0.69141, 0, 0],\r\n        '55': [0.18906, 0.47534, 0, 0],\r\n        '56': [0, 0.69141, 0, 0],\r\n        '57': [0.18906, 0.47534, 0, 0],\r\n        '58': [0, 0.47534, 0, 0],\r\n        '59': [0.12604, 0.47534, 0, 0],\r\n        '61': [-0.13099, 0.36866, 0, 0],\r\n        '63': [0, 0.69141, 0, 0],\r\n        '65': [0, 0.69141, 0, 0],\r\n        '66': [0, 0.69141, 0, 0],\r\n        '67': [0, 0.69141, 0, 0],\r\n        '68': [0, 0.69141, 0, 0],\r\n        '69': [0, 0.69141, 0, 0],\r\n        '70': [0.12604, 0.69141, 0, 0],\r\n        '71': [0, 0.69141, 0, 0],\r\n        '72': [0.06302, 0.69141, 0, 0],\r\n        '73': [0, 0.69141, 0, 0],\r\n        '74': [0.12604, 0.69141, 0, 0],\r\n        '75': [0, 0.69141, 0, 0],\r\n        '76': [0, 0.69141, 0, 0],\r\n        '77': [0, 0.69141, 0, 0],\r\n        '78': [0, 0.69141, 0, 0],\r\n        '79': [0, 0.69141, 0, 0],\r\n        '80': [0.18906, 0.69141, 0, 0],\r\n        '81': [0.03781, 0.69141, 0, 0],\r\n        '82': [0, 0.69141, 0, 0],\r\n        '83': [0, 0.69141, 0, 0],\r\n        '84': [0, 0.69141, 0, 0],\r\n        '85': [0, 0.69141, 0, 0],\r\n        '86': [0, 0.69141, 0, 0],\r\n        '87': [0, 0.69141, 0, 0],\r\n        '88': [0, 0.69141, 0, 0],\r\n        '89': [0.18906, 0.69141, 0, 0],\r\n        '90': [0.12604, 0.69141, 0, 0],\r\n        '91': [0.24982, 0.74947, 0, 0],\r\n        '93': [0.24982, 0.74947, 0, 0],\r\n        '94': [0, 0.69141, 0, 0],\r\n        '97': [0, 0.47534, 0, 0],\r\n        '98': [0, 0.69141, 0, 0],\r\n        '99': [0, 0.47534, 0, 0],\r\n        '100': [0, 0.62119, 0, 0],\r\n        '101': [0, 0.47534, 0, 0],\r\n        '102': [0.18906, 0.69141, 0, 0],\r\n        '103': [0.18906, 0.47534, 0, 0],\r\n        '104': [0.18906, 0.69141, 0, 0],\r\n        '105': [0, 0.69141, 0, 0],\r\n        '106': [0, 0.69141, 0, 0],\r\n        '107': [0, 0.69141, 0, 0],\r\n        '108': [0, 0.69141, 0, 0],\r\n        '109': [0, 0.47534, 0, 0],\r\n        '110': [0, 0.47534, 0, 0],\r\n        '111': [0, 0.47534, 0, 0],\r\n        '112': [0.18906, 0.52396, 0, 0],\r\n        '113': [0.18906, 0.47534, 0, 0],\r\n        '114': [0, 0.47534, 0, 0],\r\n        '115': [0, 0.47534, 0, 0],\r\n        '116': [0, 0.62119, 0, 0],\r\n        '117': [0, 0.47534, 0, 0],\r\n        '118': [0, 0.52396, 0, 0],\r\n        '119': [0, 0.52396, 0, 0],\r\n        '120': [0.18906, 0.47534, 0, 0],\r\n        '121': [0.18906, 0.47534, 0, 0],\r\n        '122': [0.18906, 0.47534, 0, 0],\r\n        '8216': [0, 0.69141, 0, 0],\r\n        '8217': [0, 0.69141, 0, 0],\r\n        '58112': [0, 0.62119, 0, 0],\r\n        '58113': [0, 0.62119, 0, 0],\r\n        '58114': [0.18906, 0.69141, 0, 0],\r\n        '58115': [0.18906, 0.69141, 0, 0],\r\n        '58116': [0.18906, 0.47534, 0, 0],\r\n        '58117': [0, 0.69141, 0, 0],\r\n        '58118': [0, 0.62119, 0, 0],\r\n        '58119': [0, 0.47534, 0, 0]\r\n    },\r\n    'Main-Bold': {\r\n        '33': [0, 0.69444, 0, 0],\r\n        '34': [0, 0.69444, 0, 0],\r\n        '35': [0.19444, 0.69444, 0, 0],\r\n        '36': [0.05556, 0.75, 0, 0],\r\n        '37': [0.05556, 0.75, 0, 0],\r\n        '38': [0, 0.69444, 0, 0],\r\n        '39': [0, 0.69444, 0, 0],\r\n        '40': [0.25, 0.75, 0, 0],\r\n        '41': [0.25, 0.75, 0, 0],\r\n        '42': [0, 0.75, 0, 0],\r\n        '43': [0.13333, 0.63333, 0, 0],\r\n        '44': [0.19444, 0.15556, 0, 0],\r\n        '45': [0, 0.44444, 0, 0],\r\n        '46': [0, 0.15556, 0, 0],\r\n        '47': [0.25, 0.75, 0, 0],\r\n        '48': [0, 0.64444, 0, 0],\r\n        '49': [0, 0.64444, 0, 0],\r\n        '50': [0, 0.64444, 0, 0],\r\n        '51': [0, 0.64444, 0, 0],\r\n        '52': [0, 0.64444, 0, 0],\r\n        '53': [0, 0.64444, 0, 0],\r\n        '54': [0, 0.64444, 0, 0],\r\n        '55': [0, 0.64444, 0, 0],\r\n        '56': [0, 0.64444, 0, 0],\r\n        '57': [0, 0.64444, 0, 0],\r\n        '58': [0, 0.44444, 0, 0],\r\n        '59': [0.19444, 0.44444, 0, 0],\r\n        '60': [0.08556, 0.58556, 0, 0],\r\n        '61': [-0.10889, 0.39111, 0, 0],\r\n        '62': [0.08556, 0.58556, 0, 0],\r\n        '63': [0, 0.69444, 0, 0],\r\n        '64': [0, 0.69444, 0, 0],\r\n        '65': [0, 0.68611, 0, 0],\r\n        '66': [0, 0.68611, 0, 0],\r\n        '67': [0, 0.68611, 0, 0],\r\n        '68': [0, 0.68611, 0, 0],\r\n        '69': [0, 0.68611, 0, 0],\r\n        '70': [0, 0.68611, 0, 0],\r\n        '71': [0, 0.68611, 0, 0],\r\n        '72': [0, 0.68611, 0, 0],\r\n        '73': [0, 0.68611, 0, 0],\r\n        '74': [0, 0.68611, 0, 0],\r\n        '75': [0, 0.68611, 0, 0],\r\n        '76': [0, 0.68611, 0, 0],\r\n        '77': [0, 0.68611, 0, 0],\r\n        '78': [0, 0.68611, 0, 0],\r\n        '79': [0, 0.68611, 0, 0],\r\n        '80': [0, 0.68611, 0, 0],\r\n        '81': [0.19444, 0.68611, 0, 0],\r\n        '82': [0, 0.68611, 0, 0],\r\n        '83': [0, 0.68611, 0, 0],\r\n        '84': [0, 0.68611, 0, 0],\r\n        '85': [0, 0.68611, 0, 0],\r\n        '86': [0, 0.68611, 0.01597, 0],\r\n        '87': [0, 0.68611, 0.01597, 0],\r\n        '88': [0, 0.68611, 0, 0],\r\n        '89': [0, 0.68611, 0.02875, 0],\r\n        '90': [0, 0.68611, 0, 0],\r\n        '91': [0.25, 0.75, 0, 0],\r\n        '92': [0.25, 0.75, 0, 0],\r\n        '93': [0.25, 0.75, 0, 0],\r\n        '94': [0, 0.69444, 0, 0],\r\n        '95': [0.31, 0.13444, 0.03194, 0],\r\n        '96': [0, 0.69444, 0, 0],\r\n        '97': [0, 0.44444, 0, 0],\r\n        '98': [0, 0.69444, 0, 0],\r\n        '99': [0, 0.44444, 0, 0],\r\n        '100': [0, 0.69444, 0, 0],\r\n        '101': [0, 0.44444, 0, 0],\r\n        '102': [0, 0.69444, 0.10903, 0],\r\n        '103': [0.19444, 0.44444, 0.01597, 0],\r\n        '104': [0, 0.69444, 0, 0],\r\n        '105': [0, 0.69444, 0, 0],\r\n        '106': [0.19444, 0.69444, 0, 0],\r\n        '107': [0, 0.69444, 0, 0],\r\n        '108': [0, 0.69444, 0, 0],\r\n        '109': [0, 0.44444, 0, 0],\r\n        '110': [0, 0.44444, 0, 0],\r\n        '111': [0, 0.44444, 0, 0],\r\n        '112': [0.19444, 0.44444, 0, 0],\r\n        '113': [0.19444, 0.44444, 0, 0],\r\n        '114': [0, 0.44444, 0, 0],\r\n        '115': [0, 0.44444, 0, 0],\r\n        '116': [0, 0.63492, 0, 0],\r\n        '117': [0, 0.44444, 0, 0],\r\n        '118': [0, 0.44444, 0.01597, 0],\r\n        '119': [0, 0.44444, 0.01597, 0],\r\n        '120': [0, 0.44444, 0, 0],\r\n        '121': [0.19444, 0.44444, 0.01597, 0],\r\n        '122': [0, 0.44444, 0, 0],\r\n        '123': [0.25, 0.75, 0, 0],\r\n        '124': [0.25, 0.75, 0, 0],\r\n        '125': [0.25, 0.75, 0, 0],\r\n        '126': [0.35, 0.34444, 0, 0],\r\n        '168': [0, 0.69444, 0, 0],\r\n        '172': [0, 0.44444, 0, 0],\r\n        '175': [0, 0.59611, 0, 0],\r\n        '176': [0, 0.69444, 0, 0],\r\n        '177': [0.13333, 0.63333, 0, 0],\r\n        '180': [0, 0.69444, 0, 0],\r\n        '215': [0.13333, 0.63333, 0, 0],\r\n        '247': [0.13333, 0.63333, 0, 0],\r\n        '305': [0, 0.44444, 0, 0],\r\n        '567': [0.19444, 0.44444, 0, 0],\r\n        '710': [0, 0.69444, 0, 0],\r\n        '711': [0, 0.63194, 0, 0],\r\n        '713': [0, 0.59611, 0, 0],\r\n        '714': [0, 0.69444, 0, 0],\r\n        '715': [0, 0.69444, 0, 0],\r\n        '728': [0, 0.69444, 0, 0],\r\n        '729': [0, 0.69444, 0, 0],\r\n        '730': [0, 0.69444, 0, 0],\r\n        '732': [0, 0.69444, 0, 0],\r\n        '768': [0, 0.69444, 0, 0],\r\n        '769': [0, 0.69444, 0, 0],\r\n        '770': [0, 0.69444, 0, 0],\r\n        '771': [0, 0.69444, 0, 0],\r\n        '772': [0, 0.59611, 0, 0],\r\n        '774': [0, 0.69444, 0, 0],\r\n        '775': [0, 0.69444, 0, 0],\r\n        '776': [0, 0.69444, 0, 0],\r\n        '778': [0, 0.69444, 0, 0],\r\n        '779': [0, 0.69444, 0, 0],\r\n        '780': [0, 0.63194, 0, 0],\r\n        '824': [0.19444, 0.69444, 0, 0],\r\n        '915': [0, 0.68611, 0, 0],\r\n        '916': [0, 0.68611, 0, 0],\r\n        '920': [0, 0.68611, 0, 0],\r\n        '923': [0, 0.68611, 0, 0],\r\n        '926': [0, 0.68611, 0, 0],\r\n        '928': [0, 0.68611, 0, 0],\r\n        '931': [0, 0.68611, 0, 0],\r\n        '933': [0, 0.68611, 0, 0],\r\n        '934': [0, 0.68611, 0, 0],\r\n        '936': [0, 0.68611, 0, 0],\r\n        '937': [0, 0.68611, 0, 0],\r\n        '8211': [0, 0.44444, 0.03194, 0],\r\n        '8212': [0, 0.44444, 0.03194, 0],\r\n        '8216': [0, 0.69444, 0, 0],\r\n        '8217': [0, 0.69444, 0, 0],\r\n        '8220': [0, 0.69444, 0, 0],\r\n        '8221': [0, 0.69444, 0, 0],\r\n        '8224': [0.19444, 0.69444, 0, 0],\r\n        '8225': [0.19444, 0.69444, 0, 0],\r\n        '8242': [0, 0.55556, 0, 0],\r\n        '8407': [0, 0.72444, 0.15486, 0],\r\n        '8463': [0, 0.69444, 0, 0],\r\n        '8465': [0, 0.69444, 0, 0],\r\n        '8467': [0, 0.69444, 0, 0],\r\n        '8472': [0.19444, 0.44444, 0, 0],\r\n        '8476': [0, 0.69444, 0, 0],\r\n        '8501': [0, 0.69444, 0, 0],\r\n        '8592': [-0.10889, 0.39111, 0, 0],\r\n        '8593': [0.19444, 0.69444, 0, 0],\r\n        '8594': [-0.10889, 0.39111, 0, 0],\r\n        '8595': [0.19444, 0.69444, 0, 0],\r\n        '8596': [-0.10889, 0.39111, 0, 0],\r\n        '8597': [0.25, 0.75, 0, 0],\r\n        '8598': [0.19444, 0.69444, 0, 0],\r\n        '8599': [0.19444, 0.69444, 0, 0],\r\n        '8600': [0.19444, 0.69444, 0, 0],\r\n        '8601': [0.19444, 0.69444, 0, 0],\r\n        '8636': [-0.10889, 0.39111, 0, 0],\r\n        '8637': [-0.10889, 0.39111, 0, 0],\r\n        '8640': [-0.10889, 0.39111, 0, 0],\r\n        '8641': [-0.10889, 0.39111, 0, 0],\r\n        '8656': [-0.10889, 0.39111, 0, 0],\r\n        '8657': [0.19444, 0.69444, 0, 0],\r\n        '8658': [-0.10889, 0.39111, 0, 0],\r\n        '8659': [0.19444, 0.69444, 0, 0],\r\n        '8660': [-0.10889, 0.39111, 0, 0],\r\n        '8661': [0.25, 0.75, 0, 0],\r\n        '8704': [0, 0.69444, 0, 0],\r\n        '8706': [0, 0.69444, 0.06389, 0],\r\n        '8707': [0, 0.69444, 0, 0],\r\n        '8709': [0.05556, 0.75, 0, 0],\r\n        '8711': [0, 0.68611, 0, 0],\r\n        '8712': [0.08556, 0.58556, 0, 0],\r\n        '8715': [0.08556, 0.58556, 0, 0],\r\n        '8722': [0.13333, 0.63333, 0, 0],\r\n        '8723': [0.13333, 0.63333, 0, 0],\r\n        '8725': [0.25, 0.75, 0, 0],\r\n        '8726': [0.25, 0.75, 0, 0],\r\n        '8727': [-0.02778, 0.47222, 0, 0],\r\n        '8728': [-0.02639, 0.47361, 0, 0],\r\n        '8729': [-0.02639, 0.47361, 0, 0],\r\n        '8730': [0.18, 0.82, 0, 0],\r\n        '8733': [0, 0.44444, 0, 0],\r\n        '8734': [0, 0.44444, 0, 0],\r\n        '8736': [0, 0.69224, 0, 0],\r\n        '8739': [0.25, 0.75, 0, 0],\r\n        '8741': [0.25, 0.75, 0, 0],\r\n        '8743': [0, 0.55556, 0, 0],\r\n        '8744': [0, 0.55556, 0, 0],\r\n        '8745': [0, 0.55556, 0, 0],\r\n        '8746': [0, 0.55556, 0, 0],\r\n        '8747': [0.19444, 0.69444, 0.12778, 0],\r\n        '8764': [-0.10889, 0.39111, 0, 0],\r\n        '8768': [0.19444, 0.69444, 0, 0],\r\n        '8771': [0.00222, 0.50222, 0, 0],\r\n        '8776': [0.02444, 0.52444, 0, 0],\r\n        '8781': [0.00222, 0.50222, 0, 0],\r\n        '8801': [0.00222, 0.50222, 0, 0],\r\n        '8804': [0.19667, 0.69667, 0, 0],\r\n        '8805': [0.19667, 0.69667, 0, 0],\r\n        '8810': [0.08556, 0.58556, 0, 0],\r\n        '8811': [0.08556, 0.58556, 0, 0],\r\n        '8826': [0.08556, 0.58556, 0, 0],\r\n        '8827': [0.08556, 0.58556, 0, 0],\r\n        '8834': [0.08556, 0.58556, 0, 0],\r\n        '8835': [0.08556, 0.58556, 0, 0],\r\n        '8838': [0.19667, 0.69667, 0, 0],\r\n        '8839': [0.19667, 0.69667, 0, 0],\r\n        '8846': [0, 0.55556, 0, 0],\r\n        '8849': [0.19667, 0.69667, 0, 0],\r\n        '8850': [0.19667, 0.69667, 0, 0],\r\n        '8851': [0, 0.55556, 0, 0],\r\n        '8852': [0, 0.55556, 0, 0],\r\n        '8853': [0.13333, 0.63333, 0, 0],\r\n        '8854': [0.13333, 0.63333, 0, 0],\r\n        '8855': [0.13333, 0.63333, 0, 0],\r\n        '8856': [0.13333, 0.63333, 0, 0],\r\n        '8857': [0.13333, 0.63333, 0, 0],\r\n        '8866': [0, 0.69444, 0, 0],\r\n        '8867': [0, 0.69444, 0, 0],\r\n        '8868': [0, 0.69444, 0, 0],\r\n        '8869': [0, 0.69444, 0, 0],\r\n        '8900': [-0.02639, 0.47361, 0, 0],\r\n        '8901': [-0.02639, 0.47361, 0, 0],\r\n        '8902': [-0.02778, 0.47222, 0, 0],\r\n        '8968': [0.25, 0.75, 0, 0],\r\n        '8969': [0.25, 0.75, 0, 0],\r\n        '8970': [0.25, 0.75, 0, 0],\r\n        '8971': [0.25, 0.75, 0, 0],\r\n        '8994': [-0.13889, 0.36111, 0, 0],\r\n        '8995': [-0.13889, 0.36111, 0, 0],\r\n        '9651': [0.19444, 0.69444, 0, 0],\r\n        '9657': [-0.02778, 0.47222, 0, 0],\r\n        '9661': [0.19444, 0.69444, 0, 0],\r\n        '9667': [-0.02778, 0.47222, 0, 0],\r\n        '9711': [0.19444, 0.69444, 0, 0],\r\n        '9824': [0.12963, 0.69444, 0, 0],\r\n        '9825': [0.12963, 0.69444, 0, 0],\r\n        '9826': [0.12963, 0.69444, 0, 0],\r\n        '9827': [0.12963, 0.69444, 0, 0],\r\n        '9837': [0, 0.75, 0, 0],\r\n        '9838': [0.19444, 0.69444, 0, 0],\r\n        '9839': [0.19444, 0.69444, 0, 0],\r\n        '10216': [0.25, 0.75, 0, 0],\r\n        '10217': [0.25, 0.75, 0, 0],\r\n        '10815': [0, 0.68611, 0, 0],\r\n        '10927': [0.19667, 0.69667, 0, 0],\r\n        '10928': [0.19667, 0.69667, 0, 0]\r\n    },\r\n    'Main-Italic': {\r\n        '33': [0, 0.69444, 0.12417, 0],\r\n        '34': [0, 0.69444, 0.06961, 0],\r\n        '35': [0.19444, 0.69444, 0.06616, 0],\r\n        '37': [0.05556, 0.75, 0.13639, 0],\r\n        '38': [0, 0.69444, 0.09694, 0],\r\n        '39': [0, 0.69444, 0.12417, 0],\r\n        '40': [0.25, 0.75, 0.16194, 0],\r\n        '41': [0.25, 0.75, 0.03694, 0],\r\n        '42': [0, 0.75, 0.14917, 0],\r\n        '43': [0.05667, 0.56167, 0.03694, 0],\r\n        '44': [0.19444, 0.10556, 0, 0],\r\n        '45': [0, 0.43056, 0.02826, 0],\r\n        '46': [0, 0.10556, 0, 0],\r\n        '47': [0.25, 0.75, 0.16194, 0],\r\n        '48': [0, 0.64444, 0.13556, 0],\r\n        '49': [0, 0.64444, 0.13556, 0],\r\n        '50': [0, 0.64444, 0.13556, 0],\r\n        '51': [0, 0.64444, 0.13556, 0],\r\n        '52': [0.19444, 0.64444, 0.13556, 0],\r\n        '53': [0, 0.64444, 0.13556, 0],\r\n        '54': [0, 0.64444, 0.13556, 0],\r\n        '55': [0.19444, 0.64444, 0.13556, 0],\r\n        '56': [0, 0.64444, 0.13556, 0],\r\n        '57': [0, 0.64444, 0.13556, 0],\r\n        '58': [0, 0.43056, 0.0582, 0],\r\n        '59': [0.19444, 0.43056, 0.0582, 0],\r\n        '61': [-0.13313, 0.36687, 0.06616, 0],\r\n        '63': [0, 0.69444, 0.1225, 0],\r\n        '64': [0, 0.69444, 0.09597, 0],\r\n        '65': [0, 0.68333, 0, 0],\r\n        '66': [0, 0.68333, 0.10257, 0],\r\n        '67': [0, 0.68333, 0.14528, 0],\r\n        '68': [0, 0.68333, 0.09403, 0],\r\n        '69': [0, 0.68333, 0.12028, 0],\r\n        '70': [0, 0.68333, 0.13305, 0],\r\n        '71': [0, 0.68333, 0.08722, 0],\r\n        '72': [0, 0.68333, 0.16389, 0],\r\n        '73': [0, 0.68333, 0.15806, 0],\r\n        '74': [0, 0.68333, 0.14028, 0],\r\n        '75': [0, 0.68333, 0.14528, 0],\r\n        '76': [0, 0.68333, 0, 0],\r\n        '77': [0, 0.68333, 0.16389, 0],\r\n        '78': [0, 0.68333, 0.16389, 0],\r\n        '79': [0, 0.68333, 0.09403, 0],\r\n        '80': [0, 0.68333, 0.10257, 0],\r\n        '81': [0.19444, 0.68333, 0.09403, 0],\r\n        '82': [0, 0.68333, 0.03868, 0],\r\n        '83': [0, 0.68333, 0.11972, 0],\r\n        '84': [0, 0.68333, 0.13305, 0],\r\n        '85': [0, 0.68333, 0.16389, 0],\r\n        '86': [0, 0.68333, 0.18361, 0],\r\n        '87': [0, 0.68333, 0.18361, 0],\r\n        '88': [0, 0.68333, 0.15806, 0],\r\n        '89': [0, 0.68333, 0.19383, 0],\r\n        '90': [0, 0.68333, 0.14528, 0],\r\n        '91': [0.25, 0.75, 0.1875, 0],\r\n        '93': [0.25, 0.75, 0.10528, 0],\r\n        '94': [0, 0.69444, 0.06646, 0],\r\n        '95': [0.31, 0.12056, 0.09208, 0],\r\n        '97': [0, 0.43056, 0.07671, 0],\r\n        '98': [0, 0.69444, 0.06312, 0],\r\n        '99': [0, 0.43056, 0.05653, 0],\r\n        '100': [0, 0.69444, 0.10333, 0],\r\n        '101': [0, 0.43056, 0.07514, 0],\r\n        '102': [0.19444, 0.69444, 0.21194, 0],\r\n        '103': [0.19444, 0.43056, 0.08847, 0],\r\n        '104': [0, 0.69444, 0.07671, 0],\r\n        '105': [0, 0.65536, 0.1019, 0],\r\n        '106': [0.19444, 0.65536, 0.14467, 0],\r\n        '107': [0, 0.69444, 0.10764, 0],\r\n        '108': [0, 0.69444, 0.10333, 0],\r\n        '109': [0, 0.43056, 0.07671, 0],\r\n        '110': [0, 0.43056, 0.07671, 0],\r\n        '111': [0, 0.43056, 0.06312, 0],\r\n        '112': [0.19444, 0.43056, 0.06312, 0],\r\n        '113': [0.19444, 0.43056, 0.08847, 0],\r\n        '114': [0, 0.43056, 0.10764, 0],\r\n        '115': [0, 0.43056, 0.08208, 0],\r\n        '116': [0, 0.61508, 0.09486, 0],\r\n        '117': [0, 0.43056, 0.07671, 0],\r\n        '118': [0, 0.43056, 0.10764, 0],\r\n        '119': [0, 0.43056, 0.10764, 0],\r\n        '120': [0, 0.43056, 0.12042, 0],\r\n        '121': [0.19444, 0.43056, 0.08847, 0],\r\n        '122': [0, 0.43056, 0.12292, 0],\r\n        '126': [0.35, 0.31786, 0.11585, 0],\r\n        '163': [0, 0.69444, 0, 0],\r\n        '305': [0, 0.43056, 0, 0.02778],\r\n        '567': [0.19444, 0.43056, 0, 0.08334],\r\n        '768': [0, 0.69444, 0, 0],\r\n        '769': [0, 0.69444, 0.09694, 0],\r\n        '770': [0, 0.69444, 0.06646, 0],\r\n        '771': [0, 0.66786, 0.11585, 0],\r\n        '772': [0, 0.56167, 0.10333, 0],\r\n        '774': [0, 0.69444, 0.10806, 0],\r\n        '775': [0, 0.66786, 0.11752, 0],\r\n        '776': [0, 0.66786, 0.10474, 0],\r\n        '778': [0, 0.69444, 0, 0],\r\n        '779': [0, 0.69444, 0.1225, 0],\r\n        '780': [0, 0.62847, 0.08295, 0],\r\n        '915': [0, 0.68333, 0.13305, 0],\r\n        '916': [0, 0.68333, 0, 0],\r\n        '920': [0, 0.68333, 0.09403, 0],\r\n        '923': [0, 0.68333, 0, 0],\r\n        '926': [0, 0.68333, 0.15294, 0],\r\n        '928': [0, 0.68333, 0.16389, 0],\r\n        '931': [0, 0.68333, 0.12028, 0],\r\n        '933': [0, 0.68333, 0.11111, 0],\r\n        '934': [0, 0.68333, 0.05986, 0],\r\n        '936': [0, 0.68333, 0.11111, 0],\r\n        '937': [0, 0.68333, 0.10257, 0],\r\n        '8211': [0, 0.43056, 0.09208, 0],\r\n        '8212': [0, 0.43056, 0.09208, 0],\r\n        '8216': [0, 0.69444, 0.12417, 0],\r\n        '8217': [0, 0.69444, 0.12417, 0],\r\n        '8220': [0, 0.69444, 0.1685, 0],\r\n        '8221': [0, 0.69444, 0.06961, 0],\r\n        '8463': [0, 0.68889, 0, 0]\r\n    },\r\n    'Main-Regular': {\r\n        '32': [0, 0, 0, 0],\r\n        '33': [0, 0.69444, 0, 0],\r\n        '34': [0, 0.69444, 0, 0],\r\n        '35': [0.19444, 0.69444, 0, 0],\r\n        '36': [0.05556, 0.75, 0, 0],\r\n        '37': [0.05556, 0.75, 0, 0],\r\n        '38': [0, 0.69444, 0, 0],\r\n        '39': [0, 0.69444, 0, 0],\r\n        '40': [0.25, 0.75, 0, 0],\r\n        '41': [0.25, 0.75, 0, 0],\r\n        '42': [0, 0.75, 0, 0],\r\n        '43': [0.08333, 0.58333, 0, 0],\r\n        '44': [0.19444, 0.10556, 0, 0],\r\n        '45': [0, 0.43056, 0, 0],\r\n        '46': [0, 0.10556, 0, 0],\r\n        '47': [0.25, 0.75, 0, 0],\r\n        '48': [0, 0.64444, 0, 0],\r\n        '49': [0, 0.64444, 0, 0],\r\n        '50': [0, 0.64444, 0, 0],\r\n        '51': [0, 0.64444, 0, 0],\r\n        '52': [0, 0.64444, 0, 0],\r\n        '53': [0, 0.64444, 0, 0],\r\n        '54': [0, 0.64444, 0, 0],\r\n        '55': [0, 0.64444, 0, 0],\r\n        '56': [0, 0.64444, 0, 0],\r\n        '57': [0, 0.64444, 0, 0],\r\n        '58': [0, 0.43056, 0, 0],\r\n        '59': [0.19444, 0.43056, 0, 0],\r\n        '60': [0.0391, 0.5391, 0, 0],\r\n        '61': [-0.13313, 0.36687, 0, 0],\r\n        '62': [0.0391, 0.5391, 0, 0],\r\n        '63': [0, 0.69444, 0, 0],\r\n        '64': [0, 0.69444, 0, 0],\r\n        '65': [0, 0.68333, 0, 0],\r\n        '66': [0, 0.68333, 0, 0],\r\n        '67': [0, 0.68333, 0, 0],\r\n        '68': [0, 0.68333, 0, 0],\r\n        '69': [0, 0.68333, 0, 0],\r\n        '70': [0, 0.68333, 0, 0],\r\n        '71': [0, 0.68333, 0, 0],\r\n        '72': [0, 0.68333, 0, 0],\r\n        '73': [0, 0.68333, 0, 0],\r\n        '74': [0, 0.68333, 0, 0],\r\n        '75': [0, 0.68333, 0, 0],\r\n        '76': [0, 0.68333, 0, 0],\r\n        '77': [0, 0.68333, 0, 0],\r\n        '78': [0, 0.68333, 0, 0],\r\n        '79': [0, 0.68333, 0, 0],\r\n        '80': [0, 0.68333, 0, 0],\r\n        '81': [0.19444, 0.68333, 0, 0],\r\n        '82': [0, 0.68333, 0, 0],\r\n        '83': [0, 0.68333, 0, 0],\r\n        '84': [0, 0.68333, 0, 0],\r\n        '85': [0, 0.68333, 0, 0],\r\n        '86': [0, 0.68333, 0.01389, 0],\r\n        '87': [0, 0.68333, 0.01389, 0],\r\n        '88': [0, 0.68333, 0, 0],\r\n        '89': [0, 0.68333, 0.025, 0],\r\n        '90': [0, 0.68333, 0, 0],\r\n        '91': [0.25, 0.75, 0, 0],\r\n        '92': [0.25, 0.75, 0, 0],\r\n        '93': [0.25, 0.75, 0, 0],\r\n        '94': [0, 0.69444, 0, 0],\r\n        '95': [0.31, 0.12056, 0.02778, 0],\r\n        '96': [0, 0.69444, 0, 0],\r\n        '97': [0, 0.43056, 0, 0],\r\n        '98': [0, 0.69444, 0, 0],\r\n        '99': [0, 0.43056, 0, 0],\r\n        '100': [0, 0.69444, 0, 0],\r\n        '101': [0, 0.43056, 0, 0],\r\n        '102': [0, 0.69444, 0.07778, 0],\r\n        '103': [0.19444, 0.43056, 0.01389, 0],\r\n        '104': [0, 0.69444, 0, 0],\r\n        '105': [0, 0.66786, 0, 0],\r\n        '106': [0.19444, 0.66786, 0, 0],\r\n        '107': [0, 0.69444, 0, 0],\r\n        '108': [0, 0.69444, 0, 0],\r\n        '109': [0, 0.43056, 0, 0],\r\n        '110': [0, 0.43056, 0, 0],\r\n        '111': [0, 0.43056, 0, 0],\r\n        '112': [0.19444, 0.43056, 0, 0],\r\n        '113': [0.19444, 0.43056, 0, 0],\r\n        '114': [0, 0.43056, 0, 0],\r\n        '115': [0, 0.43056, 0, 0],\r\n        '116': [0, 0.61508, 0, 0],\r\n        '117': [0, 0.43056, 0, 0],\r\n        '118': [0, 0.43056, 0.01389, 0],\r\n        '119': [0, 0.43056, 0.01389, 0],\r\n        '120': [0, 0.43056, 0, 0],\r\n        '121': [0.19444, 0.43056, 0.01389, 0],\r\n        '122': [0, 0.43056, 0, 0],\r\n        '123': [0.25, 0.75, 0, 0],\r\n        '124': [0.25, 0.75, 0, 0],\r\n        '125': [0.25, 0.75, 0, 0],\r\n        '126': [0.35, 0.31786, 0, 0],\r\n        '160': [0, 0, 0, 0],\r\n        '168': [0, 0.66786, 0, 0],\r\n        '172': [0, 0.43056, 0, 0],\r\n        '175': [0, 0.56778, 0, 0],\r\n        '176': [0, 0.69444, 0, 0],\r\n        '177': [0.08333, 0.58333, 0, 0],\r\n        '180': [0, 0.69444, 0, 0],\r\n        '215': [0.08333, 0.58333, 0, 0],\r\n        '247': [0.08333, 0.58333, 0, 0],\r\n        '305': [0, 0.43056, 0, 0],\r\n        '567': [0.19444, 0.43056, 0, 0],\r\n        '710': [0, 0.69444, 0, 0],\r\n        '711': [0, 0.62847, 0, 0],\r\n        '713': [0, 0.56778, 0, 0],\r\n        '714': [0, 0.69444, 0, 0],\r\n        '715': [0, 0.69444, 0, 0],\r\n        '728': [0, 0.69444, 0, 0],\r\n        '729': [0, 0.66786, 0, 0],\r\n        '730': [0, 0.69444, 0, 0],\r\n        '732': [0, 0.66786, 0, 0],\r\n        '768': [0, 0.69444, 0, 0],\r\n        '769': [0, 0.69444, 0, 0],\r\n        '770': [0, 0.69444, 0, 0],\r\n        '771': [0, 0.66786, 0, 0],\r\n        '772': [0, 0.56778, 0, 0],\r\n        '774': [0, 0.69444, 0, 0],\r\n        '775': [0, 0.66786, 0, 0],\r\n        '776': [0, 0.66786, 0, 0],\r\n        '778': [0, 0.69444, 0, 0],\r\n        '779': [0, 0.69444, 0, 0],\r\n        '780': [0, 0.62847, 0, 0],\r\n        '824': [0.19444, 0.69444, 0, 0],\r\n        '915': [0, 0.68333, 0, 0],\r\n        '916': [0, 0.68333, 0, 0],\r\n        '920': [0, 0.68333, 0, 0],\r\n        '923': [0, 0.68333, 0, 0],\r\n        '926': [0, 0.68333, 0, 0],\r\n        '928': [0, 0.68333, 0, 0],\r\n        '931': [0, 0.68333, 0, 0],\r\n        '933': [0, 0.68333, 0, 0],\r\n        '934': [0, 0.68333, 0, 0],\r\n        '936': [0, 0.68333, 0, 0],\r\n        '937': [0, 0.68333, 0, 0],\r\n        '8211': [0, 0.43056, 0.02778, 0],\r\n        '8212': [0, 0.43056, 0.02778, 0],\r\n        '8216': [0, 0.69444, 0, 0],\r\n        '8217': [0, 0.69444, 0, 0],\r\n        '8220': [0, 0.69444, 0, 0],\r\n        '8221': [0, 0.69444, 0, 0],\r\n        '8224': [0.19444, 0.69444, 0, 0],\r\n        '8225': [0.19444, 0.69444, 0, 0],\r\n        '8230': [0, 0.12, 0, 0],\r\n        '8242': [0, 0.55556, 0, 0],\r\n        '8407': [0, 0.71444, 0.15382, 0],\r\n        '8463': [0, 0.68889, 0, 0],\r\n        '8465': [0, 0.69444, 0, 0],\r\n        '8467': [0, 0.69444, 0, 0.11111],\r\n        '8472': [0.19444, 0.43056, 0, 0.11111],\r\n        '8476': [0, 0.69444, 0, 0],\r\n        '8501': [0, 0.69444, 0, 0],\r\n        '8592': [-0.13313, 0.36687, 0, 0],\r\n        '8593': [0.19444, 0.69444, 0, 0],\r\n        '8594': [-0.13313, 0.36687, 0, 0],\r\n        '8595': [0.19444, 0.69444, 0, 0],\r\n        '8596': [-0.13313, 0.36687, 0, 0],\r\n        '8597': [0.25, 0.75, 0, 0],\r\n        '8598': [0.19444, 0.69444, 0, 0],\r\n        '8599': [0.19444, 0.69444, 0, 0],\r\n        '8600': [0.19444, 0.69444, 0, 0],\r\n        '8601': [0.19444, 0.69444, 0, 0],\r\n        '8614': [0.011, 0.511, 0, 0],\r\n        '8617': [0.011, 0.511, 0, 0],\r\n        '8618': [0.011, 0.511, 0, 0],\r\n        '8636': [-0.13313, 0.36687, 0, 0],\r\n        '8637': [-0.13313, 0.36687, 0, 0],\r\n        '8640': [-0.13313, 0.36687, 0, 0],\r\n        '8641': [-0.13313, 0.36687, 0, 0],\r\n        '8652': [0.011, 0.671, 0, 0],\r\n        '8656': [-0.13313, 0.36687, 0, 0],\r\n        '8657': [0.19444, 0.69444, 0, 0],\r\n        '8658': [-0.13313, 0.36687, 0, 0],\r\n        '8659': [0.19444, 0.69444, 0, 0],\r\n        '8660': [-0.13313, 0.36687, 0, 0],\r\n        '8661': [0.25, 0.75, 0, 0],\r\n        '8704': [0, 0.69444, 0, 0],\r\n        '8706': [0, 0.69444, 0.05556, 0.08334],\r\n        '8707': [0, 0.69444, 0, 0],\r\n        '8709': [0.05556, 0.75, 0, 0],\r\n        '8711': [0, 0.68333, 0, 0],\r\n        '8712': [0.0391, 0.5391, 0, 0],\r\n        '8715': [0.0391, 0.5391, 0, 0],\r\n        '8722': [0.08333, 0.58333, 0, 0],\r\n        '8723': [0.08333, 0.58333, 0, 0],\r\n        '8725': [0.25, 0.75, 0, 0],\r\n        '8726': [0.25, 0.75, 0, 0],\r\n        '8727': [-0.03472, 0.46528, 0, 0],\r\n        '8728': [-0.05555, 0.44445, 0, 0],\r\n        '8729': [-0.05555, 0.44445, 0, 0],\r\n        '8730': [0.2, 0.8, 0, 0],\r\n        '8733': [0, 0.43056, 0, 0],\r\n        '8734': [0, 0.43056, 0, 0],\r\n        '8736': [0, 0.69224, 0, 0],\r\n        '8739': [0.25, 0.75, 0, 0],\r\n        '8741': [0.25, 0.75, 0, 0],\r\n        '8743': [0, 0.55556, 0, 0],\r\n        '8744': [0, 0.55556, 0, 0],\r\n        '8745': [0, 0.55556, 0, 0],\r\n        '8746': [0, 0.55556, 0, 0],\r\n        '8747': [0.19444, 0.69444, 0.11111, 0],\r\n        '8764': [-0.13313, 0.36687, 0, 0],\r\n        '8768': [0.19444, 0.69444, 0, 0],\r\n        '8771': [-0.03625, 0.46375, 0, 0],\r\n        '8773': [-0.022, 0.589, 0, 0],\r\n        '8776': [-0.01688, 0.48312, 0, 0],\r\n        '8781': [-0.03625, 0.46375, 0, 0],\r\n        '8784': [-0.133, 0.67, 0, 0],\r\n        '8800': [0.215, 0.716, 0, 0],\r\n        '8801': [-0.03625, 0.46375, 0, 0],\r\n        '8804': [0.13597, 0.63597, 0, 0],\r\n        '8805': [0.13597, 0.63597, 0, 0],\r\n        '8810': [0.0391, 0.5391, 0, 0],\r\n        '8811': [0.0391, 0.5391, 0, 0],\r\n        '8826': [0.0391, 0.5391, 0, 0],\r\n        '8827': [0.0391, 0.5391, 0, 0],\r\n        '8834': [0.0391, 0.5391, 0, 0],\r\n        '8835': [0.0391, 0.5391, 0, 0],\r\n        '8838': [0.13597, 0.63597, 0, 0],\r\n        '8839': [0.13597, 0.63597, 0, 0],\r\n        '8846': [0, 0.55556, 0, 0],\r\n        '8849': [0.13597, 0.63597, 0, 0],\r\n        '8850': [0.13597, 0.63597, 0, 0],\r\n        '8851': [0, 0.55556, 0, 0],\r\n        '8852': [0, 0.55556, 0, 0],\r\n        '8853': [0.08333, 0.58333, 0, 0],\r\n        '8854': [0.08333, 0.58333, 0, 0],\r\n        '8855': [0.08333, 0.58333, 0, 0],\r\n        '8856': [0.08333, 0.58333, 0, 0],\r\n        '8857': [0.08333, 0.58333, 0, 0],\r\n        '8866': [0, 0.69444, 0, 0],\r\n        '8867': [0, 0.69444, 0, 0],\r\n        '8868': [0, 0.69444, 0, 0],\r\n        '8869': [0, 0.69444, 0, 0],\r\n        '8872': [0.249, 0.75, 0, 0],\r\n        '8900': [-0.05555, 0.44445, 0, 0],\r\n        '8901': [-0.05555, 0.44445, 0, 0],\r\n        '8902': [-0.03472, 0.46528, 0, 0],\r\n        '8904': [0.005, 0.505, 0, 0],\r\n        '8942': [0.03, 0.9, 0, 0],\r\n        '8943': [-0.19, 0.31, 0, 0],\r\n        '8945': [-0.1, 0.82, 0, 0],\r\n        '8968': [0.25, 0.75, 0, 0],\r\n        '8969': [0.25, 0.75, 0, 0],\r\n        '8970': [0.25, 0.75, 0, 0],\r\n        '8971': [0.25, 0.75, 0, 0],\r\n        '8994': [-0.14236, 0.35764, 0, 0],\r\n        '8995': [-0.14236, 0.35764, 0, 0],\r\n        '9136': [0.244, 0.744, 0, 0],\r\n        '9137': [0.244, 0.744, 0, 0],\r\n        '9651': [0.19444, 0.69444, 0, 0],\r\n        '9657': [-0.03472, 0.46528, 0, 0],\r\n        '9661': [0.19444, 0.69444, 0, 0],\r\n        '9667': [-0.03472, 0.46528, 0, 0],\r\n        '9711': [0.19444, 0.69444, 0, 0],\r\n        '9824': [0.12963, 0.69444, 0, 0],\r\n        '9825': [0.12963, 0.69444, 0, 0],\r\n        '9826': [0.12963, 0.69444, 0, 0],\r\n        '9827': [0.12963, 0.69444, 0, 0],\r\n        '9837': [0, 0.75, 0, 0],\r\n        '9838': [0.19444, 0.69444, 0, 0],\r\n        '9839': [0.19444, 0.69444, 0, 0],\r\n        '10216': [0.25, 0.75, 0, 0],\r\n        '10217': [0.25, 0.75, 0, 0],\r\n        '10222': [0.244, 0.744, 0, 0],\r\n        '10223': [0.244, 0.744, 0, 0],\r\n        '10229': [0.011, 0.511, 0, 0],\r\n        '10230': [0.011, 0.511, 0, 0],\r\n        '10231': [0.011, 0.511, 0, 0],\r\n        '10232': [0.024, 0.525, 0, 0],\r\n        '10233': [0.024, 0.525, 0, 0],\r\n        '10234': [0.024, 0.525, 0, 0],\r\n        '10236': [0.011, 0.511, 0, 0],\r\n        '10815': [0, 0.68333, 0, 0],\r\n        '10927': [0.13597, 0.63597, 0, 0],\r\n        '10928': [0.13597, 0.63597, 0, 0]\r\n    },\r\n    'Math-BoldItalic': {\r\n        '47': [0.19444, 0.69444, 0, 0],\r\n        '65': [0, 0.68611, 0, 0],\r\n        '66': [0, 0.68611, 0.04835, 0],\r\n        '67': [0, 0.68611, 0.06979, 0],\r\n        '68': [0, 0.68611, 0.03194, 0],\r\n        '69': [0, 0.68611, 0.05451, 0],\r\n        '70': [0, 0.68611, 0.15972, 0],\r\n        '71': [0, 0.68611, 0, 0],\r\n        '72': [0, 0.68611, 0.08229, 0],\r\n        '73': [0, 0.68611, 0.07778, 0],\r\n        '74': [0, 0.68611, 0.10069, 0],\r\n        '75': [0, 0.68611, 0.06979, 0],\r\n        '76': [0, 0.68611, 0, 0],\r\n        '77': [0, 0.68611, 0.11424, 0],\r\n        '78': [0, 0.68611, 0.11424, 0],\r\n        '79': [0, 0.68611, 0.03194, 0],\r\n        '80': [0, 0.68611, 0.15972, 0],\r\n        '81': [0.19444, 0.68611, 0, 0],\r\n        '82': [0, 0.68611, 0.00421, 0],\r\n        '83': [0, 0.68611, 0.05382, 0],\r\n        '84': [0, 0.68611, 0.15972, 0],\r\n        '85': [0, 0.68611, 0.11424, 0],\r\n        '86': [0, 0.68611, 0.25555, 0],\r\n        '87': [0, 0.68611, 0.15972, 0],\r\n        '88': [0, 0.68611, 0.07778, 0],\r\n        '89': [0, 0.68611, 0.25555, 0],\r\n        '90': [0, 0.68611, 0.06979, 0],\r\n        '97': [0, 0.44444, 0, 0],\r\n        '98': [0, 0.69444, 0, 0],\r\n        '99': [0, 0.44444, 0, 0],\r\n        '100': [0, 0.69444, 0, 0],\r\n        '101': [0, 0.44444, 0, 0],\r\n        '102': [0.19444, 0.69444, 0.11042, 0],\r\n        '103': [0.19444, 0.44444, 0.03704, 0],\r\n        '104': [0, 0.69444, 0, 0],\r\n        '105': [0, 0.69326, 0, 0],\r\n        '106': [0.19444, 0.69326, 0.0622, 0],\r\n        '107': [0, 0.69444, 0.01852, 0],\r\n        '108': [0, 0.69444, 0.0088, 0],\r\n        '109': [0, 0.44444, 0, 0],\r\n        '110': [0, 0.44444, 0, 0],\r\n        '111': [0, 0.44444, 0, 0],\r\n        '112': [0.19444, 0.44444, 0, 0],\r\n        '113': [0.19444, 0.44444, 0.03704, 0],\r\n        '114': [0, 0.44444, 0.03194, 0],\r\n        '115': [0, 0.44444, 0, 0],\r\n        '116': [0, 0.63492, 0, 0],\r\n        '117': [0, 0.44444, 0, 0],\r\n        '118': [0, 0.44444, 0.03704, 0],\r\n        '119': [0, 0.44444, 0.02778, 0],\r\n        '120': [0, 0.44444, 0, 0],\r\n        '121': [0.19444, 0.44444, 0.03704, 0],\r\n        '122': [0, 0.44444, 0.04213, 0],\r\n        '915': [0, 0.68611, 0.15972, 0],\r\n        '916': [0, 0.68611, 0, 0],\r\n        '920': [0, 0.68611, 0.03194, 0],\r\n        '923': [0, 0.68611, 0, 0],\r\n        '926': [0, 0.68611, 0.07458, 0],\r\n        '928': [0, 0.68611, 0.08229, 0],\r\n        '931': [0, 0.68611, 0.05451, 0],\r\n        '933': [0, 0.68611, 0.15972, 0],\r\n        '934': [0, 0.68611, 0, 0],\r\n        '936': [0, 0.68611, 0.11653, 0],\r\n        '937': [0, 0.68611, 0.04835, 0],\r\n        '945': [0, 0.44444, 0, 0],\r\n        '946': [0.19444, 0.69444, 0.03403, 0],\r\n        '947': [0.19444, 0.44444, 0.06389, 0],\r\n        '948': [0, 0.69444, 0.03819, 0],\r\n        '949': [0, 0.44444, 0, 0],\r\n        '950': [0.19444, 0.69444, 0.06215, 0],\r\n        '951': [0.19444, 0.44444, 0.03704, 0],\r\n        '952': [0, 0.69444, 0.03194, 0],\r\n        '953': [0, 0.44444, 0, 0],\r\n        '954': [0, 0.44444, 0, 0],\r\n        '955': [0, 0.69444, 0, 0],\r\n        '956': [0.19444, 0.44444, 0, 0],\r\n        '957': [0, 0.44444, 0.06898, 0],\r\n        '958': [0.19444, 0.69444, 0.03021, 0],\r\n        '959': [0, 0.44444, 0, 0],\r\n        '960': [0, 0.44444, 0.03704, 0],\r\n        '961': [0.19444, 0.44444, 0, 0],\r\n        '962': [0.09722, 0.44444, 0.07917, 0],\r\n        '963': [0, 0.44444, 0.03704, 0],\r\n        '964': [0, 0.44444, 0.13472, 0],\r\n        '965': [0, 0.44444, 0.03704, 0],\r\n        '966': [0.19444, 0.44444, 0, 0],\r\n        '967': [0.19444, 0.44444, 0, 0],\r\n        '968': [0.19444, 0.69444, 0.03704, 0],\r\n        '969': [0, 0.44444, 0.03704, 0],\r\n        '977': [0, 0.69444, 0, 0],\r\n        '981': [0.19444, 0.69444, 0, 0],\r\n        '982': [0, 0.44444, 0.03194, 0],\r\n        '1009': [0.19444, 0.44444, 0, 0],\r\n        '1013': [0, 0.44444, 0, 0]\r\n    },\r\n    'Math-Italic': {\r\n        '47': [0.19444, 0.69444, 0, 0],\r\n        '65': [0, 0.68333, 0, 0.13889],\r\n        '66': [0, 0.68333, 0.05017, 0.08334],\r\n        '67': [0, 0.68333, 0.07153, 0.08334],\r\n        '68': [0, 0.68333, 0.02778, 0.05556],\r\n        '69': [0, 0.68333, 0.05764, 0.08334],\r\n        '70': [0, 0.68333, 0.13889, 0.08334],\r\n        '71': [0, 0.68333, 0, 0.08334],\r\n        '72': [0, 0.68333, 0.08125, 0.05556],\r\n        '73': [0, 0.68333, 0.07847, 0.11111],\r\n        '74': [0, 0.68333, 0.09618, 0.16667],\r\n        '75': [0, 0.68333, 0.07153, 0.05556],\r\n        '76': [0, 0.68333, 0, 0.02778],\r\n        '77': [0, 0.68333, 0.10903, 0.08334],\r\n        '78': [0, 0.68333, 0.10903, 0.08334],\r\n        '79': [0, 0.68333, 0.02778, 0.08334],\r\n        '80': [0, 0.68333, 0.13889, 0.08334],\r\n        '81': [0.19444, 0.68333, 0, 0.08334],\r\n        '82': [0, 0.68333, 0.00773, 0.08334],\r\n        '83': [0, 0.68333, 0.05764, 0.08334],\r\n        '84': [0, 0.68333, 0.13889, 0.08334],\r\n        '85': [0, 0.68333, 0.10903, 0.02778],\r\n        '86': [0, 0.68333, 0.22222, 0],\r\n        '87': [0, 0.68333, 0.13889, 0],\r\n        '88': [0, 0.68333, 0.07847, 0.08334],\r\n        '89': [0, 0.68333, 0.22222, 0],\r\n        '90': [0, 0.68333, 0.07153, 0.08334],\r\n        '97': [0, 0.43056, 0, 0],\r\n        '98': [0, 0.69444, 0, 0],\r\n        '99': [0, 0.43056, 0, 0.05556],\r\n        '100': [0, 0.69444, 0, 0.16667],\r\n        '101': [0, 0.43056, 0, 0.05556],\r\n        '102': [0.19444, 0.69444, 0.10764, 0.16667],\r\n        '103': [0.19444, 0.43056, 0.03588, 0.02778],\r\n        '104': [0, 0.69444, 0, 0],\r\n        '105': [0, 0.65952, 0, 0],\r\n        '106': [0.19444, 0.65952, 0.05724, 0],\r\n        '107': [0, 0.69444, 0.03148, 0],\r\n        '108': [0, 0.69444, 0.01968, 0.08334],\r\n        '109': [0, 0.43056, 0, 0],\r\n        '110': [0, 0.43056, 0, 0],\r\n        '111': [0, 0.43056, 0, 0.05556],\r\n        '112': [0.19444, 0.43056, 0, 0.08334],\r\n        '113': [0.19444, 0.43056, 0.03588, 0.08334],\r\n        '114': [0, 0.43056, 0.02778, 0.05556],\r\n        '115': [0, 0.43056, 0, 0.05556],\r\n        '116': [0, 0.61508, 0, 0.08334],\r\n        '117': [0, 0.43056, 0, 0.02778],\r\n        '118': [0, 0.43056, 0.03588, 0.02778],\r\n        '119': [0, 0.43056, 0.02691, 0.08334],\r\n        '120': [0, 0.43056, 0, 0.02778],\r\n        '121': [0.19444, 0.43056, 0.03588, 0.05556],\r\n        '122': [0, 0.43056, 0.04398, 0.05556],\r\n        '915': [0, 0.68333, 0.13889, 0.08334],\r\n        '916': [0, 0.68333, 0, 0.16667],\r\n        '920': [0, 0.68333, 0.02778, 0.08334],\r\n        '923': [0, 0.68333, 0, 0.16667],\r\n        '926': [0, 0.68333, 0.07569, 0.08334],\r\n        '928': [0, 0.68333, 0.08125, 0.05556],\r\n        '931': [0, 0.68333, 0.05764, 0.08334],\r\n        '933': [0, 0.68333, 0.13889, 0.05556],\r\n        '934': [0, 0.68333, 0, 0.08334],\r\n        '936': [0, 0.68333, 0.11, 0.05556],\r\n        '937': [0, 0.68333, 0.05017, 0.08334],\r\n        '945': [0, 0.43056, 0.0037, 0.02778],\r\n        '946': [0.19444, 0.69444, 0.05278, 0.08334],\r\n        '947': [0.19444, 0.43056, 0.05556, 0],\r\n        '948': [0, 0.69444, 0.03785, 0.05556],\r\n        '949': [0, 0.43056, 0, 0.08334],\r\n        '950': [0.19444, 0.69444, 0.07378, 0.08334],\r\n        '951': [0.19444, 0.43056, 0.03588, 0.05556],\r\n        '952': [0, 0.69444, 0.02778, 0.08334],\r\n        '953': [0, 0.43056, 0, 0.05556],\r\n        '954': [0, 0.43056, 0, 0],\r\n        '955': [0, 0.69444, 0, 0],\r\n        '956': [0.19444, 0.43056, 0, 0.02778],\r\n        '957': [0, 0.43056, 0.06366, 0.02778],\r\n        '958': [0.19444, 0.69444, 0.04601, 0.11111],\r\n        '959': [0, 0.43056, 0, 0.05556],\r\n        '960': [0, 0.43056, 0.03588, 0],\r\n        '961': [0.19444, 0.43056, 0, 0.08334],\r\n        '962': [0.09722, 0.43056, 0.07986, 0.08334],\r\n        '963': [0, 0.43056, 0.03588, 0],\r\n        '964': [0, 0.43056, 0.1132, 0.02778],\r\n        '965': [0, 0.43056, 0.03588, 0.02778],\r\n        '966': [0.19444, 0.43056, 0, 0.08334],\r\n        '967': [0.19444, 0.43056, 0, 0.05556],\r\n        '968': [0.19444, 0.69444, 0.03588, 0.11111],\r\n        '969': [0, 0.43056, 0.03588, 0],\r\n        '977': [0, 0.69444, 0, 0.08334],\r\n        '981': [0.19444, 0.69444, 0, 0.08334],\r\n        '982': [0, 0.43056, 0.02778, 0],\r\n        '1009': [0.19444, 0.43056, 0, 0.08334],\r\n        '1013': [0, 0.43056, 0, 0.05556]\r\n    },\r\n    'Math-Regular': {\r\n        '65': [0, 0.68333, 0, 0.13889],\r\n        '66': [0, 0.68333, 0.05017, 0.08334],\r\n        '67': [0, 0.68333, 0.07153, 0.08334],\r\n        '68': [0, 0.68333, 0.02778, 0.05556],\r\n        '69': [0, 0.68333, 0.05764, 0.08334],\r\n        '70': [0, 0.68333, 0.13889, 0.08334],\r\n        '71': [0, 0.68333, 0, 0.08334],\r\n        '72': [0, 0.68333, 0.08125, 0.05556],\r\n        '73': [0, 0.68333, 0.07847, 0.11111],\r\n        '74': [0, 0.68333, 0.09618, 0.16667],\r\n        '75': [0, 0.68333, 0.07153, 0.05556],\r\n        '76': [0, 0.68333, 0, 0.02778],\r\n        '77': [0, 0.68333, 0.10903, 0.08334],\r\n        '78': [0, 0.68333, 0.10903, 0.08334],\r\n        '79': [0, 0.68333, 0.02778, 0.08334],\r\n        '80': [0, 0.68333, 0.13889, 0.08334],\r\n        '81': [0.19444, 0.68333, 0, 0.08334],\r\n        '82': [0, 0.68333, 0.00773, 0.08334],\r\n        '83': [0, 0.68333, 0.05764, 0.08334],\r\n        '84': [0, 0.68333, 0.13889, 0.08334],\r\n        '85': [0, 0.68333, 0.10903, 0.02778],\r\n        '86': [0, 0.68333, 0.22222, 0],\r\n        '87': [0, 0.68333, 0.13889, 0],\r\n        '88': [0, 0.68333, 0.07847, 0.08334],\r\n        '89': [0, 0.68333, 0.22222, 0],\r\n        '90': [0, 0.68333, 0.07153, 0.08334],\r\n        '97': [0, 0.43056, 0, 0],\r\n        '98': [0, 0.69444, 0, 0],\r\n        '99': [0, 0.43056, 0, 0.05556],\r\n        '100': [0, 0.69444, 0, 0.16667],\r\n        '101': [0, 0.43056, 0, 0.05556],\r\n        '102': [0.19444, 0.69444, 0.10764, 0.16667],\r\n        '103': [0.19444, 0.43056, 0.03588, 0.02778],\r\n        '104': [0, 0.69444, 0, 0],\r\n        '105': [0, 0.65952, 0, 0],\r\n        '106': [0.19444, 0.65952, 0.05724, 0],\r\n        '107': [0, 0.69444, 0.03148, 0],\r\n        '108': [0, 0.69444, 0.01968, 0.08334],\r\n        '109': [0, 0.43056, 0, 0],\r\n        '110': [0, 0.43056, 0, 0],\r\n        '111': [0, 0.43056, 0, 0.05556],\r\n        '112': [0.19444, 0.43056, 0, 0.08334],\r\n        '113': [0.19444, 0.43056, 0.03588, 0.08334],\r\n        '114': [0, 0.43056, 0.02778, 0.05556],\r\n        '115': [0, 0.43056, 0, 0.05556],\r\n        '116': [0, 0.61508, 0, 0.08334],\r\n        '117': [0, 0.43056, 0, 0.02778],\r\n        '118': [0, 0.43056, 0.03588, 0.02778],\r\n        '119': [0, 0.43056, 0.02691, 0.08334],\r\n        '120': [0, 0.43056, 0, 0.02778],\r\n        '121': [0.19444, 0.43056, 0.03588, 0.05556],\r\n        '122': [0, 0.43056, 0.04398, 0.05556],\r\n        '915': [0, 0.68333, 0.13889, 0.08334],\r\n        '916': [0, 0.68333, 0, 0.16667],\r\n        '920': [0, 0.68333, 0.02778, 0.08334],\r\n        '923': [0, 0.68333, 0, 0.16667],\r\n        '926': [0, 0.68333, 0.07569, 0.08334],\r\n        '928': [0, 0.68333, 0.08125, 0.05556],\r\n        '931': [0, 0.68333, 0.05764, 0.08334],\r\n        '933': [0, 0.68333, 0.13889, 0.05556],\r\n        '934': [0, 0.68333, 0, 0.08334],\r\n        '936': [0, 0.68333, 0.11, 0.05556],\r\n        '937': [0, 0.68333, 0.05017, 0.08334],\r\n        '945': [0, 0.43056, 0.0037, 0.02778],\r\n        '946': [0.19444, 0.69444, 0.05278, 0.08334],\r\n        '947': [0.19444, 0.43056, 0.05556, 0],\r\n        '948': [0, 0.69444, 0.03785, 0.05556],\r\n        '949': [0, 0.43056, 0, 0.08334],\r\n        '950': [0.19444, 0.69444, 0.07378, 0.08334],\r\n        '951': [0.19444, 0.43056, 0.03588, 0.05556],\r\n        '952': [0, 0.69444, 0.02778, 0.08334],\r\n        '953': [0, 0.43056, 0, 0.05556],\r\n        '954': [0, 0.43056, 0, 0],\r\n        '955': [0, 0.69444, 0, 0],\r\n        '956': [0.19444, 0.43056, 0, 0.02778],\r\n        '957': [0, 0.43056, 0.06366, 0.02778],\r\n        '958': [0.19444, 0.69444, 0.04601, 0.11111],\r\n        '959': [0, 0.43056, 0, 0.05556],\r\n        '960': [0, 0.43056, 0.03588, 0],\r\n        '961': [0.19444, 0.43056, 0, 0.08334],\r\n        '962': [0.09722, 0.43056, 0.07986, 0.08334],\r\n        '963': [0, 0.43056, 0.03588, 0],\r\n        '964': [0, 0.43056, 0.1132, 0.02778],\r\n        '965': [0, 0.43056, 0.03588, 0.02778],\r\n        '966': [0.19444, 0.43056, 0, 0.08334],\r\n        '967': [0.19444, 0.43056, 0, 0.05556],\r\n        '968': [0.19444, 0.69444, 0.03588, 0.11111],\r\n        '969': [0, 0.43056, 0.03588, 0],\r\n        '977': [0, 0.69444, 0, 0.08334],\r\n        '981': [0.19444, 0.69444, 0, 0.08334],\r\n        '982': [0, 0.43056, 0.02778, 0],\r\n        '1009': [0.19444, 0.43056, 0, 0.08334],\r\n        '1013': [0, 0.43056, 0, 0.05556]\r\n    },\r\n    'SansSerif-Regular': {\r\n        '33': [0, 0.69444, 0, 0],\r\n        '34': [0, 0.69444, 0, 0],\r\n        '35': [0.19444, 0.69444, 0, 0],\r\n        '36': [0.05556, 0.75, 0, 0],\r\n        '37': [0.05556, 0.75, 0, 0],\r\n        '38': [0, 0.69444, 0, 0],\r\n        '39': [0, 0.69444, 0, 0],\r\n        '40': [0.25, 0.75, 0, 0],\r\n        '41': [0.25, 0.75, 0, 0],\r\n        '42': [0, 0.75, 0, 0],\r\n        '43': [0.08333, 0.58333, 0, 0],\r\n        '44': [0.125, 0.08333, 0, 0],\r\n        '45': [0, 0.44444, 0, 0],\r\n        '46': [0, 0.08333, 0, 0],\r\n        '47': [0.25, 0.75, 0, 0],\r\n        '48': [0, 0.65556, 0, 0],\r\n        '49': [0, 0.65556, 0, 0],\r\n        '50': [0, 0.65556, 0, 0],\r\n        '51': [0, 0.65556, 0, 0],\r\n        '52': [0, 0.65556, 0, 0],\r\n        '53': [0, 0.65556, 0, 0],\r\n        '54': [0, 0.65556, 0, 0],\r\n        '55': [0, 0.65556, 0, 0],\r\n        '56': [0, 0.65556, 0, 0],\r\n        '57': [0, 0.65556, 0, 0],\r\n        '58': [0, 0.44444, 0, 0],\r\n        '59': [0.125, 0.44444, 0, 0],\r\n        '61': [-0.13, 0.37, 0, 0],\r\n        '63': [0, 0.69444, 0, 0],\r\n        '64': [0, 0.69444, 0, 0],\r\n        '65': [0, 0.69444, 0, 0],\r\n        '66': [0, 0.69444, 0, 0],\r\n        '67': [0, 0.69444, 0, 0],\r\n        '68': [0, 0.69444, 0, 0],\r\n        '69': [0, 0.69444, 0, 0],\r\n        '70': [0, 0.69444, 0, 0],\r\n        '71': [0, 0.69444, 0, 0],\r\n        '72': [0, 0.69444, 0, 0],\r\n        '73': [0, 0.69444, 0, 0],\r\n        '74': [0, 0.69444, 0, 0],\r\n        '75': [0, 0.69444, 0, 0],\r\n        '76': [0, 0.69444, 0, 0],\r\n        '77': [0, 0.69444, 0, 0],\r\n        '78': [0, 0.69444, 0, 0],\r\n        '79': [0, 0.69444, 0, 0],\r\n        '80': [0, 0.69444, 0, 0],\r\n        '81': [0.125, 0.69444, 0, 0],\r\n        '82': [0, 0.69444, 0, 0],\r\n        '83': [0, 0.69444, 0, 0],\r\n        '84': [0, 0.69444, 0, 0],\r\n        '85': [0, 0.69444, 0, 0],\r\n        '86': [0, 0.69444, 0.01389, 0],\r\n        '87': [0, 0.69444, 0.01389, 0],\r\n        '88': [0, 0.69444, 0, 0],\r\n        '89': [0, 0.69444, 0.025, 0],\r\n        '90': [0, 0.69444, 0, 0],\r\n        '91': [0.25, 0.75, 0, 0],\r\n        '93': [0.25, 0.75, 0, 0],\r\n        '94': [0, 0.69444, 0, 0],\r\n        '95': [0.35, 0.09444, 0.02778, 0],\r\n        '97': [0, 0.44444, 0, 0],\r\n        '98': [0, 0.69444, 0, 0],\r\n        '99': [0, 0.44444, 0, 0],\r\n        '100': [0, 0.69444, 0, 0],\r\n        '101': [0, 0.44444, 0, 0],\r\n        '102': [0, 0.69444, 0.06944, 0],\r\n        '103': [0.19444, 0.44444, 0.01389, 0],\r\n        '104': [0, 0.69444, 0, 0],\r\n        '105': [0, 0.67937, 0, 0],\r\n        '106': [0.19444, 0.67937, 0, 0],\r\n        '107': [0, 0.69444, 0, 0],\r\n        '108': [0, 0.69444, 0, 0],\r\n        '109': [0, 0.44444, 0, 0],\r\n        '110': [0, 0.44444, 0, 0],\r\n        '111': [0, 0.44444, 0, 0],\r\n        '112': [0.19444, 0.44444, 0, 0],\r\n        '113': [0.19444, 0.44444, 0, 0],\r\n        '114': [0, 0.44444, 0.01389, 0],\r\n        '115': [0, 0.44444, 0, 0],\r\n        '116': [0, 0.57143, 0, 0],\r\n        '117': [0, 0.44444, 0, 0],\r\n        '118': [0, 0.44444, 0.01389, 0],\r\n        '119': [0, 0.44444, 0.01389, 0],\r\n        '120': [0, 0.44444, 0, 0],\r\n        '121': [0.19444, 0.44444, 0.01389, 0],\r\n        '122': [0, 0.44444, 0, 0],\r\n        '126': [0.35, 0.32659, 0, 0],\r\n        '305': [0, 0.44444, 0, 0],\r\n        '567': [0.19444, 0.44444, 0, 0],\r\n        '768': [0, 0.69444, 0, 0],\r\n        '769': [0, 0.69444, 0, 0],\r\n        '770': [0, 0.69444, 0, 0],\r\n        '771': [0, 0.67659, 0, 0],\r\n        '772': [0, 0.60889, 0, 0],\r\n        '774': [0, 0.69444, 0, 0],\r\n        '775': [0, 0.67937, 0, 0],\r\n        '776': [0, 0.67937, 0, 0],\r\n        '778': [0, 0.69444, 0, 0],\r\n        '779': [0, 0.69444, 0, 0],\r\n        '780': [0, 0.63194, 0, 0],\r\n        '915': [0, 0.69444, 0, 0],\r\n        '916': [0, 0.69444, 0, 0],\r\n        '920': [0, 0.69444, 0, 0],\r\n        '923': [0, 0.69444, 0, 0],\r\n        '926': [0, 0.69444, 0, 0],\r\n        '928': [0, 0.69444, 0, 0],\r\n        '931': [0, 0.69444, 0, 0],\r\n        '933': [0, 0.69444, 0, 0],\r\n        '934': [0, 0.69444, 0, 0],\r\n        '936': [0, 0.69444, 0, 0],\r\n        '937': [0, 0.69444, 0, 0],\r\n        '8211': [0, 0.44444, 0.02778, 0],\r\n        '8212': [0, 0.44444, 0.02778, 0],\r\n        '8216': [0, 0.69444, 0, 0],\r\n        '8217': [0, 0.69444, 0, 0],\r\n        '8220': [0, 0.69444, 0, 0],\r\n        '8221': [0, 0.69444, 0, 0]\r\n    },\r\n    'Script-Regular': {\r\n        '65': [0, 0.7, 0.22925, 0],\r\n        '66': [0, 0.7, 0.04087, 0],\r\n        '67': [0, 0.7, 0.1689, 0],\r\n        '68': [0, 0.7, 0.09371, 0],\r\n        '69': [0, 0.7, 0.18583, 0],\r\n        '70': [0, 0.7, 0.13634, 0],\r\n        '71': [0, 0.7, 0.17322, 0],\r\n        '72': [0, 0.7, 0.29694, 0],\r\n        '73': [0, 0.7, 0.19189, 0],\r\n        '74': [0.27778, 0.7, 0.19189, 0],\r\n        '75': [0, 0.7, 0.31259, 0],\r\n        '76': [0, 0.7, 0.19189, 0],\r\n        '77': [0, 0.7, 0.15981, 0],\r\n        '78': [0, 0.7, 0.3525, 0],\r\n        '79': [0, 0.7, 0.08078, 0],\r\n        '80': [0, 0.7, 0.08078, 0],\r\n        '81': [0, 0.7, 0.03305, 0],\r\n        '82': [0, 0.7, 0.06259, 0],\r\n        '83': [0, 0.7, 0.19189, 0],\r\n        '84': [0, 0.7, 0.29087, 0],\r\n        '85': [0, 0.7, 0.25815, 0],\r\n        '86': [0, 0.7, 0.27523, 0],\r\n        '87': [0, 0.7, 0.27523, 0],\r\n        '88': [0, 0.7, 0.26006, 0],\r\n        '89': [0, 0.7, 0.2939, 0],\r\n        '90': [0, 0.7, 0.24037, 0]\r\n    },\r\n    'Size1-Regular': {\r\n        '40': [0.35001, 0.85, 0, 0],\r\n        '41': [0.35001, 0.85, 0, 0],\r\n        '47': [0.35001, 0.85, 0, 0],\r\n        '91': [0.35001, 0.85, 0, 0],\r\n        '92': [0.35001, 0.85, 0, 0],\r\n        '93': [0.35001, 0.85, 0, 0],\r\n        '123': [0.35001, 0.85, 0, 0],\r\n        '125': [0.35001, 0.85, 0, 0],\r\n        '710': [0, 0.72222, 0, 0],\r\n        '732': [0, 0.72222, 0, 0],\r\n        '770': [0, 0.72222, 0, 0],\r\n        '771': [0, 0.72222, 0, 0],\r\n        '8214': [-0.00099, 0.601, 0, 0],\r\n        '8593': [1e-05, 0.6, 0, 0],\r\n        '8595': [1e-05, 0.6, 0, 0],\r\n        '8657': [1e-05, 0.6, 0, 0],\r\n        '8659': [1e-05, 0.6, 0, 0],\r\n        '8719': [0.25001, 0.75, 0, 0],\r\n        '8720': [0.25001, 0.75, 0, 0],\r\n        '8721': [0.25001, 0.75, 0, 0],\r\n        '8730': [0.35001, 0.85, 0, 0],\r\n        '8739': [-0.00599, 0.606, 0, 0],\r\n        '8741': [-0.00599, 0.606, 0, 0],\r\n        '8747': [0.30612, 0.805, 0.19445, 0],\r\n        '8748': [0.306, 0.805, 0.19445, 0],\r\n        '8749': [0.306, 0.805, 0.19445, 0],\r\n        '8750': [0.30612, 0.805, 0.19445, 0],\r\n        '8896': [0.25001, 0.75, 0, 0],\r\n        '8897': [0.25001, 0.75, 0, 0],\r\n        '8898': [0.25001, 0.75, 0, 0],\r\n        '8899': [0.25001, 0.75, 0, 0],\r\n        '8968': [0.35001, 0.85, 0, 0],\r\n        '8969': [0.35001, 0.85, 0, 0],\r\n        '8970': [0.35001, 0.85, 0, 0],\r\n        '8971': [0.35001, 0.85, 0, 0],\r\n        '9168': [-0.00099, 0.601, 0, 0],\r\n        '10216': [0.35001, 0.85, 0, 0],\r\n        '10217': [0.35001, 0.85, 0, 0],\r\n        '10752': [0.25001, 0.75, 0, 0],\r\n        '10753': [0.25001, 0.75, 0, 0],\r\n        '10754': [0.25001, 0.75, 0, 0],\r\n        '10756': [0.25001, 0.75, 0, 0],\r\n        '10758': [0.25001, 0.75, 0, 0]\r\n    },\r\n    'Size2-Regular': {\r\n        '40': [0.65002, 1.15, 0, 0],\r\n        '41': [0.65002, 1.15, 0, 0],\r\n        '47': [0.65002, 1.15, 0, 0],\r\n        '91': [0.65002, 1.15, 0, 0],\r\n        '92': [0.65002, 1.15, 0, 0],\r\n        '93': [0.65002, 1.15, 0, 0],\r\n        '123': [0.65002, 1.15, 0, 0],\r\n        '125': [0.65002, 1.15, 0, 0],\r\n        '710': [0, 0.75, 0, 0],\r\n        '732': [0, 0.75, 0, 0],\r\n        '770': [0, 0.75, 0, 0],\r\n        '771': [0, 0.75, 0, 0],\r\n        '8719': [0.55001, 1.05, 0, 0],\r\n        '8720': [0.55001, 1.05, 0, 0],\r\n        '8721': [0.55001, 1.05, 0, 0],\r\n        '8730': [0.65002, 1.15, 0, 0],\r\n        '8747': [0.86225, 1.36, 0.44445, 0],\r\n        '8748': [0.862, 1.36, 0.44445, 0],\r\n        '8749': [0.862, 1.36, 0.44445, 0],\r\n        '8750': [0.86225, 1.36, 0.44445, 0],\r\n        '8896': [0.55001, 1.05, 0, 0],\r\n        '8897': [0.55001, 1.05, 0, 0],\r\n        '8898': [0.55001, 1.05, 0, 0],\r\n        '8899': [0.55001, 1.05, 0, 0],\r\n        '8968': [0.65002, 1.15, 0, 0],\r\n        '8969': [0.65002, 1.15, 0, 0],\r\n        '8970': [0.65002, 1.15, 0, 0],\r\n        '8971': [0.65002, 1.15, 0, 0],\r\n        '10216': [0.65002, 1.15, 0, 0],\r\n        '10217': [0.65002, 1.15, 0, 0],\r\n        '10752': [0.55001, 1.05, 0, 0],\r\n        '10753': [0.55001, 1.05, 0, 0],\r\n        '10754': [0.55001, 1.05, 0, 0],\r\n        '10756': [0.55001, 1.05, 0, 0],\r\n        '10758': [0.55001, 1.05, 0, 0]\r\n    },\r\n    'Size3-Regular': {\r\n        '40': [0.95003, 1.45, 0, 0],\r\n        '41': [0.95003, 1.45, 0, 0],\r\n        '47': [0.95003, 1.45, 0, 0],\r\n        '91': [0.95003, 1.45, 0, 0],\r\n        '92': [0.95003, 1.45, 0, 0],\r\n        '93': [0.95003, 1.45, 0, 0],\r\n        '123': [0.95003, 1.45, 0, 0],\r\n        '125': [0.95003, 1.45, 0, 0],\r\n        '710': [0, 0.75, 0, 0],\r\n        '732': [0, 0.75, 0, 0],\r\n        '770': [0, 0.75, 0, 0],\r\n        '771': [0, 0.75, 0, 0],\r\n        '8730': [0.95003, 1.45, 0, 0],\r\n        '8968': [0.95003, 1.45, 0, 0],\r\n        '8969': [0.95003, 1.45, 0, 0],\r\n        '8970': [0.95003, 1.45, 0, 0],\r\n        '8971': [0.95003, 1.45, 0, 0],\r\n        '10216': [0.95003, 1.45, 0, 0],\r\n        '10217': [0.95003, 1.45, 0, 0]\r\n    },\r\n    'Size4-Regular': {\r\n        '40': [1.25003, 1.75, 0, 0],\r\n        '41': [1.25003, 1.75, 0, 0],\r\n        '47': [1.25003, 1.75, 0, 0],\r\n        '91': [1.25003, 1.75, 0, 0],\r\n        '92': [1.25003, 1.75, 0, 0],\r\n        '93': [1.25003, 1.75, 0, 0],\r\n        '123': [1.25003, 1.75, 0, 0],\r\n        '125': [1.25003, 1.75, 0, 0],\r\n        '710': [0, 0.825, 0, 0],\r\n        '732': [0, 0.825, 0, 0],\r\n        '770': [0, 0.825, 0, 0],\r\n        '771': [0, 0.825, 0, 0],\r\n        '8730': [1.25003, 1.75, 0, 0],\r\n        '8968': [1.25003, 1.75, 0, 0],\r\n        '8969': [1.25003, 1.75, 0, 0],\r\n        '8970': [1.25003, 1.75, 0, 0],\r\n        '8971': [1.25003, 1.75, 0, 0],\r\n        '9115': [0.64502, 1.155, 0, 0],\r\n        '9116': [1e-05, 0.6, 0, 0],\r\n        '9117': [0.64502, 1.155, 0, 0],\r\n        '9118': [0.64502, 1.155, 0, 0],\r\n        '9119': [1e-05, 0.6, 0, 0],\r\n        '9120': [0.64502, 1.155, 0, 0],\r\n        '9121': [0.64502, 1.155, 0, 0],\r\n        '9122': [-0.00099, 0.601, 0, 0],\r\n        '9123': [0.64502, 1.155, 0, 0],\r\n        '9124': [0.64502, 1.155, 0, 0],\r\n        '9125': [-0.00099, 0.601, 0, 0],\r\n        '9126': [0.64502, 1.155, 0, 0],\r\n        '9127': [1e-05, 0.9, 0, 0],\r\n        '9128': [0.65002, 1.15, 0, 0],\r\n        '9129': [0.90001, 0, 0, 0],\r\n        '9130': [0, 0.3, 0, 0],\r\n        '9131': [1e-05, 0.9, 0, 0],\r\n        '9132': [0.65002, 1.15, 0, 0],\r\n        '9133': [0.90001, 0, 0, 0],\r\n        '9143': [0.88502, 0.915, 0, 0],\r\n        '10216': [1.25003, 1.75, 0, 0],\r\n        '10217': [1.25003, 1.75, 0, 0],\r\n        '57344': [-0.00499, 0.605, 0, 0],\r\n        '57345': [-0.00499, 0.605, 0, 0],\r\n        '57680': [0, 0.12, 0, 0],\r\n        '57681': [0, 0.12, 0, 0],\r\n        '57682': [0, 0.12, 0, 0],\r\n        '57683': [0, 0.12, 0, 0]\r\n    },\r\n    'Typewriter-Regular': {\r\n        '33': [0, 0.61111, 0, 0],\r\n        '34': [0, 0.61111, 0, 0],\r\n        '35': [0, 0.61111, 0, 0],\r\n        '36': [0.08333, 0.69444, 0, 0],\r\n        '37': [0.08333, 0.69444, 0, 0],\r\n        '38': [0, 0.61111, 0, 0],\r\n        '39': [0, 0.61111, 0, 0],\r\n        '40': [0.08333, 0.69444, 0, 0],\r\n        '41': [0.08333, 0.69444, 0, 0],\r\n        '42': [0, 0.52083, 0, 0],\r\n        '43': [-0.08056, 0.53055, 0, 0],\r\n        '44': [0.13889, 0.125, 0, 0],\r\n        '45': [-0.08056, 0.53055, 0, 0],\r\n        '46': [0, 0.125, 0, 0],\r\n        '47': [0.08333, 0.69444, 0, 0],\r\n        '48': [0, 0.61111, 0, 0],\r\n        '49': [0, 0.61111, 0, 0],\r\n        '50': [0, 0.61111, 0, 0],\r\n        '51': [0, 0.61111, 0, 0],\r\n        '52': [0, 0.61111, 0, 0],\r\n        '53': [0, 0.61111, 0, 0],\r\n        '54': [0, 0.61111, 0, 0],\r\n        '55': [0, 0.61111, 0, 0],\r\n        '56': [0, 0.61111, 0, 0],\r\n        '57': [0, 0.61111, 0, 0],\r\n        '58': [0, 0.43056, 0, 0],\r\n        '59': [0.13889, 0.43056, 0, 0],\r\n        '60': [-0.05556, 0.55556, 0, 0],\r\n        '61': [-0.19549, 0.41562, 0, 0],\r\n        '62': [-0.05556, 0.55556, 0, 0],\r\n        '63': [0, 0.61111, 0, 0],\r\n        '64': [0, 0.61111, 0, 0],\r\n        '65': [0, 0.61111, 0, 0],\r\n        '66': [0, 0.61111, 0, 0],\r\n        '67': [0, 0.61111, 0, 0],\r\n        '68': [0, 0.61111, 0, 0],\r\n        '69': [0, 0.61111, 0, 0],\r\n        '70': [0, 0.61111, 0, 0],\r\n        '71': [0, 0.61111, 0, 0],\r\n        '72': [0, 0.61111, 0, 0],\r\n        '73': [0, 0.61111, 0, 0],\r\n        '74': [0, 0.61111, 0, 0],\r\n        '75': [0, 0.61111, 0, 0],\r\n        '76': [0, 0.61111, 0, 0],\r\n        '77': [0, 0.61111, 0, 0],\r\n        '78': [0, 0.61111, 0, 0],\r\n        '79': [0, 0.61111, 0, 0],\r\n        '80': [0, 0.61111, 0, 0],\r\n        '81': [0.13889, 0.61111, 0, 0],\r\n        '82': [0, 0.61111, 0, 0],\r\n        '83': [0, 0.61111, 0, 0],\r\n        '84': [0, 0.61111, 0, 0],\r\n        '85': [0, 0.61111, 0, 0],\r\n        '86': [0, 0.61111, 0, 0],\r\n        '87': [0, 0.61111, 0, 0],\r\n        '88': [0, 0.61111, 0, 0],\r\n        '89': [0, 0.61111, 0, 0],\r\n        '90': [0, 0.61111, 0, 0],\r\n        '91': [0.08333, 0.69444, 0, 0],\r\n        '92': [0.08333, 0.69444, 0, 0],\r\n        '93': [0.08333, 0.69444, 0, 0],\r\n        '94': [0, 0.61111, 0, 0],\r\n        '95': [0.09514, 0, 0, 0],\r\n        '96': [0, 0.61111, 0, 0],\r\n        '97': [0, 0.43056, 0, 0],\r\n        '98': [0, 0.61111, 0, 0],\r\n        '99': [0, 0.43056, 0, 0],\r\n        '100': [0, 0.61111, 0, 0],\r\n        '101': [0, 0.43056, 0, 0],\r\n        '102': [0, 0.61111, 0, 0],\r\n        '103': [0.22222, 0.43056, 0, 0],\r\n        '104': [0, 0.61111, 0, 0],\r\n        '105': [0, 0.61111, 0, 0],\r\n        '106': [0.22222, 0.61111, 0, 0],\r\n        '107': [0, 0.61111, 0, 0],\r\n        '108': [0, 0.61111, 0, 0],\r\n        '109': [0, 0.43056, 0, 0],\r\n        '110': [0, 0.43056, 0, 0],\r\n        '111': [0, 0.43056, 0, 0],\r\n        '112': [0.22222, 0.43056, 0, 0],\r\n        '113': [0.22222, 0.43056, 0, 0],\r\n        '114': [0, 0.43056, 0, 0],\r\n        '115': [0, 0.43056, 0, 0],\r\n        '116': [0, 0.55358, 0, 0],\r\n        '117': [0, 0.43056, 0, 0],\r\n        '118': [0, 0.43056, 0, 0],\r\n        '119': [0, 0.43056, 0, 0],\r\n        '120': [0, 0.43056, 0, 0],\r\n        '121': [0.22222, 0.43056, 0, 0],\r\n        '122': [0, 0.43056, 0, 0],\r\n        '123': [0.08333, 0.69444, 0, 0],\r\n        '124': [0.08333, 0.69444, 0, 0],\r\n        '125': [0.08333, 0.69444, 0, 0],\r\n        '126': [0, 0.61111, 0, 0],\r\n        '127': [0, 0.61111, 0, 0],\r\n        '305': [0, 0.43056, 0, 0],\r\n        '567': [0.22222, 0.43056, 0, 0],\r\n        '768': [0, 0.61111, 0, 0],\r\n        '769': [0, 0.61111, 0, 0],\r\n        '770': [0, 0.61111, 0, 0],\r\n        '771': [0, 0.61111, 0, 0],\r\n        '772': [0, 0.56555, 0, 0],\r\n        '774': [0, 0.61111, 0, 0],\r\n        '776': [0, 0.61111, 0, 0],\r\n        '778': [0, 0.61111, 0, 0],\r\n        '780': [0, 0.56597, 0, 0],\r\n        '915': [0, 0.61111, 0, 0],\r\n        '916': [0, 0.61111, 0, 0],\r\n        '920': [0, 0.61111, 0, 0],\r\n        '923': [0, 0.61111, 0, 0],\r\n        '926': [0, 0.61111, 0, 0],\r\n        '928': [0, 0.61111, 0, 0],\r\n        '931': [0, 0.61111, 0, 0],\r\n        '933': [0, 0.61111, 0, 0],\r\n        '934': [0, 0.61111, 0, 0],\r\n        '936': [0, 0.61111, 0, 0],\r\n        '937': [0, 0.61111, 0, 0],\r\n        '2018': [0, 0.61111, 0, 0],\r\n        '2019': [0, 0.61111, 0, 0],\r\n        '8242': [0, 0.61111, 0, 0]\r\n    }\r\n}\r\n\r\n","/* eslint no-unused-vars:0 */\r\n/**\r\n * This module contains metrics regarding fonts and individual symbols. The sigma\r\n * and xi variables, as well as the metricMap map contain data extracted from\r\n * TeX, TeX font metrics, and the TTF files. These data are then exposed via the\r\n * `metrics` variable and the getCharacterMetrics function.\r\n * @module core/fontMetrics\r\n * @private\r\n */\r\nimport metricMap from './fontMetricsData.js';\r\n\r\n// This metricMap contains a mapping from font name and character code to character\r\n// metrics, including height, depth, italic correction, and skew (kern from the\r\n// character to the corresponding \\skewchar)\r\n// This map is generated via `make metrics`. It should not be changed manually.\r\n\r\n// const hangulRegex = /[\\uAC00-\\uD7AF]/;\r\n\r\n// This regex combines\r\n// - Hiragana: [\\u3040-\\u309F]\r\n// - Katakana: [\\u30A0-\\u30FF]\r\n// - CJK ideograms: [\\u4E00-\\u9FAF]\r\n// - Hangul syllables: [\\uAC00-\\uD7AF]\r\n// Notably missing are half width Katakana and Romaji glyphs.\r\nconst cjkRegex =\r\n    /[\\u3040-\\u309F]|[\\u30A0-\\u30FF]|[\\u4E00-\\u9FAF]|[\\uAC00-\\uD7AF]/;\r\n\r\n\r\n/*\r\n *\r\n * In TeX, there are actually three sets of dimensions, one for each of\r\n * textstyle, scriptstyle, and scriptscriptstyle.  These are provided in the\r\n * the arrays below, in that order.\r\n *\r\n * The font metrics are stored in fonts cmsy10, cmsy7, and cmsy5 respectively.\r\n * This was determined by running the following script:\r\n *``` bash\r\n      latex -interaction=nonstopmode \\\r\n      '\\documentclass{article}\\usepackage{amsmath}\\begin{document}' \\\r\n      '$a$ \\expandafter\\show\\the\\textfont2' \\\r\n      '\\expandafter\\show\\the\\scriptfont2' \\\r\n      '\\expandafter\\show\\the\\scriptscriptfont2' \\\r\n      '\\stop'\r\n  ```\r\n * The metrics themselves were retrieved using the following commands:\r\n * ``` bash\r\n      tftopl cmsy10\r\n      tftopl cmsy7\r\n      tftopl cmsy5\r\n    ```\r\n *\r\n * The output of each of these commands is quite lengthy.  The only part we\r\n * care about is the FONTDIMEN section. Each value is measured in EMs.\r\n * @memberof module:fontMetrics\r\n */\r\nexport const SIGMAS = {\r\n    slant: [0.250, 0.250, 0.250],       // sigma1\r\n    space: [0.000, 0.000, 0.000],       // sigma2\r\n    stretch: [0.000, 0.000, 0.000],     // sigma3\r\n    shrink: [0.000, 0.000, 0.000],      // sigma4\r\n    xHeight: [0.431, 0.431, 0.431],     // sigma5\r\n    quad: [1.000, 1.171, 1.472],        // sigma6\r\n    extraSpace: [0.000, 0.000, 0.000],  // sigma7\r\n    num1: [0.677, 0.732, 0.925],        // sigma8\r\n    num2: [0.394, 0.384, 0.387],        // sigma9\r\n    num3: [0.444, 0.471, 0.504],        // sigma10\r\n    denom1: [0.686, 0.752, 1.025],      // sigma11\r\n    denom2: [0.345, 0.344, 0.532],      // sigma12\r\n    sup1: [0.413, 0.503, 0.504],        // sigma13\r\n    sup2: [0.363, 0.431, 0.404],        // sigma14\r\n    sup3: [0.289, 0.286, 0.294],        // sigma15\r\n    sub1: [0.150, 0.143, 0.200],        // sigma16\r\n    sub2: [0.247, 0.286, 0.400],        // sigma17\r\n    supDrop: [0.386, 0.353, 0.494],     // sigma18\r\n    subDrop: [0.050, 0.071, 0.100],     // sigma19\r\n    delim1: [2.390, 1.700, 1.980],      // sigma20\r\n    delim2: [1.010, 1.157, 1.420],      // sigma21\r\n    axisHeight: [0.250, 0.250, 0.250],  // sigma22\r\n};\r\n\r\n// These font metrics are extracted from TeX by using\r\n// \\font\\a=cmex10\r\n// \\showthe\\fontdimenX\\a\r\n// where X is the corresponding variable number. These correspond to the font\r\n// parameters of the extension fonts (family 3). See the TeXbook, page 441.\r\nconst xi1 = 0;\r\nconst xi2 = 0;\r\nconst xi3 = 0;\r\nconst xi4 = 0;\r\nconst xi5 = 0.431;\r\nconst xi6 = 1;\r\nconst xi7 = 0;\r\nconst xi8 = 0.04;\r\nconst xi9 = 0.111;\r\nconst xi10 = 0.166;\r\nconst xi11 = 0.2;\r\nconst xi12 = 0.6;\r\nconst xi13 = 0.1;\r\n\r\n// This value determines how large a pt is, for metrics which are defined in\r\n// terms of pts.\r\n// This value is also used in katex.less; if you change it make sure the values\r\n// match.\r\nconst ptPerEm = 10.0;\r\n\r\n// The space between adjacent `|` columns in an array definition. From\r\n// article.cls.txt:455\r\nconst doubleRuleSep = 2.0 / ptPerEm;\r\n\r\n/*\r\n * This is just a mapping from common names to real metrics\r\n */\r\nexport const METRICS = {\r\n    defaultRuleThickness: xi8,\r\n    bigOpSpacing1: xi9,\r\n    bigOpSpacing2: xi10,\r\n    bigOpSpacing3: xi11,\r\n    bigOpSpacing4: xi12,\r\n    bigOpSpacing5: xi13,\r\n    ptPerEm: ptPerEm,\r\n    pxPerEm: ptPerEm * 4.0 / 3.0,   // A CSS pt is fixed at 1.333px\r\n    doubleRuleSep: 2.0 / ptPerEm,\r\n    arraycolsep: 5.0 / ptPerEm,\r\n    baselineskip: 12.0 / ptPerEm,\r\n    arrayrulewidth: 0.4 / ptPerEm,\r\n    fboxsep: 3 / ptPerEm,               // From letter.dtx:1626\r\n    fboxrule: 0.4 / ptPerEm,               // From letter.dtx:1627\r\n};\r\n\r\n\r\n// These are very rough approximations.  We default to Times New Roman which\r\n// should have Latin-1 and Cyrillic characters, but may not depending on the\r\n// operating system.  The metrics do not account for extra height from the\r\n// accents.  In the case of Cyrillic characters which have both ascenders and\r\n// descenders we prefer approximations with ascenders, primarily to prevent\r\n// the fraction bar or root line from intersecting the glyph.\r\n// TODO(kevinb) allow union of multiple glyph metrics for better accuracy.\r\nconst extraCharacterMap = {\r\n    '\\u00a0': '\\u0020',     // NON-BREAKING SPACE is like space\r\n    '\\u200b': '\\u0020',     // ZERO WIDTH SPACE is like space\r\n    // Latin-1\r\n    'Å': 'A',\r\n    'Ç': 'C',\r\n    'Ð': 'D',\r\n    'Þ': 'o',\r\n    'å': 'a',\r\n    'ç': 'c',\r\n    'ð': 'd',\r\n    'þ': 'o',\r\n\r\n\r\n    // Cyrillic\r\n    'А': 'A',\r\n    'Б': 'B',\r\n    'В': 'B',\r\n    'Г': 'F',\r\n    'Д': 'A',\r\n    'Е': 'E',\r\n    'Ж': 'K',\r\n    'З': '3',\r\n    'И': 'N',\r\n    'Й': 'N',\r\n    'К': 'K',\r\n    'Л': 'N',\r\n    'М': 'M',\r\n    'Н': 'H',\r\n    'О': 'O',\r\n    'П': 'N',\r\n    'Р': 'P',\r\n    'С': 'C',\r\n    'Т': 'T',\r\n    'У': 'y',\r\n    'Ф': 'O',\r\n    'Х': 'X',\r\n    'Ц': 'U',\r\n    'Ч': 'h',\r\n    'Ш': 'W',\r\n    'Щ': 'W',\r\n    'Ъ': 'B',\r\n    'Ы': 'X',\r\n    'Ь': 'B',\r\n    'Э': '3',\r\n    'Ю': 'X',\r\n    'Я': 'R',\r\n    'а': 'a',\r\n    'б': 'b',\r\n    'в': 'a',\r\n    'г': 'r',\r\n    'д': 'y',\r\n    'е': 'e',\r\n    'ж': 'm',\r\n    'з': 'e',\r\n    'и': 'n',\r\n    'й': 'n',\r\n    'к': 'n',\r\n    'л': 'n',\r\n    'м': 'm',\r\n    'н': 'n',\r\n    'о': 'o',\r\n    'п': 'n',\r\n    'р': 'p',\r\n    'с': 'c',\r\n    'т': 'o',\r\n    'у': 'y',\r\n    'ф': 'b',\r\n    'х': 'x',\r\n    'ц': 'n',\r\n    'ч': 'n',\r\n    'ш': 'w',\r\n    'щ': 'w',\r\n    'ъ': 'a',\r\n    'ы': 'm',\r\n    'ь': 'a',\r\n    'э': 'e',\r\n    'ю': 'm',\r\n    'я': 'r',\r\n\r\n};\r\n\r\n/**\r\n * This function is a convenience function for looking up information in the\r\n * metricMap table. It takes a character as a string, and a font name.\r\n *\r\n * Note: the `width` property may be undefined if fontMetricsData.js wasn't\r\n * built using `Make extended_metrics`.\r\n * @param {string} character\r\n * @param {string} fontCode\r\n * @memberof module:fontMetrics\r\n * @private\r\n */\r\nconst getCharacterMetrics = function(character, fontCode) {\r\n    const fontName = {\r\n        'cal': 'Caligraphic-Regular',\r\n        'ams': 'AMS-Regular',\r\n        'frak': 'Fraktur-Regular',\r\n        'bb': 'AMS-Regular',\r\n        'scr': 'Script-Regular',\r\n        'cmr': 'Main-Regular',\r\n        'cmtt': 'Typewriter-Regular',\r\n        'cmss': 'SansSerif-Regular'\r\n    }[fontCode] || fontCode;\r\n    \r\n    // console.assert(character.length === 1);\r\n    // console.assert(metricMap[fontName], 'Unknown font \"' + fontName + '\"');\r\n\r\n    let ch = character.charCodeAt(0);\r\n\r\n    if (character[0] in extraCharacterMap) {\r\n        ch = extraCharacterMap[character[0]].charCodeAt(0);\r\n    } else if (cjkRegex.test(character[0])) {\r\n        ch = 77; // 'M'.charCodeAt(0);\r\n    }\r\n    const metrics = metricMap[fontName][ch];\r\n\r\n    if (!metrics) {\r\n        // console.warn(\r\n        //     'No metrics for ' +\r\n        //     '\"' + character + '\" (U+' + ('000000' + ch.toString(16)).substr(-6) + ')' +\r\n        //     ' in font \"' + fontName + '\"');\r\n        // Assume default values.\r\n        // depth + height should be less than 1.0 em\r\n        return {\r\n            defaultMetrics: true,\r\n            depth: .20,\r\n            height: .70,\r\n            italic: 0,\r\n            skew: 0\r\n        }\r\n    }\r\n\r\n    if (metrics) {\r\n        return {\r\n            depth: metrics[0],\r\n            height: metrics[1],\r\n            italic: metrics[2],\r\n            skew: metrics[3]\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {number|string} value If value is a string, it may be suffixed\r\n * with a unit, which will override the `unit` paramter\r\n * @param {string} unit\r\n * @param {number} precision\r\n * @private\r\n */\r\nfunction convertDimenToEm(value, unit, precision) {\r\n    if (typeof value === 'string') {\r\n        const m = value.match(/([-+]?[0-9.]*)\\s*([a-zA-Z]+)/);\r\n        if (!m) {\r\n            value = parseFloat(value);\r\n        } else {\r\n            value = parseFloat(m[1]);\r\n            unit = m[2].toLowerCase();\r\n        }\r\n    }\r\n\r\n    // If the units are missing, TeX assumes 'pt'\r\n    const f = {\r\n        'pt': 1.0,\r\n        'mm': 7227 / 2540,\r\n        'cm': 7227 / 254,\r\n        'ex': 35271 / 8192,\r\n        'px': 3.0 / 4.0,\r\n        'em': METRICS.ptPerEm,\r\n        'bp': 803 / 800,\r\n        'dd': 1238 / 1157,\r\n        'pc': 12.0,\r\n        'in': 72.27,\r\n        'mu': 10 / 18,\r\n\r\n    }[unit] || 1.0\r\n\r\n    if (isFinite(precision)) {\r\n        const factor = Math.pow(10, precision);\r\n        return Math.round((value / METRICS.ptPerEm) * f * factor) / factor;\r\n    }\r\n\r\n    return (value / METRICS.ptPerEm) * f;\r\n}\r\n\r\nfunction convertDimenToPx(value, unit) {\r\n    return convertDimenToEm(value, unit) * (4.0 / 3.0) * METRICS.ptPerEm;\r\n}\r\n\r\n\r\nexport default {\r\n    toEm : convertDimenToEm,\r\n    toPx: convertDimenToPx,\r\n    METRICS,\r\n    SIGMAS,\r\n    getCharacterMetrics\r\n}\r\n","/**\r\n * This file contains information and classes for the various kinds of styles\r\n * used in TeX, such as:\r\n * - `textstyle`: used for math that is displayed inline\r\n * - `scriptstyle`: used for math displayed in a superscript or subscript\r\n * - `scriptscriptstyle`: used for math displayed in the superscript or subscript\r\n * of a superscript or subscript.\r\n *\r\n * It provides a generic {@linkcode module:core/mathstyle#Mathstyle Mathstyle}\r\n * class which holds information about a specific style.\r\n *\r\n * It also provides instances of all the different kinds\r\n * of styles possible, and provides functions to move between them and get\r\n * information about them.\r\n * @module core/mathstyle\r\n * @private\r\n */\r\n\r\nimport {SIGMAS} from './fontMetrics.js';\r\n\r\nconst metrics = [{}, {}, {}]; /* textstyle, scriptstyle, scriptscriptstyle */\r\nlet i;\r\nfor (const key in SIGMAS) {\r\n    if (Object.prototype.hasOwnProperty.call(SIGMAS, key)) {\r\n        for (i = 0; i < 3; i++) {\r\n            metrics[i][key] = SIGMAS[key][i];\r\n        }\r\n    }\r\n}\r\nfor (i = 0; i < 3; i++) {\r\n    metrics[i].emPerEx = SIGMAS.xHeight[i] / SIGMAS.quad[i];\r\n}\r\n\r\n/**\r\n * @property {number} id unique id for the style\r\n * @property {number} size (which is the same for cramped and uncramped version\r\n * of a style)\r\n * @property {number}  size multiplier, which gives the size difference between\r\n * a style and textstyle.\r\n * @property {boolean}  cramped flag\r\n * @memberof module:core/mathstyle\r\n * @class module:core/mathstyle#Mathstyle\r\n * @private\r\n */\r\nclass Mathstyle {\r\n    constructor(id, size, multiplier, cramped) {\r\n        this.id = id;\r\n        this.size = size;\r\n        this.cramped = cramped;\r\n        this.sizeMultiplier = multiplier;\r\n        this.metrics = metrics[size > 0 ? size - 1 : 0];\r\n    }\r\n    /**\r\n     * Get the style of a superscript given a base in the current style.\r\n     * @method module:mathstyle.MathStyle#sup\r\n     * @private\r\n     */\r\n    sup() {\r\n        return styles[sup[this.id]];\r\n    }\r\n    /**\r\n     * Get the style of a subscript given a base in the current style.\r\n     * @method module:mathstyle.MathStyle#sub\r\n     * @private\r\n     */\r\n    sub() {\r\n        return styles[sub[this.id]];\r\n    }\r\n    /**\r\n     * Get the style of a fraction numerator given the fraction in the current\r\n     * style.\r\n     * @method module:mathstyle.MathStyle#fracNum\r\n     * @private\r\n     */\r\n    fracNum() {\r\n        return styles[fracNum[this.id]];\r\n    }\r\n    /**\r\n     * Get the style of a fraction denominator given the fraction in the current\r\n     * style.\r\n     * @method module:mathstyle.MathStyle#fracDen\r\n     * @private\r\n     */\r\n    fracDen() {\r\n        return styles[fracDen[this.id]];\r\n    }\r\n    /**\r\n     * Get the cramped version of a style (in particular, cramping a cramped style\r\n     * doesn't change the style).\r\n     * @method module:mathstyle.MathStyle#cramp\r\n     * @private\r\n     */\r\n    cramp() {\r\n        return styles[cramp[this.id]];\r\n    }\r\n    /**\r\n     * HTML class name, like `displaystyle cramped`\r\n     * @method module:mathstyle.MathStyle#cls\r\n     * @private\r\n     */\r\n    cls() {\r\n        return sizeNames[this.size];\r\n    }\r\n    /**\r\n     * HTML Reset class name, like 'reset-textstyle'\r\n     * @method module:mathstyle.MathStyle#adjustTo\r\n     * @private\r\n     */\r\n    adjustTo(newStyle) {\r\n        let result = ADJUST_NAMES[this.size][newStyle.size];\r\n        if (result.length > 0) result = ' ' + result;\r\n        return result;\r\n    }\r\n    /**\r\n     * Return if this style is tightly spaced (scriptstyle/scriptscriptstyle)\r\n     * @method module:mathstyle.MathStyle#isTight\r\n     * @private\r\n     */\r\n    isTight() {\r\n        return this.size >= 2;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// IDs of the different styles\r\nconst D = 0;\r\nconst Dc = 1;\r\nconst T = 2;\r\nconst Tc = 3;\r\nconst S = 4;\r\nconst Sc = 5;\r\nconst SS = 6;\r\nconst SSc = 7;\r\n\r\n// Instances of the different styles\r\nconst styles = [\r\n    new Mathstyle(D, 0, 1.0, false),\r\n    new Mathstyle(Dc, 0, 1.0, true),\r\n    new Mathstyle(T, 1, 1.0, false),\r\n    new Mathstyle(Tc, 1, 1.0, true),\r\n    new Mathstyle(S, 2, 0.7, false),\r\n    new Mathstyle(Sc, 2, 0.7, true),\r\n    new Mathstyle(SS, 3, 0.5, false),\r\n    new Mathstyle(SSc, 3, 0.5, true)\r\n];\r\n\r\n/**\r\n * Maps a string (or a Mathstyle) to an actual Mathstyle object.\r\n * @param {(Mathstyle|string)} s\r\n * @return {Mathstyle}\r\n * @memberof module:mathstyle\r\n * @private\r\n */\r\nfunction toMathstyle(s) {\r\n    if (!s) return s;\r\n\r\n    if (typeof s === 'object') return s;\r\n\r\n    const STYLE_NAMES = {\r\n        'displaystyle': styles[D],\r\n        'textstyle': styles[T],\r\n        'scriptstyle': styles[S],\r\n        'scriptscriptstyle': styles[SS]\r\n    }\r\n\r\n    console.assert(STYLE_NAMES[s], 'unknown style: \"', s, '\"');\r\n    return STYLE_NAMES[s];\r\n}\r\n\r\n\r\n\r\n// String names for the different sizes\r\nconst sizeNames = [\r\n    'displaystyle textstyle',\r\n    'textstyle',\r\n    'scriptstyle',\r\n    'scriptscriptstyle'\r\n];\r\n\r\n\r\nconst ADJUST_NAMES = [\r\n    [\r\n        '', // 'reset-textstyle displaystyle textstyle',\r\n        '', // 'reset-textstyle textstyle',\r\n        'reset-textstyle scriptstyle',\r\n        'reset-textstyle scriptscriptstyle'\r\n    ],\r\n\r\n    [\r\n        'reset-textstyle displaystyle textstyle',\r\n        '',        // 'reset-textstyle textstyle',\r\n        'reset-textstyle scriptstyle',\r\n        'reset-textstyle scriptscriptstyle'\r\n    ],\r\n\r\n    [\r\n        'reset-scriptstyle textstyle displaystyle',\r\n        'reset-scriptstyle textstyle',\r\n        '', // 'reset-scriptstyle scriptstyle',\r\n        'reset-scriptstyle scriptscriptstyle'\r\n    ],\r\n\r\n    [\r\n        'reset-scriptscriptstyle textstyle displaystyle',\r\n        'reset-scriptscriptstyle textstyle',\r\n        'reset-scriptscriptstyle scriptstyle',\r\n        '' // 'reset-scriptscriptstyle scriptscriptstyle'\r\n    ],\r\n];\r\n\r\n\r\n// Lookup tables for switching from one style to another\r\nconst sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];\r\nconst sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];\r\nconst fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];\r\nconst fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];\r\nconst cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];\r\n\r\n// We only export some of the styles. Also, we don't export the `Mathstyle`\r\n// class so no more styles can be generated.\r\nexport default {\r\n    DISPLAY: styles[D],\r\n    TEXT: styles[T],\r\n    SCRIPT: styles[S],\r\n    SCRIPTSCRIPT: styles[SS],\r\n    toMathstyle\r\n}\r\n\r\n\r\n\r\n","\r\nimport Mathstyle from './mathstyle.js';\r\n\r\n/**\r\n * This class contains the rendering context of the current parse level.\r\n *\r\n * It also holds information about the parent context to handle scaling\r\n * adjustments.\r\n *\r\n * When a new scope is entered, a clone of the context is created with `.clone()`\r\n * so that any further changes remain local to the scope.\r\n *\r\n * A scope is defined for example by:\r\n * - an explicit group enclosed in braces `{...}`\r\n * - a semi-simple group enclosed in `\\bgroup...\\endgroup`\r\n * - an environment delimited by `\\begin{<envname>}...\\end{<envname>}`\r\n *\r\n * @property {string} mathstyle `'text'` (aka 'inline'), `'display'`,\r\n * `'script'` or `'scriptscript'`\r\n * @property {number} opacity\r\n * @property {number} size\r\n * @property {boolean|object} generateID - If true, unique IDs should be\r\n * generated for each span so they can be mapped back to an atom.\r\n * Can also be an object with a `seed` field to generate a specific range of\r\n * IDs. Optionally, if a `groupNumbers` property is set to true, an additional\r\n * span will enclose strings of digits. This is used by read aloud to properly\r\n * pronounce (and highlight) numbers in expressions.\r\n * @property {string} parentMathstyle\r\n * @property {number} parentSize\r\n * @property {object} macros A macros dictionary\r\n *\r\n * @class Context\r\n * @global\r\n * @private\r\n */\r\nclass Context {\r\n    constructor(from) {\r\n        this.macros = from.macros || {};\r\n        this.generateID = from.generateID ? from.generateID : false;\r\n\r\n        this.mathstyle = Mathstyle.toMathstyle(from.mathstyle || 'displaystyle');\r\n        this.size = from.size || 'size5';   // medium size\r\n\r\n        this.parentMathstyle = from.parentMathstyle || this.mathstyle;\r\n        this.parentSize = from.parentSize || this.size;\r\n\r\n        this.opacity = from.opacity;\r\n    }\r\n\r\n    /**\r\n     * Returns a new context with the same properties as 'this'.\r\n     * @return {Context}\r\n     * @memberof Context\r\n     * @instance\r\n     * @private\r\n     */\r\n    clone(override) {\r\n        const result = new Context(this);\r\n        result.parentMathstyle = this.mathstyle;\r\n        result.parentSize = this.size;\r\n        result.macros = this.macros;\r\n        if (override) {\r\n            // `'auto'` (or undefined) to indicate that the mathstyle should in\r\n            // fact not be changed. This is used when specifying the mathstyle\r\n            // for some environments.\r\n            if (override.mathstyle === 'auto' || !override.mathstyle) {\r\n                delete override.mathstyle;\r\n            }\r\n            Object.assign(result, override);\r\n            if (typeof override.mathstyle === 'string') {\r\n                result.mathstyle = Mathstyle.toMathstyle(override.mathstyle);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Change the mathstyle of this context\r\n     * @param {string} value - `'auto'` to indicate that the mathstyle should in\r\n     * fact not be changed. This is used when specifying the mathstyle for some\r\n     * environments.\r\n     * @memberof Context\r\n     * @instance\r\n     * @private\r\n     */\r\n    setMathstyle(value) {\r\n        if (value && value !== 'auto') {\r\n            this.mathstyle = Mathstyle.toMathstyle(value);\r\n        }\r\n    }\r\n    cramp() {\r\n        return this.clone({'mathstyle': this.mathstyle.cramp()});\r\n    }\r\n    sup() {\r\n        return this.clone({'mathstyle': this.mathstyle.sup()});\r\n    }\r\n    sub() {\r\n        return this.clone({'mathstyle': this.mathstyle.sup()});\r\n    }\r\n}\r\n\r\nexport default {\r\n    Context\r\n}\r\n","/**\r\n * @module core/span\r\n * @private\r\n */\r\n\r\nimport FontMetrics from './fontMetrics.js';\r\n\r\n/**\r\n * Return a string made up of the concatenated arguments.\r\n * Each arguments can be either a string, which is unchanged,\r\n * or a number, which is converted to a string with at most 5 fractional digits.\r\n *\r\n * @param {(Array.<any>|string|number)} arg\r\n * @return {string}\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nfunction toString(arg) {\r\n    let result = '';\r\n    if (typeof arg === 'number') {\r\n        result += Math.floor(1e2 * arg) / 1e2;\r\n    } else if (typeof arg === 'string') {\r\n        result += arg;\r\n    } else if (Array.isArray(arg)) {\r\n        for (const elem of arg) {\r\n            result += toString(elem);\r\n        }\r\n    } else if (arg) {\r\n        result += arg.toString();\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n//----------------------------------------------------------------------------\r\n// SPAN\r\n//----------------------------------------------------------------------------\r\n/**\r\n * A span is the most elementary element that can be rendered.\r\n * It is composed of an optional body of text and an optional list\r\n * of children (other spans). Each span can be decorated with\r\n * CSS classes and style attributes.\r\n *\r\n * @param {string|Span|Span[]} content the items 'contained' by this node\r\n * @param {string} classes list of classes attributes associated with this node\r\n * @return {void}\r\n * @class\r\n * @memberof module:core/span\r\n * @property {string} type - For example, `'command'`, `'mrel'`, etc...\r\n * @property {string} classes - A string of space separated CSS classes\r\n * associated with this element\r\n * @property {string} cssID - A CSS ID assigned to this span (optional)\r\n * @property {Span[]} children - An array, potentially empty, of spans which\r\n * this span encloses\r\n * @property {string} body - Content of this span. Can be empty.\r\n * @property {Object.<string, any>} style - A set of key/value pairs specifying CSS properties\r\n * associated with this element.\r\n * @property {number} height - The measurement from baseline to top, in em.\r\n * @property {number} depth - The measurement from baseline to bottom, in em.\r\n * @private\r\n */\r\nexport class Span {\r\n    constructor(content, classes) {\r\n        // CLASSES\r\n        this.classes = classes || '';\r\n        // CONTENT\r\n        if (Array.isArray(content)) {\r\n            // Check if isArray first, since an array is also an object\r\n            // Flatten it (i.e. [[a1, a2], b1, b2] -> [a1, a2, b1, b2]\r\n            this.children = [].concat.apply([], content);\r\n        } else if (typeof content === 'string') {\r\n            this.body = content;\r\n        } else if (content && typeof content === 'object') {\r\n            this.children = [content];\r\n        }\r\n        // STYLE\r\n        // CSS style, as an array of key value pairs.\r\n        // Use this.setStyle() to modify it.\r\n        this.style = null;\r\n        // Calculate the dimensions of this span based on its children\r\n        this.updateDimensions();\r\n    }\r\n    /**\r\n     * Update the dimensions of this node based on its children:\r\n     * - height: distance from bottom to top\r\n     * - depth: distance from bottom to baseline\r\n     * - maxFontSize: a size multiplier (typically set with commands such as \\huge)\r\n     * @method module:core/span.Span#updateDimensions\r\n     * @private\r\n     */\r\n    updateDimensions() {\r\n        let height = 0.0;\r\n        let depth = 0.0;\r\n        let maxFontSize = 1.0;\r\n        if (this.children) {\r\n            this.children.forEach(x => {\r\n                if (x.height > height) height = x.height;\r\n                if (x.depth > depth) depth = x.depth;\r\n                if (x.maxFontSize > maxFontSize) maxFontSize = x.maxFontSize;\r\n            });\r\n        }\r\n        this.height = height;\r\n        this.depth = depth;\r\n        this.maxFontSize = maxFontSize;\r\n    }\r\n\r\n\r\n    selected(isSelected) {\r\n        if (isSelected && !/ML__selected/.test(this.classes)) {\r\n            if (this.classes.length > 0) this.classes += ' ';\r\n            this.classes += 'ML__selected';\r\n        }\r\n        if (!isSelected && /ML__selected/.test(this.classes)) {\r\n            this.classes = this.classes.replace('ML__selected', '');\r\n        }\r\n        if (this.children) {\r\n            this.children.forEach(x => x.selected(isSelected));\r\n        }\r\n    }\r\n    /**\r\n     * @param {object} style A style specification with the following\r\n     * (all optionals) properties, which use the TeX terminology:\r\n     *\r\n     * - fontFamily: cmr, cmss, cmtt, cmsy (symbols), cmex (large symbols),\r\n     *  ptm (times), phv (helvetica), pcr (courier)\r\n     * - fontSeries: m (medium), b (bold), bx (bold extended), sb (semi-bold), c (condensed)\r\n     * - fontShape:          italic, oblique, \"roman\": n (normal, upright), it, sl, sc\r\n     * - fontSize: 'size1', 'size2'...\r\n     * - color:\r\n     * - background:\r\n     * @private\r\n     */\r\n    applyStyle(style) {\r\n        if (!style) return;\r\n        if (style.color) {\r\n            if (style.color !== 'none') {\r\n                this.setStyle('color', style.color);\r\n            } else {\r\n                this.setStyle('color', '');\r\n            }\r\n        }\r\n        if (style.backgroundColor) {\r\n            if (style.backgroundColor !== 'none') {\r\n                this.setStyle('background-color', style.backgroundColor);\r\n            } else {\r\n                this.setStyle('background-color', '');\r\n            }\r\n        }\r\n\r\n        //\r\n        // 1. Add any custom style classes\r\n        //\r\n\r\n        if (style.cssClass) {\r\n            this.classes += ' ' + style.cssClass;\r\n        }\r\n\r\n        // If the body is null (for example for a line), we're done.\r\n        if (!this.body) return;\r\n\r\n        // Determine the appropriate font (and font-related classes)\r\n        //\r\n        // 2. Determine the font family (i.e. 'amsrm', 'mathit', 'mathcal', etc...)\r\n        //\r\n\r\n        let fontFamily = style.fontFamily;\r\n        if (fontFamily === 'math' && style.fontShape === 'n') {\r\n            // 'math' is italic by default. If we need upright, switch to main.\r\n            fontFamily = 'cmr';\r\n        }\r\n        let fontName = 'Main-Regular'; // Default font\r\n        if (fontFamily) {\r\n            fontName = getFontName(this.body, fontFamily);\r\n        }\r\n\r\n        //\r\n        // 3. Determine the classes necessary to represent the series and shape\r\n        //\r\n\r\n        if (style.fontShape) {\r\n            this.classes += ' ' + ({\r\n                'it': 'ML__it',\r\n                'sl': 'ML__shape_sl',     // slanted\r\n                'sc': 'ML__shape_sc',     // small caps\r\n                'ol': 'ML__shape_ol'      // outline\r\n            }[style.fontShape] || '');\r\n        }\r\n        if (style.fontSeries) {\r\n            const m = style.fontSeries.match(/(.?[lbm])?(.?[cx])?/);\r\n            if (m) {\r\n                this.classes += ' ' + ({\r\n                    'ul': 'ML__series_ul',\r\n                    'el': 'ML__series_el',\r\n                    'l': 'ML__series_l',\r\n                    'sl': 'ML__series_sl',\r\n                    'm': '',                // medium (default)\r\n                    'sb': 'ML__series_sb',\r\n                    'b': 'ML__bold',\r\n                    'eb': 'ML__series_eb',\r\n                    'ub': 'ML__series_ub',\r\n                }[m[1] || ''] || '');\r\n                this.classes += ' ' + ({\r\n                    'uc': 'ML__series_uc',\r\n                    'ec': 'ML__series_ec',\r\n                    'c': 'ML__series_c',\r\n                    'sc': 'ML__series_sc',\r\n                    'n': '',                // normal (default)\r\n                    'sx': 'ML__series_sx',\r\n                    'x': 'ML__series_x',\r\n                    'ex': 'ML__series_ex',\r\n                    'ux': 'ML__series_ux',\r\n                }[m[2] || ''] || '');\r\n            }\r\n        }\r\n\r\n        if (FONT_CLASS[fontFamily]) {\r\n            this.classes += ' ' + FONT_CLASS[fontFamily];\r\n        } else if (fontFamily) {\r\n            // Not a well-known family. Use a style.\r\n            this.setStyle('font-family', fontFamily);\r\n        }\r\n\r\n        //\r\n        // 3. Get the metrics information\r\n        //\r\n        if (this.body && this.body.length > 0 && fontName) {\r\n            this.height = 0.0;\r\n            this.depth = 0.0;\r\n            this.maxFontSize = {\r\n                size1: 0.5,\r\n                size2: 0.7,\r\n                size3: 0.8,\r\n                size4: 0.9,\r\n                size5: 1.0,\r\n                size6: 1.2,\r\n                size7: 1.44,\r\n                size8: 1.73,\r\n                size9: 2.07,\r\n                size10: 2.49,\r\n            }[style.fontSize] || 1.0;\r\n            this.skew = 0.0;\r\n            this.italic = 0.0;\r\n            for (let i = 0; i < this.body.length; i++) {\r\n                const metrics = FontMetrics.getCharacterMetrics(this.body.charAt(i), fontName);\r\n                // If we were able to get metrics info for this character, store it.\r\n                if (metrics) {\r\n                    this.height = Math.max(this.height, metrics.height);\r\n                    this.depth = Math.max(this.depth, metrics.depth);\r\n                    this.skew = metrics.skew;\r\n                    this.italic = metrics.italic;\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * Set the value of a CSS property associated with this span.\r\n     * For example, setStyle('border-right', 5.6, 'em');\r\n     *\r\n     * @param {string} prop the CSS property to set\r\n     * @param {...(string|number)} value a series of strings and numbers that will be concatenated.\r\n     * @return {string}\r\n     * @method module:core/span.Span#setStyle\r\n     * @private\r\n     */\r\n    setStyle(prop, ...value) {\r\n        const v = toString(value);\r\n        if (v.length > 0) {\r\n            if (!this.style) this.style = {};\r\n            this.style[prop] = v;\r\n        }\r\n    }\r\n\r\n    setTop(top) {\r\n        if (top && top !== 0) {\r\n            if (!this.style) this.style = {};\r\n            this.style['top'] = toString(top) + 'em';\r\n            this.height -= top;\r\n            this.depth += top;\r\n        }\r\n    }\r\n\r\n/**\r\n *\r\n * @param {number} left\r\n * @private\r\n */\r\n    setLeft(left) {\r\n        if (left && left !== 0) {\r\n            if (!this.style) this.style = {};\r\n            this.style['margin-left'] = toString(left) + 'em';\r\n        }\r\n    }\r\n/**\r\n *\r\n * @param {number} right\r\n * @private\r\n */\r\n    setRight(right) {\r\n        if (right && right !== 0) {\r\n            if (!this.style) this.style = {};\r\n            this.style['margin-right'] = toString(right) + 'em';\r\n        }\r\n    }\r\n    setWidth(width) {\r\n        if (width && width !== 0) {\r\n            if (!this.style) this.style = {};\r\n            this.style['width'] = toString(width) + 'em';\r\n        }\r\n    }\r\n\r\n    addMarginRight(margin) {\r\n        if (margin && margin !== 0) {\r\n            if (!this.style &&\r\n                !/qquad|quad|enspace|thickspace|mediumspace|thinspace|negativethinspace/.test(this.classes)) {\r\n                // Attempt to use a class instead of an explicit margin\r\n                const cls = {\r\n                    '2': 'qquad',\r\n                    '1': 'quad',\r\n                    '.5': 'enspace',\r\n                    '0.277778': 'thickspace',\r\n                    '0.222222': 'mediumspace',\r\n                    '0.166667': 'thinspace',\r\n                    '-0.166667': 'negativethinspace'\r\n                }[margin.toString()];\r\n                if (cls) {\r\n                    this.classes += ' rspace ' + cls;\r\n                    return;\r\n                }\r\n            }\r\n            if (!this.style) this.style = {};\r\n            const currentMargin = parseFloat(this.style['margin-right'] || '0');\r\n            this.style['margin-right'] = toString(currentMargin + margin) + 'em';\r\n        }\r\n    }\r\n    /**\r\n     * Generate the HTML markup to represent this span.\r\n     *\r\n     * @param {number} [hskip=0] - Space (in mu, 1/18em) to leave on the left side\r\n     * of the span. Implemented as a Unicode character if possible, a margin-left otherwise.\r\n     * @param {number} [hscale=1.0] - If a value is provided, the margins are scaled by\r\n     * this factor.\r\n     * @return {string} HTML markup\r\n     * @method module:core/span.Span#toMarkup\r\n     * @private\r\n     */\r\n    toMarkup(hskip, hscale) {\r\n        hskip = hskip || 0;\r\n        hscale = hscale || 1.0;\r\n        let result = '';\r\n        let body = this.body || '';\r\n        if (this.children) {\r\n            let previousType = 'none';\r\n            for (const child of this.children) {\r\n                let spacing = 0;\r\n                if (previousType) {\r\n                    let type = child.type;\r\n                    if (type) {\r\n                        if (type === 'textord') type = 'mord';\r\n                        if (type === 'first') type = 'none';\r\n                        if (child.isTight) {\r\n                            spacing = (INTER_ATOM_TIGHT_SPACING[previousType + '+' + type] || 0);\r\n                        } else {\r\n                            spacing = (INTER_ATOM_SPACING[previousType + '+' + type] || 0);\r\n                        }\r\n                        spacing = Math.floor(hscale * spacing);\r\n                    }\r\n                }\r\n                body += child.toMarkup(spacing, hscale);\r\n                previousType = lastSpanType(child);\r\n            }\r\n        }\r\n        // Collapse 'empty' spans\r\n        if ((body === '\\u200b' || !body) &&\r\n            (!this.classes || this.classes === 'ML__selected')) {\r\n            result = '';\r\n\r\n        } else {\r\n            // Note: We can't omit the tag, even if it has no class and no style,\r\n            // as some layouts (vlist) depends on the presence of the tag to function\r\n            result = '<span';\r\n\r\n            if (this.cssId) {\r\n                result += ' id=\"' + this.cssId + '\" '\r\n            }\r\n\r\n            if (this.svgOverlay) {\r\n                this.setStyle('position', 'relative');\r\n                this.setStyle('height', this.height + this.depth, 'em');\r\n                this.setStyle('vertical-align', -this.depth, 'em');\r\n            }\r\n\r\n            if (this.attributes) {\r\n                for (const attribute in this.attributes) {\r\n                    if (Object.prototype.hasOwnProperty.call(this.attributes, attribute)) {\r\n                        result += ' ' + attribute + '=\"' + this.attributes[attribute] + '\"';\r\n                    }\r\n                }\r\n            }\r\n\r\n            const classes = this.classes.split(' ');\r\n\r\n            // Add the type (mbin, mrel, etc...) if specified\r\n            if (this.type) {\r\n                if (/command|placeholder|error/.test(this.type)) {\r\n                    classes.push({\r\n                        'command': 'ML__command',\r\n                        'placeholder': 'ML__placeholder',\r\n                        'error': 'ML__error'\r\n                    }[this.type]);\r\n                }\r\n                if (this.caret && this.type === 'command') {\r\n                    classes.push('ML__command-caret');\r\n                }\r\n            }\r\n\r\n\r\n            // Remove duplicate and empty classes\r\n            let classList = '';\r\n            if (classes.length > 1) {\r\n                classList = classes.filter(function (x, e, a) {\r\n                    return x.length > 0 && a.indexOf(x) === e;\r\n                }).join(' ');\r\n            } else {\r\n                classList = classes[0];\r\n            }\r\n\r\n            if (classList.length > 0) {\r\n                result += ' class=\"' + classList + '\"';\r\n            }\r\n\r\n            // If a `hskip` value was provided, add it to the margin-left\r\n            if (hskip) {\r\n                if (this.style && this.style['margin-left']) {\r\n                    // There was already a margin, add to it\r\n                    this.style['margin-left'] =\r\n                        toString((parseFloat(this.style['margin-left']) + hskip / 18)) + 'em';\r\n                } else {\r\n                    // No margin yet. Can we encode it as a Unicode space?\r\n                    if (hskip < 0 && NEGATIVE_SPACING_CHARACTER[-hskip]) {\r\n                        body = NEGATIVE_SPACING_CHARACTER[-hskip] + body;\r\n                    } else if (SPACING_CHARACTER[hskip]) {\r\n                        body = SPACING_CHARACTER[hskip] + body;\r\n                    } else {\r\n                        if (!this.style) this.style = {};\r\n                        this.style['margin-left'] = toString(hskip / 18) + 'em';\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.style) {\r\n                let styleString = '';\r\n                const isSelected = /ML__selected/.test(this.classes);\r\n                for (const style in this.style) {\r\n                    if (Object.prototype.hasOwnProperty.call(this.style, style)) {\r\n                        // Render the style property, except the background\r\n                        // of selected spans\r\n                        if (style !== 'background-color' || !isSelected) {\r\n                            styleString += style + ':' + this.style[style] + ';';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (styleString.length > 0) {\r\n                    result += ' style=\"' + styleString + '\"';\r\n                }\r\n            }\r\n            result += '>';\r\n\r\n            // If there is some SVG markup associated with this span,\r\n            // include it now\r\n            if (this.svgOverlay) {\r\n                result += '<span style=\"';\r\n                result += 'display: inline-block;';\r\n                result += 'height:' + (this.height + this.depth) + 'em;';\r\n                result += 'vertical-align:' + this.depth + 'em;';\r\n                result += '\">';\r\n                result += body;\r\n                result += '</span>';\r\n                result += '<svg ';\r\n                // result += 'style=\"position:absolute;left:0;top:0;width:100%;height:100%;z-index:2;';\r\n                result += 'style=\"position:absolute;';\r\n                result += 'overflow:overlay;';\r\n                result += 'height:' + (this.height + this.depth) + 'em;';\r\n                result += 'transform:translateY(-' + Math.round(FontMetrics.toPx(this.depth, 'em') + FontMetrics.toPx(this.style.padding)) + 'px);';\r\n                if (this.style && this.style.padding) {\r\n                    result += 'top:' + this.style.padding + ';';\r\n                    result += 'left:' + this.style.padding + ';';\r\n                    result += 'width:calc(100% - 2 * ' + this.style.padding + ' );';\r\n                } else {\r\n                    result += 'top:0;';\r\n                    result += 'left:0;';\r\n                    result += 'width:100%;';\r\n                }\r\n                result += 'z-index:2;';\r\n                result += '\"';\r\n                if (this.svgStyle) {\r\n                    result += ' style=\"' + this.svgStyle + '\"';\r\n                }\r\n                result += '>';\r\n                result += this.svgOverlay;\r\n                result += '</svg>';\r\n            } else {\r\n                result += body;\r\n            }\r\n\r\n            result = result + '</span>';\r\n        }\r\n\r\n\r\n        if (this.caret && this.type !== 'command') {\r\n            if (this.caret === 'text') {\r\n                result = result + '<span class=\"ML__text-caret\"></span>';\r\n            } else {\r\n                result = result + '<span class=\"ML__caret\"></span>';\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Can this span be coalesced with 'span'?\r\n     * This is used to 'coalesce' (i.e. group together) a series of spans that are\r\n     * identical except for their value, and to avoid generating redundant spans.\r\n     * That is: '12' ->\r\n     *      \"<span class='mord mathrm'>12</span>\"\r\n     * rather than:\r\n     *      \"<span class='mord mathrm'>1</span><span class='mord mathrm'>2</span>\"\r\n     * @param {Span} span\r\n     * @return {boolean}\r\n     * @method module:core/span.Span#tryCoalesceWith\r\n     * @private\r\n     */\r\n    tryCoalesceWith(span) {\r\n        if (this.tag !== span.tag) return false;\r\n        if (this.type !== span.type) return false;\r\n        // Don't coalesce consecutive errors or placeholders\r\n        if (this.type === 'error' || this.type === 'placeholder' ||\r\n            this.type === 'command') return false;\r\n        // If this span or the candidate span have children, we can't\r\n        // coalesce them, but we'll try to coalesce their children\r\n        const hasChildren = this.children && this.children.length > 0;\r\n        const spanHasChildren = span.children && span.children.length > 0;\r\n        if (hasChildren || spanHasChildren) return false;\r\n        // If they have a different number of styles, can't coalesce\r\n        const thisStyleCount = this.style ? this.style.length : 0;\r\n        const spanStyleCount = span.style ? span.style.length : 0;\r\n        if (thisStyleCount !== spanStyleCount) return false;\r\n        // For the purpose of our comparison,\r\n        // any 'empty' classes (whitespace)\r\n        const classes = this.classes.trim().replace(/\\s+/g, ' ')\r\n            .split(' ');\r\n        const spanClasses = span.classes.trim().replace(/\\s+/g, ' ')\r\n            .split(' ');\r\n        // If they have a different number of classes, can't coalesce\r\n        if (classes.length !== spanClasses.length) return false;\r\n        // OK, let's do the more expensive comparison now.\r\n        // If they have different classes, can't coalesce\r\n        classes.sort();\r\n        spanClasses.sort();\r\n        for (let i = 0; i < classes.length; i++) {\r\n            // Don't coalesce vertical separators\r\n            // (used in column formating with {l||r} for example\r\n            if (classes[i] === 'vertical-separator') return false;\r\n            if (classes[i] !== spanClasses[i]) return false;\r\n        }\r\n        // If the styles are different, can't coalesce\r\n        if (this.style && span.style) {\r\n            for (const style in this.style) {\r\n                if (Object.prototype.hasOwnProperty.call(this.style, style) &&\r\n                    Object.prototype.hasOwnProperty.call(span.style, style)) {\r\n                    if (this.style[style] !== span.style[style]) return false;\r\n                }\r\n            }\r\n        }\r\n        // OK, the attributes of those spans are compatible.\r\n        // Merge span into this\r\n        this.body += span.body;\r\n        this.height = Math.max(this.height, span.height);\r\n        this.depth = Math.max(this.depth, span.depth);\r\n        this.maxFontSize = Math.max(this.maxFontSize, span.maxFontSize);\r\n        // The italic correction for the coalesced spans is the\r\n        // italic correction of the last span.\r\n        this.italic = span.italic;\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Return HTML markup representing this span, its style, classes and\r\n * children.\r\n *\r\n * @param {number} [hskip] amount of whitespace to insert before this element\r\n * This is used to adjust the inter-spacing between spans of different types,\r\n * e.g. 'bin' and 'rel', according to the TeX rules.\r\n * @alias module:core/span.INTER_ATOM_SPACING\r\n * @private\r\n */\r\nconst INTER_ATOM_SPACING = {\r\n    'mord+mop':            3,\r\n    'mord+mbin':           4,\r\n    'mord+mrel':           5,\r\n    'mord+minner':         3,\r\n\r\n    'mop+mord':             3,\r\n    'mop+mop':              3,\r\n    'mop+mbin':             5,\r\n    'mop+minner':           3,\r\n\r\n    'mbin+mord':            4,\r\n    'mbin+mop':             4,\r\n    'mbin+mopen':           4,\r\n    'mbin+minner':          4,\r\n\r\n    'mrel+mord':            5,\r\n    'mrel+mop':             5,\r\n    'mrel+mopen':           5,\r\n    'mrel+minner':          5,\r\n\r\n    'mclose+mop':           3,\r\n    'mclose+mbin':          4,\r\n    'mclose+mrel':          5,\r\n    'mclose+minner':        3,\r\n\r\n    'mpunct+mord':          3,\r\n    'mpunct+mop':           3,\r\n    'mpunct+mbin':          4,\r\n    'mpunct+mrel':          5,\r\n    'mpunct+mopen':         3,\r\n    'mpunct+mpunct':        3,\r\n    'mpunct+minner':        3\r\n}\r\n\r\n\r\n// See https://www.w3.org/TR/2000/WD-MathML2-20000328/chapter6.html\r\n// 6.1.4 Non-Marking Characters\r\nconst SPACING_CHARACTER = [\r\n    '\\u200b',            // 0/18 ZERO-WIDTH SPACE\r\n    '\\u200a',            // 1/18 HAIR SPACE\r\n    '\\u200a\\u200a',      // 2/18\r\n    '\\u2009',            // 3/18 THIN SPACE\r\n    '\\u205f',            // 4/18 MEDIUM MATHEMATICAL SPACE\r\n    '\\u205f\\u200a',      // 5/18 MEDIUM MATHEMATICAL SPACE + HAIR SPACE\r\n    '\\u2004',            // 6/18 THREE-PER-EM SPACE   1/3em\r\n    '',\r\n    '',\r\n    '\\u2002'             // 9/18 EN SPACE 1/2em = 9/18\r\n];\r\nconst NEGATIVE_SPACING_CHARACTER = [\r\n    '',\r\n    '\\u200a\\u2063',     // -1/18\r\n    '',\r\n    '\\u2009\\u2063',     // -3/18\r\n    '\\u205f\\u2063',     // -4/18\r\n    '\\u2005\\u2063'      // -5/18\r\n];\r\n\r\n/**\r\n *\r\n * @alias module:core/span.INTER_ATOM_TIGHT_SPACING\r\n * @private\r\n */\r\nconst INTER_ATOM_TIGHT_SPACING = {\r\n    'mord+mop':             3,\r\n    'mop+mord':             3,\r\n    'mop+mop':              3,\r\n    'mclose+mop':           3,\r\n    'minner+mop':           3\r\n}\r\n\r\nfunction lastSpanType(span) {\r\n    const result = span.type;\r\n    if (result === 'first') return 'none';\r\n    if (result === 'textord') return 'mord';\r\n    return result;\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * Attempts to coalesce (merge) spans, for example consecutive text spans.\r\n * Return a new tree with coalesced spans.\r\n *\r\n * @param {Span[]} spans\r\n * @return {Span[]} coalesced tree\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nfunction coalesce(spans) {\r\n    if (!spans || spans.length === 0) return [];\r\n\r\n    spans[0].children = coalesce(spans[0].children);\r\n    const result = [spans[0]];\r\n\r\n    for (let i = 1; i < spans.length; i++) {\r\n        if (!result[result.length - 1].tryCoalesceWith(spans[i])) {\r\n            spans[i].children = coalesce(spans[i].children);\r\n            result.push(spans[i]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n//----------------------------------------------------------------------------\r\n// UTILITY FUNCTIONS\r\n//----------------------------------------------------------------------------\r\n\r\nfunction height(spans) {\r\n    if (!spans) return 0;\r\n    if (Array.isArray(spans)) {\r\n        return spans.reduce((acc, x) => Math.max(acc, x.height), 0);\r\n    }\r\n    return spans.height;\r\n}\r\n\r\nfunction depth(spans) {\r\n    if (!spans) return 0;\r\n    if (Array.isArray(spans)) {\r\n        return spans.reduce((acc, x) => Math.max(acc, x.depth), 0);\r\n    }\r\n    return spans.depth;\r\n}\r\n\r\n\r\nfunction skew(spans) {\r\n    if (!spans) return 0;\r\n    if (Array.isArray(spans)) {\r\n        let result = 0;\r\n        for (const span of spans) {\r\n            result += span.skew || 0;\r\n        }\r\n        return result;\r\n    }\r\n    return spans.skew;\r\n}\r\n\r\nfunction italic(spans) {\r\n    if (!spans) return 0;\r\n    if (Array.isArray(spans)) {\r\n        return spans[spans.length - 1].italic;\r\n    }\r\n    return spans.italic;\r\n}\r\n\r\n\r\n/**\r\n * Make an element made of a sequence of children with classes\r\n * @param {(string|Span|Span[])} content the items 'contained' by this node\r\n * @param {string} classes list of classes attributes associated with this node\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nexport function makeSpan(content, classes) {\r\n    if (Array.isArray(content)) {\r\n        const c = [];\r\n        for (const s of content) {\r\n            if (s) c.push(s);\r\n        }\r\n        if (c.length === 1) {\r\n            return makeSpan(c[0], classes);\r\n        }\r\n    }\r\n    return new Span(content, classes);\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {string} fontFamily\r\n * @param {string} symbol\r\n * @param {string} classes\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nfunction makeSymbol(fontFamily, symbol, classes) {\r\n    const result = new Span(symbol, classes);\r\n\r\n    const metrics = FontMetrics.getCharacterMetrics(symbol, fontFamily);\r\n    result.height = metrics.height;\r\n    result.depth = metrics.depth;\r\n    result.skew = metrics.skew;\r\n    result.italic = metrics.italic;\r\n\r\n    result.setRight(result.italic);\r\n\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Makes an element placed in each of the vlist elements to ensure that each\r\n * element has the same max font size. To do this, we create a zero-width space\r\n * with the correct font size.\r\n//  * Note: without this, even when fontSize = 0, the fraction bar is no\r\n//  * longer positioned correctly\r\n * @return {Span}\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nfunction makeFontSizer(context, fontSize) {\r\n    const fontSizeAdjustment = fontSize ? fontSize / context.mathstyle.sizeMultiplier : 0;\r\n    const fontSizeInner = new Span('\\u200b');    // ZERO WIDTH SPACE\r\n\r\n    if (fontSizeAdjustment !== 1) {\r\n        fontSizeInner.setStyle('font-size',\r\n            fontSizeAdjustment,\r\n            (fontSizeAdjustment > 0) ? 'em' : '');\r\n        fontSizeInner.attributes = {\r\n            \"aria-hidden\": true\r\n        }\r\n    }\r\n\r\n    if (context.size !== 'size5') {\r\n        return new Span(fontSizeInner,\r\n            'fontsize-ensurer reset-' + context.size + ' size5');\r\n    }\r\n    return (fontSizeAdjustment !== 0) ? fontSizeInner : null;\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} type One of 'mbin', 'mop', 'mord', 'mrel' 'mclose',\r\n * 'mpunct', 'minner'\r\n * @param {string|Span[]} content A string or an array of other Spans\r\n * @param {string} classes CSS classes decorating this span\r\n * See https://tex.stackexchange.com/questions/81752/\r\n * for a thorough description of the TeXt atom type and their relevance to\r\n * proper kerning.\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nfunction makeSpanOfType(type, content, classes) {\r\n    const result = makeSpan(content, classes);\r\n    result.type = type;\r\n    return result;\r\n}\r\n\r\nfunction makeOp(content, classes) {\r\n    return makeSpanOfType('mop', content, classes);\r\n}\r\n\r\nexport function makeOrd(content, classes) {\r\n    return makeSpanOfType('mord', content, classes);\r\n}\r\n\r\nfunction makeRel(content, classes) {\r\n    return makeSpanOfType('mrel', content, classes);\r\n}\r\n\r\nfunction makeClose(content, classes) {\r\n    return makeSpanOfType('mclose', content, classes);\r\n}\r\n\r\nfunction makeOpen(content, classes) {\r\n    return makeSpanOfType('mopen', content, classes);\r\n}\r\n\r\nexport function makeInner(content, classes) {\r\n    return makeSpanOfType('minner', content, classes);\r\n}\r\n\r\nfunction makePunct(content, classes) {\r\n    return makeSpanOfType('mpunct', content, classes);\r\n}\r\n\r\n\r\nfunction makeStyleWrap(type, children, fromStyle, toStyle, classes) {\r\n    classes = classes || '';\r\n    classes += ' style-wrap ';\r\n\r\n    const result = makeHlist(children, classes + fromStyle.adjustTo(toStyle));\r\n    result.type = type;\r\n\r\n    const multiplier = toStyle.sizeMultiplier / fromStyle.sizeMultiplier;\r\n\r\n    result.height *= multiplier;\r\n    result.depth *= multiplier;\r\n    result.maxFontSize = toStyle.sizeMultiplier;\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Add some SVG markup to be overlaid on top of the span\r\n *\r\n * @param {Span} body\r\n * @param {string} svgMarkup\r\n * @private\r\n */\r\nfunction makeSVG(body, svgMarkup, svgStyle) {\r\n    body.svgOverlay = svgMarkup;\r\n    body.svgStyle = svgStyle;\r\n    return body;\r\n}\r\n\r\n/**\r\n *\r\n * @param {Span|Span[]} spans\r\n * @param {string} classes\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nexport function makeHlist(spans, classes) {\r\n    if (!classes || classes.length === 0) {\r\n        // No decorations...\r\n        if (spans instanceof Span) {\r\n            // A single span, use it as the output\r\n            return spans;\r\n        } else if (Array.isArray(spans) && spans.length === 1) {\r\n            // An array, with a single span, use the single span as the output\r\n            return spans[0]\r\n        }\r\n    }\r\n    const result = new Span(spans, classes);\r\n\r\n    let multiplier = 1.0;\r\n    if (spans instanceof Span) {\r\n        multiplier = spans.maxFontSize;\r\n    } else {\r\n        multiplier = spans.reduce((acc, x) => Math.max(acc, x.maxFontSize), 0);\r\n    }\r\n    result.height *= multiplier;\r\n    result.depth *= multiplier;\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Create a new span of type `vlist`, a set of vertically stacked items\r\n * @param {Context} context\r\n * @param {Array.<(number|Span)>} elements\r\n * An array of Span and integer. The integer can be either some kerning information\r\n * or the value of an individual shift of the preceding child if in 'individualShift' mode\r\n * @param {string} pos The method that will be used to position the elements in the vlist.\r\n *\r\n * One of:\r\n * - `\"individualShift\"`: each child must be followed by a number indicating how much to shift it (i.e. moved downwards)\r\n * - `\"top\"`: posData specifies the topmost point of the vlist (>0 move up)\r\n * - `\"bottom\"`: posData specifies the bottommost point of the vlist (>0 move down)\r\n * - `\"shift\"`: the baseline of the vlist will be positioned posData away from the baseline\r\n * of the first child. (>0 moves down)\r\n * @param {number} posData\r\n * @memberof module:core/span\r\n * @private\r\n */\r\nexport function makeVlist(context, elements, pos, posData) {\r\n    let listDepth = 0;\r\n    let currPos = 0;\r\n    pos = pos || 'shift';\r\n    posData = posData || 0;\r\n\r\n    // Normalize the elements so that they're all either a number or\r\n    // a single span. If a child is an array of spans,\r\n    // wrap it in a span\r\n    for (let i = 0; i < elements.length; i++) {\r\n        if (Array.isArray(elements[i])) {\r\n            if (elements[i].length === 1) {\r\n                // If that's an array made up of a single span, use that span\r\n                elements[i] = elements[i][0];\r\n            } else {\r\n                // Otherwise, wrap it in a span\r\n                elements[i] = makeSpan(elements[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (pos === 'shift') {\r\n        listDepth = -elements[0].depth - posData;\r\n    } else if (pos === 'bottom') {\r\n        listDepth = -posData;\r\n    } else if (pos === 'top') {\r\n        let bottom = posData;\r\n        for (const element of elements) {\r\n            if (element instanceof Span) {\r\n                // It's a Span, use the dimension data\r\n                bottom -= element.height + element.depth;\r\n            } else {\r\n                // It's a kern adjustment\r\n                bottom -= element;\r\n            }\r\n        }\r\n        listDepth = bottom;\r\n    } else if (pos === 'individualShift') {\r\n        // Individual adjustment to each elements.\r\n        // The elements list is made up of a Span followed\r\n        // by a shift adjustment as an integer\r\n        const originalElements = elements;\r\n        elements = [originalElements[0]];\r\n\r\n        // Add in kerns to the list of elements to get each element to be\r\n        // shifted to the correct specified shift\r\n        listDepth = -originalElements[1] - originalElements[0].depth;\r\n        currPos = listDepth;\r\n        for (let i = 2; i < originalElements.length; i += 2) {\r\n            const diff = -originalElements[i + 1] - currPos -\r\n                originalElements[i].depth;\r\n            currPos = currPos + diff;\r\n\r\n            const kern = diff -\r\n                (originalElements[i - 2].height + originalElements[i - 2].depth);\r\n\r\n            elements.push(kern);\r\n            elements.push(originalElements[i]);\r\n        }\r\n    } else {\r\n        console.assert(false, 'makeVList with unknown method: \"' + pos + '\"');\r\n    }\r\n\r\n    // Make the fontSizer\r\n    let maxFontSize = 1.0;\r\n    for (const element of elements) {\r\n        if (element instanceof Span) {\r\n            maxFontSize = Math.max(maxFontSize, element.maxFontSize);\r\n        }\r\n    }\r\n    const fontSizer = makeFontSizer(context, maxFontSize);\r\n\r\n    const newElements = [];\r\n    currPos = listDepth;\r\n    for (const element of elements) {\r\n        if (typeof element === 'number') {\r\n            // It's a kern adjustment\r\n            currPos += element;\r\n        } else {\r\n            const wrap = makeSpan([fontSizer, element]);\r\n            wrap.setTop(-element.depth - currPos);\r\n            newElements.push(wrap);\r\n            currPos += element.height + element.depth;\r\n        }\r\n    }\r\n\r\n    const result = makeSpan(newElements, 'vlist');\r\n\r\n    // Fix the final height and depth, in case there were kerns at the ends\r\n    // since makeSpan won't take that into account.\r\n    result.depth = Math.max(listDepth, depth(result) || 0);\r\n    result.height = Math.max(-currPos, height(result) || 0);\r\n\r\n    return result;\r\n}\r\n\r\n// /**\r\n//  *\r\n//  * @param {Span|Span[]} base\r\n//  * @param {number} strutHeight\r\n//  * @param {number} strutDepth\r\n//  */\r\n// function makeStrut(base, strutHeight, strutDepth) {\r\n//     return [base];\r\n//     const topStrut = makeSpan(null, 'ML__strut');\r\n//     topStrut.height = strutHeight || 0;\r\n//     topStrut.depth = 0;\r\n//     topStrut.setStyle('height', strutHeight, 'em');\r\n\r\n//     const bottomStrut = makeSpan(null, 'ML__strut--bottom');\r\n//     bottomStrut.height = strutHeight || 0;\r\n//     bottomStrut.depth = strutDepth || 0;\r\n//     bottomStrut.setStyle('height', strutHeight + strutDepth, 'em');\r\n//     if (strutDepth) {\r\n//         bottomStrut.setStyle('vertical-align', -strutDepth, 'em');\r\n//     }\r\n\r\n//     if (Array.isArray(base)) {\r\n//         base.unshift(topStrut);\r\n//         base.unshift(bottomStrut);\r\n//         return base;\r\n//     }\r\n//     return makeOrd([topStrut, bottomStrut, base]);\r\n// }\r\n\r\n\r\n\r\n//----------------------------------------------------------------------------\r\n// FONTS\r\n//----------------------------------------------------------------------------\r\n\r\n// Map an abstract 'fontFamily' to an actual font name\r\nconst FONT_NAME = {\r\n    'ams':          'AMS-Regular',\r\n    'bb':           'AMS-Regular',\r\n    'cal':          'Caligraphic-Regular',\r\n    'frak':         'Fraktur-Regular',\r\n    'scr':          'Script-Regular',\r\n    'cmr':          'Main-Regular',\r\n    'cmss':         'SansSerif-Regular',\r\n    'cmtt':         'Typewriter-Regular',\r\n    'math':         'Math-Regular',\r\n    'mainit':       'Main-Italic',\r\n\r\n};\r\n\r\nconst FONT_CLASS = {\r\n    'ams':          'ML__ams',\r\n    'bb':           'ML__bb',\r\n    'cal':          'ML__cal',\r\n    'frak':         'ML__frak',\r\n    'scr':          'ML__script',\r\n    'cmr':          'ML__mathrm',\r\n    'cmss':         'ML__sans',\r\n    'cmtt':         'ML__tt',\r\n    'math':         'ML__mathit',\r\n    'mainit':       'ML__mainit',\r\n}\r\n\r\n\r\n\r\n/**\r\n * Given a font family ('frak', 'math'...) return a corresponding\r\n * font name. If the font does not support the specified symbol\r\n * return an alternate font or null if none could be determined.\r\n * @param {(string|Span[])} symbol the character for which we're seeking the font\r\n * @param {string} fontFamily such as 'mathbf', 'mathfrak', etc...\r\n * @return {string} a font name\r\n * @memberof module:span\r\n * @private\r\n */\r\nfunction getFontName(symbol, fontFamily) {\r\n    // If this is not a single char, just do a simple fontFamily -> fontName mapping\r\n    if (typeof symbol !== 'string' ||\r\n        symbol.length > 1 ||\r\n        symbol === '\\u200b') {\r\n        return FONT_NAME[fontFamily];\r\n    }\r\n\r\n    // This is a single character. Do some remapping as necessary.\r\n\r\n    // If symbol is not in the repertoire of the font,\r\n    // return null.\r\n    if (fontFamily === 'bb' || fontFamily === 'scr') {\r\n        // These fonts only support [A-Z ]\r\n        if (!/^[A-Z ]$/.test(symbol)) return null;\r\n\r\n    } else if (fontFamily === 'cal') {\r\n        // Only supports uppercase latin and digits\r\n        if (!/^[0-9A-Z ]$/.test(symbol)) return null;\r\n\r\n    } else if (fontFamily === 'frak') {\r\n        if (!/^[0-9A-Za-z ]$|^[!\"#$%&'()*+,\\-./:;=?[]^’‘]$/.test(symbol)) {\r\n            return null;\r\n        }\r\n    } else if (fontFamily === 'cmtt' || fontFamily === 'cmss') {\r\n        if (!/^[0-9A-Za-z ]$|^[!\"&'()*+,\\-./:;=?@[]^_~\\u0131\\u0237\\u0393\\u0394\\u0398\\u039b\\u039e\\u03A0\\u03A3\\u03A5\\u03A8\\u03a9’‘]$/.test(symbol)) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    return FONT_NAME[fontFamily];\r\n}\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n    coalesce,\r\n    makeSpan,\r\n    makeOp,\r\n    makeOrd,\r\n    makeRel,\r\n    makeClose,\r\n    makeOpen,\r\n    makeInner,\r\n    makePunct,\r\n\r\n    makeSpanOfType,\r\n    makeSymbol,\r\n    makeVlist,\r\n    makeHlist,\r\n    makeStyleWrap,\r\n\r\n    // makeStrut,\r\n\r\n    makeSVG,\r\n\r\n    height,\r\n    depth,\r\n    skew,\r\n    italic\r\n}\r\n\r\n\r\n","/**\r\n * This module contains the definitions of all the symbols and commands, for\r\n * example `\\alpha`, `\\sin`, `\\mathrm`.\r\n * There are a few exceptions with some \"built-in\" commands that require\r\n * special parsing such as `\\char`.\r\n * @module core/definitions\r\n * @private\r\n */\r\nimport FontMetrics from './fontMetrics.js';\r\n\r\n\r\n/**\r\n * To organize the symbols when generating the documentation, we\r\n * keep track of a category that gets assigned to each symbol.\r\n * @private\r\n */\r\nlet category = '';\r\n\r\nconst MATH_SYMBOLS = {};\r\n\r\nconst FUNCTIONS = {};\r\n\r\nconst ENVIRONMENTS = {};\r\n\r\nconst MACROS = {\r\n    'iff':      '\\\\;\\u27fa\\\\;',         //>2,000 Note: additional spaces around the arrows\r\n    'nicefrac': '^{#1}\\\\!\\\\!/\\\\!_{#2}',\r\n\r\n    // From bracket.sty, Diract notation\r\n    'bra':      '\\\\mathinner{\\\\langle{#1}|}',\r\n    'ket':      '\\\\mathinner{|{#1}\\\\rangle}',\r\n    'braket':   '\\\\mathinner{\\\\langle{#1}\\\\rangle}',\r\n    'set':      '\\\\mathinner{\\\\lbrace #1 \\\\rbrace}',\r\n    'Bra':      '\\\\left\\\\langle #1\\\\right|',\r\n    'Ket':      '\\\\left|#1\\\\right\\\\rangle',\r\n    'Braket':   '\\\\left\\\\langle{#1}\\\\right\\\\rangle',\r\n    'Set':      '\\\\left\\\\lbrace #1 \\\\right\\\\rbrace',\r\n\r\n};\r\n\r\n\r\nconst RIGHT_DELIM = {\r\n    '(':        ')',\r\n    '{':        '}',\r\n    '[':        ']',\r\n    '|':        '|',\r\n    '\\\\lbrace': '\\\\rbrace',\r\n    '\\\\{':      '\\\\}',\r\n    '\\\\langle': '\\\\rangle',\r\n    '\\\\lfloor': '\\\\rfloor',\r\n    '\\\\lceil':  '\\\\rceil',\r\n    '\\\\vert':   '\\\\vert',\r\n    '\\\\lvert':  '\\\\rvert',\r\n    '\\\\Vert':   '\\\\Vert',\r\n    '\\\\lVert':  '\\\\rVert',\r\n    '\\\\lbrack': '\\\\rbrack',\r\n    '\\\\ulcorner':   '\\\\urcorner',\r\n    '\\\\llcorner':   '\\\\lrcorner',\r\n    '\\\\lgroup': '\\\\rgroup',\r\n    '\\\\lmoustache': '\\\\rmoustache'\r\n}\r\n\r\n\r\n// Frequency of a symbol.\r\n// String constants corresponding to frequency values,\r\n// which are the number of results returned by latexsearch.com\r\n// When the precise number is known, it is provided. Otherwise,\r\n// the following constants are used to denote an estimate.\r\nconst CRYPTIC = 'CRYPTIC';\r\nconst ARCANE = 'ARCANE';\r\n// const VERY_RARE = 'VERY_RARE';\r\nconst RARE = 'RARE';\r\nconst UNCOMMON = 'UNCOMMON';\r\nconst COMMON = 'COMMON';\r\nconst SUPERCOMMON = 'SUPERCOMMON';\r\n\r\n/**\r\n * @type {Object.<string, number>}\r\n * @private\r\n */\r\nconst FREQUENCY_VALUE = {\r\n    'CRYPTIC': 0,\r\n    'ARCANE': 200,\r\n    'VERY_RARE': 600,\r\n    'RARE': 1200,\r\n    'UNCOMMON': 2000,\r\n    'COMMON': 3000,\r\n    'SUPERCOMMON': 4000\r\n}\r\n\r\n\r\n/**\r\n * Set the frequency of the specified symbol.\r\n * Default frequency is UNCOMMON\r\n * The argument list is a frequency value, followed by one or more symbol strings\r\n * For example:\r\n *  frequency(COMMON , '\\\\sin', '\\\\cos')\r\n * @param {string|number} value The frequency as a string constant,\r\n * or a numeric value [0...2000]\r\n * @param {...string}\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction frequency(value, ...symbols) {\r\n    const v = typeof value === 'string' ? FREQUENCY_VALUE[value] : value;\r\n\r\n    for (const symbol of symbols) {\r\n        if (MATH_SYMBOLS[symbol]) {\r\n            MATH_SYMBOLS[symbol].frequency = v;\r\n        }\r\n        if (FUNCTIONS[symbol]) {\r\n            // Make a copy of the entry, since it could be shared by multiple\r\n            // symbols\r\n            FUNCTIONS[symbol] = Object.assign({}, FUNCTIONS[symbol]);\r\n            FUNCTIONS[symbol].frequency = v;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param {string} latexName    The common LaTeX command for this symbol\r\n * @param {(string|string[])} mode\r\n * @param {string} fontFamily\r\n * @param {string} type\r\n * @param {string} value\r\n * @param {(number|string)} [frequency]\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction defineSymbol(latexName, fontFamily, type, value, frequency) {\r\n    if (fontFamily && !/^(ams|cmr|bb|cal|frak|scr)$/.test(fontFamily)) {\r\n        console.log(fontFamily, latexName);\r\n    }\r\n    // Convert a frequency constant to a numerical value\r\n    if (typeof frequency === 'string') frequency = FREQUENCY_VALUE[frequency];\r\n    MATH_SYMBOLS[latexName] = {\r\n        type: type === ORD ? MATHORD : type,\r\n        baseFontFamily: fontFamily,\r\n        value: value,\r\n        category: category,         // To group items when generating the documentation\r\n        frequency: frequency\r\n    };\r\n}\r\n\r\n\r\n\r\n/**\r\n * Define a set of single-character symbols and all their attributes.\r\n * The value associated with the symbol is the symbol itself.\r\n * @param {string} string a string of single character symbols\r\n * @param {string} mode\r\n * @param {string} fontFamily\r\n * @param {string} type\r\n * @param {(string|number)} [frequency]\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction defineSymbols(string) {\r\n    for (let i = 0; i < string.length; i++) {\r\n        const ch = string.charAt(i);\r\n        defineSymbol(ch, '', MATHORD, ch);\r\n    }\r\n}\r\n\r\n/**\r\n * Define a set of single-character symbols as a range of Unicode codepoints\r\n * @param {number} from First Unicode codepoint\r\n * @param {number} to Last Unicode codepoint\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction defineSymbolRange(from, to) {\r\n    for (let i = from; i <= to; i++) {\r\n        const ch = String.fromCodePoint(i);\r\n        defineSymbol(ch, '', 'mord', ch);\r\n    }\r\n}\r\n\r\n\r\nconst CODEPOINT_SHORTCUTS = {\r\n    8739:   '|',\r\n    0x00b7: '\\\\cdot',\r\n    0x00bc: '\\\\frac{1}{4}',\r\n    0x00bd: '\\\\frac{1}{2}',\r\n    0x00be: '\\\\frac{3}{4}',\r\n    0x2070: '^{0}',\r\n    0x2071: '^{i}',\r\n    0x00b9: '^{1}',\r\n    0x00b2: '^{2}',\r\n    0x00b3: '^{3}',\r\n    0x2074: '^{4}',\r\n    0x2075: '^{5}',\r\n    0x2076: '^{6}',\r\n    0x2077: '^{7}',\r\n    0x2078: '^{8}',\r\n    0x2079: '^{9}',\r\n    0x207a: '^{+}',\r\n    0x207b: '^{-}',\r\n    0x207c: '^{=}',\r\n    0x207f: '^{n}',\r\n\r\n    0x2080: '_{0}',\r\n    0x2081: '_{1}',\r\n    0x2082: '_{2}',\r\n    0x2083: '_{3}',\r\n    0x2084: '_{4}',\r\n    0x2085: '_{5}',\r\n    0x2086: '_{6}',\r\n    0x2087: '_{7}',\r\n    0x2088: '_{8}',\r\n    0x2089: '_{9}',\r\n    0x208A: '_{+}',\r\n    0x208B: '_{-}',\r\n    0x208C: '_{=}',\r\n    0x2090: '_{a}',\r\n    0x2091: '_{e}',\r\n    0x2092: '_{o}',\r\n    0x2093: '_{x}',\r\n\r\n    0x2032: '\\\\prime',\r\n    0x2033: '\\\\doubleprime',\r\n    0x2220: '\\\\angle',\r\n\r\n    0x2102: '\\\\C',\r\n    0x2115: '\\\\N',\r\n    0x2119: '\\\\P',\r\n    0x211A: '\\\\Q',\r\n    0x211D: '\\\\R',\r\n    0x2124: '\\\\Z',\r\n};\r\n\r\n\r\n/**\r\n * Given a character, return a LaTeX expression matching its Unicode codepoint.\r\n * If there is a matching symbol (e.g. \\alpha) it is returned.\r\n * @param {string} parseMode\r\n * @param {number} cp\r\n * @return {string}\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction matchCodepoint(parseMode, cp) {\r\n    const s = String.fromCodePoint(cp);\r\n\r\n    // Some symbols map to multiple codepoints.\r\n    // Some symbols are 'pseudosuperscript'. Convert them to a super(or sub)script.\r\n    // Map their alternative codepoints here.\r\n    if (parseMode === 'math' && CODEPOINT_SHORTCUTS[s]) return CODEPOINT_SHORTCUTS[s];\r\n\r\n    // Don't map 'simple' code point.\r\n    // For example \"C\" maps to \\doubleStruckCapitalC, not the desired \"C\"\r\n    if (cp > 32 && cp < 127) return s;\r\n\r\n    let result = '';\r\n    if (parseMode === 'math') {\r\n        for (const p in MATH_SYMBOLS) {\r\n            if (Object.prototype.hasOwnProperty.call(MATH_SYMBOLS, p)) {\r\n                if (MATH_SYMBOLS[p].value === s) {\r\n                    result = p;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        for (const p in TEXT_SYMBOLS) {\r\n            if (Object.prototype.hasOwnProperty.call(TEXT_SYMBOLS, p)) {\r\n                if (TEXT_SYMBOLS[p] === s) {\r\n                    result = p;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return result || s;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Given a Unicode character returns {char:, variant:, style} corresponding\r\n * to this codepoint. `variant` is optional.\r\n * This maps characters such as \"blackboard uppercase C\" to\r\n * {char: 'C', variant: 'double-struck', style:''}\r\n * @param {string} char\r\n */\r\n\r\n/* Some symbols in the MATHEMATICAL ALPHANUMERICAL SYMBOLS block had\r\n   been previously defined in other blocks. Remap them */\r\nconst MATH_LETTER_EXCEPTIONS = {\r\n    0x1d455: 0x0210e,\r\n    0x1D49D: 0x0212C,\r\n    0x1D4A0: 0x02130,\r\n    0x1D4A1: 0x02131,\r\n    0x1D4A3: 0x0210B,\r\n    0x1D4A4: 0x02110,\r\n    0x1D4A7: 0x02112,\r\n    0x1D4A8: 0x02133,\r\n    0x1D4AD: 0x0211B,\r\n    0x1D4BA: 0x0212F,\r\n    0x1D4BC: 0x0210A,\r\n    0x1D4C4: 0x02134,\r\n    0x1D506: 0x0212D,\r\n    0x1D50B: 0x0210C,\r\n    0x1D50C: 0x02111,\r\n    0x1D515: 0x0211C,\r\n    0x1D51D: 0x02128,\r\n    0x1D53A: 0x02102,\r\n    0x1D53F: 0x0210D,\r\n    0x1D545: 0x02115,\r\n    0x1D547: 0x02119,\r\n    0x1D548: 0x0211A,\r\n    0x1D549: 0x0211D,\r\n    0x1D551: 0x02124,\r\n}\r\n\r\n\r\nconst MATH_UNICODE_BLOCKS = [\r\n    { start: 0x1D400, len: 26, offset: 65, style: 'bold' },\r\n    { start: 0x1D41A, len: 26, offset: 97, style: 'bold' },\r\n    { start: 0x1D434, len: 26, offset: 65, style: 'italic' },\r\n    { start: 0x1D44E, len: 26, offset: 97, style: 'italic' },\r\n    { start: 0x1D468, len: 26, offset: 65, style: 'bolditalic'},\r\n    { start: 0x1D482, len: 26, offset: 97, style: 'bolditalic'},\r\n\r\n    { start: 0x1D49c, len: 26, offset: 65, variant: 'script'},\r\n    { start: 0x1D4b6, len: 26, offset: 97, variant: 'script'},\r\n    { start: 0x1D4d0, len: 26, offset: 65, variant: 'script', style: 'bold'},\r\n    { start: 0x1D4ea, len: 26, offset: 97, variant: 'script', style: 'bold'},\r\n\r\n    { start: 0x1D504, len: 26, offset: 65, variant: 'fraktur'},\r\n    { start: 0x1D51e, len: 26, offset: 97, variant: 'fraktur'},\r\n    { start: 0x1D56c, len: 26, offset: 65, variant: 'fraktur', style: 'bold'},\r\n    { start: 0x1D586, len: 26, offset: 97, variant: 'fraktur', style: 'bold'},\r\n\r\n    { start: 0x1D538, len: 26, offset: 65, variant: 'double-struck'},\r\n    { start: 0x1D552, len: 26, offset: 97, variant: 'double-struck'},\r\n\r\n    { start: 0x1D5A0, len: 26, offset: 65, variant: 'sans-serif'},\r\n    { start: 0x1D5BA, len: 26, offset: 97, variant: 'sans-serif'},\r\n    { start: 0x1D5D4, len: 26, offset: 65, variant: 'sans-serif', style: 'bold'},\r\n    { start: 0x1D5EE, len: 26, offset: 97, variant: 'sans-serif', style: 'bold'},\r\n    { start: 0x1D608, len: 26, offset: 65, variant: 'sans-serif', style: 'italic'},\r\n    { start: 0x1D622, len: 26, offset: 97, variant: 'sans-serif', style: 'italic'},\r\n    { start: 0x1D63c, len: 26, offset: 65, variant: 'sans-serif', style: 'bolditalic'},\r\n    { start: 0x1D656, len: 26, offset: 97, variant: 'sans-serif', style: 'bolditalic'},\r\n\r\n    { start: 0x1D670, len: 26, offset: 65, variant: 'monospace'},\r\n    { start: 0x1D68A, len: 26, offset: 97, variant: 'monospace'},\r\n\r\n    { start: 0x1D6A8, len: 25, offset: 0x391, style: 'bold'},\r\n    { start: 0x1D6C2, len: 25, offset: 0x3B1, style: 'bold'},\r\n    { start: 0x1D6E2, len: 25, offset: 0x391, style: 'italic'},\r\n    { start: 0x1D6FC, len: 25, offset: 0x3B1, style: 'italic'},\r\n    { start: 0x1D71C, len: 25, offset: 0x391, style: 'bolditalic'},\r\n    { start: 0x1D736, len: 25, offset: 0x3B1, style: 'bolditalic'},\r\n    { start: 0x1D756, len: 25, offset: 0x391, variant: 'sans-serif', style: 'bold'},\r\n    { start: 0x1D770, len: 25, offset: 0x3B1, variant: 'sans-serif', style: 'bold'},\r\n    { start: 0x1D790, len: 25, offset: 0x391, variant: 'sans-serif', style: 'bolditalic'},\r\n    { start: 0x1D7AA, len: 25, offset: 0x3B1, variant: 'sans-serif', style: 'bolditalic'},\r\n\r\n\r\n    { start: 0x1D7CE, len: 10, offset: 48, variant: '', style: 'bold' },\r\n    { start: 0x1D7D8, len: 10, offset: 48, variant: 'double-struck' },\r\n    { start: 0x1D7E3, len: 10, offset: 48, variant: 'sans-serif' },\r\n    { start: 0x1D7Ec, len: 10, offset: 48, variant: 'sans-serif', style: 'bold' },\r\n    { start: 0x1D7F6, len: 10, offset: 48, variant: 'monospace'},\r\n]\r\n\r\n\r\nfunction unicodeToMathVariant(char) {\r\n    let codepoint = char;\r\n    if (typeof char === 'string') codepoint = char.codePointAt(0);\r\n    if ((codepoint < 0x1d400 || codepoint > 0x1d7ff) &&\r\n        (codepoint < 0x2100 || codepoint > 0x214f)) {\r\n            return {char:char};\r\n    }\r\n\r\n    // Handle the 'gap' letters by converting them back into their logical range\r\n    for (const c in MATH_LETTER_EXCEPTIONS) {\r\n        if (Object.prototype.hasOwnProperty.call(MATH_LETTER_EXCEPTIONS, c)) {\r\n            if (MATH_LETTER_EXCEPTIONS[c] === codepoint) {\r\n                codepoint = c;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    for (let i = 0; i < MATH_UNICODE_BLOCKS.length; i++) {\r\n        if (codepoint >= MATH_UNICODE_BLOCKS[i].start &&\r\n            codepoint < MATH_UNICODE_BLOCKS[i].start + MATH_UNICODE_BLOCKS[i].len) {\r\n                return {\r\n                    char: String.fromCodePoint(codepoint - MATH_UNICODE_BLOCKS[i].start + MATH_UNICODE_BLOCKS[i].offset),\r\n                    variant: MATH_UNICODE_BLOCKS[i].variant,\r\n                    style: MATH_UNICODE_BLOCKS[i].style,\r\n                }\r\n        }\r\n    }\r\n\r\n    return {char:char};\r\n}\r\n\r\n/**\r\n * Given a character and variant ('bb', 'cal', etc...)\r\n * return the corresponding unicode character (a string)\r\n * @param {string} char\r\n * @param {string} variant\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction mathVariantToUnicode(char, variant, style) {\r\n    if (!/[A-Za-z0-9]/.test(char)) return char;\r\n    if (!variant && !style) return char;\r\n\r\n    const codepoint = char.codePointAt(0);\r\n\r\n    for (let i = 0; i < MATH_UNICODE_BLOCKS.length; i++) {\r\n        if (!variant || MATH_UNICODE_BLOCKS[i].variant === variant) {\r\n            if (!style || MATH_UNICODE_BLOCKS[i].style === style) {\r\n                if (codepoint >= MATH_UNICODE_BLOCKS[i].offset &&\r\n                    codepoint < MATH_UNICODE_BLOCKS[i].offset + MATH_UNICODE_BLOCKS[i].len) {\r\n                        const result =\r\n                                MATH_UNICODE_BLOCKS[i].start +\r\n                                codepoint - MATH_UNICODE_BLOCKS[i].offset;\r\n                        return String.fromCodePoint(MATH_LETTER_EXCEPTIONS[result] || result);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return char;\r\n}\r\n\r\n\r\n\r\nfunction codepointToLatex(parseMode, cp) {\r\n    // Codepoint shortcuts have priority over variants\r\n    // That is, \"\\N\" vs \"\\mathbb{N}\"\r\n    if (parseMode === 'text') return String.fromCodePoint(cp);\r\n\r\n    let result;\r\n    if (CODEPOINT_SHORTCUTS[cp]) return CODEPOINT_SHORTCUTS[cp];\r\n    const v = unicodeToMathVariant(cp);\r\n    if (!v.style && !v.variant) return matchCodepoint(parseMode, cp);\r\n    result = v.char;\r\n    if (v.variant) {\r\n        result = '\\\\' + v.variant + '{' + result + '}';\r\n    }\r\n    if (v.style === 'bold') {\r\n        result = '\\\\mathbf{' + result + '}';\r\n    } else if (v.style === 'italic') {\r\n        result = '\\\\mathit{' + result + '}';\r\n    } else if (v.style === 'bolditalic') {\r\n        result = '\\\\mathbf{\\\\mathit{' + result + '}}';\r\n    }\r\n    return '\\\\mathord{' + result + '}';\r\n}\r\n\r\n\r\n\r\nfunction unicodeStringToLatex(parseMode, s) {\r\n    let result = '';\r\n    for (const cp of s) {\r\n        result += codepointToLatex(parseMode, cp.codePointAt(0));\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param {string} mode\r\n * @param {string} command\r\n * @return {boolean} True if command is allowed in the mode\r\n * (note that command can also be a single character, e.g. \"a\")\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction commandAllowed(mode, command) {\r\n    if (FUNCTIONS[command] && (mode !== 'text' || FUNCTIONS[command].allowedInText)) {\r\n        return true;\r\n    }\r\n\r\n    if ({'text': TEXT_SYMBOLS, 'math': MATH_SYMBOLS}[mode][command]) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n\r\nfunction getValue(mode, symbol) {\r\n    if (mode === 'math') {\r\n        return MATH_SYMBOLS[symbol] && MATH_SYMBOLS[symbol].value ?\r\n            MATH_SYMBOLS[symbol].value : symbol;\r\n    }\r\n    return TEXT_SYMBOLS[symbol] ? TEXT_SYMBOLS[symbol] : symbol;\r\n}\r\n\r\nfunction getEnvironmentInfo(name) {\r\n    let result = ENVIRONMENTS[name];\r\n    if (!result) {\r\n        result = {\r\n            params: '',\r\n            parser: null,\r\n            mathstyle: 'displaystyle',\r\n            tabular: true,\r\n            colFormat: [],\r\n            lFence: '.',\r\n            rFence: '.',\r\n            // arrayStretch: 1,\r\n        };\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * @param {string} symbol    A command (e.g. '\\alpha') or a character (e.g. 'a')\r\n * @param {string} parseMode One of 'math' or 'text'\r\n * @param {object} macros A macros dictionary\r\n * @return {object} An info structure about the symbol, or null\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction getInfo(symbol, parseMode, macros) {\r\n\r\n    if (symbol.length === 0) return null;\r\n\r\n    let info = null;\r\n\r\n    if (symbol.charAt(0) === '\\\\') {\r\n        // This could be a function or a symbol\r\n        info = FUNCTIONS[symbol];\r\n        if (info) {\r\n            // We've got a match\r\n            if (parseMode === 'math' || info.allowedInText) return info;\r\n\r\n            // That's a valid function, but it's not allowed in non-math mode,\r\n            // and we're in non-math mode\r\n            return null;\r\n        }\r\n\r\n        if (!info) {\r\n            // It wasn't a function, maybe it's a symbol?\r\n            if (parseMode === 'math') {\r\n                info = MATH_SYMBOLS[symbol];\r\n            } else if (TEXT_SYMBOLS[symbol]) {\r\n                info = { value: TEXT_SYMBOLS[symbol] };\r\n            }\r\n        }\r\n\r\n        if (!info) {\r\n            // Maybe it's a macro\r\n            const command = symbol.slice(1);\r\n            if (macros && macros[command]) {\r\n                let def = macros[command];\r\n                if (typeof def === 'object') {\r\n                    def = def.def;\r\n                }\r\n                let argCount = 0;\r\n                // Let's see if there are arguments in the definition.\r\n                if (/(^|[^\\\\])#1/.test(def)) argCount = 1;\r\n                if (/(^|[^\\\\])#2/.test(def)) argCount = 2;\r\n                if (/(^|[^\\\\])#3/.test(def)) argCount = 3;\r\n                if (/(^|[^\\\\])#4/.test(def)) argCount = 4;\r\n                if (/(^|[^\\\\])#5/.test(def)) argCount = 5;\r\n                if (/(^|[^\\\\])#6/.test(def)) argCount = 6;\r\n                if (/(^|[^\\\\])#7/.test(def)) argCount = 7;\r\n                if (/(^|[^\\\\])#8/.test(def)) argCount = 8;\r\n                if (/(^|[^\\\\])#9/.test(def)) argCount = 9;\r\n                info = {\r\n                    type: 'group',\r\n                    allowedInText: false,\r\n                    params: [],\r\n                    infix: false\r\n                }\r\n                while (argCount >= 1) {\r\n                    info.params.push({\r\n                        optional: false,\r\n                        type: 'math',\r\n                        defaultValue: null,\r\n                        placeholder: null\r\n                    });\r\n                    argCount -= 1;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        if (parseMode === 'math') {\r\n            info = MATH_SYMBOLS[symbol];\r\n        } else if (TEXT_SYMBOLS[symbol]) {\r\n            info = { value: TEXT_SYMBOLS[symbol] };\r\n        }\r\n    }\r\n\r\n    // Special case `f`, `g` and `h` are recognized as functions.\r\n    if (info && info.type === 'mord' &&\r\n        (info.value === 'f' || info.value === 'g' || info.value === 'h')) {\r\n        info.isFunction = true;\r\n    }\r\n\r\n    return info;\r\n}\r\n\r\n/**\r\n * Return an array of suggestion for completing string 's'.\r\n * For example, for 'si', it could return ['sin', 'sinh', 'sim', 'simeq', 'sigma']\r\n * Infix operators are excluded, since they are deprecated commands.\r\n * @param {string} s\r\n * @return {string[]}\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction suggest(s) {\r\n    if (s.length <= 1) return [];\r\n    const result = [];\r\n\r\n    // Iterate over items in the dictionary\r\n    for (const p in FUNCTIONS) {\r\n        if (Object.prototype.hasOwnProperty.call(FUNCTIONS, p)) {\r\n            if (p.startsWith(s) && !FUNCTIONS[p].infix) {\r\n                result.push({match:p, frequency:FUNCTIONS[p].frequency});\r\n            }\r\n        }\r\n    }\r\n\r\n    for (const p in MATH_SYMBOLS) {\r\n        if (Object.prototype.hasOwnProperty.call(MATH_SYMBOLS, p)) {\r\n            if (p.startsWith(s)) {\r\n                result.push({match:p, frequency:MATH_SYMBOLS[p].frequency});\r\n            }\r\n        }\r\n    }\r\n\r\n    result.sort( (a, b)  => {\r\n        if (a.frequency === b.frequency) {\r\n            return a.match.length - b.match.length;\r\n        }\r\n        return (b.frequency || 0) - (a.frequency || 0);\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\n// Fonts\r\nconst MAIN = '';            // The \"main\" KaTeX font (in fact one of several\r\n                            // depending on the math variant, size, etc...)\r\nconst AMS = 'ams';          // Some symbols are not in the \"main\" KaTeX font\r\n                            // or have a different glyph available in the \"AMS\"\r\n                            // font (`\\hbar` and `\\hslash` for example).\r\n\r\n// Type\r\nconst ORD = 'mord';\r\nconst MATHORD = 'mord'; // Ordinary, e.g. '/'\r\nconst BIN = 'mbin';     // e.g. '+'\r\nconst REL = 'mrel';     // e.g. '='\r\nconst OPEN = 'mopen';   // e.g. '('\r\nconst CLOSE = 'mclose'; // e.g. ')'\r\nconst PUNCT = 'mpunct'; // e.g. ','\r\nconst INNER = 'minner'; // for fractions and \\left...\\right.\r\n\r\n\r\n// const ACCENT = 'accent';\r\nconst SPACING = 'spacing';\r\n\r\n\r\n\r\n/**\r\n * An argument template has the following syntax:\r\n *\r\n * <placeholder>:<type>=<default>\r\n *\r\n * where\r\n * - <placeholder> is a string whose value is displayed when the argument\r\n *   is missing\r\n * - <type> is one of 'string', 'color', 'dimen', 'auto', 'text', 'math'\r\n * - <default> is the default value if none is provided for an optional\r\n * parameter\r\n *\r\n * @param {string} argTemplate\r\n * @param {boolean} isOptional\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction parseParamTemplateArgument(argTemplate, isOptional) {\r\n    let r = argTemplate.match(/=(.+)/);\r\n    let defaultValue = '{}';\r\n    let type = 'auto';\r\n    let placeholder = null;\r\n\r\n    if (r) {\r\n        console.assert(isOptional,\r\n            \"Can't provide a default value for required parameters\");\r\n        defaultValue = r[1];\r\n    }\r\n    // Parse the type (:type)\r\n    r = argTemplate.match(/:([^=]+)/);\r\n    if (r) type = r[1].trim();\r\n\r\n    // Parse the placeholder\r\n    r = argTemplate.match(/^([^:=]+)/);\r\n    if (r) placeholder = r[1].trim();\r\n\r\n    return {\r\n        optional: isOptional,\r\n        type: type,\r\n        defaultValue: defaultValue,\r\n        placeholder: placeholder\r\n    }\r\n}\r\n\r\nfunction parseParamTemplate(paramTemplate) {\r\n    if (!paramTemplate || paramTemplate.length === 0) return [];\r\n\r\n    let result = [];\r\n    let params = paramTemplate.split(']');\r\n    if (params[0].charAt(0) === '[') {\r\n        // We found at least one optional parameter.\r\n        result.push(parseParamTemplateArgument(params[0].slice(1), true));\r\n        // Parse the rest\r\n        for (let i = 1; i <= params.length; i++) {\r\n            result = result.concat(parseParamTemplate(params[i]));\r\n        }\r\n    } else {\r\n        params = paramTemplate.split('}');\r\n        if (params[0].charAt(0) === '{') {\r\n            // We found a required parameter\r\n            result.push(parseParamTemplateArgument(params[0].slice(1), false));\r\n            // Parse the rest\r\n            for (let i = 1; i <= params.length; i++) {\r\n                result = result.concat(parseParamTemplate(params[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\nfunction parseArgAsString(arg) {\r\n    return arg.map(x => x.body).join('');\r\n}\r\n\r\n/**\r\n * Define one or more environments to be used with\r\n *         \\begin{<env-name>}...\\end{<env-name>}.\r\n *\r\n * @param {string|string[]} names\r\n * @param {string} params The number and type of required and optional parameters.\r\n * @param {object} options\r\n * -\r\n * @param {function(*)} parser\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction defineEnvironment(names, params, options, parser) {\r\n    if (typeof names === 'string') names = [names];\r\n    if (!options) options = {};\r\n    const parsedParams = parseParamTemplate(params);\r\n\r\n    // Set default values of functions\r\n    const data = {\r\n        // 'category' is a global variable keeping track of the\r\n        // the current category being defined. This value is used\r\n        // strictly to group items in generateDocumentation().\r\n        category: category,\r\n\r\n        // Params: the parameters for this function, an array of\r\n        // {optional, type, defaultValue, placeholder}\r\n        params: parsedParams,\r\n\r\n        // Callback to parse the arguments\r\n        parser: parser,\r\n\r\n        mathstyle: 'displaystyle',\r\n\r\n        tabular: options.tabular || true,\r\n        colFormat: options.colFormat || [],\r\n    };\r\n    for (const name of names) {\r\n        ENVIRONMENTS[name] = data;\r\n    }\r\n}\r\n\r\n/**\r\n * Define one of more functions.\r\n *\r\n * @param {string|string[]} names\r\n * @param {string} params The number and type of required and optional parameters.\r\n * For example: '{}' defines a single mandatory parameter\r\n * '[index=2]{indicand:auto}' defines two params, one optional, one required\r\n\r\n * @param {object} options\r\n * - infix\r\n * - allowedInText\r\n * @param {function} parseFunction\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction defineFunction(names, params, options, parseFunction) {\r\n    if (typeof names === 'string') {\r\n        names = [names];\r\n    }\r\n\r\n    if (!options) options = {};\r\n\r\n    // Set default values of functions\r\n    const data = {\r\n        // 'category' is a global variable keeping track of the\r\n        // the current category being defined. This value is used\r\n        // strictly to group items in generateDocumentation().\r\n        category: category,\r\n\r\n        // The base font family, if present, indicates that this font family\r\n        // should always be used to render atom. For example, functions such\r\n        // as \"sin\", etc... are always drawn in a roman font,\r\n        // regardless of the font styling a user may specify.\r\n        baseFontFamily: options.fontFamily,\r\n\r\n        // The parameters for this function, an array of\r\n        // {optional, type, defaultValue, placeholder}\r\n        params: parseParamTemplate(params),\r\n\r\n        allowedInText: !!options.allowedInText,\r\n        infix: !!options.infix,\r\n        parse: parseFunction\r\n    };\r\n    for (const name of names) {\r\n        FUNCTIONS[name] = data;\r\n    }\r\n}\r\n\r\n\r\n\r\ncategory = 'Environments';\r\n/*\r\n\r\n<columns> ::= <column>*<line>\r\n<column> ::= <line>('l'|'c'|'r')\r\n<line> ::= '|' | '||' | ''\r\n\r\n'math',\r\n                frequency 0\r\n'displaymath',\r\n                frequency 8\r\n\r\n'equation'      centered, numbered\r\n                frequency 8\r\n\r\n'subequations'   with an 'equation' environment, appends a letter to eq no\r\n                frequency 1\r\n\r\n'array',        {columns:text}\r\n                cells are textstyle math\r\n                no fence\r\n\r\n'eqnarray'      DEPRECATED see http://www.tug.org/pracjourn/2006-4/madsen/madsen.pdf\r\n                {rcl}\r\n                first and last cell in each row is displaystyle math\r\n                each cell has a margin of \\arraycolsep\r\n                Each line has a eqno\r\n                frequency 7\r\n\r\n\r\n'theorem'       text mode. Prepends in bold 'Theorem <counter>', then body in italics.\r\n\r\n'multline'      single column\r\n                first row left aligned, last right aligned, others centered\r\n                last line has an eqn. counter. multline* will omit the counter\r\n                no output if inside an equation\r\n                \r\n\r\n'gather'        at most two columns\r\n                first column centered, second column right aligned\r\n                frequency 1\r\n\r\n'gathered'      must be in equation environment\r\n                single column,\r\n                centered\r\n                frequency: COMMON\r\n                optional argument: [b], [t] to vertical align\r\n\r\n'align'        multiple columns,\r\n                alternating rl\r\n                there is some 'space' (additional column?) between each pair\r\n                each line is numbered (except when inside an equation environment)\r\n                there is an implicit {} at the beginning of left columns\r\n\r\n'aligned'      must be in equation environment\r\n                frequency: COMMON\r\n                @{}r@{}l@{\\quad}@{}r@{}l@{}\r\n\r\n'split'         must be in an equation environment,\r\n                two columns, additional columns are interpreted as line breaks\r\n                first column is right aligned, second column is left aligned\r\n                entire construct is numbered (as opposed to 'align' where each line is numbered)\r\n                frequency: 0\r\n\r\n\r\n'alignedat'\r\nFrom AMSMath:\r\n---The alignedat environment was changed to take two arguments rather\r\nthan one: a mandatory argument (as formerly) specifying the number of\r\nalign structures, and a new optional one specifying the placement of the\r\nenvironment (parallel to the optional argument of aligned). However,\r\naligned is simpler to use, allowing any number of aligned structures\r\nautomatically, and therefore the use of alignedat is deprecated.\r\n\r\n\r\n 'alignat'      {pairs:number}\r\n                {rl} alternating as many times as indicated by <pairs> arg\r\n                no space between column pairs (unlike align)\r\n                there is an implicit {} at the beginning of left columns\r\n                frequency: 0\r\n\r\n 'flalign'      multiple columns\r\n                alternate rl\r\n                third column further away than align...?\r\n                frequency: 0\r\n\r\n\r\n'matrix'        at most 10 columns\r\n                cells centered\r\n                no fence\r\n                no colsep at beginning or end\r\n                (mathtools package add an optional arg for the cell alignment)\r\n                frequency: COMMON\r\n\r\n'pmatrix'       fence: ()\r\n                frequency: COMMON\r\n\r\n'bmatrix'       fence: []\r\n                frequency: COMMON\r\n\r\n'Bmatrix'       fence: {}\r\n                frequency: 237\r\n\r\n'vmatrix'       fence: \\vert\r\n                frequency: 368\r\n\r\n'Vmatrix'       fence: \\Vert\r\n                frequency: 41\r\n\r\n'smallmatrix'   displaystyle: scriptstyle (?)\r\n                frequency: 279\r\n\r\n'cases'\r\n                frequency: COMMON\r\n                l@{2}l\r\n\r\n'center'        text mode only?\r\n                frequency: ?\r\n*/\r\n    // See https://en.wikibooks.org/wiki/LaTeX/Mathematics\r\n    // and http://www.ele.uri.edu/faculty/vetter/Other-stuff/latex/Mathmode.pdf\r\n\r\n/*\r\nThe star at the end of the name of a displayed math environment causes that\r\nthe formula lines won't be numbered. Otherwise they would automatically get a number.\r\n\r\n\\notag will also turn off the numbering.\r\n\\shoveright and \\shoveleft will force alignment of a line\r\n\r\nThe only difference between align and equation is the spacing of the formulas.\r\nYou should attempt to use equation when possible, and align when you have multi-line formulas.\r\nEquation will have space before/after < 1em if line before/after is short enough.\r\n\r\nAlso: equation throws an error when you have an & inside the environment,\r\nso look out for that when converting between the two.\r\n\r\n\r\n\r\nWhereas align produces a structure whose width is the full line width, aligned\r\ngives a width that is the actual width of the contents, thus it can be used as\r\na component in a containing expression, e.g. for putting the entire alignment\r\nin a parenthesis\r\n*/\r\ndefineEnvironment('math', '', {frequency: 0}, function() {\r\n    return { mathstyle: 'textstyle'};\r\n});\r\n\r\ndefineEnvironment('displaymath', '', {\r\n    frequency: 8,\r\n    }, function() {\r\n    return {\r\n        mathstyle: 'displaystyle',\r\n    };\r\n});\r\n\r\n// defineEnvironment('text', '', {\r\n//     frequency: 0,\r\n//     }, function(name, args) {\r\n//     return {\r\n//         mathstyle: 'text',         // @todo: not quite right, not a style, a parsemode...\r\n//     };\r\n// });\r\n\r\n\r\ndefineEnvironment('array', '{columns:colspec}', {\r\n    frequency: COMMON\r\n}, function(name, args) {\r\n    return {\r\n        colFormat: args[0],\r\n        mathstyle: 'textstyle',\r\n    };\r\n});\r\n\r\ndefineEnvironment('eqnarray', '', {}, function() {\r\n    return {\r\n\r\n    };\r\n});\r\n\r\ndefineEnvironment('equation', '', {}, function() {\r\n    return {\r\n        colFormat: [{ align: 'c'}]\r\n    };\r\n});\r\n\r\ndefineEnvironment('subequations', '', {}, function() {\r\n    return {\r\n        colFormat: [{ align: 'c'}]\r\n    };\r\n});\r\n\r\n// Note spelling: MULTLINE, not multiline.\r\ndefineEnvironment('multline', '', {}, function() {\r\n    return {\r\n        firstRowFormat: [{align: 'l'}],\r\n        colFormat: [{align: 'c'}],\r\n        lastRowFormat: [{align: 'r'}],\r\n\r\n    };\r\n});\r\n\r\n// An AMS-Math environment\r\n// See amsmath.dtx:3565\r\n// Note that some versions of AMS-Math have a gap on the left.\r\n// More recent version suppresses that gap, but have an option to turn it back on\r\n// for backward compatibility.\r\ndefineEnvironment(['align', 'aligned'], '', {}, function(name, args, array) {\r\n    let colCount = 0;\r\n    for (const row of array) {\r\n        colCount = Math.max(colCount, row.length);\r\n    }\r\n    const colFormat = [\r\n            { gap:     0, } ,\r\n            { align:   'r', } ,\r\n            { gap:     0, } ,\r\n            { align:   'l', } ,\r\n    ];\r\n    let i = 2;\r\n    while ( i < colCount) {\r\n        colFormat.push({gap:1});\r\n        colFormat.push({align:'r'});\r\n        colFormat.push({gap:0});\r\n        colFormat.push({align:'l'});\r\n        i += 2;\r\n    }\r\n    colFormat.push({gap: 0});\r\n\r\n    return {\r\n        colFormat: colFormat,\r\n        jot: 0.3,   // Jot is an extra gap between lines of numbered equation.\r\n                    // It's 3pt by default in LaTeX (ltmath.dtx:181)\r\n    };\r\n});\r\n\r\n// defineEnvironment('alignat', '', {}, function(name, args) {\r\n//     return {\r\n\r\n//     };\r\n// });\r\n\r\n// defineEnvironment('flalign', '', {}, function(name, args) {\r\n//     return {\r\n\r\n//     };\r\n// });\r\n\r\ndefineEnvironment('split', '', {}, function() {\r\n    return {\r\n\r\n    };\r\n});\r\n\r\n\r\ndefineEnvironment(['gather', 'gathered'], '', {}, function() {\r\n// An AMS-Math environment\r\n// %    The \\env{gathered} environment is for several lines that are\r\n// %    centered independently.\r\n// From amstex.sty\r\n// \\newenvironment{gathered}[1][c]{%\r\n//   \\relax\\ifmmode\\else\\nonmatherr@{\\begin{gathered}}\\fi\r\n//   \\null\\,%\r\n//   \\if #1t\\vtop \\else \\if#1b\\vbox \\else \\vcenter \\fi\\fi\r\n//   \\bgroup\\Let@\\restore@math@cr\r\n//   \\ifinany@\\else\\openup\\jot\\fi\\ialign\r\n//   \\bgroup\\hfil\\strut@$\\m@th\\displaystyle##$\\hfil\\crcr\r\n\r\n    return {\r\n        colFormat: [{gap:.25}, { align: 'c', }, {gap:0}],\r\n        jot: .3\r\n    };\r\n});\r\n\r\n// defineEnvironment('cardinality', '', {}, function() {\r\n//     const result = {};\r\n\r\n//     result.mathstyle = 'textstyle';\r\n//     result.lFence = '|';\r\n//     result.rFence = '|';\r\n\r\n//     return result;\r\n// });\r\n\r\n\r\n\r\ndefineEnvironment(['matrix', 'pmatrix', 'bmatrix', 'Bmatrix', 'vmatrix',\r\n    'Vmatrix', 'smallmatrix', 'matrix*', 'pmatrix*', 'bmatrix*', 'Bmatrix*', 'vmatrix*',\r\n    'Vmatrix*', 'smallmatrix*'], '[columns:colspec]', {}, function(name, args) {\r\n// From amstex.sty:\r\n// \\def\\matrix{\\hskip -\\arraycolsep\\array{*\\c@MaxMatrixCols c}}\r\n// \\def\\endmatrix{\\endarray \\hskip -\\arraycolsep}\r\n    const result = {};\r\n\r\n    result.mathstyle = 'textstyle';\r\n\r\n    switch (name) {\r\n        case 'pmatrix':\r\n        case 'pmatrix*':\r\n            result.lFence = '(';\r\n            result.rFence = ')';\r\n            break;\r\n\r\n        case 'bmatrix':\r\n        case 'bmatrix*':\r\n            result.lFence = '[';\r\n            result.rFence = ']';\r\n            break;\r\n\r\n        case 'Bmatrix':\r\n        case 'Bmatrix*':\r\n            result.lFence = '\\\\lbrace';\r\n            result.rFence = '\\\\rbrace';\r\n            break;\r\n\r\n        case 'vmatrix':\r\n        case 'vmatrix*':\r\n            result.lFence = '\\\\vert';\r\n            result.rFence = '\\\\vert';\r\n            break;\r\n\r\n        case 'Vmatrix':\r\n        case 'Vmatrix*':\r\n            result.lFence = '\\\\Vert';\r\n            result.rFence = '\\\\Vert';\r\n            break;\r\n\r\n        case 'smallmatrix':\r\n        case 'smallmatrix*':\r\n            result.mathstyle = 'scriptstyle';\r\n            break;\r\n\r\n        case 'matrix':\r\n        case 'matrix*':\r\n            // Specifying a fence, even a null fence,\r\n            // will prevent the insertion of an initial and final gap\r\n            result.lFence = '.';\r\n            result.rFence = '.';\r\n            break;\r\n        default:\r\n    }\r\n\r\n    result.colFormat = args[0] || [{align:'c'}, {align:'c'}, {align:'c'},\r\n        {align:'c'}, {align:'c'}, {align:'c'},\r\n        {align:'c'}, {align:'c'}, {align:'c'},\r\n        {align:'c'}];\r\n\r\n    return result;\r\n});\r\n\r\n\r\n\r\n\r\ndefineEnvironment('cases', '', {}, function() {\r\n// From amstex.sty:\r\n// \\def\\cases{\\left\\{\\def\\arraystretch{1.2}\\hskip-\\arraycolsep\r\n//   \\array{l@{\\quad}l}}\r\n// \\def\\endcases{\\endarray\\hskip-\\arraycolsep\\right.}\r\n// From amsmath.dtx\r\n// \\def\\env@cases{%\r\n//   \\let\\@ifnextchar\\new@ifnextchar\r\n//   \\left\\lbrace\r\n//   \\def\\arraystretch{1.2}%\r\n//   \\array{@{}l@{\\quad}l@{}}%\r\n\r\n    return {\r\n        arraystretch: 1.2,\r\n        lFence: '\\\\lbrace',\r\n        rFence: '.',\r\n        colFormat: [\r\n            { align: 'l', } ,\r\n            { gap: 1, } ,\r\n            { align: 'l', }\r\n        ]\r\n    }\r\n});\r\n\r\n\r\ndefineEnvironment('theorem', '', {}, function() {\r\n    return {\r\n\r\n    };\r\n});\r\n\r\n\r\ndefineEnvironment('center', '', {}, function() {\r\n    return {colFormat: [{align:'c'}]};\r\n});\r\n\r\n\r\n\r\ncategory = '';\r\n// Simple characters allowed in math mode\r\ndefineSymbols('0123456789/@.');\r\ndefineSymbolRange(0x0041, 0x005A);          // a-z\r\ndefineSymbolRange(0x0061, 0x007A);          // A-Z\r\n\r\n\r\n\r\ncategory = 'Trigonometry';\r\ndefineFunction([\r\n    '\\\\arcsin', '\\\\arccos', '\\\\arctan', '\\\\arctg', '\\\\arcctg',\r\n    '\\\\arg', '\\\\ch', '\\\\cos', '\\\\cosec', '\\\\cosh', '\\\\cot', '\\\\cotg',\r\n    '\\\\coth', '\\\\csc', '\\\\ctg', '\\\\cth',\r\n    '\\\\sec', '\\\\sin',\r\n    '\\\\sinh', '\\\\sh', '\\\\tan', '\\\\tanh', '\\\\tg', '\\\\th',],\r\n    '', null, function(name) {\r\n    return {\r\n        type: 'mop',\r\n        limits: 'nolimits',\r\n        symbol: false,\r\n        isFunction: true,\r\n        body: name.slice(1),\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\n\r\nfrequency(SUPERCOMMON, '\\\\cos', '\\\\sin', '\\\\tan');\r\n\r\n\r\nfrequency(UNCOMMON, '\\\\arcsin', '\\\\arccos', '\\\\arctan', '\\\\arctg', '\\\\arcctg',\r\n    '\\\\arcsec', '\\\\arccsc');\r\n\r\nfrequency(UNCOMMON, '\\\\arsinh', '\\\\arccosh', '\\\\arctanh',\r\n    '\\\\arcsech', '\\\\arccsch');\r\n\r\nfrequency(UNCOMMON, '\\\\arg', '\\\\ch', '\\\\cosec', '\\\\cosh', '\\\\cot', '\\\\cotg',\r\n    '\\\\coth', '\\\\csc', '\\\\ctg', '\\\\cth',\r\n    '\\\\lg', '\\\\lb', '\\\\sec',\r\n    '\\\\sinh', '\\\\sh', '\\\\tanh', '\\\\tg', '\\\\th');\r\n\r\n\r\n\r\ncategory = 'Functions';\r\n\r\ndefineFunction([\r\n    '\\\\deg', '\\\\dim', '\\\\exp', '\\\\hom', '\\\\ker',\r\n    '\\\\lb', '\\\\lg', '\\\\ln', '\\\\log'],\r\n    '', null, function(name) {\r\n    return {\r\n        type: 'mop',\r\n        limits: 'nolimits',\r\n        symbol: false,\r\n        isFunction: true,\r\n        body: name.slice(1),\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\nfrequency(SUPERCOMMON, '\\\\ln', '\\\\log', '\\\\exp');\r\n\r\nfrequency(292, '\\\\hom');\r\nfrequency(COMMON, '\\\\dim');\r\nfrequency(COMMON, '\\\\ker', '\\\\deg');     // >2,000\r\n\r\n\r\ndefineFunction(['\\\\lim', '\\\\mod'],\r\n    '', null, function(name) {\r\n    return {\r\n        type: 'mop',\r\n        limits: 'limits',\r\n        symbol: false,\r\n        body: name.slice(1),\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\ndefineFunction(['\\\\det', '\\\\max', '\\\\min'],\r\n    '', null, function(name) {\r\n    return {\r\n        type: 'mop',\r\n        limits: 'limits',\r\n        symbol: false,\r\n        isFunction: true,\r\n        body: name.slice(1),\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\nfrequency(SUPERCOMMON, '\\\\lim');\r\nfrequency(COMMON, '\\\\det');\r\nfrequency(COMMON, '\\\\mod');\r\nfrequency(COMMON, '\\\\min');\r\nfrequency(COMMON, '\\\\max');\r\n\r\n\r\ncategory = 'Decoration';\r\n\r\n// A box of the width and height\r\ndefineFunction('\\\\rule', '[raise:dimen]{width:dimen}{thickness:dimen}', null,\r\nfunction(name, args) {\r\n    return {\r\n        type: 'rule',\r\n        shift: args[0],\r\n        width: args[1],\r\n        height: args[2],\r\n    };\r\n});\r\n\r\ndefineFunction('\\\\color', '{:color}', {allowedInText: true}, (_name, args) => {\r\n    return { color: args[0] }\r\n});\r\n\r\n\r\n// From the xcolor package.\r\n// As per xcolor, this command does not set the mode to text\r\n// (unlike what its name might suggest)\r\ndefineFunction('\\\\textcolor', '{:color}{content:auto*}', {allowedInText: true}, (_name, args) => {\r\n    return { color: args[0] };\r\n});\r\n\r\nfrequency(3, '\\\\textcolor');\r\n\r\n\r\n// An overline\r\ndefineFunction('\\\\overline', '{:auto}', null, function(name, args) {\r\n    return {\r\n        type: 'line',\r\n        position: 'overline',\r\n        skipBoundary: true,\r\n        body: args[0], };\r\n});\r\n    frequency(COMMON, '\\\\overline');   // > 2,000\r\n\r\ndefineFunction('\\\\underline', '{:auto}', null, function(name, args) {\r\n    return { type: 'line', position: 'underline', skipBoundary: true, body: args[0], };\r\n});\r\n    frequency(COMMON, '\\\\underline');   // > 2,000\r\n\r\ndefineFunction('\\\\overset', '{annotation:auto}{symbol:auto}', null, function(name, args) {\r\n    return { type: 'overunder', overscript: args[0], skipBoundary: true, body: args[1]};\r\n});\r\n    frequency(COMMON, '\\\\overset');   // > 2,000\r\n\r\ndefineFunction('\\\\underset', '{annotation:auto}{symbol:auto}', null, function(name, args) {\r\n    return { type: 'overunder', underscript: args[0], skipBoundary: true, body: args[1]};\r\n});\r\n    frequency(COMMON, '\\\\underset');   // > 2,000\r\n\r\ndefineFunction(['\\\\stackrel', '\\\\stackbin'], '{annotation:auto}{symbol:auto}', null,\r\n    function(name, args) {\r\n    return {\r\n        type: 'overunder',\r\n        overscript: args[0],\r\n        skipBoundary: true,\r\n        body: args[1],\r\n        mathtype: name === '\\\\stackrel' ? 'mrel' : 'mbin',\r\n    };\r\n});\r\n    frequency(COMMON, '\\\\stackrel');   // > 2,000\r\n    frequency(0, '\\\\stackbin');\r\n\r\n\r\n\r\ndefineFunction('\\\\rlap', '{:auto}', null, function(name, args) {\r\n    return { type: 'overlap', align: 'right', skipBoundary: true, body: args[0], };\r\n});\r\n    frequency(270, '\\\\rlap');\r\n\r\ndefineFunction('\\\\llap', '{:auto}', null, function(name, args) {\r\n    return { type: 'overlap', align: 'left', skipBoundary: true, body: args[0], };\r\n});\r\n    frequency(18, '\\\\llap');\r\n\r\ndefineFunction('\\\\mathrlap', '{:auto}', null, function(name, args) {\r\n    return { type: 'overlap', mode: 'math', align: 'right', skipBoundary: true, body: args[0], };\r\n});\r\n    frequency(CRYPTIC, '\\\\mathrlap');\r\n\r\ndefineFunction('\\\\mathllap', '{:auto}', null, function(name, args) {\r\n    return { type: 'overlap', mode: 'math', align: 'left', skipBoundary: true, body: args[0], };\r\n});\r\n    frequency(CRYPTIC, '\\\\mathllap');\r\n\r\n\r\n\r\n\r\n// Can be preceded by e.g. '\\fboxsep=4pt' (also \\fboxrule)\r\n// Note:\r\n// - \\boxed: sets content in displaystyle mode (@todo: should change type of argument)\r\n//      equivalent to \\fbox{$$<content>$$}\r\n// - \\fbox: sets content in 'auto' mode (frequency 777)\r\n// - \\framebox[<width>][<alignment>]{<content>} (<alignment> := 'c'|'t'|'b' (center, top, bottom) (frequency 28)\r\n// @todo\r\ndefineFunction('\\\\boxed', '{content:math}', null,\r\n    function(name, args) {\r\n        return {\r\n            type: 'box',\r\n            framecolor: 'black',\r\n            skipBoundary: true,\r\n            body: args[0]\r\n        }\r\n    }\r\n)\r\n    frequency(1236, '\\\\boxed');\r\n\r\ndefineFunction('\\\\colorbox', '{background-color:color}{content:auto}', {allowedInText: true},\r\n    function(name, args) {\r\n        return {\r\n            type: 'box',\r\n            backgroundcolor: args[0],\r\n            skipBoundary: true,\r\n            body: args[1]\r\n        }\r\n    }\r\n)\r\n    frequency(CRYPTIC, '\\\\colorbox');\r\n\r\n\r\n\r\ndefineFunction('\\\\fcolorbox', '{frame-color:color}{background-color:color}{content:auto}', {allowedInText: true},\r\n    function(name, args) {\r\n        return {\r\n            type: 'box',\r\n            framecolor: args[0],\r\n            backgroundcolor: args[1],\r\n            skipBoundary: true,\r\n            body: args[2]\r\n        }\r\n    }\r\n)\r\n    frequency(CRYPTIC, '\\\\fcolorbox');\r\n\r\n\r\n// \\bbox, MathJax extension\r\n// The first argument is a CSS border property shorthand, e.g.\r\n// \\bbox[red], \\bbox[5px,border:2px solid red]\r\n// The MathJax syntax is\r\n// arglist ::= <arg>[,<arg>[,<arg>]]\r\n// arg ::= [<background:color>|<padding:dimen>|<style>]\r\n// style ::= 'border:' <string>\r\n\r\ndefineFunction('\\\\bbox', '[:bbox]{body:auto}', {allowedInText: true},\r\n    function(name, args) {\r\n        if (args[0]) {\r\n            return {\r\n                type: 'box',\r\n                padding: args[0].padding,\r\n                border: args[0].border,\r\n                backgroundcolor: args[0].backgroundcolor,\r\n                skipBoundary: true,\r\n                body: args[1]\r\n            }\r\n        }\r\n        return {\r\n            type: 'box',\r\n            skipBoundary: true,\r\n            body: args[1]\r\n        }\r\n    }\r\n)\r\n    frequency(CRYPTIC, '\\\\bbox');\r\n\r\n\r\n// \\enclose, a MathJax extension mapping to the MathML `menclose` tag.\r\n// The first argument is a comma delimited list of notations, as defined\r\n// here: https://developer.mozilla.org/en-US/docs/Web/MathML/Element/menclose\r\n// The second, optional, specifies the style to use for the notations.\r\ndefineFunction('\\\\enclose', '{notation:string}[style:string]{body:auto}', null,\r\n    function(name, args) {\r\n        let notations =  args[0] || [];\r\n        const result = {\r\n            type: 'enclose',\r\n            strokeColor: 'currentColor',\r\n            strokeWidth: 1,\r\n            strokeStyle: 'solid',\r\n            backgroundcolor: 'transparent',\r\n            padding: 'auto',\r\n            shadow: 'auto',\r\n            captureSelection: true,     // Do not let children be selected\r\n            body: args[2]\r\n        }\r\n\r\n        // Extract info from style string\r\n        if (args[1]) {\r\n            // Split the string by comma delimited sub-strings, ignoring commas\r\n            // that may be inside (). For example\"x, rgb(a, b, c)\" would return\r\n            // ['x', 'rgb(a, b, c)']\r\n            const styles = args[1].split(/,(?![^(]*\\)(?:(?:[^(]*\\)){2})*[^\"]*$)/);\r\n            for (const s of styles) {\r\n                const shorthand = s.match(/\\s*(\\S+)\\s+(\\S+)\\s+(.*)/);\r\n                if (shorthand) {\r\n                    result.strokeWidth = FontMetrics.toPx(shorthand[1], 'px');\r\n                    if (!isFinite(result.strokeWidth)) {\r\n                        result.strokeWidth = 1;\r\n                    }\r\n                    result.strokeStyle = shorthand[2];\r\n                    result.strokeColor = shorthand[3];\r\n                } else {\r\n                    const attribute = s.match(/\\s*([a-z]*)\\s*=\\s*\"(.*)\"/);\r\n                    if (attribute) {\r\n                        if (attribute[1] === 'mathbackground') {\r\n                            result.backgroundcolor = attribute[2];\r\n                        } else if (attribute[1] === 'mathcolor') {\r\n                            result.strokeColor = attribute[2];\r\n                        } else if (attribute[1] === 'padding') {\r\n                            result.padding = FontMetrics.toPx(attribute[2], 'px');\r\n                        } else if (attribute[1] === 'shadow') {\r\n                            result.shadow = attribute[2];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (result.strokeStyle === 'dashed') {\r\n                result.svgStrokeStyle = '5,5';\r\n            } else if (result.strokeStyle === 'dotted') {\r\n                result.svgStrokeStyle = '1,5';\r\n            }\r\n        }\r\n        result.borderStyle = result.strokeWidth + 'px ' +\r\n            result.strokeStyle + ' ' + result.strokeColor;\r\n\r\n        // Normalize the list of notations.\r\n        notations = notations.toString().split(/[, ]/).\r\n            filter(v => v.length > 0).map(v => v.toLowerCase());\r\n        result.notation = {};\r\n        for (const notation of notations) {\r\n            result.notation[notation] = true;\r\n        }\r\n        if (result.notation['updiagonalarrow']) result.notation['updiagonalstrike'] = false;\r\n        if (result.notation['box']) {\r\n            result.notation['left'] = false;\r\n            result.notation['right'] = false;\r\n            result.notation['bottom'] = false;\r\n            result.notation['top'] = false;\r\n        }\r\n        return result;\r\n    }\r\n)\r\n\r\n    frequency(CRYPTIC, '\\\\enclose');\r\n\r\ndefineFunction('\\\\cancel', '{body:auto}', null,\r\n    function(name, args) {\r\n        return {\r\n            type: 'enclose',\r\n            strokeColor: 'currentColor',\r\n            strokeWidth: 1,\r\n            strokeStyle: 'solid',\r\n            borderStyle: '1px solid currentColor',\r\n            backgroundcolor: 'transparent',\r\n            padding: 'auto',\r\n            shadow: 'auto',\r\n            notation: {\"updiagonalstrike\": true},\r\n            body: args[0]\r\n        }\r\n    }\r\n)\r\n\r\ndefineFunction('\\\\bcancel', '{body:auto}', null,\r\n    function(name, args) {\r\n        return {\r\n            type: 'enclose',\r\n            strokeColor: 'currentColor',\r\n            strokeWidth: 1,\r\n            strokeStyle: 'solid',\r\n            borderStyle: '1px solid currentColor',\r\n            backgroundcolor: 'transparent',\r\n            padding: 'auto',\r\n            shadow: 'auto',\r\n            notation: {\"downdiagonalstrike\": true},\r\n            body: args[0]\r\n        }\r\n    }\r\n)\r\n\r\ndefineFunction('\\\\xcancel', '{body:auto}', null,\r\n    function(name, args) {\r\n        return {\r\n            type: 'enclose',\r\n            strokeColor: 'currentColor',\r\n            strokeWidth: 1,\r\n            strokeStyle: 'solid',\r\n            borderStyle: '1px solid currentColor',\r\n            backgroundcolor: 'transparent',\r\n            padding: 'auto',\r\n            shadow: 'auto',\r\n            notation: {\"updiagonalstrike\": true, \"downdiagonalstrike\": true},\r\n            body: args[0]\r\n        }\r\n    }\r\n)\r\n\r\n    frequency(CRYPTIC, '\\\\cancel', '\\\\bcancel', '\\\\xcancel');\r\n\r\n\r\n\r\n\r\n\r\n\r\ncategory = 'Styling';\r\n\r\n// Size\r\ndefineFunction([\r\n    '\\\\tiny', '\\\\scriptsize', '\\\\footnotesize', '\\\\small',\r\n    '\\\\normalsize',\r\n    '\\\\large', '\\\\Large', '\\\\LARGE', '\\\\huge', '\\\\Huge'\r\n], '', {allowedInText: true},\r\n    function(name, _args) {\r\n        return {\r\n            fontSize: {\r\n                'tiny': 'size1',\r\n                'scriptsize': 'size2',\r\n                'footnotesize': 'size3',\r\n                'small': 'size4',\r\n                'normalsize': 'size5',\r\n                'large': 'size6',\r\n                'Large': 'size7',\r\n                'LARGE': 'size8',\r\n                'huge': 'size9',\r\n                'Huge': 'size10'\r\n            }[name.slice(1)]\r\n        }\r\n    }\r\n)\r\n\r\n\r\n// SERIES: weight\r\ndefineFunction('\\\\fontseries', '{:text}', {allowedInText: true}, (_name, args) => {\r\n    return { fontSeries: parseArgAsString(args[0]) }\r\n});\r\n\r\ndefineFunction('\\\\bf', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontSeries: 'b' }\r\n});\r\n\r\ndefineFunction('\\\\bm', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontSeries: 'b' }\r\n});\r\n\r\n// Note: switches to math mode\r\ndefineFunction('\\\\bold', '', {allowedInText: true}, (_name, _args) => {\r\n    return { mode: 'math', fontSeries: 'b' }\r\n});\r\n\r\ndefineFunction(['\\\\mathbf', '\\\\boldsymbol'], '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode: 'math', fontSeries: 'b', fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\bfseries', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontSeries: 'b' }\r\n});\r\n\r\ndefineFunction('\\\\textbf', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontSeries: 'b' }\r\n});\r\n\r\ndefineFunction('\\\\mathmd', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode: 'math', fontSeries: 'm', fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\mdseries', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontSeries: 'm' }\r\n});\r\n\r\ndefineFunction('\\\\textmd', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontSeries: 'm' }\r\n});\r\n\r\n// @todo \\textlf\r\n\r\n// SHAPE: italic, small caps\r\ndefineFunction('\\\\fontshape', '{:text}', {allowedInText: true}, (_name, args) => {\r\n    return { fontShape: parseArgAsString(args[0]) }\r\n});\r\n\r\ndefineFunction('\\\\it', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontShape: 'it' }\r\n});\r\n\r\ndefineFunction('\\\\mathit', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode: 'math', fontSeries: 'm', fontShape: 'it' }\r\n});\r\n\r\ndefineFunction('\\\\upshape', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\textup', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\textit', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontShape: 'it' }\r\n});\r\n\r\ndefineFunction('\\\\slshape', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontShape: 'sl' }\r\n});\r\n\r\ndefineFunction('\\\\textsl', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontShape: 'sl' }\r\n});\r\n\r\n// Small caps (switches to text mode)\r\ndefineFunction('\\\\scshape', '', {allowedInText: true}, (_name, _args) => {\r\n    return { mode: 'text', fontShape: 'sc' }\r\n});\r\n\r\ndefineFunction('\\\\textsc', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontShape: 'sc' }\r\n});\r\n\r\n\r\n// FONT FAMILY: Fraktur, Calligraphic, ...\r\n\r\ndefineFunction('\\\\fontfamily', '{:text}', {allowedInText: true}, (_name, args) => {\r\n    return { fontFamily: parseArgAsString(args[0]) }\r\n});\r\n\r\ndefineFunction('\\\\mathrm', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode: 'math', fontFamily: 'cmr', fontSeries: 'm', fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\rmfamily', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontFamily: 'cmr' }\r\n});\r\n\r\ndefineFunction('\\\\textrm', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontFamily: 'cmr' }\r\n});\r\n\r\ndefineFunction('\\\\mathsf', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode:'math', baseFontFamily: 'cmss', fontSeries: 'm', fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\sffamily', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontFamily: 'cmss' }\r\n});\r\n\r\ndefineFunction('\\\\textsf', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontFamily: 'cmss' }\r\n});\r\n\r\ndefineFunction('\\\\mathtt', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode:'math', baseFontFamily: 'cmtt', fontSeries: 'm', fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\ttfamily', '', {allowedInText: true}, (_name, _args) => {\r\n    return { fontFamily: 'cmtt' }\r\n});\r\n\r\ndefineFunction('\\\\texttt', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontFamily: 'cmtt' }\r\n});\r\n\r\ndefineFunction(['\\\\Bbb', '\\\\mathbb'], '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode:'math', baseFontFamily: 'bb' }\r\n});\r\n\r\ndefineFunction(['\\\\frak', '\\\\mathfrak'], '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { baseFontFamily: 'frak' }\r\n});\r\n\r\ndefineFunction('\\\\mathcal', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode:'math', baseFontFamily: 'cal', fontSeries: 'm', fontShape: 'n' }\r\n});\r\n\r\ndefineFunction('\\\\mathscr', '{:math*}', {allowedInText: true}, (_name, _args) => {\r\n    return { mode:'math', baseFontFamily: 'scr', fontSeries: 'm', fontShape: 'n' }\r\n});\r\n\r\n\r\n\r\n    frequency(SUPERCOMMON, '\\\\mathbb');\r\n    frequency(1081, '\\\\Bbb');\r\n    frequency(0, '\\\\mathcal');\r\n    frequency(COMMON, '\\\\mathfrak');\r\n    frequency(271, '\\\\frak');\r\n    frequency(COMMON, '\\\\mathscr');\r\n    frequency(UNCOMMON, '\\\\mathsf');\r\n    frequency(COMMON, '\\\\mathtt');\r\n    frequency(COMMON, '\\\\boldsymbol');\r\n\r\n    // frequency(780, '\\\\tt');\r\n\r\n\r\n// @todo: family could be 'none' or 'default'\r\n// \"normal\" font of the body text, not necessarily roman\r\ndefineFunction('\\\\textnormal', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { fontFamily: 'cmr', fontShape: 'n', fontSeries: 'n' }\r\n});\r\n\r\n\r\n// Rough synomym for \\text{}\r\n/*\r\nAn \\mbox within math mode does not use the current math font; rather it uses\r\nthe typeface of the surrounding running text.\r\n*/\r\ndefineFunction('\\\\mbox', '{:text*}', null, (_name, _args) => {\r\n    return { fontFamily: 'cmr' }\r\n});\r\n\r\n\r\n\r\ndefineFunction('\\\\text', '{:text*}', {allowedInText: true}, (_name, _args) => {\r\n    return { }\r\n});\r\n\r\n\r\n/* A MathJax extension: assign a class to the element */\r\ndefineFunction('\\\\class', '{name:text}{content:auto*}', {allowedInText: true}, (_name, args) => {\r\n    return { cssClass: parseArgAsString(args[0]) }\r\n});\r\n\r\n/* A MathJax extension: assign an ID to the element */\r\ndefineFunction('\\\\cssId', '{id:text}{content:auto}', {allowedInText: true}, (_name, args) => {\r\n    return { cssId: parseArgAsString(args[0]), body: args[1], type: 'group' }\r\n});\r\n\r\n/* Note: in TeX, \\em is restricted to text mode. We extend it to math */\r\ndefineFunction('\\\\em', '', {allowedInText: true}, (_name, _args) => {\r\n    return { cssClass: 'ML__emph', type: 'group' }\r\n});\r\n\r\n/* Note: in TeX, \\emph is restricted to text mode. We extend it to math */\r\ndefineFunction('\\\\emph', '{:auto}', {allowedInText: true}, (_name, args) => {\r\n    return { cssClass: 'ML__emph', body: args[0], type: 'group', skipBoundary: true }\r\n});\r\n\r\n\r\n\r\nfrequency(COMMON, '\\\\textrm');\r\nfrequency(COMMON, '\\\\textit');\r\nfrequency(COMMON, '\\\\textsf');\r\nfrequency(COMMON, '\\\\texttt');\r\nfrequency(433, '\\\\textnormal');\r\nfrequency(COMMON, '\\\\textbf');\r\nfrequency(421, '\\\\textup');\r\nfrequency(819, '\\\\emph');\r\nfrequency(49, '\\\\em');\r\n\r\n\r\ncategory = 'Operators';\r\n\r\n// Root\r\ndefineFunction('\\\\sqrt', '[index:auto]{radicand:auto}', null,\r\nfunction(name, args) {\r\n    return {\r\n        type: 'surd',\r\n        body: args[1],\r\n        index: args[0]\r\n    };\r\n});\r\nfrequency(SUPERCOMMON, '\\\\sqrt');\r\n\r\ncategory = 'Fractions';\r\n// Fractions\r\ndefineFunction([\r\n    '\\\\frac', '\\\\dfrac', '\\\\tfrac',\r\n    '\\\\cfrac',\r\n    '\\\\binom', '\\\\dbinom', '\\\\tbinom'\r\n], '{numerator}{denominator}', null, function(name, args) {\r\n    const result = {\r\n        type: 'genfrac',\r\n        numer: args[0],\r\n        denom: args[1],\r\n        mathstyle: 'auto'\r\n    };\r\n\r\n    switch (name) {\r\n        case '\\\\dfrac':\r\n        case '\\\\frac':\r\n        case '\\\\tfrac':\r\n        case '\\\\cfrac':\r\n            result.hasBarLine = true;\r\n            break;\r\n        case '\\\\\\\\atopfrac':\r\n            result.hasBarLine = false;\r\n            break;\r\n        case '\\\\dbinom':\r\n        case '\\\\binom':\r\n        case '\\\\tbinom':\r\n            result.hasBarLine = false;\r\n            result.leftDelim = '(';\r\n            result.rightDelim = ')';\r\n            break;\r\n    }\r\n\r\n    switch (name) {\r\n        case '\\\\dfrac':\r\n        case '\\\\dbinom':\r\n            result.mathstyle = 'displaystyle';\r\n            break;\r\n        case '\\\\tfrac':\r\n        case '\\\\tbinom':\r\n            result.mathstyle = 'textstyle';\r\n            break;\r\n    }\r\n\r\n    if (name === '\\\\cfrac') {\r\n        result.continuousFraction = true;\r\n    }\r\n\r\n    return result;\r\n\r\n});\r\n\r\n/* \\\\substack: frequency 16 */\r\n\r\n/*\r\n\\over = \\above 0.4pt\r\n\\atop = \\above 0pt\r\n\\choose = \\atopwithdelims()\r\n*/\r\n// infix commands:\r\n// {above}\\atop{below} --> \\genfrac{}{}{0pt}{above}{below}\r\n// {above}\\atopwithdelims{leftdelim}{rightdelim}{below} --> \\genfrac{leftdelim}{rightdelim}{0pt}{0/1/2/3}{above}{below}\r\n//  Note: 0/1/2/3 -> displaystyle, textstyle, scriptstyle, scriptscriptstyle\r\n// \\atopwithdelimiters\r\n// a\\above 0.5pt b               -->\r\n// \\abovewithdelims\r\n// \\choose              --> \\binom\r\n    // \\choose = \\atopwithdelims()          INFIX\r\n    // \\def\\brack{\\atopwithdelims[]}        INFIX\r\n    // \\def\\brace{\\atopwithdelims\\{\\}}      INFIX\r\n\r\n// '\\\\above', /* {dim} 122 */\r\n// '\\\\overwithdelims' /* {leftdelim}{rightdelim} w/ barline 15 */,\r\n// '\\\\atopwithdelims' /* {leftdelim}{rightdelim} no barline 0 */,\r\n// '\\\\atop' /* nodelims, no barline 0 */,\r\n// '\\\\brack', '\\\\brace' like \\choose, but\r\n//      with braces and brackets fences. 0 usage in latexsearch */\r\n\r\ndefineFunction([\r\n    '\\\\over' /* 21 */ ,\r\n    '\\\\atop' /* 12 */,\r\n    '\\\\choose' /* 1968 */\r\n], '', {infix: true},\r\n        function(name, args) {\r\n    const numer = args[0];\r\n    const denom = args[1];\r\n    let hasBarLine = false;\r\n    let leftDelim = null;\r\n    let rightDelim = null;\r\n\r\n    switch (name) {\r\n        case '\\\\atop':\r\n            break;\r\n        case '\\\\over':\r\n            hasBarLine = true;\r\n            break;\r\n        case '\\\\choose':\r\n            hasBarLine = false;\r\n            leftDelim = '(';\r\n            rightDelim = ')';\r\n            break;\r\n        default:\r\n            throw new Error('Unrecognized genfrac command');\r\n    }\r\n    return {\r\n        type: 'genfrac',\r\n        numer: numer,\r\n        denom: denom,\r\n        hasBarLine: hasBarLine,\r\n        leftDelim: leftDelim,\r\n        rightDelim: rightDelim,\r\n        mathstyle: 'auto'\r\n    };\r\n});\r\n    frequency(21, '\\\\over');\r\n    frequency(12, '\\\\atop');\r\n    frequency(1968, '\\\\choose');\r\n\r\ndefineFunction([\r\n    '\\\\overwithdelims' /* 21 */ ,\r\n    '\\\\atopwithdelims' /* COMMON */,\r\n\r\n], '{left-delim:delim}{right-delim:delim}', {infix: true},\r\n        function(name, args) {\r\n    return {\r\n        type: 'genfrac',\r\n        numer: args[0],\r\n        denom: args[1],\r\n        hasBarLine: false,\r\n        leftDelim: args[2],\r\n        rightDelim: args[3],\r\n        mathstyle: 'auto'\r\n    };\r\n});\r\n    frequency(15, '\\\\overwithdelims');\r\n    frequency(COMMON, '\\\\atopwithdelims');\r\n\r\n// frequency(COMMON, '\\\\frac');\r\n// frequency(UNCOMMON, '\\\\binom');\r\n// frequency(RARE, '\\\\dfrac', '\\\\tfrac', '\\\\dbinom', '\\\\tbinom');\r\n\r\n\r\n// Slashed package\r\n/*\r\ndefineFunction('\\\\slashed'\r\n*/\r\n\r\ncategory = 'Fractions';\r\ndefineFunction('\\\\pdiff', '{numerator}{denominator}' , null, function(_funcname, args) {\r\n    return {\r\n        type: 'genfrac',\r\n        numer: args[0],\r\n        denom: args[1],\r\n        numerPrefix: '\\u2202',\r\n        denomPrefix: '\\u2202',\r\n        hasBarLine: true,\r\n        leftDelim: null,\r\n        rightDelim: null,\r\n        mathstyle: 'auto'\r\n    };\r\n})\r\n\r\n// frequency(RARE, '\\\\pdiff');\r\n\r\n\r\n\r\n// Quantifiers\r\ncategory = 'Quantifiers';\r\ndefineSymbol( '\\\\forall',  MAIN,  MATHORD, '\\u2200', SUPERCOMMON);\r\ndefineSymbol( '\\\\exists',  MAIN,  MATHORD, '\\u2203', SUPERCOMMON);\r\ndefineSymbol( '\\\\nexists',  AMS,  MATHORD, '\\u2204', SUPERCOMMON);\r\ndefineSymbol( '\\\\mid',  MAIN,  REL, '\\u2223', COMMON);\r\ndefineSymbol( '\\\\top',  MAIN,  MATHORD, '\\u22a4', RARE);\r\ndefineSymbol( '\\\\bot',  MAIN,  MATHORD, '\\u22a5', RARE);\r\n\r\n\r\ncategory = 'Variable Sized Symbols'\r\n\r\n// Limits, symbols\r\ndefineFunction([\r\n    '\\\\sum', '\\\\prod', '\\\\bigcup', '\\\\bigcap',\r\n    '\\\\coprod', '\\\\bigvee', '\\\\bigwedge', '\\\\biguplus',\r\n    '\\\\bigotimes',\r\n    '\\\\bigoplus', '\\\\bigodot', '\\\\bigsqcup', '\\\\smallint', '\\\\intop',\r\n],  '', null, function(name) {\r\n    return {\r\n        type: 'mop',\r\n        limits: 'auto',\r\n        symbol: true,\r\n        baseFontFamily: 'cmr',\r\n        body: {\r\n            'coprod': '\\u2210',\r\n            'bigvee': '\\u22c1',\r\n            'bigwedge': '\\u22c0',\r\n            'biguplus': '\\u2a04',\r\n            'bigcap': '\\u22c2',\r\n            'bigcup': '\\u22c3',\r\n            'intop': '\\u222b',\r\n            'prod': '\\u220f',\r\n            'sum': '\\u2211',\r\n            'bigotimes': '\\u2a02',\r\n            'bigoplus': '\\u2a01',\r\n            'bigodot': '\\u2a00',\r\n            'bigsqcup': '\\u2a06',\r\n            'smallint': '\\u222b',\r\n            }[name.slice(1)],\r\n    };\r\n});\r\n\r\n// No limits, symbols\r\ndefineFunction(['\\\\int', '\\\\iint', '\\\\iiint', '\\\\oint', '\\\\oiint',\r\n    '\\\\oiiint', '\\\\intclockwise', '\\\\varointclockwise',\r\n    '\\\\ointctrclockwise', '\\\\intctrclockwise'\r\n], '', null, function(name) {\r\n    return {\r\n        type: 'mop',\r\n        limits: 'nolimits',\r\n        symbol: true,\r\n        body: {\r\n            'int': '\\u222b',\r\n            'iint': '\\u222c',\r\n            'iiint': '\\u222d',\r\n            'oint': '\\u222e',\r\n            'oiint': '\\u222f',\r\n            'oiiint': '\\u2230',\r\n            'intclockwise': '\\u2231',\r\n            'varointclockwise': '\\u2232',\r\n            'ointctrclockwise': '\\u2233',\r\n            'intctrclockwise': '\\u2a11',\r\n            }[name.slice(1)],\r\n    };\r\n});\r\n\r\n\r\n\r\nfrequency(SUPERCOMMON, '\\\\sum', '\\\\prod', '\\\\bigcap', '\\\\bigcup', '\\\\int');\r\n\r\nfrequency(COMMON, '\\\\bigoplus', '\\\\smallint', '\\\\iint', '\\\\oint');\r\nfrequency(RARE, '\\\\bigwedge', '\\\\bigvee');\r\n\r\n\r\nfrequency(756, '\\\\coprod');\r\n\r\nfrequency(723, '\\\\bigsqcup');\r\nfrequency(1241, '\\\\bigotimes');\r\nfrequency(150, '\\\\bigodot');\r\nfrequency(174, '\\\\biguplus');\r\n\r\nfrequency(878,  '\\\\iiint');\r\n\r\nfrequency(97,  '\\\\intop');\r\n\r\n\r\n// Misc Symbols\r\ncategory = 'Various';\r\ndefineSymbol( '\\\\sharp',  MAIN,  MATHORD, '\\u266f', COMMON); // >2,000\r\ndefineSymbol( '\\\\flat',  MAIN,  MATHORD, '\\u266d', 590);\r\ndefineSymbol( '\\\\natural',  MAIN,  MATHORD, '\\u266e', 278);\r\ndefineSymbol( '\\\\#',  MAIN,  MATHORD, '\\u0023', RARE);\r\ndefineSymbol( '\\\\&',  MAIN,  MATHORD, '\\u0026', RARE);\r\ndefineSymbol( '\\\\clubsuit',  MAIN,  MATHORD, '\\u2663', 172);\r\ndefineSymbol( '\\\\heartsuit',  MAIN,  MATHORD, '\\u2661', ARCANE);\r\ndefineSymbol( '\\\\spadesuit',  MAIN,  MATHORD, '\\u2660', ARCANE);\r\ndefineSymbol( '\\\\diamondsuit',  MAIN,  MATHORD, '\\u2662', CRYPTIC);\r\n\r\n\r\n// defineSymbol( '\\\\cross',  MAIN,  MATHORD, '\\uF4A0'); // NOTE: not a real TeX symbol, but Mathematica\r\n// defineSymbol( '\\\\transpose',  MAIN,  MATHORD, '\\uF3C7'); // NOTE: not a real TeX symbol, but Mathematica\r\n// defineSymbol( '\\\\conjugate', 'conj'],  MAIN,  MATHORD, '\\uF3C8'); // NOTE: not a real TeX symbol, but Mathematica\r\n// defineSymbol( '\\\\conjugatetranspose',  MAIN,  MATHORD, '\\uF3C9'); // NOTE: not a real TeX symbol, but Mathematica\r\n// defineSymbol( '\\\\hermitianconjugate',  MAIN,  MATHORD, '\\uF3CE'); // NOTE: not a real TeX symbol, but Mathematica\r\ndefineSymbol( '\\\\differencedelta',  MAIN,  REL, '\\u2206', COMMON);\r\n\r\ncategory = 'Letters and Letter Like Forms';\r\n\r\ndefineFunction('\\\\unicode', '{charcode:number}', null,\r\nfunction(name, args) {\r\n    let codepoint = parseInt(args[0]);\r\n    if (!isFinite(codepoint)) codepoint = 0x2753; // BLACK QUESTION MARK\r\n    return {\r\n        type: 'mord',\r\n        body: String.fromCodePoint(codepoint)\r\n    }\r\n});\r\ndefineSymbol( '\\\\backslash',  MAIN,  MATHORD, '\\\\');\r\n\r\ndefineSymbol( '?',  MAIN,  MATHORD, '?');\r\ndefineSymbol( '!',  MAIN,  MATHORD, '!');\r\n\r\ndefineSymbol( '\\\\nabla',  MAIN,  MATHORD, '\\u2207', SUPERCOMMON);\r\ndefineSymbol( '\\\\partial',  MAIN,  MATHORD, '\\u2202', SUPERCOMMON); // >2,000\r\n\r\ndefineSymbol( '\\\\ell',  MAIN,  MATHORD, '\\u2113', COMMON); // >2,000\r\ndefineSymbol( '\\\\imaginaryI',  MAIN,  MATHORD, 'i'); // NOTE: not a real TeX symbol, but Mathematica\r\n// NOTE: set in math as per ISO 80000-2:2009.\r\ndefineSymbol( '\\\\imaginaryJ',  MAIN,  MATHORD, 'j'); // NOTE: not a real TeX symbol, but Mathematica\r\n// NOTE: set in math as per ISO 80000-2:2009.\r\n\r\ndefineFunction(['\\\\Re', '\\\\Im'],\r\n    '', null, function(name) {\r\n    return {\r\n        type: 'mop',\r\n        limits: 'nolimits',\r\n        symbol: false,\r\n        isFunction: true,\r\n        body: {'\\\\Re': '\\u211c', '\\\\Im': '\\u2111'}[name],\r\n        baseFontFamily: 'frak'\r\n    };\r\n})\r\n\r\n\r\ndefineSymbol( '\\\\hbar',  MAIN,  MATHORD, '\\u210f', COMMON); // >2,000\r\ndefineSymbol( '\\\\hslash',  AMS,  MATHORD, '\\u210f', COMMON); // >2,000\r\n\r\ndefineSymbol( '\\\\differentialD',  'cmr',  MATHORD, 'd'); // NOTE: not a real TeX symbol, but Mathematica\r\ndefineSymbol( '\\\\rd',  'cmr',  MATHORD, 'd'); // NOTE: not a real TeX symbol, but used in ProofWiki\r\n// NOTE: set in math as per ISO 80000-2:2009.\r\ndefineSymbol( '\\\\capitalDifferentialD',  'cmr',  MATHORD, 'D'); // NOTE: not a real TeX symbol, but Mathematica\r\n// NOTE: set in math as per ISO 80000-2:2009.\r\ndefineSymbol( '\\\\rD',  'cmr',  MATHORD, 'D'); // NOTE: not a real TeX symbol\r\ndefineSymbol( '\\\\exponentialE',  'cmr',  MATHORD, 'e'); // NOTE: not a real TeX symbol, but Mathematica\r\n// NOTE: set in math as per ISO 80000-2:2009.\r\n\r\n\r\ndefineSymbol( '\\\\Finv',  AMS,  MATHORD, '\\u2132', 3);\r\ndefineSymbol( '\\\\Game',  AMS,  MATHORD, '\\u2141', 1);\r\n\r\ndefineSymbol( '\\\\wp',  MAIN,  MATHORD, '\\u2118', 1306);\r\ndefineSymbol( '\\\\eth',  AMS,  MATHORD, '\\u00f0', 77);\r\n\r\ndefineSymbol( '\\\\mho',  AMS,  MATHORD, '\\u2127', 138);\r\n\r\ndefineSymbol( '\\\\Bbbk',  AMS,  MATHORD, '\\u006b');\r\ndefineSymbol( '\\\\doubleStruckCapitalN',  'bb',  MATHORD, 'N');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\N',  'bb',  MATHORD, 'N');    // NOTE: Check if standard Latex\r\ndefineSymbol( '\\\\doubleStruckCapitalR',  'bb',  MATHORD, 'R');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\R',  'bb',  MATHORD, 'R');    // NOTE: Check if standard Latex\r\ndefineSymbol( '\\\\doubleStruckCapitalQ',  'bb',  MATHORD, 'Q');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\Q',  'bb',  MATHORD, 'Q');    // NOTE: Check if standard Latex\r\ndefineSymbol( '\\\\doubleStruckCapitalC',  'bb',  MATHORD, 'C');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\C',  'bb',  MATHORD, 'C');    // NOTE: Check if standard Latex\r\ndefineSymbol( '\\\\doubleStruckCapitalZ',  'bb',  MATHORD, 'Z');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\Z',  'bb',  MATHORD, 'Z');    // NOTE: Check if standard Latex\r\ndefineSymbol( '\\\\doubleStruckCapitalP',  'bb',  MATHORD, 'P');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\P',  'bb',  MATHORD, 'P');    // NOTE: Check if standard Latex\r\n\r\ndefineSymbol( '\\\\scriptCapitalE',  'scr',  MATHORD, 'E');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\scriptCapitalH',  'scr',  MATHORD, 'H');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\scriptCapitalL',  'scr',  MATHORD, 'L');    // NOTE: Not TeX?\r\n\r\ndefineSymbol( '\\\\gothicCapitalC',  'frak',  MATHORD, 'C');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\gothicCapitalH',  'frak',  MATHORD, 'H');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\gothicCapitalI',  'frak',  MATHORD, 'I');    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\gothicCapitalR',  'frak',  MATHORD, 'R');    // NOTE: Not TeX?\r\n\r\n\r\ndefineSymbol( '\\\\pounds',  MAIN,  MATHORD, '\\u00a3', 509);\r\ndefineSymbol( '\\\\yen',  AMS,  MATHORD, '\\u00a5', 57);\r\ndefineSymbol( '\\\\euro',  MAIN,  MATHORD, '\\u20AC', 4); // NOTE: not TeX built-in, but textcomp package\r\n\r\n\r\n\r\n\r\n// TODO Koppa, Stigma, Sampi\r\n\r\n\r\n// Math and Text\r\n\r\ncategory = 'Crosses';\r\ndefineSymbol( '\\\\textdagger',  MAIN,  BIN, '\\u2020');\r\ndefineSymbol( '\\\\dagger',  MAIN,  BIN, '\\u2020', COMMON);         // >2000\r\ndefineSymbol( '\\\\dag',  MAIN,  BIN, '\\u2020', COMMON);        // >2000 results\r\ndefineSymbol( '\\\\ddag',  MAIN,  BIN, '\\u2021', 500);    // 500 results in latexsearch\r\ndefineSymbol( '\\\\textdaggerdbl',  MAIN,  BIN, '\\u2021');\r\ndefineSymbol( '\\\\ddagger',  MAIN,  BIN, '\\u2021', 353);        // 353 results in latexsearch\r\ndefineSymbol( '\\\\maltese',  AMS,  MATHORD, '\\u2720', 24);\r\n\r\n\r\n\r\n// Arrow Symbols\r\ncategory = 'Arrows';\r\n\r\ndefineSymbol( '\\\\longrightarrow',  MAIN,  REL, '\\u27f6', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\rightarrow',  MAIN,  REL, '\\u2192', SUPERCOMMON);     // >2,000\r\ndefineSymbol( '\\\\Longrightarrow',  MAIN,  REL, '\\u27f9', SUPERCOMMON);         // See \\\\implies\r\ndefineSymbol( '\\\\Rightarrow',  MAIN,  REL, '\\u21d2', SUPERCOMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\longmapsto',  MAIN,  REL, '\\u27fc', COMMON);    // >2,000\r\ndefineSymbol( '\\\\mapsto',  MAIN,  REL, '\\u21a6', COMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\Longleftrightarrow',  MAIN,  REL, '\\u27fa', COMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\rightleftarrows',  AMS,  REL, '\\u21c4', COMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\leftarrow',  MAIN,  REL, '\\u2190', COMMON);     // >2,000\r\n\r\ndefineSymbol( '\\\\curvearrowleft',  AMS,  REL, '\\u21b6', COMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\uparrow',  MAIN,  REL, '\\u2191', COMMON);    // >2,000\r\ndefineSymbol( '\\\\downarrow',  MAIN,  REL, '\\u2193', COMMON);  // >2,000\r\n\r\ndefineSymbol( '\\\\hookrightarrow',  MAIN,  REL, '\\u21aa', COMMON);         // >2,000\r\ndefineSymbol( '\\\\rightharpoonup',  MAIN,  REL, '\\u21c0', COMMON);         // >2,000\r\ndefineSymbol( '\\\\rightleftharpoons',  MAIN,  REL, '\\u21cc', COMMON);         // >2,000\r\n\r\ndefineSymbol( '\\\\Leftarrow',  MAIN,  REL, '\\u21d0', 1695);\r\ndefineSymbol( '\\\\longleftrightarrow',  MAIN,  REL, '\\u27f7', 1599);\r\ndefineSymbol( '\\\\longleftarrow',  MAIN,  REL, '\\u27f5', 878);\r\ndefineSymbol( '\\\\Longleftarrow',  MAIN,  REL, '\\u27f8', 296);\r\n\r\ndefineSymbol( '\\\\searrow',  MAIN,  REL, '\\u2198', 1609);\r\ndefineSymbol( '\\\\nearrow',  MAIN,  REL, '\\u2197', 1301);\r\ndefineSymbol( '\\\\swarrow',  MAIN,  REL, '\\u2199', 167);\r\ndefineSymbol( '\\\\nwarrow',  MAIN,  REL, '\\u2196', 108);\r\n\r\ndefineSymbol( '\\\\Uparrow',  MAIN,  REL, '\\u21d1', 257);\r\ndefineSymbol( '\\\\Downarrow',  MAIN,  REL, '\\u21d3', 556);\r\ndefineSymbol( '\\\\updownarrow',  MAIN,  REL, '\\u2195', 192);\r\ndefineSymbol( '\\\\Updownarrow',  MAIN,  REL, '\\u21d5', 161);\r\n\r\ndefineSymbol( '\\\\hookleftarrow',  MAIN,  REL, '\\u21a9', 115);\r\ndefineSymbol( '\\\\leftharpoonup',  MAIN,  REL, '\\u21bc', 93);\r\ndefineSymbol( '\\\\leftharpoondown',  MAIN,  REL, '\\u21bd', 42);\r\ndefineSymbol( '\\\\rightharpoondown',  MAIN,  REL, '\\u21c1', 80);\r\n\r\ndefineSymbol( '\\\\leftrightarrows',  AMS,  REL, '\\u21c6', 765);\r\n\r\ndefineSymbol( '\\\\dashrightarrow',  AMS,  REL, '\\u21e2', 311);\r\ndefineSymbol( '\\\\dashleftarrow',  AMS,  REL, '\\u21e0', 5);\r\ndefineSymbol( '\\\\leftleftarrows',  AMS,  REL, '\\u21c7', 8);\r\ndefineSymbol( '\\\\Lleftarrow',  AMS,  REL, '\\u21da', 7);\r\ndefineSymbol( '\\\\twoheadleftarrow',  AMS,  REL, '\\u219e', 32);\r\ndefineSymbol( '\\\\leftarrowtail',  AMS,  REL, '\\u21a2', 25);\r\ndefineSymbol( '\\\\looparrowleft',  AMS,  REL, '\\u21ab', 6);\r\ndefineSymbol( '\\\\leftrightharpoons',  AMS,  REL, '\\u21cb', 205);\r\ndefineSymbol( '\\\\circlearrowleft',  AMS,  REL, '\\u21ba', 105);\r\ndefineSymbol( '\\\\Lsh',  AMS,  REL, '\\u21b0', 11);\r\ndefineSymbol( '\\\\upuparrows',  AMS,  REL, '\\u21c8', 15);\r\ndefineSymbol( '\\\\downharpoonleft',  AMS,  REL, '\\u21c3', 21);\r\ndefineSymbol( '\\\\multimap',  AMS,  REL, '\\u22b8', 108);\r\ndefineSymbol( '\\\\leftrightsquigarrow',  AMS,  REL, '\\u21ad', 31);\r\ndefineSymbol( '\\\\twoheadrightarrow',  AMS,  REL, '\\u21a0', 835);\r\ndefineSymbol( '\\\\rightarrowtail',  AMS,  REL, '\\u21a3', 195);\r\ndefineSymbol( '\\\\looparrowright',  AMS,  REL, '\\u21ac', 37);\r\ndefineSymbol( '\\\\curvearrowright',  AMS,  REL, '\\u21b7', 209);\r\ndefineSymbol( '\\\\circlearrowright',  AMS,  REL, '\\u21bb', 63);\r\ndefineSymbol( '\\\\Rsh',  AMS,  REL, '\\u21b1', 18);\r\ndefineSymbol( '\\\\downdownarrows',  AMS,  REL, '\\u21ca', 6);\r\ndefineSymbol( '\\\\upharpoonright',  AMS,  REL, '\\u21be', 579);\r\ndefineSymbol( '\\\\downharpoonright',  AMS,  REL, '\\u21c2', 39);\r\ndefineSymbol( '\\\\rightsquigarrow',  AMS,  REL, '\\u21dd', 674);\r\ndefineSymbol( '\\\\leadsto',  AMS,  REL, '\\u21dd', 709);\r\ndefineSymbol( '\\\\Rrightarrow',  AMS,  REL, '\\u21db', 62);\r\ndefineSymbol( '\\\\restriction',  AMS,  REL, '\\u21be', 29);\r\ndefineSymbol( '\\\\upharpoonleft',  AMS,  REL, '\\u21bf', CRYPTIC);\r\ndefineSymbol( '\\\\rightrightarrows',  AMS,  REL, '\\u21c9', CRYPTIC);\r\n\r\n// AMS Negated Arrows\r\ncategory = 'Negated Arrows';\r\ndefineSymbol( '\\\\nrightarrow',  AMS,  REL, '\\u219b', 324);\r\ndefineSymbol( '\\\\nRightarrow',  AMS,  REL, '\\u21cf', 107);\r\ndefineSymbol( '\\\\nleftrightarrow',  AMS,  REL, '\\u21ae', 36);\r\ndefineSymbol( '\\\\nLeftrightarrow',  AMS,  REL, '\\u21ce', 20);\r\ndefineSymbol( '\\\\nleftarrow',  AMS,  REL, '\\u219a', 7);\r\ndefineSymbol( '\\\\nLeftarrow',  AMS,  REL, '\\u21cd', 5);\r\n\r\n// AMS Negated Binary Relations\r\ncategory = 'Negated Relations';\r\ndefineSymbol( '\\\\nless',  AMS,  REL, '\\u226e', 146);\r\ndefineSymbol( '\\\\nleqslant',  AMS,  REL, '\\ue010', 58);\r\ndefineSymbol( '\\\\lneq',  AMS,  REL, '\\u2a87', 54);\r\ndefineSymbol( '\\\\lneqq',  AMS,  REL, '\\u2268', 36);\r\ndefineSymbol( '\\\\nleqq',  AMS,  REL, '\\ue011', 18);\r\n\r\ndefineSymbol( '\\\\unlhd',  AMS,  BIN, '\\u22b4', 253);\r\ndefineSymbol( '\\\\unrhd',  AMS,  BIN, '\\u22b5', 66);\r\n\r\ndefineSymbol( '\\\\lvertneqq',  AMS,  REL, '\\ue00c', 6);\r\ndefineSymbol( '\\\\lnsim',  AMS,  REL, '\\u22e6', 4);\r\ndefineSymbol( '\\\\lnapprox',  AMS,  REL, '\\u2a89', CRYPTIC);\r\ndefineSymbol( '\\\\nprec',  AMS,  REL, '\\u2280', 71);\r\ndefineSymbol( '\\\\npreceq',  AMS,  REL, '\\u22e0', 57);\r\ndefineSymbol( '\\\\precnsim',  AMS,  REL, '\\u22e8', 4);\r\ndefineSymbol( '\\\\precnapprox',  AMS,  REL, '\\u2ab9', 2);\r\ndefineSymbol( '\\\\nsim',  AMS,  REL, '\\u2241', 40);\r\ndefineSymbol( '\\\\nshortmid',  AMS,  REL, '\\ue006', 1);\r\ndefineSymbol( '\\\\nmid',  AMS,  REL, '\\u2224', 417);\r\ndefineSymbol( '\\\\nvdash',  AMS,  REL, '\\u22ac', 266);\r\ndefineSymbol( '\\\\nvDash',  AMS,  REL, '\\u22ad', 405);\r\ndefineSymbol( '\\\\ngtr',  AMS,  REL, '\\u226f', 90);\r\ndefineSymbol( '\\\\ngeqslant',  AMS,  REL, '\\ue00f', 23);\r\ndefineSymbol( '\\\\ngeqq',  AMS,  REL, '\\ue00e', 12);\r\ndefineSymbol( '\\\\gneq',  AMS,  REL, '\\u2a88', 29);\r\ndefineSymbol( '\\\\gneqq',  AMS,  REL, '\\u2269', 35);\r\ndefineSymbol( '\\\\gvertneqq',  AMS,  REL, '\\ue00d', 6);\r\ndefineSymbol( '\\\\gnsim',  AMS,  REL, '\\u22e7', 3);\r\ndefineSymbol( '\\\\gnapprox',  AMS,  REL, '\\u2a8a', CRYPTIC);\r\ndefineSymbol( '\\\\nsucc',  AMS,  REL, '\\u2281', 44);\r\ndefineSymbol( '\\\\nsucceq',  AMS,  REL, '\\u22e1', CRYPTIC);\r\ndefineSymbol( '\\\\succnsim',  AMS,  REL, '\\u22e9', 4);\r\ndefineSymbol( '\\\\succnapprox',  AMS,  REL, '\\u2aba', CRYPTIC);\r\ndefineSymbol( '\\\\ncong',  AMS,  REL, '\\u2246', 128);\r\ndefineSymbol( '\\\\nshortparallel',  AMS,  REL, '\\ue007', 6);\r\ndefineSymbol( '\\\\nparallel',  AMS,  REL, '\\u2226', 54);\r\ndefineSymbol( '\\\\nVDash',  AMS,  REL, '\\u22af', 5);\r\ndefineSymbol( '\\\\nsupseteqq',  AMS,  REL, '\\ue018', 1);\r\ndefineSymbol( '\\\\supsetneq',  AMS,  REL, '\\u228b', 286);\r\ndefineSymbol( '\\\\varsupsetneq',  AMS,  REL, '\\ue01b', 2);\r\ndefineSymbol( '\\\\supsetneqq',  AMS,  REL, '\\u2acc', 49);\r\ndefineSymbol( '\\\\varsupsetneqq',  AMS,  REL, '\\ue019', 3);\r\ndefineSymbol( '\\\\nVdash',  AMS,  REL, '\\u22ae', 179);\r\ndefineSymbol( '\\\\precneqq',  AMS,  REL, '\\u2ab5', 11);\r\ndefineSymbol( '\\\\succneqq',  AMS,  REL, '\\u2ab6', 3);\r\ndefineSymbol( '\\\\nsubseteqq',  AMS,  REL, '\\ue016', 16);\r\n\r\n\r\n// AMS Misc\r\ncategory = 'Various';\r\ndefineSymbol( '\\\\checkmark',  AMS,  MATHORD, '\\u2713', 1025);\r\n\r\ndefineSymbol( '\\\\diagup',  AMS,  MATHORD, '\\u2571', 440);\r\ndefineSymbol( '\\\\diagdown',  AMS,  MATHORD, '\\u2572', 175);\r\n\r\ndefineSymbol( '\\\\measuredangle',  AMS,  MATHORD, '\\u2221', 271);\r\ndefineSymbol( '\\\\sphericalangle',  AMS,  MATHORD, '\\u2222', 156);\r\n\r\ndefineSymbol( '\\\\backprime',  AMS,  MATHORD, '\\u2035', 104);\r\ndefineSymbol( '\\\\backdoubleprime',  AMS,  MATHORD, '\\u2036', CRYPTIC);\r\n\r\ncategory = 'Shapes';\r\ndefineSymbol( '\\\\ast',  MAIN,  BIN, '\\u2217', SUPERCOMMON);        // >2,000\r\ndefineSymbol( '\\\\star',  MAIN,  BIN, '\\u22c6', COMMON);       // >2,000\r\ndefineSymbol( '\\\\diamond',  MAIN,  BIN, '\\u22c4', 1356);\r\ndefineSymbol( '\\\\Diamond',  AMS,  MATHORD, '\\u25ca', 695);\r\ndefineSymbol( '\\\\lozenge',  AMS,  MATHORD, '\\u25ca', 422);\r\ndefineSymbol( '\\\\blacklozenge',  AMS,  MATHORD, '\\u29eb', 344);\r\ndefineSymbol( '\\\\bigstar',  AMS,  MATHORD, '\\u2605', 168);\r\n\r\n// AMS Hebrew\r\ncategory = 'Hebrew';\r\ndefineSymbol( '\\\\aleph',  MAIN,  MATHORD, '\\u2135', 1381);\r\ndefineSymbol( '\\\\beth',  AMS,  MATHORD, '\\u2136', 54);\r\ndefineSymbol( '\\\\daleth',  AMS,  MATHORD, '\\u2138', 43);\r\ndefineSymbol( '\\\\gimel',  AMS,  MATHORD, '\\u2137', 36);\r\n\r\n\r\n// AMS Delimiters\r\ncategory = 'Fences';\r\n\r\ndefineSymbol( '\\\\lbrace',  MAIN,  OPEN, '{', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\rbrace',  MAIN,  CLOSE, '}', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\langle',  MAIN,  OPEN, '\\u27e8', COMMON);    // >2,000\r\ndefineSymbol( '\\\\rangle',  MAIN,  CLOSE, '\\u27e9', COMMON);\r\ndefineSymbol( '\\\\lfloor',  MAIN,  OPEN, '\\u230a', COMMON);    // >2,000\r\ndefineSymbol( '\\\\rfloor',  MAIN,  CLOSE, '\\u230b',COMMON);    // >2,000\r\ndefineSymbol( '\\\\lceil',  MAIN,  OPEN, '\\u2308', COMMON);    // >2,000\r\ndefineSymbol( '\\\\rceil',  MAIN,  CLOSE, '\\u2309', COMMON);  // >2,000\r\n\r\ndefineSymbol( '\\\\vert',  MAIN,  MATHORD, '\\u2223', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\mvert',  MAIN,  REL, '\\u2223');\r\ndefineSymbol( '\\\\lvert',  MAIN,  OPEN, '\\u2223', 496);\r\ndefineSymbol( '\\\\rvert',  MAIN,  CLOSE, '\\u2223', 496);\r\ndefineSymbol( '\\\\|',  MAIN,  MATHORD, '\\u2225');\r\ndefineSymbol( '\\\\Vert',  MAIN,  MATHORD, '\\u2225', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\mVert',  MAIN,  MATHORD, '\\u2225');\r\ndefineSymbol( '\\\\lVert',  MAIN,  OPEN, '\\u2225', 287);\r\ndefineSymbol( '\\\\rVert',  MAIN,  CLOSE, '\\u2225', CRYPTIC);\r\n\r\ndefineSymbol( '\\\\lbrack',  MAIN,  OPEN, '[', 574);\r\ndefineSymbol( '\\\\rbrack',  MAIN,  CLOSE, ']', 213);\r\ndefineSymbol( '\\\\{',  MAIN,  OPEN, '{');\r\ndefineSymbol( '\\\\}',  MAIN,  CLOSE, '}');\r\n\r\n\r\ndefineSymbol( '(',  MAIN,  OPEN, '(');\r\ndefineSymbol( ')',  MAIN,  CLOSE, ')');\r\ndefineSymbol( '[',  MAIN,  OPEN, '[');\r\ndefineSymbol( ']',  MAIN,  CLOSE, ']');\r\n\r\ndefineSymbol( '\\\\ulcorner',  AMS,  OPEN, '\\u250c', 296);\r\ndefineSymbol( '\\\\urcorner',  AMS,  CLOSE, '\\u2510', 310);\r\ndefineSymbol( '\\\\llcorner',  AMS,  OPEN, '\\u2514', 137);\r\ndefineSymbol( '\\\\lrcorner',  AMS,  CLOSE, '\\u2518', 199);\r\n\r\n// Large Delimiters\r\n\r\ndefineSymbol( '\\\\lgroup',  MAIN,  OPEN, '\\u27ee', 24);\r\ndefineSymbol( '\\\\rgroup',  MAIN,  CLOSE, '\\u27ef', 24);\r\ndefineSymbol( '\\\\lmoustache',  MAIN,  OPEN, '\\u23b0', CRYPTIC);\r\ndefineSymbol( '\\\\rmoustache',  MAIN,  CLOSE, '\\u23b1', CRYPTIC);\r\n\r\ndefineFunction(['\\\\middle'], '{:delim}', null, function(name, args) {\r\n    return {type: 'delim', delim: args[0]};\r\n});\r\n\r\n\r\ncategory = 'Sizing';\r\n\r\n// Extra data needed for the delimiter parse function down below\r\nconst delimiterSizes = {\r\n    '\\\\bigl' : {mclass: 'mopen',    size: 1},\r\n    '\\\\Bigl' : {mclass: 'mopen',    size: 2},\r\n    '\\\\biggl': {mclass: 'mopen',    size: 3},\r\n    '\\\\Biggl': {mclass: 'mopen',    size: 4},\r\n    '\\\\bigr' : {mclass: 'mclose',   size: 1},\r\n    '\\\\Bigr' : {mclass: 'mclose',   size: 2},\r\n    '\\\\biggr': {mclass: 'mclose',   size: 3},\r\n    '\\\\Biggr': {mclass: 'mclose',   size: 4},\r\n    '\\\\bigm' : {mclass: 'mrel',     size: 1},\r\n    '\\\\Bigm' : {mclass: 'mrel',     size: 2},\r\n    '\\\\biggm': {mclass: 'mrel',     size: 3},\r\n    '\\\\Biggm': {mclass: 'mrel',     size: 4},\r\n    '\\\\big'  : {mclass: 'mord',     size: 1},\r\n    '\\\\Big'  : {mclass: 'mord',     size: 2},\r\n    '\\\\bigg' : {mclass: 'mord',     size: 3},\r\n    '\\\\Bigg' : {mclass: 'mord',     size: 4},\r\n};\r\n\r\n\r\ndefineFunction([\r\n    '\\\\bigl', '\\\\Bigl', '\\\\biggl', '\\\\Biggl',\r\n    '\\\\bigr', '\\\\Bigr', '\\\\biggr', '\\\\Biggr',\r\n    '\\\\bigm', '\\\\Bigm', '\\\\biggm', '\\\\Biggm',\r\n    '\\\\big',  '\\\\Big',  '\\\\bigg',  '\\\\Bigg',\r\n], '{:delim}', null, function(name, args) {\r\n\r\n    return {\r\n        type: 'sizeddelim',\r\n        size: delimiterSizes[name].size,\r\n        cls: delimiterSizes[name].mclass,\r\n        delim: args[0],\r\n    };\r\n});\r\n\r\n\r\n\r\n// Relations\r\ncategory = 'Relations';\r\ndefineSymbol( '=',  MAIN,  REL, '=', SUPERCOMMON);\r\ndefineSymbol( '\\\\ne',  MAIN,  REL, '\\u2260', SUPERCOMMON);     // >2,000\r\ndefineSymbol( '\\\\neq',  MAIN,  REL, '\\u2260', COMMON);     // >2,000\r\n// defineSymbol( '\\\\longequal',  MAIN,  REL, '\\uF7D9');   // NOTE: Not TeXematica\r\n\r\ndefineSymbol( '<',  MAIN,  REL, '<', SUPERCOMMON);     // >2,000\r\ndefineSymbol( '\\\\lt',  MAIN,  REL, '<', COMMON);     // >2,000\r\ndefineSymbol( '>',  MAIN,  REL, '>', SUPERCOMMON);     // >2,000\r\ndefineSymbol( '\\\\gt',  MAIN,  REL, '>', COMMON);     // >2,000\r\n\r\ndefineSymbol( '\\\\le',  MAIN,  REL, '\\u2264', COMMON);     // >2,000\r\ndefineSymbol( '\\\\ge',  MAIN,  REL, '\\u2265', COMMON);     // >2,000\r\n\r\ndefineSymbol( '\\\\leqslant',  AMS,  REL, '\\u2a7d', SUPERCOMMON);              // > 2,000\r\ndefineSymbol( '\\\\geqslant',  AMS,  REL, '\\u2a7e', SUPERCOMMON);              // > 2,000\r\n\r\ndefineSymbol( '\\\\leq',  MAIN,  REL, '\\u2264', COMMON);     // >2,000\r\ndefineSymbol( '\\\\geq',  MAIN,  REL, '\\u2265', COMMON);     // >2,000\r\n\r\ndefineSymbol( '\\\\ll',  MAIN,  REL, '\\u226a');\r\ndefineSymbol( '\\\\gg',  MAIN,  REL, '\\u226b', COMMON);   // >2,000\r\ndefineSymbol( '\\\\coloneq',  MAIN,  REL, '\\u2254', 5);\r\ndefineSymbol( '\\\\measeq',  MAIN,  REL, '\\u225D');     // MEASSURED BY\r\ndefineSymbol( '\\\\eqdef',  MAIN,  REL, '\\u225E');\r\ndefineSymbol( '\\\\questeq',  MAIN,  REL, '\\u225F');    // QUESTIONED EQUAL TO\r\n\r\n\r\ndefineSymbol( ':',  MAIN,  REL, ':');\r\ndefineSymbol( '\\\\cong',  MAIN,  REL, '\\u2245', COMMON);     // >2,000\r\n\r\ndefineSymbol( '\\\\equiv',  MAIN,  REL, '\\u2261', COMMON);     // >2,000\r\n\r\ndefineSymbol( '\\\\prec',  MAIN,  REL, '\\u227a', COMMON);   // >2,000\r\ndefineSymbol( '\\\\preceq',  MAIN,  REL, '\\u2aaf', COMMON); // >2,000\r\ndefineSymbol( '\\\\succ',  MAIN,  REL, '\\u227b', COMMON);     // >2,000\r\ndefineSymbol( '\\\\succeq',  MAIN,  REL, '\\u2ab0', 1916);\r\n\r\ndefineSymbol( '\\\\perp',  MAIN,  REL, '\\u22a5', COMMON);              // > 2,000\r\ndefineSymbol( '\\\\parallel',  MAIN,  REL, '\\u2225', COMMON);   // >2,000\r\n\r\ndefineSymbol( '\\\\propto',  MAIN,  REL, '\\u221d', COMMON);              // > 2,000\r\ndefineSymbol( '\\\\Colon',  MAIN,  REL, '\\u2237');\r\n\r\ndefineSymbol( '\\\\smile',  MAIN,  REL, '\\u2323', COMMON);              // > 2,000\r\ndefineSymbol( '\\\\frown',  MAIN,  REL, '\\u2322', COMMON);              // > 2,000\r\n\r\n\r\n\r\ndefineSymbol( '\\\\sim',  MAIN,  REL, '\\u223c', COMMON);   // >2,000\r\ndefineSymbol( '\\\\gtrsim',  AMS,  REL, '\\u2273', COMMON);   // >2,000\r\n\r\n\r\ndefineSymbol( '\\\\approx',  MAIN,  REL, '\\u2248', SUPERCOMMON);     // >2,000\r\n\r\ndefineSymbol( '\\\\approxeq',  AMS,  REL, '\\u224a', 147);\r\ndefineSymbol( '\\\\thickapprox',  AMS,  REL, '\\u2248', 377);\r\ndefineSymbol( '\\\\lessapprox',  AMS,  REL, '\\u2a85', 146);\r\ndefineSymbol( '\\\\gtrapprox',  AMS,  REL, '\\u2a86', 95);\r\ndefineSymbol( '\\\\precapprox',  AMS,  REL, '\\u2ab7', 50);\r\ndefineSymbol( '\\\\succapprox',  AMS,  REL, '\\u2ab8', CRYPTIC);\r\n\r\n\r\ndefineSymbol( '\\\\thicksim',  AMS,  REL, '\\u223c', 779);\r\ndefineSymbol( '\\\\succsim',  AMS,  REL, '\\u227f', 251);\r\ndefineSymbol( '\\\\precsim',  AMS,  REL, '\\u227e', 104);\r\ndefineSymbol( '\\\\backsim',  AMS,  REL, '\\u223d', 251);\r\ndefineSymbol( '\\\\eqsim',  AMS,  REL, '\\u2242', 62);\r\ndefineSymbol( '\\\\backsimeq',  AMS,  REL, '\\u22cd', 91);\r\ndefineSymbol( '\\\\simeq',  MAIN,  REL, '\\u2243', CRYPTIC);\r\ndefineSymbol( '\\\\lesssim',  AMS,  REL, '\\u2272', CRYPTIC);\r\n\r\ndefineSymbol( '\\\\nleq',  AMS,  REL, '\\u2270', 369);\r\ndefineSymbol( '\\\\ngeq',  AMS,  REL, '\\u2271', 164);\r\n\r\ndefineSymbol( '\\\\smallsmile',  AMS,  REL, '\\u2323', 31);\r\ndefineSymbol( '\\\\smallfrown',  AMS,  REL, '\\u2322', 71);\r\ndefineSymbol( '\\\\bowtie',  MAIN,  REL, '\\u22c8', 558);\r\n\r\ndefineSymbol( '\\\\asymp',  MAIN,  REL, '\\u224d', 755);\r\n\r\ndefineSymbol( '\\\\sqsubseteq',  MAIN,  REL, '\\u2291', 1255);\r\ndefineSymbol( '\\\\sqsupseteq',  MAIN,  REL, '\\u2292', 183);\r\n\r\n\r\ndefineSymbol( '\\\\leqq',  AMS,  REL, '\\u2266', 1356);\r\ndefineSymbol( '\\\\eqslantless',  AMS,  REL, '\\u2a95', 15);\r\n\r\ndefineSymbol( '\\\\lll',  AMS,  REL, '\\u22d8', 157);\r\ndefineSymbol( '\\\\lessgtr',  AMS,  REL, '\\u2276', 281);\r\ndefineSymbol( '\\\\lesseqgtr',  AMS,  REL, '\\u22da', 134);\r\ndefineSymbol( '\\\\lesseqqgtr',  AMS,  REL, '\\u2a8b', CRYPTIC);\r\ndefineSymbol( '\\\\risingdotseq',  AMS,  REL, '\\u2253', 8);\r\ndefineSymbol( '\\\\fallingdotseq',  AMS,  REL, '\\u2252', 99);\r\ndefineSymbol( '\\\\subseteqq',  AMS,  REL, '\\u2ac5', 82);\r\ndefineSymbol( '\\\\Subset',  AMS,  REL, '\\u22d0');\r\ndefineSymbol( '\\\\sqsubset',  AMS,  REL, '\\u228f', 309);\r\ndefineSymbol( '\\\\preccurlyeq',  AMS,  REL, '\\u227c', 549);\r\ndefineSymbol( '\\\\curlyeqprec',  AMS,  REL, '\\u22de', 14);\r\ndefineSymbol( '\\\\vDash',  AMS,  REL, '\\u22a8', 646);\r\ndefineSymbol( '\\\\Vvdash',  AMS,  REL, '\\u22aa', 20);\r\ndefineSymbol( '\\\\bumpeq',  AMS,  REL, '\\u224f', 13);\r\ndefineSymbol( '\\\\Bumpeq',  AMS,  REL, '\\u224e', 12);\r\ndefineSymbol( '\\\\geqq',  AMS,  REL, '\\u2267', 972);\r\ndefineSymbol( '\\\\eqslantgtr',  AMS,  REL, '\\u2a96', 13);\r\ndefineSymbol( '\\\\ggg',  AMS,  REL, '\\u22d9', 127);\r\ndefineSymbol( '\\\\gtrless',  AMS,  REL, '\\u2277', 417);\r\ndefineSymbol( '\\\\gtreqless',  AMS,  REL, '\\u22db', 190);\r\ndefineSymbol( '\\\\gtreqqless',  AMS,  REL, '\\u2a8c', 91);\r\n\r\ndefineSymbol( '\\\\supseteqq',  AMS,  REL, '\\u2ac6', 6);\r\ndefineSymbol( '\\\\Supset',  AMS,  REL, '\\u22d1', 34);\r\ndefineSymbol( '\\\\sqsupset',  AMS,  REL, '\\u2290', 71);\r\ndefineSymbol( '\\\\succcurlyeq',  AMS,  REL, '\\u227d', 442);\r\ndefineSymbol( '\\\\curlyeqsucc',  AMS,  REL, '\\u22df', 10);\r\ndefineSymbol( '\\\\Vdash',  AMS,  REL, '\\u22a9', 276);\r\ndefineSymbol( '\\\\shortmid',  AMS,  REL, '\\u2223', 67);\r\ndefineSymbol( '\\\\shortparallel',  AMS,  REL, '\\u2225', 17);\r\ndefineSymbol( '\\\\between',  AMS,  REL, '\\u226c', 110);\r\ndefineSymbol( '\\\\pitchfork',  AMS,  REL, '\\u22d4', 66);\r\ndefineSymbol( '\\\\varpropto',  AMS,  REL, '\\u221d', 203);\r\ndefineSymbol( '\\\\backepsilon',  AMS,  REL, '\\u220d', 176);\r\ndefineSymbol( '\\\\llless',  AMS,  REL, '\\u22d8', CRYPTIC);\r\ndefineSymbol( '\\\\gggtr',  AMS,  REL, '\\u22d9', CRYPTIC);\r\ndefineSymbol( '\\\\lhd',  AMS,  BIN, '\\u22b2', 447);\r\ndefineSymbol( '\\\\rhd',  AMS,  BIN, '\\u22b3', 338);\r\ndefineSymbol( '\\\\Join',  MAIN,  REL, '\\u22c8', 35);\r\n\r\ndefineSymbol( '\\\\doteq',  MAIN,  REL, '\\u2250', 1450);\r\ndefineSymbol( '\\\\doteqdot',  AMS,  REL, '\\u2251', 60);\r\ndefineSymbol( '\\\\Doteq',  AMS,  REL, '\\u2251', CRYPTIC);\r\ndefineSymbol( '\\\\eqcirc',  AMS,  REL, '\\u2256', 6);\r\ndefineSymbol( '\\\\circeq',  AMS,  REL, '\\u2257', 31);\r\ndefineSymbol( '\\\\lessdot',  AMS,  BIN, '\\u22d6', 88);\r\ndefineSymbol( '\\\\gtrdot',  AMS,  BIN, '\\u22d7', 45);\r\n\r\n// In TeX, '~' is a spacing command (non-breaking space).\r\n// However, '~' is used as an ASCII Math shortctut character, so define a \\\\~\r\n// command which maps to the '~' character\r\ndefineSymbol( '\\\\~',  MAIN,  REL, '~');\r\n\r\n\r\ncategory = 'Logic';\r\ndefineSymbol( '\\\\leftrightarrow',  MAIN,  REL, '\\u2194', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\Leftrightarrow',  MAIN,  REL, '\\u21d4', SUPERCOMMON);    // >2,000\r\n// defineSymbol( '\\\\iff',  MAIN,  REL, '\\\\;\\u27fa\\\\;', SUPERCOMMON);        // >2,000 Note: additional spaces around the arrows\r\ndefineSymbol( '\\\\to',  MAIN,  REL, '\\u2192', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\models',  MAIN,  REL, '\\u22a8', COMMON);    // >2,000\r\ndefineSymbol( '\\\\vdash',  MAIN,  REL, '\\u22a2', COMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\therefore',  AMS,  REL, '\\u2234', 1129);\r\ndefineSymbol( '\\\\because',  AMS,  REL, '\\u2235', 388);\r\ndefineSymbol( '\\\\implies',  MAIN,  REL, '\\u27f9', 1858);\r\ndefineSymbol( '\\\\gets',  MAIN,  REL, '\\u2190', 150);\r\ndefineSymbol( '\\\\dashv',  MAIN,  REL, '\\u22a3', 299);\r\ndefineSymbol( '\\\\impliedby',  MAIN,  REL, '\\u27f8', CRYPTIC);\r\ndefineSymbol( '\\\\biconditional',  MAIN,  REL, '\\u27f7', CRYPTIC);\r\ndefineSymbol( '\\\\roundimplies',  MAIN,  REL, '\\u2970', CRYPTIC);\r\n\r\n// AMS Binary Operators\r\ncategory = 'Operators';\r\ndefineSymbol( '+',  MAIN,  BIN, '+', SUPERCOMMON); // > 2,000\r\ndefineSymbol( '-',  MAIN,  BIN, '\\u2212', SUPERCOMMON); // > 2,000\r\ndefineSymbol( '\\u2212',  MAIN,  BIN, '\\u2212', SUPERCOMMON); // > 2,000\r\ndefineSymbol( '\\\\pm',  MAIN,  BIN, '\\u00b1', COMMON); // > 2,000\r\ndefineSymbol( '\\\\mp',  MAIN,  BIN, '\\u2213', COMMON); // > 2,000\r\ndefineSymbol( '*',  MAIN,  BIN, '\\u2217', COMMON); // > 2,000\r\ndefineSymbol( '\\\\times',  MAIN,  BIN, '\\u00d7', COMMON); // > 2,000\r\ndefineSymbol( '\\\\div',  MAIN,  BIN, '\\u00f7', COMMON); // > 2,000\r\ndefineSymbol( '\\\\surd',  MAIN,  MATHORD, '\\u221a', COMMON); // > 2,000\r\n\r\ndefineSymbol( '\\\\divides',  MAIN,  BIN, '\\u2223', CRYPTIC);\r\n    // From MnSymbol package\r\n\r\n\r\ndefineSymbol( '\\\\ltimes',  AMS,  BIN, '\\u22c9', 576);\r\ndefineSymbol( '\\\\rtimes',  AMS,  BIN, '\\u22ca', 946);\r\ndefineSymbol( '\\\\leftthreetimes',  AMS,  BIN, '\\u22cb', 34);\r\ndefineSymbol( '\\\\rightthreetimes',  AMS,  BIN, '\\u22cc', 14);\r\ndefineSymbol( '\\\\intercal',  AMS,  BIN, '\\u22ba', 478);\r\ndefineSymbol( '\\\\dotplus',  AMS,  BIN, '\\u2214', 81);\r\ndefineSymbol( '\\\\centerdot',  AMS,  BIN, '\\u22c5', 271);\r\ndefineSymbol( '\\\\doublebarwedge',  AMS,  BIN, '\\u2a5e', 5);\r\ndefineSymbol( '\\\\divideontimes',  AMS,  BIN, '\\u22c7', 51);\r\ndefineSymbol( '\\\\cdot',  MAIN,  BIN, '\\u22c5', CRYPTIC);\r\n\r\n\r\ncategory = 'Others';\r\ndefineSymbol( '\\\\infty',  MAIN,  MATHORD, '\\u221e', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\prime',  MAIN,  ORD, '\\u2032', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\doubleprime',  MAIN,  MATHORD, '\\u2033');   // NOTE: Not in TeX, but Mathematica\r\ndefineSymbol( '\\\\angle',  MAIN,  MATHORD, '\\u2220', COMMON);    // >2,000\r\ndefineSymbol( '`',  MAIN,  MATHORD, '\\u2018');\r\ndefineSymbol( '\\\\$',  MAIN,  MATHORD, '$');\r\ndefineSymbol( '\\\\%',  MAIN,  MATHORD, '%');\r\ndefineSymbol( '\\\\_',  MAIN,  MATHORD, '_');\r\n\r\ncategory = 'Greek';\r\n// Note: In TeX, greek symbols are only available in Math mode\r\ndefineSymbol( '\\\\alpha',  MAIN,  ORD, '\\u03b1', COMMON);    // >2,000\r\ndefineSymbol( '\\\\beta',  MAIN,  ORD, '\\u03b2', COMMON);    // >2,000\r\ndefineSymbol( '\\\\gamma',  MAIN,  ORD, '\\u03b3', COMMON);    // >2,000\r\ndefineSymbol( '\\\\delta',  MAIN,  ORD, '\\u03b4', COMMON);    // >2,000\r\ndefineSymbol( '\\\\epsilon',  MAIN,  ORD, '\\u03f5', COMMON);    // >2,000\r\ndefineSymbol( '\\\\varepsilon',  MAIN,  ORD, '\\u03b5');\r\ndefineSymbol( '\\\\zeta',  MAIN,  ORD, '\\u03b6', COMMON);    // >2,000\r\ndefineSymbol( '\\\\eta',  MAIN,  ORD, '\\u03b7', COMMON);    // >2,000\r\ndefineSymbol( '\\\\theta',  MAIN,  ORD, '\\u03b8', COMMON);    // >2,000\r\ndefineSymbol( '\\\\vartheta',  MAIN,  ORD, '\\u03d1', COMMON);    // >2,000\r\ndefineSymbol( '\\\\iota',  MAIN,  ORD, '\\u03b9', COMMON);    // >2,000\r\ndefineSymbol( '\\\\kappa',  MAIN,  ORD, '\\u03ba', COMMON);    // >2,000\r\ndefineSymbol( '\\\\varkappa',  AMS,  ORD, '\\u03f0', COMMON);    // >2,000\r\ndefineSymbol( '\\\\lambda',  MAIN,  ORD, '\\u03bb', COMMON);    // >2,000\r\ndefineSymbol( '\\\\mu',  MAIN,  ORD, '\\u03bc', COMMON);    // >2,000\r\ndefineSymbol( '\\\\nu',  MAIN,  ORD, '\\u03bd', COMMON);    // >2,000\r\ndefineSymbol( '\\\\xi',  MAIN,  ORD, '\\u03be', COMMON);    // >2,000\r\ndefineSymbol( '\\\\omicron',  MAIN,  ORD, 'o');\r\ndefineSymbol( '\\\\pi',  MAIN,  ORD, '\\u03c0', COMMON);    // >2,000\r\ndefineSymbol( '\\\\varpi',  MAIN,  ORD, '\\u03d6', COMMON);    // >2,000\r\ndefineSymbol( '\\\\rho',  MAIN,  ORD, '\\u03c1', COMMON);    // >2,000\r\ndefineSymbol( '\\\\varrho',  MAIN,  ORD, '\\u03f1', COMMON);    // >2,000\r\ndefineSymbol( '\\\\sigma',  MAIN,  ORD, '\\u03c3', COMMON);    // >2,000\r\ndefineSymbol( '\\\\varsigma',  MAIN,  ORD, '\\u03c2', COMMON);    // >2,000\r\ndefineSymbol( '\\\\tau',  MAIN,  ORD, '\\u03c4', COMMON);    // >2,000\r\ndefineSymbol( '\\\\phi',  MAIN,  ORD, '\\u03d5', COMMON);    // >2,000\r\ndefineSymbol( '\\\\varphi',  MAIN,  ORD, '\\u03c6', COMMON);    // >2,000\r\ndefineSymbol( '\\\\upsilon',  MAIN,  ORD, '\\u03c5', COMMON);    // >2,000\r\ndefineSymbol( '\\\\chi',  MAIN,  ORD, '\\u03c7', COMMON);    // >2,000\r\ndefineSymbol( '\\\\psi',  MAIN,  ORD, '\\u03c8', COMMON);    // >2,000\r\ndefineSymbol( '\\\\omega',  MAIN,  ORD, '\\u03c9', COMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\Gamma',  MAIN,  ORD, '\\u0393', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Delta',  MAIN,  ORD, '\\u0394', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Theta',  MAIN,  ORD, '\\u0398', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Lambda',  MAIN,  ORD, '\\u039b', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Xi',  MAIN,  ORD, '\\u039e', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Pi',  MAIN,  ORD, '\\u03a0', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Sigma',  MAIN,  ORD, '\\u03a3', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Upsilon',  MAIN,  ORD, '\\u03a5', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Phi',  MAIN,  ORD, '\\u03a6', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Psi',  MAIN,  ORD, '\\u03a8', COMMON);    // >2,000\r\ndefineSymbol( '\\\\Omega',  MAIN,  ORD, '\\u03a9', COMMON);    // >2,000\r\n\r\n// AMS Greek\r\ndefineSymbol( '\\\\digamma',  AMS,  ORD, '\\u03dd', 248);\r\n\r\ncategory = 'Others';\r\ndefineSymbol( '\\\\emptyset',  MAIN,  MATHORD, '\\u2205', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\varnothing',  AMS,  MATHORD, '\\u2205', SUPERCOMMON);    // >2,000\r\n\r\n\r\n\r\ncategory = 'Set Operators';\r\ndefineSymbol( '\\\\cap',  MAIN,  BIN, '\\u2229', SUPERCOMMON);\r\ndefineSymbol( '\\\\cup',  MAIN,  BIN, '\\u222a', SUPERCOMMON);\r\ndefineSymbol( '\\\\setminus',  MAIN,  BIN, '\\u2216', COMMON);    // >2,000\r\ndefineSymbol( '\\\\smallsetminus',  AMS,  BIN, '\\u2216', 254);\r\ndefineSymbol( '\\\\complement',  AMS,  MATHORD, '\\u2201', 200);\r\n\r\ncategory = 'Set Relations';\r\ndefineSymbol( '\\\\in',  MAIN,  REL, '\\u2208', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\notin',  MAIN,  REL, '\\u2209', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\not',  MAIN,  REL, '\\u0338', COMMON);\r\ndefineSymbol( '\\\\ni',  MAIN,  REL, '\\u220b', COMMON);    // >2,000\r\ndefineSymbol( '\\\\owns',  MAIN,  REL, '\\u220b', 18);\r\ndefineSymbol( '\\\\subset',  MAIN,  REL, '\\u2282', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\supset',  MAIN,  REL, '\\u2283', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\subseteq',  MAIN,  REL, '\\u2286', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\supseteq',  MAIN,  REL, '\\u2287', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\subsetneq',  AMS,  REL, '\\u228a', 1945);\r\ndefineSymbol( '\\\\varsubsetneq',  AMS,  REL, '\\ue01a', 198);\r\ndefineSymbol( '\\\\subsetneqq',  AMS,  REL, '\\u2acb', 314);\r\ndefineSymbol( '\\\\varsubsetneqq',  AMS,  REL, '\\ue017', 55);\r\ndefineSymbol( '\\\\nsubset',  AMS,  REL, '\\u2284', CRYPTIC);    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\nsupset',  AMS,  REL, '\\u2285', CRYPTIC);    // NOTE: Not TeX?\r\ndefineSymbol( '\\\\nsubseteq',  AMS,  REL, '\\u2288', 950);\r\ndefineSymbol( '\\\\nsupseteq',  AMS,  REL, '\\u2289', 49);\r\n\r\n\r\ncategory = 'Spacing';\r\n// See http://tex.stackexchange.com/questions/41476/lengths-and-when-to-use-them\r\ndefineSymbol( '\\\\ ',  MAIN,  SPACING, '\\u00a0');\r\ndefineSymbol( '~',  MAIN,  SPACING, '\\u00a0');\r\ndefineSymbol( '\\\\space',  MAIN,  SPACING, '\\u00a0');\r\n\r\ndefineSymbol( '\\\\!',  MAIN,  SPACING, null);\r\ndefineSymbol( '\\\\,', MAIN,  SPACING,  null);\r\ndefineSymbol( '\\\\:',  MAIN,  SPACING, null);\r\ndefineSymbol( '\\\\;',  MAIN,  SPACING, null);\r\ndefineSymbol( '\\\\enskip',  MAIN,  SPACING, null);\r\n// \\enspace is a TeX command (not LaTeX) equivalent to a \\skip\r\ndefineSymbol( '\\\\enspace',  MAIN,  SPACING, null, 672);\r\ndefineSymbol( '\\\\quad',  MAIN,  SPACING, null, COMMON);    // >2,000\r\ndefineSymbol( '\\\\qquad',  MAIN,  SPACING, null, COMMON);    // >2,000\r\n\r\ndefineFunction([\r\n    '\\\\hspace', '\\\\hspace*'\r\n    // \\hspace* inserts a non-breakable space, but since we don't line break...\r\n    // it's the same as \\hspace.\r\n], '{width:skip}', {allowedInText: true}, function(_name, args) {\r\n    return {\r\n        type: 'spacing',\r\n        width: args[0] || 0\r\n    }\r\n});\r\n\r\n\r\n/**\r\n * If possible, i.e. if they are all simple atoms, return a string made up of\r\n * their body\r\n * @param {object[]} atoms\r\n * @memberof module:definitions\r\n * @private\r\n */\r\nfunction getSimpleString(atoms) {\r\n    let result = '';\r\n    let success = true;\r\n    for (const atom of atoms) {\r\n        if (typeof atom.body === 'string') {\r\n            result += atom.body;\r\n        } else {\r\n            success = false;\r\n        }\r\n    }\r\n    return success ? result : '';\r\n}\r\n\r\ndefineFunction([\r\n    '\\\\mathop', '\\\\mathbin', '\\\\mathrel', '\\\\mathopen',\r\n    '\\\\mathclose', '\\\\mathpunct', '\\\\mathord', '\\\\mathinner'\r\n], '{:auto}', null, function(name, args) {\r\n    const result = {\r\n        type: {\r\n            '\\\\mathop': 'mop',\r\n            '\\\\mathbin': 'mbin',\r\n            '\\\\mathrel': 'mrel',\r\n            '\\\\mathopen': 'mopen',\r\n            '\\\\mathclose': 'mclose',\r\n            '\\\\mathpunct': 'mpunct',\r\n            '\\\\mathord': 'mord',\r\n            '\\\\mathinner': 'minner'\r\n        }[name],\r\n        body: getSimpleString(args[0]) || args[0],\r\n        captureSelection: true,     // Do not let children be selected\r\n        baseFontFamily: name === '\\\\mathop' ? 'math' : ''\r\n    };\r\n    if (name === '\\\\mathop') {\r\n        result.limits = 'nolimits';\r\n        result.isFunction = true;\r\n    }\r\n    return result;\r\n})\r\n\r\ndefineFunction([\r\n    '\\\\operatorname', '\\\\operatorname*'\r\n], '{operator:string}', null, function(name, args) {\r\n    const result = {\r\n        type: 'mop',\r\n        skipBoundary: true,\r\n        body: args[0],\r\n        isFunction: true,\r\n        baseFontFamily: 'cmr'\r\n    };\r\n\r\n    if (name === '\\\\operatorname') {\r\n        result.limits = 'nolimits'\r\n    } else if (name === '\\\\operatorname*') {\r\n        result.limits = 'limits';\r\n    }\r\n\r\n    return result;\r\n})\r\n\r\n\r\n// Punctuation\r\ncategory = 'Punctuation';\r\ndefineSymbol( '\\\\colon',  MAIN,  PUNCT, ':', COMMON);    // >2,000\r\ndefineSymbol( '\\\\cdotp',  MAIN,  PUNCT, '\\u22c5', COMMON); // >2,000\r\ndefineSymbol( '\\\\ldots',  MAIN,  INNER, '\\u2026', COMMON);    // >2,000\r\ndefineSymbol( '\\\\cdots',  MAIN,  INNER, '\\u22ef', COMMON);    // >2,000\r\ndefineSymbol( '\\\\ddots',  MAIN,  INNER, '\\u22f1', COMMON);    // >2,000\r\ndefineSymbol( '\\\\mathellipsis',  MAIN,  INNER, '\\u2026', 91);\r\ndefineSymbol( '\\\\vdots',  MAIN,  MATHORD, '\\u22ee', COMMON);    // >2,000\r\ndefineSymbol( '\\\\ldotp',  MAIN,  PUNCT, '\\u002e', 18);\r\ndefineSymbol( ',', MAIN, PUNCT,  ',');\r\ndefineSymbol( ';',  MAIN,  PUNCT, ';');\r\n\r\n\r\ncategory = 'Logical Operators';\r\ndefineSymbol( '\\\\wedge',  MAIN,  BIN, '\\u2227', SUPERCOMMON);    // >2,000\r\ndefineSymbol( '\\\\vee',  MAIN,  BIN, '\\u2228', SUPERCOMMON);    // >2,000\r\n\r\ndefineSymbol( '\\\\lnot',  MAIN,  MATHORD, '\\u00ac', COMMON);   // >2,000\r\ndefineSymbol( '\\\\neg',  MAIN,  MATHORD, '\\u00ac', SUPERCOMMON);   // >2,000\r\n\r\ndefineSymbol( '\\\\land',  MAIN,  BIN, '\\u2227', 659);\r\ndefineSymbol( '\\\\lor',  MAIN,  BIN, '\\u2228', 364);\r\ndefineSymbol( '\\\\barwedge',  AMS,  BIN, '\\u22bc', 21);\r\ndefineSymbol( '\\\\veebar',  AMS,  BIN, '\\u22bb', 43);\r\ndefineSymbol( '\\\\nor',  AMS,  BIN, '\\u22bb', 7);           // NOTE: Not TeXematica\r\ndefineSymbol( '\\\\curlywedge',  AMS,  BIN, '\\u22cf', 58);\r\ndefineSymbol( '\\\\curlyvee',  AMS,  BIN, '\\u22ce', 57);\r\n\r\ncategory = 'Boxes';\r\ndefineSymbol( '\\\\square',  AMS,  MATHORD, '\\u25a1', COMMON);  // >2,000\r\ndefineSymbol( '\\\\Box',  AMS,  MATHORD, '\\u25a1', COMMON);  // >2,000\r\ndefineSymbol( '\\\\blacksquare',  AMS,  MATHORD, '\\u25a0', 1679);\r\ndefineSymbol( '\\\\boxminus',  AMS,  BIN, '\\u229f', 79);\r\ndefineSymbol( '\\\\boxplus',  AMS,  BIN, '\\u229e', 276);\r\ndefineSymbol( '\\\\boxtimes',  AMS,  BIN, '\\u22a0', 457);\r\ndefineSymbol( '\\\\boxdot',  AMS,  BIN, '\\u22a1', 120);\r\n\r\ncategory = 'Circles';\r\ndefineSymbol( '\\\\circ',  MAIN,  BIN, '\\u2218', SUPERCOMMON);  // >2,000\r\ndefineSymbol( '\\\\bigcirc',  MAIN,  BIN, '\\u25ef', 903);\r\ndefineSymbol( '\\\\bullet',  MAIN,  BIN, '\\u2219', COMMON); // >2,000\r\ndefineSymbol( '\\\\circleddash',  AMS,  BIN, '\\u229d', COMMON);     // >2,000\r\ndefineSymbol( '\\\\circledast',  AMS,  BIN, '\\u229b', 339);\r\ndefineSymbol( '\\\\oplus',  MAIN,  BIN, '\\u2295', COMMON); // >2,000\r\ndefineSymbol( '\\\\ominus',  MAIN,  BIN, '\\u2296', 1568);\r\ndefineSymbol( '\\\\otimes',  MAIN,  BIN, '\\u2297', COMMON);   // >2,000\r\ndefineSymbol( '\\\\odot',  MAIN,  BIN, '\\u2299', COMMON);   // >2,000\r\ndefineSymbol( '\\\\circledcirc',  AMS,  BIN, '\\u229a', 93);\r\ndefineSymbol( '\\\\oslash',  MAIN,  BIN, '\\u2298', 497);\r\ndefineSymbol( '\\\\circledS',  AMS,  MATHORD, '\\u24c8', 31);\r\ndefineSymbol( '\\\\circledR',  AMS,  MATHORD, '\\u00ae', 1329);\r\n\r\n\r\ncategory = 'Triangles';\r\ndefineSymbol( '\\\\triangle',  MAIN,  MATHORD, '\\u25b3', COMMON);   // > 2,000\r\ndefineSymbol( '\\\\triangleq',  AMS,  REL, '\\u225c', COMMON);  // >2,000\r\ndefineSymbol( '\\\\bigtriangleup',  MAIN,  BIN, '\\u25b3', 1773);\r\ndefineSymbol( '\\\\vartriangle',  AMS,  REL, '\\u25b3', 762);\r\n\r\ndefineSymbol( '\\\\triangledown',  AMS,  MATHORD, '\\u25bd', 520);\r\ndefineSymbol( '\\\\bigtriangledown',  MAIN,  BIN, '\\u25bd', 661);\r\n\r\ndefineSymbol( '\\\\triangleleft',  MAIN,  BIN, '\\u25c3', 534);\r\ndefineSymbol( '\\\\vartriangleleft',  AMS,  REL, '\\u22b2', 281);\r\ndefineSymbol( '\\\\trianglelefteq',  AMS,  REL, '\\u22b4', 176);\r\ndefineSymbol( '\\\\ntriangleleft',  AMS,  REL, '\\u22ea', 13);\r\ndefineSymbol( '\\\\ntrianglelefteq',  AMS,  REL, '\\u22ec', 22);\r\n\r\ndefineSymbol( '\\\\triangleright',  MAIN,  BIN, '\\u25b9', 516);\r\ndefineSymbol( '\\\\vartriangleright',  AMS,  REL, '\\u22b3', 209);\r\ndefineSymbol( '\\\\trianglerighteq',  AMS,  REL, '\\u22b5', 45);\r\ndefineSymbol( '\\\\ntriangleright',  AMS,  REL, '\\u22eb', 15);\r\ndefineSymbol( '\\\\ntrianglerighteq',  AMS,  REL, '\\u22ed', 6);\r\n\r\ndefineSymbol( '\\\\blacktriangle',  AMS,  MATHORD, '\\u25b2', 360);\r\ndefineSymbol( '\\\\blacktriangledown',  AMS,  MATHORD, '\\u25bc', 159);\r\ndefineSymbol( '\\\\blacktriangleleft',  AMS,  REL, '\\u25c0', 101);\r\ndefineSymbol( '\\\\blacktriangleright',  AMS,  REL, '\\u25b6', 271);\r\n\r\n\r\n\r\ncategory = 'Others';\r\ndefineSymbol( '\\\\/',  MAIN,  ORD, '/');\r\ndefineSymbol( '|',  MAIN,  'textord', '\\u2223');\r\n\r\n\r\ncategory = 'Big Operators';\r\ndefineSymbol( '\\\\sqcup',  MAIN,  BIN, '\\u2294', 1717);        // 63\r\ndefineSymbol( '\\\\sqcap',  MAIN,  BIN, '\\u2293', 735);         // 38\r\ndefineSymbol( '\\\\uplus',  MAIN,  BIN, '\\u228e', 597);\r\ndefineSymbol( '\\\\wr',  MAIN,  BIN, '\\u2240', 286);\r\ndefineSymbol( '\\\\Cap',  AMS,  BIN, '\\u22d2', 2);\r\ndefineSymbol( '\\\\Cup',  AMS,  BIN, '\\u22d3', 2);\r\ndefineSymbol( '\\\\doublecap',  AMS,  BIN, '\\u22d2', 1);\r\ndefineSymbol( '\\\\doublecup',  AMS,  BIN, '\\u22d3', 1);\r\ndefineSymbol( '\\\\amalg',  MAIN,  BIN, '\\u2a3f', CRYPTIC);\r\ndefineSymbol( '\\\\And',  MAIN,  BIN, '\\u0026');\r\n\r\ncategory = 'Accents';\r\n// defineSymbol( '\\\\bar',  MAIN,  ACCENT, '\\u00af', COMMON);    // >2,000\r\n\r\n\r\n// defineSymbol( '\\\\vec',  MAIN,  ACCENT, '\\u20d7');\r\n// defineSymbol( '\\\\hat',  MAIN,  ACCENT, '\\u005e');\r\n// defineSymbol( '\\\\dot',  MAIN,  ACCENT, '\\u02d9');\r\n\r\n// defineSymbol( '\\\\ddot',  MAIN,  ACCENT, '\\u00a8', COMMON);    // >2,000\r\n\r\n// defineSymbol( '\\\\acute',  MAIN,  ACCENT, '\\u00b4', COMMON);    // >2,000\r\n// defineSymbol( '\\\\tilde',  MAIN,  ACCENT, '\\u007e', COMMON);    // >2,000\r\n// defineSymbol( '\\\\check',  MAIN,  ACCENT, '\\u02c7', COMMON);    // >2,000\r\n// defineSymbol( '\\\\breve',  MAIN,  ACCENT, '\\u02d8', 1548);\r\n// defineSymbol( '\\\\grave',  MAIN,  ACCENT, '\\u0060', 735);\r\n\r\ndefineFunction([\r\n    '\\\\acute', '\\\\grave', '\\\\dot', '\\\\ddot', '\\\\mathring',\r\n    '\\\\tilde', '\\\\bar', '\\\\breve', '\\\\check', '\\\\hat', '\\\\vec',\r\n], '{body:auto}', null, function(name, args) {\r\n    return {\r\n        type: 'accent',\r\n        accent: {\r\n            '\\\\acute': '\\u02ca',\r\n            '\\\\grave': '\\u02cb',\r\n            '\\\\dot': '\\u02d9',\r\n            '\\\\ddot': '\\u00a8',\r\n            '\\\\mathring': '\\u02da',\r\n            '\\\\tilde': '\\u007e',\r\n            '\\\\bar': '\\u02c9',\r\n            '\\\\breve': '\\u02d8',\r\n            '\\\\check': '\\u02c7',\r\n            '\\\\hat': '\\u005e',\r\n            '\\\\vec': '\\u20d7',\r\n        }[name],\r\n        limits: 'accent',   // This will suppress the regular\r\n                            // supsub attachment and will delegate\r\n                            // it to the decomposeAccent\r\n                            // (any non-null value would do)\r\n        skipBoundary: true,\r\n        body: args[0],\r\n    };\r\n});\r\n\r\nfrequency(COMMON, '\\\\bar', '\\\\ddot', '\\\\acute', '\\\\tilde', '\\\\check');\r\nfrequency(1548, '\\\\breve');\r\nfrequency(735, '\\\\grave');\r\nfrequency(SUPERCOMMON, '\\\\vec');\r\n\r\n    // note('\\\\( \\\\bar{x}\\\\): Average of the values \\\\( (x_1,\\\\ldots ,x_n) \\\\)');\r\n\r\n\r\ncategory = 'Letters and Letter Like Forms';\r\ndefineSymbol( '\\\\imath',  MAIN,  MATHORD, '\\u0131');\r\ndefineSymbol( '\\\\jmath',  MAIN,  MATHORD, '\\u0237');\r\n\r\ncategory = 'Others';\r\ndefineSymbol( '\\\\degree',  MAIN,  MATHORD, '\\u00b0', 46);\r\n\r\ncategory = 'Others';\r\ndefineSymbol( \"'\",  MAIN,  MATHORD, '\\u2032');        // Prime\r\ndefineSymbol( '\"',  MAIN,  MATHORD, '\\u201D');       // Double Prime\r\n// defineSymbol( \"\\'',  MAIN,  MATHORD, '\\u2033');       // Double Prime\r\n\r\n\r\n\r\n// From plain.tex\r\ncategory = 'Others';\r\n\r\ndefineFunction('\\\\^', '{:string}',\r\n    {allowedInText: true},\r\n    function(name, args) {\r\n    return {\r\n        type: 'mord',\r\n        limits: 'nolimits',\r\n        symbol: true,\r\n        isFunction: false,\r\n        body: args[0] ?\r\n            ({'a':'â','e':'ê','i':'î','o':'ô','u':'û',\r\n            'A':'Â','E':'Ê','I':'Î','O':'Ô','U':'Û'}[args[0]] || '^') :\r\n            '^',\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\n\r\ndefineFunction(\"\\\\`\", '{:string}',\r\n    {allowedInText: true},\r\n    function(name, args) {\r\n    return {\r\n        type: 'mord',\r\n        limits: 'nolimits',\r\n        symbol: true,\r\n        isFunction: false,\r\n        body: args[0] ?\r\n            ({'a':'à','e':'è','i':'ì','o':'ò','u':'ù',\r\n            'A':'À','E':'È','I':'Ì','O':'Ò','U':'Ù'}[args[0]] || '`') :\r\n            '`',\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\n\r\n\r\ndefineFunction(\"\\\\'\", '{:string}',\r\n    {allowedInText: true},\r\n    function(name, args) {\r\n    return {\r\n        type: 'mord',\r\n        limits: 'nolimits',\r\n        symbol: true,\r\n        isFunction: false,\r\n        body: args[0] ?\r\n            ({'a':'á','e':'é','i':'í','o':'ó','u':'ú',\r\n            'A':'Á','E':'É','I':'Í','O':'Ó','U':'Ú'}[args[0]] || '\\u005e') :\r\n            '\\u005e',\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\n\r\ndefineFunction('\\\\~', '{:string}',\r\n    {allowedInText: true},\r\n    function(name, args) {\r\n    return {\r\n        type: 'mord',\r\n        limits: 'nolimits',\r\n        symbol: true,\r\n        isFunction: false,\r\n        body: args[0] ?\r\n            ({'n':'ñ', 'N':'Ñ', 'a':'ã', 'o':'õ', 'A':'Ã', 'O':'Õ'}[args[0]] || '\\u00B4') :\r\n            '\\u00B4',\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\n\r\ndefineFunction('\\\\c', '{:string}',\r\n    {allowedInText: true},\r\n    function(name, args) {\r\n    return {\r\n        type: 'mord',\r\n        limits: 'nolimits',\r\n        symbol: true,\r\n        isFunction: false,\r\n        body: args[0] ?\r\n            ({'c':'ç', 'C':'Ç'}[args[0]] || '') :\r\n            '',\r\n        baseFontFamily: 'cmr'\r\n    };\r\n})\r\n\r\n// Body-text symbols\r\n// See http://ctan.mirrors.hoobly.com/info/symbols/comprehensive/symbols-a4.pdf, p14\r\n\r\nconst TEXT_SYMBOLS = {\r\n    '\\\\#':               '\\u0023',\r\n    '\\\\&':               '\\u0026',\r\n    '\\\\$':               '$',\r\n    '\\\\%':               '%',\r\n    '\\\\_':               '_',\r\n    '\\\\euro':            '\\u20AC',\r\n    '\\\\maltese':         '\\u2720',\r\n    '\\\\{':               '{',\r\n    '\\\\}':               '}',\r\n    '\\\\nobreakspace':    '\\u00A0',\r\n    '\\\\ldots':           '\\u2026',\r\n    '\\\\textellipsis':    '\\u2026',\r\n    '\\\\backslash':       '\\\\',\r\n    '`':                 '\\u2018',\r\n    '\\'':                '\\u2019',\r\n    '``':                '\\u201c',\r\n    '\\'\\'':              '\\u201d',\r\n    '\\\\degree':          '\\u00b0',\r\n    '\\\\textasciicircum': '^',\r\n    '\\\\textasciitilde':  '~',\r\n    '\\\\textasteriskcentered':     '*',\r\n    '\\\\textbackslash':  '\\\\',\r\n    '\\\\textbraceleft':  '{',\r\n    '\\\\textbraceright': '}',\r\n    '\\\\textbullet':     '•',\r\n    '\\\\textdollar':     '$',\r\n    '\\\\textsterling':   '£',\r\n    '–':                '\\u2013',   // EN DASH\r\n    '—':                '\\u2014',   // EM DASH\r\n    '‘':                '\\u2018',   // LEFT SINGLE QUOTATION MARK\r\n    '’':                '\\u2019',   // RIGHT SINGLE QUOTATION MARK\r\n    '“':                '\\u201C',   // LEFT DOUBLE QUOTATION MARK\r\n    '”':                '\\u201D',   // RIGHT DOUBLE QUOTATION MARK\r\n    '\"':                '\\u201D',   // DOUBLE PRIME\r\n    '\\\\ss':             '\\u00df',   // LATIN SMALL LETTER SHARP S\r\n    '\\\\ae':             '\\u00E6',   // LATIN SMALL LETTER AE\r\n    '\\\\oe':             '\\u0153',   // LATIN SMALL LIGATURE OE\r\n    '\\\\AE':             '\\u00c6',   // LATIN CAPITAL LETTER AE\r\n    '\\\\OE':             '\\u0152',   // LATIN CAPITAL LIGATURE OE\r\n    '\\\\O':              '\\u00d8',   // LATIN CAPITAL LETTER O WITH STROKE\r\n    '\\\\i':              '\\u0131',   // LATIN SMALL LETTER DOTLESS I\r\n    '\\\\j':              '\\u0237',   // LATIN SMALL LETTER DOTLESS J\r\n    '\\\\aa':             '\\u00e5',   // LATIN SMALL LETTER A WITH RING ABOVE\r\n    '\\\\AA':             '\\u00c5',   // LATIN CAPITAL LETTER A WITH RING ABOVE\r\n\r\n};\r\n\r\n\r\nconst COMMAND_MODE_CHARACTERS = /[a-zA-Z0-9!@*()-=+{}[\\]\\\\';:?/.,~<>`|'$%#&^_\" ]/;\r\n\r\n// Word boundaries for Cyrillic, Polish, French, German, Italian\r\n// and Spanish. We use \\p{L} (Unicode property escapes: \"Letter\")\r\n// but Firefox doesn't support it\r\n// (https://bugzilla.mozilla.org/show_bug.cgi?id=1361876). Booo...\r\n// See also https://stackoverflow.com/questions/26133593/using-regex-to-match-international-unicode-alphanumeric-characters-in-javascript\r\nconst LETTER =\r\n    typeof navigator !== 'undefined' && /firefox|edge/i.test(navigator.userAgent) ?\r\n        /[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒäöüßÄÖÜẞàèéìíîòóùúÀÈÉÌÍÎÒÓÙÚáéíñóúüÁÉÍÑÓÚÜ]/ :\r\n        /\\p{Letter}/u\r\n        // new RegExp(\"\\\\p{Letter}\", 'u'); // 解决IE兼容性问题\r\n\r\nconst LETTER_AND_DIGITS =\r\n    typeof navigator !== 'undefined' && /firefox|edge/i.test(navigator.userAgent) ?\r\n        /[0-9a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒäöüßÄÖÜẞàèéìíîòóùúÀÈÉÌÍÎÒÓÙÚáéíñóúüÁÉÍÑÓÚÜ]/ :\r\n        /\\p{Letter}/u\r\n        // new RegExp(\"[0-9\\\\p{Letter}]\", 'u'); // 解决IE兼容性问题\r\n\r\nexport default {\r\n    matchCodepoint,\r\n    commandAllowed,\r\n    unicodeToMathVariant,\r\n    mathVariantToUnicode,\r\n    unicodeStringToLatex,\r\n    getInfo,\r\n    getValue,\r\n    getEnvironmentInfo,\r\n    suggest,\r\n    FREQUENCY_VALUE,\r\n    TEXT_SYMBOLS,\r\n    MATH_SYMBOLS,\r\n    ENVIRONMENTS,\r\n\r\n    RIGHT_DELIM,\r\n    FUNCTIONS,\r\n    MACROS,\r\n\r\n    COMMAND_MODE_CHARACTERS,\r\n    LETTER,\r\n    LETTER_AND_DIGITS\r\n}\r\n\r\n\r\n\r\n// TODO\r\n// Some missing greek letters, but see https://reference.wolfram.com/language/tutorial/LettersAndLetterLikeForms.html\r\n// koppa, stigma, Sampi\r\n// See https://tex.stackexchange.com/questions/231878/accessing-archaic-greek-koppa-in-the-birkmult-document-class\r\n// Capital Alpha, etc...\r\n// Colon (ratio) (2236)\r\n// Function names can have '*' in them\r\n\r\n// Review:\r\n// https://en.wikipedia.org/wiki/Help:Displaying_a_formula\r\n\r\n// https://reference.wolfram.com/language/tutorial/LettersAndLetterLikeForms.html\r\n// ftp://ftp.dante.de/tex-archive/info/symbols/comprehensive/symbols-a4.pdf\r\n\r\n// Media Wiki Reference\r\n// https://en.wikipedia.org/wiki/Help:Displaying_a_formula\r\n\r\n// MathJax Reference\r\n// http://docs.mathjax.org/en/latest/tex.html#supported-latex-commands\r\n// http://www.onemathematicalcat.org/MathJaxDocumentation/TeXSyntax.htm\r\n\r\n// LaTeX Reference\r\n// http://ctan.sharelatex.com/tex-archive/info/latex2e-help-texinfo/latex2e.html\r\n\r\n// iBooks Author/Pages\r\n// https://support.apple.com/en-au/HT202501\r\n\r\n// Mathematica Reference\r\n// https://reference.wolfram.com/language/tutorial/NamesOfSymbolsAndMathematicalObjects.html\r\n// https://reference.wolfram.com/language/guide/MathematicalTypesetting.html\r\n/*\r\n    * @todo \\sb (equivalent to _) $\\mathfrak{sl}\\sb 2$ frequency 184\r\n    * @todo \\sp (equivalent to ^) $\\mathfrak{sl}\\sp 2$ frequency 274\r\n    * \\intertext    frequency 0\r\n\r\n\r\n    See http://mirrors.ibiblio.org/CTAN/macros/latex/contrib/mathtools/mathtools.pdf\r\n\r\n*/","/**\r\n * This module deals with creating delimiters of various sizes. The TeXbook\r\n * discusses these routines on page 441-442, in the \"Another subroutine sets box\r\n * x to a specified variable delimiter\" paragraph.\r\n *\r\n * There are three main routines here. `makeSmallDelim` makes a delimiter in the\r\n * normal font, but in either text, script, or scriptscript style.\r\n * `makeLargeDelim` makes a delimiter in textstyle, but in one of the Size1,\r\n * Size2, Size3, or Size4 fonts. `makeStackedDelim` makes a delimiter out of\r\n * smaller pieces that are stacked on top of one another.\r\n *\r\n * The functions take a parameter `center`, which determines if the delimiter\r\n * should be centered around the axis.\r\n *\r\n * Then, there are three exposed functions. `sizedDelim` makes a delimiter in\r\n * one of the given sizes. This is used for things like `\\bigl`.\r\n * `customSizedDelim` makes a delimiter with a given total height+depth. It is\r\n * called in places like `\\sqrt`. `leftRightDelim` makes an appropriate\r\n * delimiter which surrounds an expression of a given height an depth. It is\r\n * used in `\\left` and `\\right`.\r\n * @summary   Handling of delimiters surrounds symbols.\r\n * @module core/delimiters\r\n * @private\r\n */\r\n\r\nimport Definitions from './definitions.js';\r\nimport Span from './span.js';\r\nimport Mathstyle from './mathstyle.js';\r\nimport FontMetrics from './fontMetrics.js';\r\n\r\nconst makeSymbol = Span.makeSymbol;\r\nconst makeSpan = Span.makeSpan;\r\nconst makeVlist = Span.makeVlist;\r\n\r\n\r\n\r\n/**\r\n * Makes a small delimiter. This is a delimiter that comes in the Main-Regular\r\n * font, but is restyled to either be in textstyle, scriptstyle, or\r\n * scriptscriptstyle.\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeSmallDelim(type, delim, style, center, context, classes) {\r\n    const text = makeSymbol('AMS-Regular', Definitions.getValue('math', delim));\r\n\r\n    const span = Span.makeStyleWrap(type, text, context.mathstyle, style, classes);\r\n\r\n    if (center) {\r\n        span.setTop((1 - context.mathstyle.sizeMultiplier / style.sizeMultiplier) *\r\n            context.mathstyle.metrics.axisHeight);\r\n    }\r\n    span.setStyle('color', context.color);\r\n    if (typeof context.opacity === 'number') span.setStyle('opacity', context.opacity);\r\n\r\n    return span;\r\n}\r\n\r\n/**\r\n * Makes a large delimiter. This is a delimiter that comes in the Size1, Size2,\r\n * Size3, or Size4 fonts. It is always rendered in textstyle.\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeLargeDelim(type, delim, size, center, context, classes) {\r\n    const inner = makeSymbol('Size' + size + '-Regular',\r\n        Definitions.getValue('math', delim));\r\n\r\n    const result = Span.makeStyleWrap( type,\r\n            makeSpan(inner, 'delimsizing size' + size),\r\n            context.mathstyle, Mathstyle.TEXT, classes);\r\n\r\n    if (center) {\r\n        result.setTop((1 - context.mathstyle.sizeMultiplier) *\r\n            context.mathstyle.metrics.axisHeight);\r\n    }\r\n    result.setStyle('color', context.color);\r\n    if (typeof context.opacity === 'number') result.setStyle('opacity', context.opacity);\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Make an inner span with the given offset and in the given font. This is used\r\n * in `makeStackedDelim` to make the stacking pieces for the delimiter.\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeInner(symbol, font) {\r\n    let sizeClass = '';\r\n    // Apply the correct CSS class to choose the right font.\r\n    if (font === 'Size1-Regular') {\r\n        sizeClass = ' delim-size1';\r\n    } else if (font === 'Size4-Regular') {\r\n        sizeClass = ' delim-size4';\r\n    }\r\n\r\n    // @todo: revisit if all this wrapping is needed or if the spans could\r\n    // be simplified\r\n    const inner = makeSpan(makeSymbol(font,\r\n        Definitions.getValue('math', symbol)), 'delimsizinginner' + sizeClass);\r\n\r\n    return inner;\r\n}\r\n\r\n/**\r\n * Make a stacked delimiter out of a given delimiter, with the total height at\r\n * least `heightTotal`. This routine is mentioned on page 442 of the TeXbook.\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeStackedDelim(type, delim, heightTotal, center, context,\r\n                                classes) {\r\n    // There are four parts, the top, an optional middle, a repeated part, and a\r\n    // bottom.\r\n    let top;\r\n    let middle;\r\n    let repeat;\r\n    let bottom;\r\n    top = repeat = bottom = Definitions.getValue('math', delim);\r\n    middle = null;\r\n    // Also keep track of what font the delimiters are in\r\n    let font = 'Size1-Regular';\r\n\r\n    // We set the parts and font based on the symbol. Note that we use\r\n    // '\\u23d0' instead of '|' and '\\u2016' instead of '\\\\|' for the\r\n    // repeats of the arrows\r\n    if (delim === '\\\\vert' || delim === '\\\\lvert' || delim === '\\\\rvert' || delim === '\\\\mvert' || delim === '\\\\mid') {\r\n        repeat = top = bottom = '\\u2223';\r\n    } else if (delim === '\\\\Vert' || delim === '\\\\lVert' ||\r\n                delim === '\\\\rVert' || delim === '\\\\mVert' || delim === '\\\\|') {\r\n        repeat = top = bottom = '\\u2225';\r\n    } else if (delim === '\\\\uparrow') {\r\n        repeat = bottom = '\\u23d0';\r\n    } else if (delim === '\\\\Uparrow') {\r\n        repeat = bottom = '\\u2016';\r\n    } else if (delim === '\\\\downarrow') {\r\n        top = repeat = '\\u23d0';\r\n    } else if (delim === '\\\\Downarrow') {\r\n        top = repeat = '\\u2016';\r\n    } else if (delim === '\\\\updownarrow') {\r\n        top = '\\u2191';\r\n        repeat = '\\u23d0';\r\n        bottom = '\\u2193';\r\n    } else if (delim === '\\\\Updownarrow') {\r\n        top = '\\u21d1';\r\n        repeat = '\\u2016';\r\n        bottom = '\\u21d3';\r\n    } else if (delim === '[' || delim === '\\\\lbrack') {\r\n        top = '\\u23a1';\r\n        repeat = '\\u23a2';\r\n        bottom = '\\u23a3';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === ']' || delim === '\\\\rbrack') {\r\n        top = '\\u23a4';\r\n        repeat = '\\u23a5';\r\n        bottom = '\\u23a6';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\lfloor') {\r\n        repeat = top = '\\u23a2';\r\n        bottom = '\\u23a3';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\lceil') {\r\n        top = '\\u23a1';\r\n        repeat = bottom = '\\u23a2';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\rfloor') {\r\n        repeat = top = '\\u23a5';\r\n        bottom = '\\u23a6';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\rceil') {\r\n        top = '\\u23a4';\r\n        repeat = bottom = '\\u23a5';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '(') {\r\n        top = '\\u239b';\r\n        repeat = '\\u239c';\r\n        bottom = '\\u239d';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === ')') {\r\n        top = '\\u239e';\r\n        repeat = '\\u239f';\r\n        bottom = '\\u23a0';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\{' || delim === '\\\\lbrace') {\r\n        top = '\\u23a7';\r\n        middle = '\\u23a8';\r\n        bottom = '\\u23a9';\r\n        repeat = '\\u23aa';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\}' || delim === '\\\\rbrace') {\r\n        top = '\\u23ab';\r\n        middle = '\\u23ac';\r\n        bottom = '\\u23ad';\r\n        repeat = '\\u23aa';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\lgroup') {\r\n        top = '\\u23a7';\r\n        bottom = '\\u23a9';\r\n        repeat = '\\u23aa';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\rgroup') {\r\n        top = '\\u23ab';\r\n        bottom = '\\u23ad';\r\n        repeat = '\\u23aa';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\lmoustache') {\r\n        top = '\\u23a7';\r\n        bottom = '\\u23ad';\r\n        repeat = '\\u23aa';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\rmoustache') {\r\n        top = '\\u23ab';\r\n        bottom = '\\u23a9';\r\n        repeat = '\\u23aa';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\surd') {\r\n        top = '\\ue001';\r\n        bottom = '\\u23b7';\r\n        repeat = '\\ue000';\r\n        font = 'Size4-Regular';\r\n    } else if (delim === '\\\\ulcorner') {\r\n        top = '\\u250c';\r\n        repeat = bottom = ' ';\r\n    } else if (delim === '\\\\urcorner') {\r\n        top = '\\u2510';\r\n        repeat = bottom = ' ';\r\n    } else if (delim === '\\\\llcorner') {\r\n        bottom = '\\u2514';\r\n        repeat = top = ' ';\r\n    } else if (delim === '\\\\lrcorner') {\r\n        top = '\\u2518';\r\n        repeat = top = ' ';\r\n    }\r\n\r\n    // Get the metrics of the four sections\r\n    const topMetrics = FontMetrics.getCharacterMetrics(\r\n            Definitions.getValue('math', top), font);\r\n    const topHeightTotal = topMetrics.height + topMetrics.depth;\r\n    const repeatMetrics = FontMetrics.getCharacterMetrics(\r\n            Definitions.getValue('math', repeat), font);\r\n    const repeatHeightTotal = repeatMetrics.height + repeatMetrics.depth;\r\n    const bottomMetrics = FontMetrics.getCharacterMetrics(\r\n            Definitions.getValue('math', bottom), font);\r\n    const bottomHeightTotal = bottomMetrics.height + bottomMetrics.depth;\r\n    let middleHeightTotal = 0;\r\n    let middleFactor = 1;\r\n    if (middle !== null) {\r\n        const middleMetrics = FontMetrics.getCharacterMetrics(\r\n                Definitions.getValue('math', middle), font);\r\n        middleHeightTotal = middleMetrics.height + middleMetrics.depth;\r\n        middleFactor = 2; // repeat symmetrically above and below middle\r\n    }\r\n\r\n    // Calculate the minimal height that the delimiter can have.\r\n    // It is at least the size of the top, bottom, and optional middle combined.\r\n    const minHeight = topHeightTotal + bottomHeightTotal + middleHeightTotal;\r\n\r\n    // Compute the number of copies of the repeat symbol we will need\r\n    const repeatCount = Math.ceil(\r\n        (heightTotal - minHeight) / (middleFactor * repeatHeightTotal));\r\n\r\n    // Compute the total height of the delimiter including all the symbols\r\n    const realHeightTotal =\r\n        minHeight + repeatCount * middleFactor * repeatHeightTotal;\r\n\r\n    // The center of the delimiter is placed at the center of the axis. Note\r\n    // that in this context, 'center' means that the delimiter should be\r\n    // centered around the axis in the current style, while normally it is\r\n    // centered around the axis in textstyle.\r\n    let axisHeight = context.mathstyle.metrics.axisHeight;\r\n    if (center) {\r\n        axisHeight *= context.mathstyle.sizeMultiplier;\r\n    }\r\n    // Calculate the depth\r\n    const depth = realHeightTotal / 2 - axisHeight;\r\n\r\n    // Now, we start building the pieces that will go into the vlist\r\n\r\n    // Keep a list of the inner pieces\r\n    const inners = [];\r\n\r\n    // Add the bottom symbol\r\n    inners.push(makeInner(bottom, font));\r\n\r\n    if (middle === null) {\r\n        // Add that many symbols\r\n        for (let i = 0; i < repeatCount; i++) {\r\n            inners.push(makeInner(repeat, font));\r\n        }\r\n    } else {\r\n        // When there is a middle bit, we need the middle part and two repeated\r\n        // sections\r\n        for (let i = 0; i < repeatCount; i++) {\r\n            inners.push(makeInner(repeat, font));\r\n        }\r\n        inners.push(makeInner(middle, font));\r\n        for (let i = 0; i < repeatCount; i++) {\r\n            inners.push(makeInner(repeat, font));\r\n        }\r\n    }\r\n\r\n    // Add the top symbol\r\n    inners.push(makeInner(top, font));\r\n\r\n    // Finally, build the vlist\r\n    const inner = makeVlist(context, inners, 'bottom', depth);\r\n    inner.setStyle('color', context.color);\r\n    if (typeof context.opacity === 'number') inner.setStyle('opacity', context.opacity);\r\n\r\n    return Span.makeStyleWrap(type, makeSpan(inner, 'delimsizing mult'),\r\n        context.mathstyle, Mathstyle.TEXT, classes);\r\n}\r\n\r\n// There are three kinds of delimiters, delimiters that stack when they become\r\n// too large\r\nconst stackLargeDelimiters = [\r\n    '(', ')', '[', '\\\\lbrack', ']', '\\\\rbrack',\r\n    '\\\\{', '\\\\lbrace', '\\\\}', '\\\\rbrace',\r\n    '\\\\lfloor', '\\\\rfloor', '\\\\lceil', '\\\\rceil',\r\n    '\\\\surd',\r\n];\r\n\r\n// delimiters that always stack\r\nconst stackAlwaysDelimiters = [\r\n    '\\\\uparrow', '\\\\downarrow', '\\\\updownarrow',\r\n    '\\\\Uparrow', '\\\\Downarrow', '\\\\Updownarrow',\r\n    '|', '\\\\|', '\\\\vert', '\\\\Vert',\r\n    '\\\\lvert', '\\\\rvert', '\\\\lVert', '\\\\rVert',\r\n    '\\\\mvert', '\\\\mid',\r\n    '\\\\lgroup', '\\\\rgroup', '\\\\lmoustache', '\\\\rmoustache',\r\n];\r\n\r\n// and delimiters that never stack\r\nconst stackNeverDelimiters = [\r\n    '<', '>', '\\\\langle', '\\\\rangle', '/', '\\\\backslash', '\\\\lt', '\\\\gt',\r\n];\r\n\r\n// Metrics of the different sizes. Found by looking at TeX's output of\r\n// $\\bigl| // \\Bigl| \\biggl| \\Biggl| \\showlists$\r\n// Used to create stacked delimiters of appropriate sizes in makeSizedDelim.\r\nconst sizeToMaxHeight = [0, 1.2, 1.8, 2.4, 3.0];\r\n\r\n/**\r\n * Used to create a delimiter of a specific size, where `size` is 1, 2, 3, or 4.\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeSizedDelim(type, delim, size, context, classes) {\r\n    if (delim === '.') {\r\n        // Empty delimiters still count as elements, even though they don't\r\n        // show anything.\r\n        return makeNullFence(type, context, classes);\r\n        // return makeSpan('', classes);\r\n    }\r\n\r\n    // < and > turn into \\langle and \\rangle in delimiters\r\n    if (delim === '<' || delim === '\\\\lt') {\r\n        delim = '\\\\langle';\r\n    } else if (delim === '>' || delim === '\\\\gt') {\r\n        delim = '\\\\rangle';\r\n    }\r\n\r\n    // Sized delimiters are never centered.\r\n    if (stackLargeDelimiters.includes(delim) ||\r\n        stackNeverDelimiters.includes(delim)) {\r\n        return makeLargeDelim(type, delim, size, false, context, classes);\r\n    } else if (stackAlwaysDelimiters.includes(delim)) {\r\n        return makeStackedDelim(\r\n            type, delim, sizeToMaxHeight[size], false, context, classes);\r\n    }\r\n    console.assert(false, 'Unknown delimiter \\'' + delim + '\\'');\r\n    return null;\r\n}\r\n\r\n/*\r\n * There are three different sequences of delimiter sizes that the delimiters\r\n * follow depending on the kind of delimiter. This is used when creating custom\r\n * sized delimiters to decide whether to create a small, large, or stacked\r\n * delimiter.\r\n *\r\n * In real TeX, these sequences aren't explicitly defined, but are instead\r\n * defined inside the font metrics. Since there are only three sequences that\r\n * are possible for the delimiters that TeX defines, it is easier to just encode\r\n * them explicitly here.\r\n */\r\n\r\n// Delimiters that never stack try small delimiters and large delimiters only\r\nconst stackNeverDelimiterSequence = [\r\n    {type: 'small', mathstyle: Mathstyle.SCRIPTSCRIPT},\r\n    {type: 'small', mathstyle: Mathstyle.SCRIPT},\r\n    {type: 'small', mathstyle: Mathstyle.TEXT},\r\n    {type: 'large', size: 1},\r\n    {type: 'large', size: 2},\r\n    {type: 'large', size: 3},\r\n    {type: 'large', size: 4},\r\n];\r\n\r\n// Delimiters that always stack try the small delimiters first, then stack\r\nconst stackAlwaysDelimiterSequence = [\r\n    {type: 'small', mathstyle: Mathstyle.SCRIPTSCRIPT},\r\n    {type: 'small', mathstyle: Mathstyle.SCRIPT},\r\n    {type: 'small', mathstyle: Mathstyle.TEXT},\r\n    {type: 'stack'},\r\n];\r\n\r\n// Delimiters that stack when large try the small and then large delimiters, and\r\n// stack afterwards\r\nconst stackLargeDelimiterSequence = [\r\n    {type: 'small', mathstyle: Mathstyle.SCRIPTSCRIPT},\r\n    {type: 'small', mathstyle: Mathstyle.SCRIPT},\r\n    {type: 'small', mathstyle: Mathstyle.TEXT},\r\n    {type: 'large', size: 1},\r\n    {type: 'large', size: 2},\r\n    {type: 'large', size: 3},\r\n    {type: 'large', size: 4},\r\n    {type: 'stack'},\r\n];\r\n\r\n/*\r\n * Get the font used in a delimiter based on what kind of delimiter it is.\r\n */\r\nfunction delimTypeToFont(type) {\r\n    if (type.type === 'small') {\r\n        return 'Main-Regular';\r\n    } else if (type.type === 'large') {\r\n        return 'Size' + type.size + '-Regular';\r\n    }\r\n    console.assert(type.type === 'stack');\r\n    return 'Size4-Regular';\r\n}\r\n\r\n/**\r\n * Traverse a sequence of types of delimiters to decide what kind of delimiter\r\n * should be used to create a delimiter of the given height+depth.\r\n * @param {string} delim: a character value (not a command)\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction traverseSequence(delim, height, sequence, context) {\r\n    // Here, we choose the index we should start at in the sequences. In smaller\r\n    // sizes (which correspond to larger numbers in style.size) we start earlier\r\n    // in the sequence. Thus, scriptscript starts at index 3-3=0, script starts\r\n    // at index 3-2=1, text starts at 3-1=2, and display starts at min(2,3-0)=2\r\n    const start = Math.min(2, 3 - context.mathstyle.size);\r\n    for (let i = start; i < sequence.length; i++) {\r\n        if (sequence[i].type === 'stack') {\r\n            // This is always the last delimiter, so we just break the loop now.\r\n            break;\r\n        }\r\n\r\n        const metrics = FontMetrics.getCharacterMetrics(\r\n                delim,\r\n                delimTypeToFont(sequence[i]));\r\n        if (metrics.defaultMetrics) {\r\n            // If we don't have metrics info for this character,\r\n            // assume we'll construct as a small delimiter\r\n            return {type: 'small', mathstyle: Mathstyle.SCRIPT};\r\n        }\r\n        let heightDepth = metrics.height + metrics.depth;\r\n\r\n        // Small delimiters are scaled down versions of the same font, so we\r\n        // account for the style change size.\r\n\r\n        if (sequence[i].type === 'small') {\r\n            heightDepth *= sequence[i].mathstyle.sizeMultiplier;\r\n        }\r\n\r\n        // Check if the delimiter at this size works for the given height.\r\n        if (heightDepth > height) {\r\n            return sequence[i];\r\n        }\r\n    }\r\n\r\n    // If we reached the end of the sequence, return the last sequence element.\r\n    return sequence[sequence.length - 1];\r\n}\r\n\r\n\r\n/**\r\n * Make a delimiter of a given height+depth, with optional centering. Here, we\r\n * traverse the sequences, and create a delimiter that the sequence tells us to.\r\n *\r\n * @param {string} type 'mopen' or 'mclose'\r\n * @param {string} delim\r\n * @param {number} height\r\n * @param {boolean} center\r\n * @param {Context.Context} context\r\n * @param {string[]} classes\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeCustomSizedDelim(type, delim, height, center, context, classes) {\r\n    if (!delim || delim.length === 0 || delim === '.') {\r\n        return makeNullFence(type, context, type);\r\n    }\r\n\r\n    if (delim === '<' || delim === '\\\\lt') {\r\n        delim = '\\\\langle';\r\n    } else if (delim === '>' || delim === '\\\\gt') {\r\n        delim = '\\\\rangle';\r\n    }\r\n\r\n    // Decide what sequence to use\r\n    let sequence;\r\n    if (stackNeverDelimiters.includes(delim)) {\r\n        sequence = stackNeverDelimiterSequence;\r\n    } else if (stackLargeDelimiters.includes(delim)) {\r\n        sequence = stackLargeDelimiterSequence;\r\n    } else {\r\n        sequence = stackAlwaysDelimiterSequence;\r\n    }\r\n\r\n    // Look through the sequence\r\n    const delimType = traverseSequence(Definitions.getValue('math', delim),\r\n        height, sequence, context);\r\n\r\n    // Depending on the sequence element we decided on, call the appropriate\r\n    // function.\r\n    if (delimType.type === 'small') {\r\n        return makeSmallDelim(type, delim, delimType.mathstyle, center, context,\r\n                              classes);\r\n    } else if (delimType.type === 'large') {\r\n        return makeLargeDelim(type, delim, delimType.size, center, context,\r\n                              classes);\r\n    }\r\n    console.assert(delimType.type === 'stack');\r\n    return makeStackedDelim(type, delim, height, center, context, classes);\r\n}\r\n\r\n/**\r\n * Make a delimiter for use with `\\left` and `\\right`, given a height and depth\r\n * of an expression that the delimiters surround.\r\n * See tex.web:14994\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeLeftRightDelim(type, delim, height, depth, context, classes) {\r\n    // If this is the empty delimiter, return a null fence\r\n    if (delim === '.') {\r\n        return makeNullFence(type, context, classes);\r\n    }\r\n\r\n    // We always center \\left/\\right delimiters, so the axis is always shifted\r\n    const axisHeight =\r\n        context.mathstyle.metrics.axisHeight * context.mathstyle.sizeMultiplier;\r\n\r\n    // Taken from TeX source, tex.web, function make_left_right\r\n    const delimiterFactor = 901;    // plain.tex:327\r\n    const delimiterShortfall = 5.0 / FontMetrics.METRICS.ptPerEm;  // plain.tex:345\r\n\r\n    let delta2 = depth + axisHeight;\r\n    let delta1 = height - axisHeight;\r\n    delta1 = Math.max(delta2, delta1);\r\n\r\n    let delta  = (delta1 * delimiterFactor) / 500;\r\n    delta2  = 2 * delta1 - delimiterShortfall;\r\n    delta = Math.max(delta, delta2);\r\n\r\n    // const maxDistFromAxis = Math.max(height - axisHeight, depth + axisHeight);\r\n    // const totalHeight = Math.max(\r\n    //     // In real TeX, calculations are done using integral values which are\r\n    //     // 65536 per pt, or 655360 per em. So, the division here truncates in\r\n    //     // TeX but doesn't here, producing different results. If we wanted to\r\n    //     // exactly match TeX's calculation, we could do\r\n    //     //   Math.floor(655360 * maxDistFromAxis / 500) *\r\n    //     //    delimiterFactor / 655360\r\n    //     // (To see the difference, compare\r\n    //     //    x^{x^{\\left(\\rule{0.1em}{0.68em}\\right)}}\r\n    //     // in TeX and KaTeX)\r\n    //     maxDistFromAxis / 500 * delimiterFactor,\r\n    //     2 * maxDistFromAxis - delimiterShortfall);\r\n\r\n    // Finally, we defer to `makeCustomSizedDelim` with our calculated total\r\n    // height\r\n    return makeCustomSizedDelim(type, delim, delta, true, context, classes);\r\n}\r\n\r\n/**\r\n *\r\n * @param {Context} context\r\n * @param {string} [type] either 'mopen', 'mclose' or null\r\n * @memberof module:delimiters\r\n * @private\r\n */\r\nfunction makeNullFence(type, context, classes) {\r\n    return Span.makeSpanOfType(type, '',\r\n        'sizing' +                                           // @todo not useful, redundant with 'nulldelimiter'\r\n        // 'reset-' + context.size, 'size5',                 // @todo: that seems like a lot of resizing... do we need both?\r\n        context.mathstyle.adjustTo(Mathstyle.TEXT) +\r\n\r\n        ' nulldelimiter '            // The null delimiter has a width, specified by class 'nulldelimiter'\r\n        + (classes || '')\r\n    );\r\n}\r\n\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n    makeSizedDelim,\r\n    makeCustomSizedDelim,\r\n    makeLeftRightDelim\r\n}\r\n\r\n\r\n\r\n","/**\r\n *\r\n * See also the class {@linkcode MathAtom}\r\n * @module core/mathatom\r\n * @private\r\n */\r\nimport Mathstyle from './mathstyle.js';\r\nimport Context from './context.js';\r\nimport {METRICS as FONTMETRICS} from './fontMetrics.js';\r\nimport Span from './span.js';\r\nimport Delimiters from './delimiters.js';\r\n\r\nconst makeSpan = Span.makeSpan;\r\nconst makeOrd = Span.makeOrd;\r\nconst makeInner = Span.makeInner;\r\nconst makeHlist = Span.makeHlist;\r\nconst makeVlist = Span.makeVlist;\r\nexport const GREEK_REGEX = /\\u0393|\\u0394|\\u0398|\\u039b|\\u039E|\\u03A0|\\u03A3|\\u03a5|\\u03a6|\\u03a8|\\u03a9|[\\u03b1-\\u03c9]|\\u03d1|\\u03d5|\\u03d6|\\u03f1|\\u03f5/;\r\n\r\n// TeX by default auto-italicize latin letters and lowercase greek letters\r\nconst AUTO_ITALIC_REGEX = /^([A-Za-z]|[\\u03b1-\\u03c9]|\\u03d1|\\u03d5|\\u03d6|\\u03f1|\\u03f5)$/;\r\n\r\n// A table of size -> font size for the different sizing functions\r\nconst SIZING_MULTIPLIER = {\r\n    size1: 0.5,\r\n    size2: 0.7,\r\n    size3: 0.8,\r\n    size4: 0.9,\r\n    size5: 1.0,\r\n    size6: 1.2,\r\n    size7: 1.44,\r\n    size8: 1.73,\r\n    size9: 2.07,\r\n    size10: 2.49,\r\n};\r\n\r\n/**\r\n * An atom is an object encapsulating an elementary mathematical unit,\r\n * independent of its graphical representation.\r\n *\r\n * It keeps track of the content, while the dimensions, position and style\r\n * are tracked by Span objects which are created by the `decompose()` functions.\r\n *\r\n * @param {string} mode\r\n * @param {string} type\r\n * @param {string|MathAtom[]} body\r\n * @param {Object.<string, any>} [style={}] A set of additional properties to append to\r\n * the atom\r\n * @return {MathAtom}\r\n * @property {string} mode `'display'`, `'command'`, etc...\r\n * @property {string} type - Type can be one of:\r\n * - `mord`: ordinary symbol, e.g. `x`, `\\alpha`\r\n * - `textord`: ordinary characters\r\n * - `mop`: operators, including special functions, `\\sin`, `\\sum`, `\\cap`.\r\n * - `mbin`: binary operator: `+`, `*`, etc...\r\n * - `mrel`: relational operator: `=`, `\\ne`, etc...\r\n * - `mpunct`: punctuation: `,`, `:`, etc...\r\n * - `mopen`: opening fence: `(`, `\\langle`, etc...\r\n * - `mclose`: closing fence: `)`, `\\rangle`, etc...\r\n * - `minner`: special layout cases, overlap, `\\left...\\right`\r\n *\r\n * In addition to these basic types, which correspond to the TeX atom types,\r\n * some atoms represent more complex compounds, including:\r\n * - `space` and `spacing`: blank space between atoms\r\n * - `mathstyle`: to change the math style used: `display` or `text`.\r\n * The layout rules are different for each, the latter being more compact and\r\n * intended to be incorporated with surrounding non-math text.\r\n * - `root`: a group, which has no parent (only one per formula)\r\n * - `group`: a simple group of atoms, for example from a `{...}`\r\n * - `sizing`: set the size of the font used\r\n * - `rule`: draw a line, for the `\\rule` command\r\n * - `line`: used by `\\overline` and `\\underline` commands\r\n * - `box`: a border drawn around an expression and change its background color\r\n * - `overlap`: display a symbol _over_ another\r\n * - `overunder`: displays an annotation above or below a symbol\r\n * - `array`: a group, which has children arranged in rows. Used\r\n * by environments such as `matrix`, `cases`, etc...\r\n * - `genfrac`: a generalized fraction: a numerator and denominator, separated\r\n * by an optional line, and surrounded by optional fences\r\n * - `surd`: a surd, aka root\r\n * - `leftright`: used by the `\\left` and `\\right` commands\r\n * - `delim`: some delimiter\r\n * - `sizeddelim`: a delimiter that can grow\r\n *\r\n * The following types are used by the editor:\r\n * - `command` indicate a command being entered. The text is displayed in\r\n * blue in the editor.\r\n * - `error`: indicate a command that is unknown, for example `\\xyzy`. The text\r\n * is displayed with a wavy red underline in the editor.\r\n * - `placeholder`: indicate a temporary item. Placeholders are displayed\r\n * as a dashed square in the editor.\r\n * - `first`: a special, empty, atom put as the first atom in math lists in\r\n * order to be able to position the caret before the first element. Aside from\r\n * the caret, they display nothing.\r\n *\r\n * @property {string|MathAtom[]} body\r\n * @property {MathAtom[]} superscript\r\n * @property {MathAtom[]} subscript\r\n * @property {MathAtom[]} numer\r\n * @property {MathAtom[]} denom\r\n *\r\n * @property {boolean} captureSelection if true, this atom does not let its\r\n * children be selected. Used by the `\\enclose` annotations, for example.\r\n *\r\n * @property {boolean} skipBoundary if true, when the caret reaches the\r\n * first position in this element's body, it automatically moves to the\r\n * outside of the element. Conversely, when the caret reaches the position\r\n * right after this element, it automatically moves to the last position\r\n * inside this element.\r\n *\r\n * @class\r\n * @private\r\n */\r\nclass MathAtom {\r\n    /**\r\n     *\r\n     * @param {string} mode\r\n     * @param {string} type\r\n     * @param {string|Array} body\r\n     * @param {object} style\r\n     */\r\n    constructor(mode, type, body, style) {\r\n        this.mode = mode;\r\n        this.type = type;\r\n        this.body = body;\r\n\r\n        // Append all the properties in extras to this\r\n        // This can override the mode, type and body\r\n        this.applyStyle(style);\r\n    }\r\n\r\n    getStyle() {\r\n        return {\r\n            color: this.phantom ? 'transparent' : this.color,\r\n            backgroundColor: this.phantom ? 'transparent' : this.backgroundColor,\r\n            fontFamily: this.baseFontFamily || this.fontFamily || this.autoFontFamily,\r\n            fontShape: this.fontShape,\r\n            fontSeries: this.fontSeries,\r\n            fontSize: this.fontSize,\r\n            cssId: this.cssId,\r\n            cssClass: this.cssClass\r\n        }\r\n    }\r\n\r\n    applyStyle(style) {\r\n        // Always apply the style, even if null. This will also set the\r\n        // autoFontFamily, which account for auto-italic. This code path\r\n        // is used by \\char.\r\n        Object.assign(this, style);\r\n\r\n        if (this.fontFamily === 'none') {\r\n            this.fontFamily = '';\r\n        }\r\n        if (this.fontShape === 'auto') {\r\n            this.fontShape = '';\r\n        }\r\n        if (this.fontSeries === 'auto') {\r\n            this.fontSeries = '';\r\n        }\r\n        if (this.color === 'none') {\r\n            this.color = '';\r\n        }\r\n        if (this.backgroundColor === 'none') {\r\n            this.backgroundColor = '';\r\n        }\r\n        if (this.fontSize === 'auto') {\r\n            this.fontSize = '';\r\n        }\r\n\r\n        if (this.fontSize) {\r\n            this.maxFontSize = SIZING_MULTIPLIER[this.fontSize] ;\r\n        }\r\n\r\n        if (this.mode === 'math') {\r\n            const symbol = typeof this.body === 'string' ? this.body : '';\r\n            this.autoFontFamily = 'cmr';\r\n            if (AUTO_ITALIC_REGEX.test(symbol)) {\r\n                // Auto italicize alphabetic and lowercase greek symbols\r\n                // in math mode (European style: American style would not\r\n                // italicize greek letters, but it's TeX's default behavior)\r\n                this.autoFontFamily = 'math';\r\n            } else if (/\\\\imath|\\\\jmath|\\\\pounds/.test(symbol)) {\r\n                // Some characters do not exist in the Math font,\r\n                // use Main italic instead\r\n                this.autoFontFamily = 'mainit';\r\n            } else if (!GREEK_REGEX.test(symbol) && this.baseFontFamily === 'math') {\r\n                this.autoFontFamily = 'cmr';\r\n            }\r\n        } else if (this.mode === 'text') {\r\n            // A root can be in text mode (root created when creating a representation\r\n            // of the selection, for copy/paste for example)\r\n            if (this.type !== 'root') this.type = '';\r\n            delete this.baseFontFamily;\r\n            delete this.autoFontFamily;\r\n        }\r\n    }\r\n\r\n    getInitialBaseElement() {\r\n        let result = this;\r\n        if (Array.isArray(this.body) && this.body.length > 0) {\r\n            if (this.body[0].type !== 'first') {\r\n                result = this.body[0].getInitialBaseElement();\r\n            } else if (this.body[1]) {\r\n                result = this.body[1].getInitialBaseElement();\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    getFinalBaseElement() {\r\n        if (Array.isArray(this.body) && this.body.length > 0) {\r\n            return this.body[this.body.length - 1].getFinalBaseElement();\r\n        }\r\n        return this;\r\n    }\r\n\r\n\r\n    isCharacterBox() {\r\n        const base = this.getInitialBaseElement();\r\n        return /minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(base.type);\r\n    }\r\n\r\n\r\n    forEach(cb) {\r\n        cb(this);\r\n        if (Array.isArray(this.body)) {\r\n            for (const atom of this.body) if (atom) atom.forEach(cb);\r\n        } else if (this.body && typeof this.body === 'object') {\r\n            // Note: body can be null, for example 'first' or 'rule'\r\n            // (and null is an object)\r\n            cb(this.body);\r\n        }\r\n        if (this.superscript) {\r\n            for (const atom of this.superscript) if (atom) atom.forEach(cb);\r\n        }\r\n        if (this.subscript) {\r\n            for (const atom of this.subscript) if (atom) atom.forEach(cb);\r\n        }\r\n        if (this.overscript) {\r\n            for (const atom of this.overscript) if (atom) atom.forEach(cb);\r\n        }\r\n        if (this.underscript) {\r\n            for (const atom of this.underscript) if (atom) atom.forEach(cb);\r\n        }\r\n        if (this.numer) {\r\n            for (const atom of this.numer) if (atom) atom.forEach(cb);\r\n        }\r\n        if (this.denom) {\r\n            for (const atom of this.denom) if (atom) atom.forEach(cb);\r\n        }\r\n        if (this.index) {\r\n            for (const atom of this.index) if (atom) atom.forEach(cb);\r\n        }\r\n        if (this.array) {\r\n            for (const row of this.array) {\r\n                for (const cell of row) {\r\n                    for (const atom of cell) atom.forEach(cb);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Iterate over all the child atoms of this atom, this included,\r\n     * and return an array of all the atoms for which the predicate callback\r\n     * is true.\r\n     *\r\n     * @return {MathAtom[]}\r\n     * @method MathAtom#filter\r\n     * @private\r\n     */\r\n    filter(cb) {\r\n        let result = [];\r\n        if (cb(this)) result.push(this);\r\n        for (const relation of ['body', 'superscript', 'subscript',\r\n            'overscript', 'underscript',\r\n            'numer', 'denom', 'index']) {\r\n            if (Array.isArray(this[relation])) {\r\n                for (const atom of this[relation]) {\r\n                    if (atom) result = result.concat(atom.filter(cb));\r\n                }\r\n            }\r\n        }\r\n        if (Array.isArray(this.array)) {\r\n            for (const row of this.array) {\r\n                for (const cell of row) {\r\n                    if (cell) result = result.concat(cell.filter(cb));\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    decomposeGroup(context) {\r\n        // The scope of the context is this group, so clone it\r\n        // so that any changes to it will be discarded when finished\r\n        // with this group.\r\n        // Note that the mathstyle property is optional and could be undefined\r\n        // If that's the case, clone() returns a clone of the\r\n        // context with the same mathstyle.\r\n        const localContext = context.clone({mathstyle: this.mathstyle});\r\n        const span = makeOrd(decompose(localContext, this.body));\r\n        if (this.cssId) span.cssId = this.cssId;\r\n        span.applyStyle({\r\n            backgroundColor: this.backgroundColor,\r\n            cssClass: this.cssClass\r\n        });\r\n        return span;\r\n    }\r\n\r\n\r\n    decomposeArray(context) {\r\n        // See http://tug.ctan.org/macros/latex/base/ltfsstrc.dtx\r\n        // and http://tug.ctan.org/macros/latex/base/lttab.dtx\r\n        let colFormat = this.colFormat;\r\n        if (colFormat && colFormat.length === 0) {\r\n            colFormat = [{ align: 'l' }];\r\n        }\r\n        if (!colFormat) {\r\n            colFormat = [{ align: 'l' }, { align: 'l' }, { align: 'l' },\r\n            { align: 'l' }, { align: 'l' }, { align: 'l' }, { align: 'l' }, { align: 'l' },\r\n            { align: 'l' }, { align: 'l' }];\r\n        }\r\n        // Fold the array so that there are no more columns of content than\r\n        // there are columns prescribed by the column format.\r\n        const array = [];\r\n        let colMax = 0; // Maximum number of columns of content\r\n        for (const colSpec of colFormat) {\r\n            if (colSpec.align) colMax++;\r\n        }\r\n        for (const row of this.array) {\r\n            let colIndex = 0;\r\n            while (colIndex < row.length) {\r\n                const newRow = [];\r\n                const lastCol = Math.min(row.length, colIndex + colMax);\r\n                while (colIndex < lastCol) {\r\n                    newRow.push(row[colIndex++]);\r\n                }\r\n                array.push(newRow);\r\n            }\r\n        }\r\n        // If the last row is empty, ignore it.\r\n        if (array[array.length - 1].length === 1 &&\r\n            array[array.length - 1][0].length === 0) {\r\n            array.pop();\r\n        }\r\n        const mathstyle = Mathstyle.toMathstyle(this.mathstyle) ||\r\n            context.mathstyle;\r\n        // Row spacing\r\n        // Default \\arraystretch from lttab.dtx\r\n        const arraystretch = this.arraystretch || 1;\r\n        const arrayskip = arraystretch * FONTMETRICS.baselineskip;\r\n        const arstrutHeight = 0.7 * arrayskip;\r\n        const arstrutDepth = 0.3 * arrayskip; // \\@arstrutbox in lttab.dtx\r\n        let totalHeight = 0;\r\n        let nc = 0;\r\n        const body = [];\r\n        const nr = array.length;\r\n        for (let r = 0; r < nr; ++r) {\r\n            const inrow = array[r];\r\n            nc = Math.max(nc, inrow.length);\r\n            let height = arstrutHeight; // \\@array adds an \\@arstrut\r\n            let depth = arstrutDepth; // to each row (via the template)\r\n            const outrow = [];\r\n            for (let c = 0; c < inrow.length; ++c) {\r\n                const localContext = context.clone({mathstyle: this.mathstyle});\r\n                const cell = decompose(localContext, inrow[c]) || [];\r\n                const elt = [makeOrd(null)].concat(cell);\r\n                depth = Math.max(depth, Span.depth(elt));\r\n                height = Math.max(height, Span.height(elt));\r\n                outrow.push(elt);\r\n            }\r\n            let jot = r === nr - 1 ? 0 : (this.jot || 0);\r\n            if (this.rowGaps && this.rowGaps[r]) {\r\n                jot = this.rowGaps[r];\r\n                if (jot > 0) { // \\@argarraycr\r\n                    jot += arstrutDepth;\r\n                    if (depth < jot) {\r\n                        depth = jot; // \\@xargarraycr\r\n                    }\r\n                    jot = 0;\r\n                }\r\n            }\r\n            outrow.height = height;\r\n            outrow.depth = depth;\r\n            totalHeight += height;\r\n            outrow.pos = totalHeight;\r\n            totalHeight += depth + jot; // \\@yargarraycr\r\n            body.push(outrow);\r\n        }\r\n        const offset = totalHeight / 2 + mathstyle.metrics.axisHeight;\r\n        const contentCols = [];\r\n        for (let colIndex = 0; colIndex < nc; colIndex++) {\r\n            const col = [];\r\n            for (const row of body) {\r\n                const elem = row[colIndex];\r\n                if (!elem) {\r\n                    continue;\r\n                }\r\n                elem.depth = row.depth;\r\n                elem.height = row.height;\r\n\r\n                col.push(elem);\r\n                col.push(row.pos - offset);\r\n            }\r\n            if (col.length > 0) {\r\n                contentCols.push(makeVlist(context, col, 'individualShift'));\r\n            }\r\n        }\r\n        // Iterate over each column description.\r\n        // Each `colDesc` will indicate whether to insert a gap, a rule or\r\n        // a column from 'contentCols'\r\n        const cols = [];\r\n        let prevColContent = false;\r\n        let prevColRule = false;\r\n        let currentContentCol = 0;\r\n        let firstColumn = !this.lFence;\r\n        for (const colDesc of colFormat) {\r\n            if (colDesc.align && currentContentCol >= contentCols.length) {\r\n                break;\r\n            } else if (colDesc.align && currentContentCol < contentCols.length) {\r\n                // If an alignment is specified, insert a column of content\r\n                if (prevColContent) {\r\n                    // If no gap was provided, insert a default gap between\r\n                    // consecutive columns of content\r\n                    cols.push(makeColGap(2 * FONTMETRICS.arraycolsep));\r\n                } else if (prevColRule || firstColumn) {\r\n                    // If the previous column was a rule or this is the first column\r\n                    // add a smaller gap\r\n                    cols.push(makeColGap(FONTMETRICS.arraycolsep));\r\n                }\r\n                cols.push(makeSpan(contentCols[currentContentCol], 'col-align-' + colDesc.align));\r\n                currentContentCol++;\r\n                prevColContent = true;\r\n                prevColRule = false;\r\n                firstColumn = false;\r\n            } else if (typeof colDesc.gap !== 'undefined') {\r\n                // Something to insert in between columns of content\r\n                if (typeof colDesc.gap === 'number') {\r\n                    // It's a number, indicating how much space, in em,\r\n                    // to leave in between columns\r\n                    cols.push(makeColGap(colDesc.gap));\r\n                } else {\r\n                    // It's a mathlist\r\n                    // Create a column made up of the mathlist\r\n                    // as many times as there are rows.\r\n                    cols.push(makeColOfRepeatingElements(context, body, offset, colDesc.gap));\r\n                }\r\n                prevColContent = false;\r\n                prevColRule = false;\r\n                firstColumn = false;\r\n            } else if (colDesc.rule) {\r\n                // It's a rule.\r\n                const separator = makeSpan(null, 'vertical-separator');\r\n                separator.setStyle('height', totalHeight, 'em');\r\n                // result.setTop((1 - context.mathstyle.sizeMultiplier) *\r\n                //     context.mathstyle.metrics.axisHeight);\r\n                separator.setStyle('margin-top', 3 * context.mathstyle.metrics.axisHeight - offset, 'em');\r\n                separator.setStyle('vertical-align', 'top');\r\n                // separator.setStyle('display', 'inline-block');\r\n                let gap = 0;\r\n                if (prevColRule) {\r\n                    gap = FONTMETRICS.doubleRuleSep - FONTMETRICS.arrayrulewidth;\r\n                } else if (prevColContent) {\r\n                    gap = FONTMETRICS.arraycolsep - FONTMETRICS.arrayrulewidth;\r\n                }\r\n                separator.setLeft(gap, 'em');\r\n                cols.push(separator);\r\n                prevColContent = false;\r\n                prevColRule = true;\r\n                firstColumn = false;\r\n            }\r\n        }\r\n        if (prevColContent && !this.rFence) {\r\n            // If the last column was content, add a small gap\r\n            cols.push(makeColGap(FONTMETRICS.arraycolsep));\r\n        }\r\n        if ((!this.lFence || this.lFence === '.') &&\r\n            (!this.rFence || this.rFence === '.')) {\r\n            // There are no delimiters around the array, just return what\r\n            // we've built so far.\r\n            return makeOrd(cols, 'mtable');\r\n        }\r\n        // There is at least one delimiter. Wrap the core of the array with\r\n        // appropriate left and right delimiters\r\n        // const inner = makeSpan(makeSpan(cols, 'mtable'), 'mord');\r\n        const inner = makeSpan(cols, 'mtable');\r\n        const innerHeight = Span.height(inner);\r\n        const innerDepth = Span.depth(inner);\r\n        return makeOrd([\r\n            this.bind(context, Delimiters.makeLeftRightDelim('mopen', this.lFence, innerHeight, innerDepth, context)),\r\n            inner,\r\n            this.bind(context, Delimiters.makeLeftRightDelim('mclose', this.rFence, innerHeight, innerDepth, context))\r\n        ]);\r\n    }\r\n\r\n\r\n    /**\r\n     * Gengrac -- Generalized fraction\r\n     *\r\n     * Decompose fractions, binomials, and in general anything made\r\n     * of two expressions on top of each other, optionally separated by a bar,\r\n     * and optionally surrounded by fences (parentheses, brackets, etc...)\r\n     *\r\n     * Depending on the type of fraction the mathstyle is either\r\n     * display math or inline math (which is indicated by 'textstyle'). This value can\r\n     * also be set to 'auto', which indicates it should use the current mathstyle\r\n     *\r\n     * @method MathAtom#decomposeGenfrac\r\n     * @private\r\n     */\r\n    decomposeGenfrac(context) {\r\n        const mathstyle = this.mathstyle === 'auto' ?\r\n            context.mathstyle : Mathstyle.toMathstyle(this.mathstyle);\r\n        const newContext = context.clone({mathstyle: mathstyle});\r\n        let numer = [];\r\n        if (this.numerPrefix) {\r\n            numer.push(makeOrd(this.numerPrefix));\r\n        }\r\n        const numeratorStyle = this.continuousFraction ?\r\n            mathstyle : mathstyle.fracNum();\r\n        numer = numer.concat(decompose(newContext.clone({mathstyle: numeratorStyle}), this.numer));\r\n        const numerReset = makeHlist(numer, context.mathstyle.adjustTo(numeratorStyle));\r\n        let denom = [];\r\n        if (this.denomPrefix) {\r\n            denom.push(makeOrd(this.denomPrefix));\r\n        }\r\n        const denominatorStyle = this.continuousFraction ?\r\n            mathstyle : mathstyle.fracDen();\r\n        denom = denom.concat(decompose(newContext.clone({mathstyle: denominatorStyle}), this.denom));\r\n        const denomReset = makeHlist(denom, context.mathstyle.adjustTo(denominatorStyle));\r\n        const ruleWidth = !this.hasBarLine ? 0 : FONTMETRICS.defaultRuleThickness / mathstyle.sizeMultiplier;\r\n        // Rule 15b from Appendix G\r\n        let numShift;\r\n        let clearance;\r\n        let denomShift;\r\n        if (mathstyle.size === Mathstyle.DISPLAY.size) {\r\n            numShift = mathstyle.metrics.num1;\r\n            if (ruleWidth > 0) {\r\n                clearance = 3 * ruleWidth;\r\n            } else {\r\n                clearance = 7 * FONTMETRICS.defaultRuleThickness;\r\n            }\r\n            denomShift = mathstyle.metrics.denom1;\r\n        } else {\r\n            if (ruleWidth > 0) {\r\n                numShift = mathstyle.metrics.num2;\r\n                clearance = ruleWidth;\r\n            } else {\r\n                numShift = mathstyle.metrics.num3;\r\n                clearance = 3 * FONTMETRICS.defaultRuleThickness;\r\n            }\r\n            denomShift = mathstyle.metrics.denom2;\r\n        }\r\n        const numerDepth = numerReset ? numerReset.depth : 0;\r\n        const denomHeight = denomReset ? denomReset.height : 0;\r\n        let frac;\r\n        if (ruleWidth === 0) {\r\n            // Rule 15c from Appendix G\r\n            // No bar line between numerator and denominator\r\n            const candidateClearance = (numShift - numerDepth) - (denomHeight - denomShift);\r\n            if (candidateClearance < clearance) {\r\n                numShift += 0.5 * (clearance - candidateClearance);\r\n                denomShift += 0.5 * (clearance - candidateClearance);\r\n            }\r\n            frac = makeVlist(newContext, [numerReset, -numShift, denomReset, denomShift], 'individualShift');\r\n        } else {\r\n            // Rule 15d from Appendix G\r\n            // There is a bar line between the numerator and the denominator\r\n            const axisHeight = mathstyle.metrics.axisHeight;\r\n            if ((numShift - numerDepth) - (axisHeight + 0.5 * ruleWidth) <\r\n                clearance) {\r\n                numShift +=\r\n                    clearance - ((numShift - numerDepth) -\r\n                        (axisHeight + 0.5 * ruleWidth));\r\n            }\r\n            if ((axisHeight - 0.5 * ruleWidth) - (denomHeight - denomShift) <\r\n                clearance) {\r\n                denomShift +=\r\n                    clearance - ((axisHeight - 0.5 * ruleWidth) -\r\n                        (denomHeight - denomShift));\r\n            }\r\n            const mid = makeSpan(null,\r\n            /* newContext.mathstyle.adjustTo(Mathstyle.TEXT) + */ ' frac-line');\r\n            mid.applyStyle(this.getStyle());\r\n            // @todo: do we really need to reset the size?\r\n            // Manually set the height of the line because its height is\r\n            // created in CSS\r\n            mid.height = ruleWidth;\r\n            const elements = [];\r\n            if (numerReset) {\r\n                elements.push(numerReset);\r\n                elements.push(-numShift);\r\n            }\r\n            elements.push(mid);\r\n            elements.push(ruleWidth / 2 - axisHeight);\r\n            if (denomReset) {\r\n                elements.push(denomReset);\r\n                elements.push(denomShift);\r\n            }\r\n            frac = makeVlist(newContext, elements, 'individualShift');\r\n        }\r\n        // Add a 'mfrac' class to provide proper context for\r\n        // other css selectors (such as 'frac-line')\r\n        frac.classes += ' mfrac';\r\n        // Since we manually change the style sometimes (with \\dfrac or \\tfrac),\r\n        // account for the possible size change here.\r\n        frac.height *= mathstyle.sizeMultiplier / context.mathstyle.sizeMultiplier;\r\n        frac.depth *= mathstyle.sizeMultiplier / context.mathstyle.sizeMultiplier;\r\n        // if (!this.leftDelim && !this.rightDelim) {\r\n        //     return makeOrd(frac,\r\n        //         context.parentMathstyle.adjustTo(mathstyle) +\r\n        //         ((context.parentSize !== context.size) ?\r\n        //             (' sizing reset-' + context.parentSize + ' ' + context.size) : ''));\r\n        // }\r\n        // Rule 15e of Appendix G\r\n        const delimSize = mathstyle.size === Mathstyle.DISPLAY.size ?\r\n            mathstyle.metrics.delim1 :\r\n            mathstyle.metrics.delim2;\r\n        // Optional delimiters\r\n        const leftDelim = this.bind(context, Delimiters.makeCustomSizedDelim('mopen',\r\n                this.leftDelim,\r\n                delimSize,\r\n                true,\r\n                context.clone({mathstyle: mathstyle})\r\n            ));\r\n        const rightDelim = this.bind(context, Delimiters.makeCustomSizedDelim('mclose',\r\n                this.rightDelim,\r\n                delimSize,\r\n                true,\r\n                context.clone({mathstyle: mathstyle})\r\n            ));\r\n        leftDelim.applyStyle(this.getStyle());\r\n        rightDelim.applyStyle(this.getStyle());\r\n\r\n        const result = makeOrd([leftDelim, frac, rightDelim], ((context.parentSize !== context.size) ?\r\n            ('sizing reset-' + context.parentSize + ' ' + context.size) : ''));\r\n        return this.bind(context, result);\r\n    }\r\n\r\n\r\n    /**\r\n      *  \\left....\\right\r\n      *\r\n      * Note that we can encounter malformed \\left...\\right, for example\r\n      * a \\left without a matching \\right or vice versa. In that case, the\r\n      * leftDelim (resp. rightDelim) will be undefined. We still need to handle\r\n      * those cases.\r\n      *\r\n      * @method MathAtom#decomposeLeftright\r\n      * @private\r\n      */\r\n    decomposeLeftright(context) {\r\n        if (!this.body) {\r\n            // No body, only a delimiter\r\n            if (this.leftDelim) {\r\n                return new MathAtom('math', 'mopen', this.leftDelim).decompose(context);\r\n            }\r\n            if (this.rightDelim) {\r\n                return new MathAtom('math', 'mclose', this.rightDelim).decompose(context);\r\n            }\r\n            return null;\r\n        }\r\n        // The scope of the context is this group, so make a copy of it\r\n        // so that any changes to it will be discarded when finished\r\n        // with this group.\r\n        const localContext = context.clone();\r\n        const inner = decompose(localContext, this.body);\r\n        const mathstyle = localContext.mathstyle;\r\n        let innerHeight = 0;\r\n        let innerDepth = 0;\r\n        let result = [];\r\n        // Calculate its height and depth\r\n        // The size of delimiters is the same, regardless of what mathstyle we are\r\n        // in. Thus, to correctly calculate the size of delimiter we need around\r\n        // a group, we scale down the inner size based on the size.\r\n        innerHeight = Span.height(inner) * mathstyle.sizeMultiplier;\r\n        innerDepth = Span.depth(inner) * mathstyle.sizeMultiplier;\r\n        // Add the left delimiter to the beginning of the expression\r\n        if (this.leftDelim) {\r\n            result.push(this.bind(context, Delimiters.makeLeftRightDelim(\r\n                'mopen',\r\n                this.leftDelim,\r\n                innerHeight, innerDepth,\r\n                localContext\r\n            )));\r\n            result[result.length - 1].applyStyle(this.getStyle());\r\n        }\r\n        if (inner) {\r\n            // Replace the delim (\\middle) spans with proper ones now that we know\r\n            // the height/depth\r\n            for (let i = 0; i < inner.length; i++) {\r\n                if (inner[i].delim) {\r\n                    const savedCaret = inner[i].caret;\r\n                    const savedSelected = /ML__selected/.test(inner[i].classes);\r\n                    inner[i] = this.bind(context, Delimiters.makeLeftRightDelim('minner',\r\n                        inner[i].delim,\r\n                        innerHeight,\r\n                        innerDepth,\r\n                        localContext));\r\n                    inner[i].caret = savedCaret;\r\n                    inner[i].selected(savedSelected);\r\n                }\r\n            }\r\n            result = result.concat(inner);\r\n        }\r\n        // Add the right delimiter to the end of the expression.\r\n        if (this.rightDelim) {\r\n            let delim = this.rightDelim;\r\n            let classes;\r\n            if (delim === '?') {\r\n                // Use a placeholder delimiter matching the open delimiter\r\n                delim = {\r\n                '(': ')', '\\\\{': '\\\\}', '\\\\[': '\\\\]', '\\\\lbrace': '\\\\rbrace',\r\n                    '\\\\langle': '\\\\rangle', '\\\\lfloor': '\\\\rfloor', '\\\\lceil': '\\\\rceil',\r\n                    '\\\\vert': '\\\\vert', '\\\\lvert': '\\\\rvert', '\\\\Vert': '\\\\Vert',\r\n                    '\\\\lVert': '\\\\rVert', '\\\\lbrack': '\\\\rbrack',\r\n                    '\\\\ulcorner': '\\\\urcorner', '\\\\llcorner': '\\\\lrcorner',\r\n                    '\\\\lgroup': '\\\\rgroup', '\\\\lmoustache': '\\\\rmoustache'\r\n                }[this.leftDelim];\r\n                delim = delim || this.leftDelim;\r\n                classes = 'ML__smart-fence__close';\r\n            }\r\n            result.push(this.bind(context, Delimiters.makeLeftRightDelim('mclose',\r\n                delim,\r\n                innerHeight, innerDepth,\r\n                localContext,\r\n                classes\r\n            )));\r\n            result[result.length - 1].applyStyle(this.getStyle());\r\n        }\r\n        // If the `inner` flag is set, return the `inner` element (that's the\r\n        // behavior for the regular `\\left...\\right`\r\n        if (this.inner) return makeInner(result, mathstyle.cls());\r\n        // Otherwise, include a `\\mathopen{}...\\mathclose{}`. That's the\r\n        // behavior for `\\mleft...\\mright`, which allows for tighter spacing\r\n        // for example in `\\sin\\mleft(x\\mright)`\r\n        return result;\r\n    }\r\n\r\n\r\n    decomposeSurd(context) {\r\n        // See the TeXbook pg. 443, Rule 11.\r\n        // http://www.ctex.org/documents/shredder/src/texbook.pdf\r\n        const mathstyle = context.mathstyle;\r\n        // First, we do the same steps as in overline to build the inner group\r\n        // and line\r\n        const inner = decompose(context.cramp(), this.body);\r\n        const ruleWidth = FONTMETRICS.defaultRuleThickness /\r\n            mathstyle.sizeMultiplier;\r\n        let phi = ruleWidth;\r\n        if (mathstyle.id < Mathstyle.TEXT.id) {\r\n            phi = mathstyle.metrics.xHeight;\r\n        }\r\n        // Calculate the clearance between the body and line\r\n        let lineClearance = ruleWidth + phi / 4;\r\n        const innerTotalHeight = Math.max(2 * phi, (Span.height(inner) + Span.depth(inner)) * mathstyle.sizeMultiplier);\r\n        const minDelimiterHeight = innerTotalHeight + (lineClearance + ruleWidth);\r\n\r\n        // Create a \\surd delimiter of the required minimum size\r\n        const delim = makeSpan(Delimiters.makeCustomSizedDelim('', '\\\\surd', minDelimiterHeight, false, context), 'sqrt-sign');\r\n        delim.applyStyle(this.getStyle());\r\n\r\n        const delimDepth = (delim.height + delim.depth) - ruleWidth;\r\n\r\n        // Adjust the clearance based on the delimiter size\r\n        if (delimDepth > Span.height(inner) + Span.depth(inner) + lineClearance) {\r\n            lineClearance =\r\n                (lineClearance + delimDepth - (Span.height(inner) + Span.depth(inner))) / 2;\r\n        }\r\n\r\n        // Shift the delimiter so that its top lines up with the top of the line\r\n        delim.setTop((delim.height - Span.height(inner)) -\r\n            (lineClearance + ruleWidth));\r\n        const line = makeSpan(null, context.mathstyle.adjustTo(Mathstyle.TEXT) + ' sqrt-line');\r\n        line.applyStyle(this.getStyle());\r\n        line.height = ruleWidth;\r\n\r\n        const body = makeVlist(context, [inner, lineClearance, line, ruleWidth]);\r\n\r\n        if (!this.index) {\r\n            return this.bind(context, makeOrd([delim, body], 'sqrt'));\r\n        }\r\n\r\n        // Handle the optional root index\r\n        // The index is always in scriptscript style\r\n        const newcontext = context.clone({mathstyle: Mathstyle.SCRIPTSCRIPT});\r\n        const root = makeSpan(decompose(newcontext, this.index), mathstyle.adjustTo(Mathstyle.SCRIPTSCRIPT));\r\n        // Figure out the height and depth of the inner part\r\n        const innerRootHeight = Math.max(delim.height, body.height);\r\n        const innerRootDepth = Math.max(delim.depth, body.depth);\r\n        // The amount the index is shifted by. This is taken from the TeX\r\n        // source, in the definition of `\\r@@t`.\r\n        const toShift = 0.6 * (innerRootHeight - innerRootDepth);\r\n        // Build a VList with the superscript shifted up correctly\r\n        const rootVlist = makeVlist(context, [root], 'shift', -toShift);\r\n        // Add a class surrounding it so we can add on the appropriate\r\n        // kerning\r\n        return this.bind(context, makeOrd([makeSpan(rootVlist, 'root'), delim, body], 'sqrt'));\r\n    }\r\n\r\n\r\n    decomposeAccent(context) {\r\n        // Accents are handled in the TeXbook pg. 443, rule 12.\r\n        const mathstyle = context.mathstyle;\r\n        // Build the base atom\r\n        let base = decompose(context.cramp(), this.body);\r\n        if (this.superscript || this.subscript) {\r\n            // If there is a supsub attached to the accent\r\n            // apply it to the base.\r\n            // Note this does not give the same result as TeX when there\r\n            // are stacked accents, e.g. \\vec{\\breve{\\hat{\\acute{...}}}}^2\r\n            base = this.attachSupsub(context, makeOrd(base), 'mord');\r\n        }\r\n        // Calculate the skew of the accent. This is based on the line \"If the\r\n        // nucleus is not a single character, let s = 0; otherwise set s to the\r\n        // kern amount for the nucleus followed by the \\skewchar of its font.\"\r\n        // Note that our skew metrics are just the kern between each character\r\n        // and the skewchar.\r\n        let skew = 0;\r\n        if (Array.isArray(this.body) && this.body.length === 1 && this.body[0].isCharacterBox()) {\r\n            skew = Span.skew(base);\r\n        }\r\n        // calculate the amount of space between the body and the accent\r\n        const clearance = Math.min(Span.height(base), mathstyle.metrics.xHeight);\r\n        // Build the accent\r\n        const accent = Span.makeSymbol('Main-Regular', this.accent, 'math');\r\n        // Remove the italic correction of the accent, because it only serves to\r\n        // shift the accent over to a place we don't want.\r\n        accent.italic = 0;\r\n        // The \\vec character that the fonts use is a combining character, and\r\n        // thus shows up much too far to the left. To account for this, we add a\r\n        // specific class which shifts the accent over to where we want it.\r\n        const vecClass = this.accent === '\\u20d7' ? ' accent-vec' : '';\r\n        let accentBody = makeSpan(makeSpan(accent), 'accent-body' + vecClass);\r\n        accentBody = makeVlist(context, [base, -clearance, accentBody]);\r\n        // Shift the accent over by the skew. Note we shift by twice the skew\r\n        // because we are centering the accent, so by adding 2*skew to the left,\r\n        // we shift it to the right by 1*skew.\r\n        accentBody.children[1].setLeft(2 * skew);\r\n        return makeOrd(accentBody, 'accent');\r\n    }\r\n\r\n\r\n    /**\r\n     * \\overline and \\underline\r\n     *\r\n     * @method MathAtom#decomposeLine\r\n     * @private\r\n     */\r\n    decomposeLine(context) {\r\n        const mathstyle = context.mathstyle;\r\n        // TeXBook:443. Rule 9 and 10\r\n        const inner = decompose(context.cramp(), this.body);\r\n        const ruleWidth = FONTMETRICS.defaultRuleThickness /\r\n            mathstyle.sizeMultiplier;\r\n        const line = makeSpan(null, context.mathstyle.adjustTo(Mathstyle.TEXT) +\r\n            ' ' + this.position + '-line');\r\n        line.height = ruleWidth;\r\n        line.maxFontSize = 1.0;\r\n        let vlist;\r\n        if (this.position === 'overline') {\r\n            vlist = makeVlist(context, [inner, 3 * ruleWidth, line, ruleWidth]);\r\n        } else {\r\n            const innerSpan = makeSpan(inner);\r\n            vlist = makeVlist(context, [ruleWidth, line, 3 * ruleWidth, innerSpan], 'top', Span.height(innerSpan));\r\n        }\r\n        return makeOrd(vlist, this.position);\r\n    }\r\n\r\n\r\n    decomposeOverunder(context) {\r\n        const base = decompose(context, this.body);\r\n        const annotationStyle = context.clone({mathstyle: 'scriptstyle'});\r\n        const above = this.overscript ? makeSpan(decompose(annotationStyle, this.overscript), context.mathstyle.adjustTo(annotationStyle.mathstyle)) : null;\r\n        const below = this.underscript ? makeSpan(decompose(annotationStyle, this.underscript), context.mathstyle.adjustTo(annotationStyle.mathstyle)) : null;\r\n        return makeStack(context, base, 0, 0, above, below, this.mathtype || 'mrel');\r\n    }\r\n\r\n\r\n    decomposeOverlap(context) {\r\n        const inner = makeSpan(decompose(context, this.body), 'inner');\r\n        return makeOrd([inner, makeSpan(null, 'fix')], (this.align === 'left' ? 'llap' : 'rlap'));\r\n    }\r\n\r\n\r\n    /**\r\n     * \\rule\r\n     * @memberof MathAtom\r\n     * @instance\r\n     * @private\r\n     */\r\n    decomposeRule(context) {\r\n        const mathstyle = context.mathstyle;\r\n        const result = makeOrd('', 'rule');\r\n        let shift = this.shift && !isNaN(this.shift) ? this.shift : 0;\r\n        shift = shift / mathstyle.sizeMultiplier;\r\n        const width = (this.width) / mathstyle.sizeMultiplier;\r\n        const height = (this.height) / mathstyle.sizeMultiplier;\r\n        result.setStyle('border-right-width', width, 'em');\r\n        result.setStyle('border-top-width', height, 'em');\r\n        result.setStyle('margin-top', -(height - shift), 'em');\r\n        result.setStyle('border-color', context.color);\r\n        result.width = width;\r\n        result.height = height + shift;\r\n        result.depth = -shift;\r\n        return result;\r\n    }\r\n\r\n\r\n    decomposeOp(context) {\r\n        // Operators are handled in the TeXbook pg. 443-444, rule 13(a).\r\n        const mathstyle = context.mathstyle;\r\n        let large = false;\r\n        if (mathstyle.size === Mathstyle.DISPLAY.size &&\r\n            typeof this.body === 'string' && this.body !== '\\\\smallint') {\r\n            // Most symbol operators get larger in displaystyle (rule 13)\r\n            large = true;\r\n        }\r\n        let base;\r\n        let baseShift = 0;\r\n        let slant = 0;\r\n        if (this.symbol) {\r\n            // If this is a symbol, create the symbol.\r\n            const fontName = large ? 'Size2-Regular' : 'Size1-Regular';\r\n            base = Span.makeSymbol(fontName, this.body, 'op-symbol ' + (large ? 'large-op' : 'small-op'));\r\n            base.type = 'mop';\r\n            // Shift the symbol so its center lies on the axis (rule 13). It\r\n            // appears that our fonts have the centers of the symbols already\r\n            // almost on the axis, so these numbers are very small. Note we\r\n            // don't actually apply this here, but instead it is used either in\r\n            // the vlist creation or separately when there are no limits.\r\n            baseShift = (base.height - base.depth) / 2 -\r\n                mathstyle.metrics.axisHeight * mathstyle.sizeMultiplier;\r\n            // The slant of the symbol is just its italic correction.\r\n            slant = base.italic;\r\n            // Bind the generated span and this atom so the atom can be retrieved\r\n            // from the span later.\r\n            this.bind(context, base);\r\n        } else if (Array.isArray(this.body)) {\r\n            // If this is a list, decompose that list.\r\n            base = Span.makeOp(decompose(context, this.body));\r\n            // Bind the generated span and this atom so the atom can be retrieved\r\n            // from the span later.\r\n            this.bind(context, base);\r\n        } else {\r\n            // Otherwise, this is a text operator. Build the text from the\r\n            // operator's name.\r\n            console.assert(this.type === 'mop');\r\n            base = this.makeSpan(context, this.body);\r\n        }\r\n        if (this.superscript || this.subscript) {\r\n            const limits = this.limits || 'auto';\r\n            if (this.alwaysHandleSupSub ||\r\n                limits === 'limits' ||\r\n                (limits === 'auto' && mathstyle.size === Mathstyle.DISPLAY.size)) {\r\n                return this.attachLimits(context, base, baseShift, slant);\r\n            }\r\n            return this.attachSupsub(context, base, 'mop');\r\n        }\r\n        if (this.symbol) base.setTop(baseShift);\r\n        return base;\r\n    }\r\n\r\n\r\n\r\n    decomposeBox(context) {\r\n        // Base is the main content \"inside\" the box\r\n        const base = makeOrd(decompose(context, this.body));\r\n\r\n        // This span will represent the box (background and border)\r\n        // It's positioned to overlap the base\r\n        const box = makeSpan();\r\n        box.setStyle('position', 'absolute');\r\n\r\n        // The padding extends outside of the base\r\n        const padding = typeof this.padding === 'number' ? this.padding : FONTMETRICS.fboxsep;\r\n\r\n        box.setStyle('height', base.height + base.depth + 2 * padding, 'em');\r\n        if (padding !== 0) {\r\n            box.setStyle('width', 'calc(100% + ' + (2 * padding) + 'em)');\r\n        } else {\r\n            box.setStyle('width', '100%');\r\n        }\r\n\r\n        box.setStyle('top', -padding, 'em');\r\n        box.setStyle('left', -padding, 'em');\r\n        box.setStyle('z-index', '-1');  // Ensure the box is *behind* the base\r\n\r\n        if (this.backgroundcolor) box.setStyle('background-color', this.backgroundcolor);\r\n        if (this.framecolor) box.setStyle('border', FONTMETRICS.fboxrule + 'em solid ' + this.framecolor);\r\n        if (this.border) box.setStyle('border', this.border);\r\n\r\n        base.setStyle('display', 'inline-block');\r\n        base.setStyle('height', base.height + base.depth, 'em');\r\n        base.setStyle('vertical-align', -base.depth + padding, 'em');\r\n\r\n        // The result is a span that encloses the box and the base\r\n        const result = makeSpan([box, base]);\r\n        // Set its position as relative so that the box can be absolute positioned\r\n        // over the base\r\n        result.setStyle('position', 'relative');\r\n        result.setStyle('vertical-align', -padding + base.depth, 'em');\r\n\r\n        // The padding adds to the width and height of the pod\r\n        result.height = base.height + padding;\r\n        result.depth = base.depth + padding;\r\n        result.setLeft(padding);\r\n        result.setRight(padding);\r\n\r\n         return result;\r\n    }\r\n\r\n\r\n    decomposeEnclose(context) {\r\n        const base = makeOrd(decompose(context, this.body));\r\n        const result = base;\r\n        // Account for the padding\r\n        const padding = this.padding === 'auto' ? .2 : this.padding; // em\r\n        result.setStyle('padding', padding, 'em');\r\n        result.setStyle('display', 'inline-block');\r\n        result.setStyle('height', result.height + result.depth, 'em');\r\n        result.setStyle('left', -padding, 'em');\r\n        if (this.backgroundcolor && this.backgroundcolor !== 'transparent') {\r\n            result.setStyle('background-color', this.backgroundcolor);\r\n        }\r\n        let svg = '';\r\n        if (this.notation.box) result.setStyle('border', this.borderStyle);\r\n        if (this.notation.actuarial) {\r\n            result.setStyle('border-top', this.borderStyle);\r\n            result.setStyle('border-right', this.borderStyle);\r\n        }\r\n        if (this.notation.madruwb) {\r\n            result.setStyle('border-bottom', this.borderStyle);\r\n            result.setStyle('border-right', this.borderStyle);\r\n        }\r\n        if (this.notation.roundedbox) {\r\n            result.setStyle('border-radius', (Span.height(result) + Span.depth(result)) / 2, 'em');\r\n            result.setStyle('border', this.borderStyle);\r\n        }\r\n        if (this.notation.circle) {\r\n            result.setStyle('border-radius', '50%');\r\n            result.setStyle('border', this.borderStyle);\r\n        }\r\n        if (this.notation.top) result.setStyle('border-top', this.borderStyle);\r\n        if (this.notation.left) result.setStyle('border-left', this.borderStyle);\r\n        if (this.notation.right) result.setStyle('border-right', this.borderStyle);\r\n        if (this.notation.bottom) result.setStyle('border-bottom', this.borderStyle);\r\n        if (this.notation.horizontalstrike) {\r\n            svg += '<line x1=\"3%\"  y1=\"50%\" x2=\"97%\" y2=\"50%\"';\r\n            svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\"`;\r\n            svg += ' stroke-linecap=\"round\"';\r\n            if (this.svgStrokeStyle) {\r\n                svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n            }\r\n            svg += '/>';\r\n        }\r\n        if (this.notation.verticalstrike) {\r\n            svg += '<line x1=\"50%\"  y1=\"3%\" x2=\"50%\" y2=\"97%\"';\r\n            svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\"`;\r\n            svg += ' stroke-linecap=\"round\"';\r\n            if (this.svgStrokeStyle) {\r\n                svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n            }\r\n            svg += '/>';\r\n        }\r\n        if (this.notation.updiagonalstrike) {\r\n            svg += '<line x1=\"3%\"  y1=\"97%\" x2=\"97%\" y2=\"3%\"';\r\n            svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\"`;\r\n            svg += ' stroke-linecap=\"round\"';\r\n            if (this.svgStrokeStyle) {\r\n                svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n            }\r\n            svg += '/>';\r\n        }\r\n        if (this.notation.downdiagonalstrike) {\r\n            svg += '<line x1=\"3%\"  y1=\"3%\" x2=\"97%\" y2=\"97%\"';\r\n            svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\"`;\r\n            svg += ' stroke-linecap=\"round\"';\r\n            if (this.svgStrokeStyle) {\r\n                svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n            }\r\n            svg += '/>';\r\n        }\r\n        // if (this.notation.updiagonalarrow) {\r\n        //     const t = 1;\r\n        //     const length = Math.sqrt(w * w + h * h);\r\n        //     const f = 1 / length / 0.075 * t;\r\n        //     const wf = w * f;\r\n        //     const hf = h * f;\r\n        //     const x = w - t / 2;\r\n        //     let y = t / 2;\r\n        //     if (y + hf - .4 * wf < 0 ) y = 0.4 * wf - hf;\r\n        //     svg += '<line ';\r\n        //     svg += `x1=\"1\" y1=\"${h - 1}px\" x2=\"${x - .7 * wf}px\" y2=\"${y + .7 * hf}px\"`;\r\n        //     svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\"`;\r\n        //     svg += ' stroke-linecap=\"round\"';\r\n        //     if (this.svgStrokeStyle) {\r\n        //         svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n        //     }\r\n        //     svg += '/>';\r\n        //     svg += '<polygon points=\"';\r\n        //     svg += `${x},${y} ${x - wf - .4 * hf},${y + hf - .4 * wf} `;\r\n        //     svg += `${x - .7 * wf},${y + .7 * hf} ${x - wf + .4 * hf},${y + hf + .4 * wf} `;\r\n        //     svg += `${x},${y}`;\r\n        //     svg += `\" stroke='none' fill=\"${this.strokeColor}\"`;\r\n        //     svg += '/>';\r\n        // }\r\n        // if (this.notation.phasorangle) {\r\n        //     svg += '<path d=\"';\r\n        //     svg += `M ${h / 2},1 L1,${h} L${w},${h} \"`;\r\n        //     svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\" fill=\"none\"`;\r\n        //     if (this.svgStrokeStyle) {\r\n        //         svg += ' stroke-linecap=\"round\"';\r\n        //         svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n        //     }\r\n        //     svg += '/>';\r\n        // }\r\n        // if (this.notation.radical) {\r\n        //     svg += '<path d=\"';\r\n        //     svg += `M 0,${.6 * h} L1,${h} L${emToPx(padding) * 2},1 \"`;\r\n        //     svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\" fill=\"none\"`;\r\n        //     if (this.svgStrokeStyle) {\r\n        //         svg += ' stroke-linecap=\"round\"';\r\n        //         svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n        //     }\r\n        //     svg += '/>';\r\n        // }\r\n        // if (this.notation.longdiv) {\r\n        //     svg += '<path d=\"';\r\n        //     svg += `M ${w} 1 L1 1 a${emToPx(padding)} ${h / 2}, 0, 0, 1, 1 ${h} \"`;\r\n        //     svg += ` stroke-width=\"${this.strokeWidth}\" stroke=\"${this.strokeColor}\" fill=\"none\"`;\r\n        //     if (this.svgStrokeStyle) {\r\n        //         svg += ' stroke-linecap=\"round\"';\r\n        //         svg += ` stroke-dasharray=\"${this.svgStrokeStyle}\"`;\r\n        //     }\r\n        //     svg += '/>';\r\n        // }\r\n        if (svg) {\r\n            let svgStyle;\r\n            if (this.shadow !== 'none') {\r\n                if (this.shadow === 'auto') {\r\n                    svgStyle = 'filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)';\r\n                } else {\r\n                    svgStyle = 'filter: drop-shadow(' + this.shadow + ')';\r\n                }\r\n            }\r\n            return Span.makeSVG(result, svg, svgStyle);\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Return a representation of this, but decomposed in an array of Spans\r\n     *\r\n     * @param {Context} context Font variant, size, color, etc...\r\n     * @param {Span[]} [phantomBase=null] If not null, the spans to use to\r\n     * calculate the placement of the supsub\r\n     * @return {Span[]}\r\n     * @method MathAtom#decompose\r\n     * @private\r\n     */\r\n    decompose(context, phantomBase) {\r\n        console.assert(context instanceof Context.Context);\r\n        let result = null;\r\n        if (!this.type || /mord|minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(this.type)) {\r\n            // The body of these atom types is *often* a string, but it can\r\n            // be a atom list (for example a command inside a \\text{})\r\n            if (typeof this.body === 'string') {\r\n                result = this.makeSpan(context, this.body);\r\n            } else {\r\n                result = this.makeSpan(context, decompose(context, this.body));\r\n            }\r\n            result.type = this.type;\r\n        } else if (this.type === 'group' || this.type === 'root') {\r\n            result = this.decomposeGroup(context);\r\n        } else if (this.type === 'array') {\r\n            result = this.decomposeArray(context);\r\n        } else if (this.type === 'genfrac') {\r\n            result = this.decomposeGenfrac(context);\r\n        } else if (this.type === 'surd') {\r\n            result = this.decomposeSurd(context);\r\n        } else if (this.type === 'accent') {\r\n            result = this.decomposeAccent(context);\r\n        } else if (this.type === 'leftright') {\r\n            result = this.decomposeLeftright(context);\r\n        } else if (this.type === 'delim') {\r\n            result = makeSpan(null, '');\r\n            result.delim = this.delim;\r\n        } else if (this.type === 'sizeddelim') {\r\n            result = this.bind(context, Delimiters.makeSizedDelim(this.cls, this.delim, this.size, context));\r\n        } else if (this.type === 'line') {\r\n            result = this.decomposeLine(context);\r\n        } else if (this.type === 'overunder') {\r\n            result = this.decomposeOverunder(context);\r\n        } else if (this.type === 'overlap') {\r\n            // For llap (18), rlap (270), clap (0)\r\n            // smash (common), mathllap (0), mathrlap (0), mathclap (0)\r\n            // See https://www.tug.org/TUGboat/tb22-4/tb72perlS.pdf\r\n            // and https://tex.stackexchange.com/questions/98785/what-are-the-different-kinds-of-vertical-spacing-and-horizontal-spacing-commands\r\n            result = this.decomposeOverlap(context);\r\n        } else if (this.type === 'rule') {\r\n            result = this.decomposeRule(context);\r\n        } else if (this.type === 'styling') {\r\n            //\r\n            // STYLING\r\n            //\r\n        } else if (this.type === 'msubsup') {\r\n            // The caret for this atom type is handled by its elements\r\n            result = makeOrd('\\u200b');\r\n            if (phantomBase) {\r\n                result.height = phantomBase[0].height;\r\n                result.depth = phantomBase[0].depth;\r\n            }\r\n        } else if (this.type === 'mop') {\r\n            result = this.decomposeOp(context);\r\n        } else if (this.type === 'space') {\r\n            // A space literal\r\n            result = this.makeSpan(context, ' ');\r\n        } else if (this.type === 'spacing') {\r\n            // A spacing command (\\quad, etc...)\r\n            if (this.body === '\\u200b') {\r\n                // ZERO-WIDTH SPACE\r\n                result = this.makeSpan(context, '\\u200b');\r\n            } else if (this.body === '\\u00a0') {\r\n                if (this.mode === 'math') {\r\n                    result = this.makeSpan(context, ' ');\r\n                } else {\r\n                    result = this.makeSpan(context, '\\u00a0');\r\n                }\r\n            } else if (this.width) {\r\n                result = makeSpan('\\u200b', 'mspace ');\r\n                if (this.width > 0) {\r\n                    result.setWidth(this.width);\r\n                } else {\r\n                    result.setStyle('margin-left', this.width, 'em');\r\n                }\r\n            } else {\r\n                const spacingCls = {\r\n                    'qquad': 'qquad',\r\n                    'quad': 'quad',\r\n                    'enspace': 'enspace',\r\n                    ';': 'thickspace',\r\n                    ':': 'mediumspace',\r\n                    ',': 'thinspace',\r\n                    '!': 'negativethinspace'\r\n                }[this.body] || 'quad';\r\n                result = makeSpan('\\u200b', 'mspace ' + spacingCls);\r\n            }\r\n        } else if (this.type === 'mathstyle') {\r\n            context.setMathstyle(this.mathstyle);\r\n        } else if (this.type === 'box') {\r\n            result = this.decomposeBox(context);\r\n        } else if (this.type === 'enclose') {\r\n            result = this.decomposeEnclose(context);\r\n        } else if (this.type === 'command' || this.type === 'error') {\r\n            result = this.makeSpan(context, this.body);\r\n            result.classes = ''; // Override fonts and other attributes.\r\n            if (this.error) {\r\n                result.classes += ' ML__error';\r\n            }\r\n            if (this.suggestion) {\r\n                result.classes += ' ML__suggestion';\r\n            }\r\n        } else if (this.type === 'placeholder') {\r\n            result = this.makeSpan(context, '⬚');\r\n        } else if (this.type === 'first') {\r\n            // the `first` pseudo-type is used as a placeholder as\r\n            // the first element in a children list. This makes\r\n            // managing the list, and the caret selection, easier.\r\n            // ZERO-WIDTH SPACE\r\n            result = this.makeSpan(context, '\\u200b');\r\n        } else {\r\n            //\r\n            // DEFAULT\r\n            //\r\n            console.assert(false, 'Unknown MathAtom type: \"' + this.type + '\"');\r\n        }\r\n        if (!result) return result;\r\n        if (this.caret && this.type !== 'styling' &&\r\n            this.type !== 'msubsup' && this.type !== 'command' &&\r\n            this.type !== 'placeholder' && this.type !== 'first') {\r\n            if (Array.isArray(result)) {\r\n                result[result.length - 1].caret = this.caret;\r\n            } else {\r\n                result.caret = this.caret;\r\n            }\r\n        }\r\n        // Finally, attach any necessary superscript, subscripts\r\n        if (!this.limits && (this.superscript || this.subscript)) {\r\n            // If limits is set, the attachment of sup/sub was handled\r\n            // in the atom decomposition (e.g. decomposeOp, decomposeAccent)\r\n            if (Array.isArray(result)) {\r\n                const lastSpan = result[result.length - 1];\r\n                result[result.length - 1] =\r\n                    this.attachSupsub(context, lastSpan, lastSpan.type);\r\n            } else {\r\n                result = [this.attachSupsub(context, result, result.type)];\r\n            }\r\n        }\r\n        return Array.isArray(result) ? result : [result];\r\n    }\r\n\r\n\r\n    attachSupsub(context, nucleus, type) {\r\n        // If no superscript or subscript, nothing to do.\r\n        if (!this.superscript && !this.subscript) return nucleus;\r\n        // Superscript and subscripts are discussed in the TeXbook\r\n        // on page 445-446, rules 18(a-f).\r\n        // TeX:14859-14945\r\n        const mathstyle = context.mathstyle;\r\n        let supmid = null;\r\n        let submid = null;\r\n        if (this.superscript) {\r\n            const sup = decompose(context.sup(), this.superscript);\r\n            supmid = makeSpan(sup, mathstyle.adjustTo(mathstyle.sup()));\r\n        }\r\n        if (this.subscript) {\r\n            const sub = decompose(context.sub(), this.subscript);\r\n            submid = makeSpan(sub, mathstyle.adjustTo(mathstyle.sub()));\r\n        }\r\n        // Rule 18a\r\n        let supShift = 0;\r\n        let subShift = 0;\r\n        if (!this.isCharacterBox()) {\r\n            supShift = Span.height(nucleus) - mathstyle.metrics.supDrop;\r\n            subShift = Span.depth(nucleus) + mathstyle.metrics.subDrop;\r\n        }\r\n        // Rule 18c\r\n        let minSupShift;\r\n        if (mathstyle === Mathstyle.DISPLAY) {\r\n            minSupShift = mathstyle.metrics.sup1;\r\n        } else if (mathstyle.cramped) {\r\n            minSupShift = mathstyle.metrics.sup3;\r\n        } else {\r\n            minSupShift = mathstyle.metrics.sup2;\r\n        }\r\n        // scriptspace is a font-size-independent size, so scale it\r\n        // appropriately\r\n        const multiplier = Mathstyle.TEXT.sizeMultiplier *\r\n            mathstyle.sizeMultiplier;\r\n        const scriptspace = (0.5 / FONTMETRICS.ptPerEm) / multiplier;\r\n        let supsub = null;\r\n        if (submid && supmid) {\r\n            // Rule 18e\r\n            supShift = Math.max(supShift, minSupShift, supmid.depth + 0.25 * mathstyle.metrics.xHeight);\r\n            subShift = Math.max(subShift, mathstyle.metrics.sub2);\r\n            const ruleWidth = FONTMETRICS.defaultRuleThickness;\r\n            if ((supShift - Span.depth(supmid)) - (Span.height(submid) - subShift) <\r\n                4 * ruleWidth) {\r\n                subShift = 4 * ruleWidth - (supShift - supmid.depth) + Span.height(submid);\r\n                const psi = 0.8 * mathstyle.metrics.xHeight - (supShift - Span.depth(supmid));\r\n                if (psi > 0) {\r\n                    supShift += psi;\r\n                    subShift -= psi;\r\n                }\r\n            }\r\n            supsub = makeVlist(context, [\r\n                submid, subShift,\r\n                supmid, -supShift\r\n            ], 'individualShift');\r\n            // Subscripts shouldn't be shifted by the nucleus' italic correction.\r\n            // Account for that by shifting the subscript back the appropriate\r\n            // amount. Note we only do this when the nucleus is a single symbol.\r\n            if (this.symbol) {\r\n                supsub.children[0].setLeft(-Span.italic(nucleus));\r\n            }\r\n        } else if (submid && !supmid) {\r\n            // Rule 18b\r\n            subShift = Math.max(subShift, mathstyle.metrics.sub1, Span.height(submid) - 0.8 * mathstyle.metrics.xHeight);\r\n            supsub = makeVlist(context, [submid], 'shift', subShift);\r\n            supsub.children[0].setRight(scriptspace);\r\n            if (this.isCharacterBox()) {\r\n                supsub.children[0].setLeft(-Span.italic(nucleus));\r\n            }\r\n        } else if (!submid && supmid) {\r\n            // Rule 18c, d\r\n            supShift = Math.max(supShift, minSupShift, supmid.depth + 0.25 * mathstyle.metrics.xHeight);\r\n            supsub = makeVlist(context, [supmid], 'shift', -supShift);\r\n            supsub.children[0].setRight(scriptspace);\r\n        }\r\n        // Display the caret *following* the superscript and subscript,\r\n        // so attach the caret to the 'msubsup' element.\r\n        const supsubContainer = makeSpan(supsub, 'msubsup');\r\n        if (this.caret) {\r\n            supsubContainer.caret = this.caret;\r\n        }\r\n        return Span.makeSpanOfType(type, [nucleus, supsubContainer]);\r\n    }\r\n\r\n\r\n    attachLimits(context, nucleus, nucleusShift, slant) {\r\n        const limitAbove = this.superscript ? makeSpan(decompose(context.sup(), this.superscript), context.mathstyle.adjustTo(context.mathstyle.sup())) : null;\r\n        const limitBelow = this.subscript ? makeSpan(decompose(context.sub(), this.subscript), context.mathstyle.adjustTo(context.mathstyle.sub())) : null;\r\n        return makeStack(context, nucleus, nucleusShift, slant, limitAbove, limitBelow, 'mop');\r\n    }\r\n\r\n\r\n    /**\r\n     * Add an ID attribute to both the span and this atom so that the atom\r\n     * can be retrieved from the span later on (e.g. when the span is clicked on)\r\n     * @param {Context} context\r\n     * @param {Span} span\r\n     * @method MathAtom#bind\r\n     * @private\r\n     */\r\n    bind(context, span) {\r\n        if (this.type !== 'first' && this.body !== '\\u200b') {\r\n            this.id = makeID(context);\r\n            if (this.id) {\r\n                if (!span.attributes) span.attributes = {};\r\n                span.attributes['data-atom-id'] = this.id;\r\n            }\r\n        }\r\n        return span;\r\n    }\r\n\r\n\r\n    /**\r\n     * Create a span with the specified body and with a class attribute\r\n     * equal to the type ('mbin', 'inner', 'spacing', etc...)\r\n     *\r\n     * @param {Context} context\r\n     * @param {(string|Span[])} body\r\n     * @return {Span}\r\n     * @method MathAtom#makeSpan\r\n     * @private\r\n     */\r\n    makeSpan(context, body) {\r\n        const type = this.type === 'textord' ? 'mord' : this.type;\r\n        const result = Span.makeSpanOfType(type, body);\r\n\r\n        // The font family is determined by:\r\n        // - the base font family associated with this atom (optional). For example,\r\n        // some atoms such as some functions ('\\sin', '\\cos', etc...) or some\r\n        // symbols ('\\Z') have an explicit font family. This overrides any\r\n        // other font family\r\n        // - the user-specified font family that has been explicitly applied to\r\n        // this atom\r\n        // - the font family automatically determined in math mode, for example\r\n        // which italicizes some characters, but which can be overridden\r\n\r\n        const style  = this.getStyle();\r\n        result.applyStyle(style);\r\n\r\n        // Apply size correction\r\n        const size = style && style.fontSize ? style.fontSize : 'size5';\r\n        if (size !== context.parentSize) {\r\n            result.classes += ' sizing reset-' + context.parentSize;\r\n            result.classes += ' ' + size;\r\n\r\n        } else if (context.parentSize !== context.size) {\r\n            result.classes += ' sizing reset-' + context.parentSize;\r\n            result.classes += ' ' + context.size;\r\n        }\r\n        result.maxFontSize = Math.max(result.maxFontSize, context.sizeMultiplier || 1.0);\r\n\r\n        // Set other attributes\r\n\r\n        if (this.mode === 'text') result.classes += ' ML__text';\r\n        if (context.mathstyle.isTight()) result.isTight = true;\r\n        // The italic correction applies only in math mode\r\n        if (this.mode !== 'math') result.italic = 0;\r\n        result.setRight(result.italic); // Italic correction\r\n\r\n        if (typeof context.opacity === 'number') result.setStyle('opacity', context.opacity);\r\n\r\n        // To retrieve the atom from a span, for example when the span is clicked\r\n        // on, attach a randomly generated ID to the span and associate it\r\n        // with the atom.\r\n        this.bind(context, result);\r\n        if (this.caret) {\r\n            // If this has a super/subscript, the caret will be attached\r\n            // to the 'msubsup' atom, so no need to have it here.\r\n            if (!this.superscript && !this.subscript) {\r\n                result.caret = this.caret;\r\n                if (context.mathstyle.isTight()) result.isTight = true;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n/**\r\n * Used in `decomposeArray` to create a column separator span.\r\n *\r\n * @param {number} width\r\n * @memberof module:mathAtom\r\n * @private\r\n */\r\nfunction makeColGap(width) {\r\n    const separator = makeSpan('\\u200b', 'arraycolsep');\r\n    separator.setWidth(width, 'em');\r\n    return separator;\r\n}\r\n\r\n/**\r\n * Used in decomposeArray to create a column of repeating elements.\r\n * @memberof module:mathAtom\r\n * @private\r\n */\r\nfunction makeColOfRepeatingElements(context, body, offset, elem) {\r\n    const col = [];\r\n    for (const row of body) {\r\n        const cell = makeSpan(decompose(context, elem));\r\n        cell.depth = row.depth;\r\n        cell.height = row.height;\r\n        col.push(cell);\r\n        col.push(row.pos - offset);\r\n    }\r\n    return makeVlist(context, col, 'individualShift');\r\n}\r\n\r\n\r\nfunction makeID(context) {\r\n    let result;\r\n    if (typeof context.generateID === 'boolean' && context.generateID) {\r\n        result = Date.now().toString(36).slice(-2) +\r\n            Math.floor(Math.random() * 0x186a0).toString(36);\r\n    } else if (typeof context.generateID === 'object') {\r\n        if (context.generateID.overrideID) {\r\n            result = context.generateID.overrideID;\r\n        } else {\r\n            result = context.generateID.seed.toString(36);\r\n            context.generateID.seed += 1;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n/**\r\n * Combine a nucleus with an atom above and an atom below. Used to form\r\n * limits and used by \\stackrel.\r\n *\r\n * @param {Context} context\r\n * @param {Span} nucleus The base over and under which the atoms will\r\n * be placed.\r\n * @param {number} nucleusShift The vertical shift of the nucleus from\r\n * the baseline.\r\n * @param {number} slant For operators that have a slant, such as \\int,\r\n * indicate by how much to horizontally offset the above and below atoms\r\n * @param {Span} above\r\n * @param {Span} below\r\n * @param {string} type The type ('mop', 'mrel', etc...) of the result\r\n * @return {Span}\r\n * @memberof module:mathAtom\r\n * @private\r\n */\r\nfunction makeStack(context, nucleus, nucleusShift, slant, above, below, type) {\r\n    // If nothing above and nothing below, nothing to do.\r\n    if (!above && !below) return nucleus;\r\n\r\n    // IE 8 clips \\int if it is in a display: inline-block. We wrap it\r\n    // in a new span so it is an inline, and works.\r\n    // @todo: revisit\r\n    nucleus = makeSpan(nucleus);\r\n\r\n    let aboveShift = 0;\r\n    let belowShift = 0;\r\n\r\n    if (above) {\r\n        aboveShift = Math.max(\r\n            FONTMETRICS.bigOpSpacing1,\r\n            FONTMETRICS.bigOpSpacing3 - above.depth);\r\n    }\r\n    if (below) {\r\n        belowShift = Math.max(\r\n            FONTMETRICS.bigOpSpacing2,\r\n            FONTMETRICS.bigOpSpacing4 - below.height);\r\n    }\r\n\r\n    let result = null;\r\n\r\n    if (below && above) {\r\n        const bottom = FONTMETRICS.bigOpSpacing5 +\r\n            Span.height(below) + Span.depth(below) +\r\n            belowShift +\r\n            Span.depth(nucleus) + nucleusShift;\r\n\r\n        result = makeVlist(context, [\r\n            FONTMETRICS.bigOpSpacing5,\r\n            below, belowShift,\r\n            nucleus, aboveShift,\r\n            above, FONTMETRICS.bigOpSpacing5,\r\n        ], 'bottom', bottom);\r\n\r\n        // Here, we shift the limits by the slant of the symbol. Note\r\n        // that we are supposed to shift the limits by 1/2 of the slant,\r\n        // but since we are centering the limits adding a full slant of\r\n        // margin will shift by 1/2 that.\r\n        result.children[0].setLeft(-slant);\r\n        result.children[2].setLeft(slant);\r\n\r\n    } else if (below && !above) {\r\n        const top = Span.height(nucleus) - nucleusShift;\r\n\r\n        result = makeVlist(context, [\r\n            FONTMETRICS.bigOpSpacing5,\r\n            below,\r\n            belowShift,\r\n            nucleus,\r\n        ], 'top', top);\r\n\r\n        // See comment above about slants\r\n        result.children[0].setLeft(-slant);\r\n    } else if (!below && above) {\r\n        const bottom = Span.depth(nucleus) + nucleusShift;\r\n\r\n        result = makeVlist(context, [\r\n            nucleus, aboveShift,\r\n            above, FONTMETRICS.bigOpSpacing5,\r\n        ], 'bottom', bottom);\r\n\r\n        // See comment above about slants\r\n        result.children[1].setLeft(slant);\r\n    }\r\n\r\n    return Span.makeSpanOfType(type, result, 'op-limits');\r\n}\r\n\r\n\r\n\r\n/**\r\n * Return a list of spans equivalent to atoms.\r\n * A span is the most elementary type possible, for example 'text'\r\n * or 'vlist', while the input atoms may be more abstract and complex,\r\n * such as 'genfrac'\r\n *\r\n * @param {Context} context Font family, variant, size, color, etc...\r\n * @param {(MathAtom|MathAtom[])} atoms\r\n * @return {Span[]}\r\n * @memberof module:core/mathatom\r\n * @private\r\n */\r\nfunction decompose(context, atoms) {\r\n    if (!(context instanceof Context.Context)) {\r\n        // We can be passed either a Context object, or\r\n        // a simple object with some properties set.\r\n        context = new Context.Context(context);\r\n    }\r\n\r\n    // In most cases we want to display selection,\r\n    // except if the generateID.groupNumbers flag is set which is used for\r\n    // read aloud.\r\n    const displaySelection = !context.generateID || !context.generateID.groupNumbers;\r\n\r\n    let result = [];\r\n    if (Array.isArray(atoms)) {\r\n        if (atoms.length === 0) {\r\n            return result;\r\n\r\n        } else if (atoms.length === 1) {\r\n            result = atoms[0].decompose(context);\r\n            if (result && displaySelection && atoms[0].isSelected) {\r\n                result.forEach(x => x.selected(true));\r\n            }\r\n            console.assert(!result || Array.isArray(result));\r\n\r\n        } else {\r\n            let previousType = 'none';\r\n            let nextType = atoms[1].type;\r\n            let selection =  [];\r\n            let digitStringID = null;\r\n            let phantomBase = null;\r\n            for (let i = 0; i < atoms.length; i++) {\r\n                // Is this a binary operator ('+', '-', etc...) that potentially\r\n                // needs to be adjusted to a unary operator?\r\n                //\r\n                // When preceded by a mbin, mopen, mrel, mpunct, mop or\r\n                // when followed by a mrel, mclose or mpunct\r\n                // or if preceded or followed by no sibling, a 'mbin' becomes a\r\n                // 'mord'\r\n                if (atoms[i].type === 'mbin') {\r\n                    if (/first|none|mrel|mpunct|mopen|mbin|mop/.test(previousType) ||\r\n                        /none|mrel|mpunct|mclose/.test(nextType)) {\r\n                        atoms[i].type = 'mord';\r\n                    }\r\n                }\r\n\r\n                // If this is a scaffolding supsub, we'll use the\r\n                // phantomBase from the previous atom to position the supsub.\r\n                // Otherwise, no need for the phantomBase\r\n                if (atoms[i].body !== '\\u200b' ||\r\n                        (!atoms[i].superscript && !atoms[i].subscript)) {\r\n                    phantomBase = null;\r\n                }\r\n\r\n                if (context.generateID.groupNumbers &&\r\n                    digitStringID &&\r\n                    atoms[i].type === 'mord' &&\r\n                    /[0-9,.]/.test(atoms[i].latex)) {\r\n                    context.generateID.overrideID = digitStringID;\r\n                }\r\n                const span = atoms[i].decompose(context, phantomBase);\r\n                if (context.generateID) {\r\n                    context.generateID.overrideID = null;\r\n                }\r\n                if (span) {\r\n                    // The result from decompose is always an array\r\n                    // Flatten it (i.e. [[a1, a2], b1, b2] -> [a1, a2, b1, b2]\r\n                    const flat = [].concat.apply([], span);\r\n                    phantomBase = flat;\r\n\r\n                    // If this is a digit, keep track of it\r\n                    if (context.generateID && context.generateID.groupNumbers) {\r\n                        if (atoms[i].type === 'mord' &&\r\n                            /[0-9,.]/.test(atoms[i].latex)) {\r\n                            if (!digitStringID) {\r\n                                digitStringID = atoms[i].id;\r\n                            }\r\n                        }\r\n                        if ((atoms[i].type !== 'mord' ||\r\n                            /[0-9,.]/.test(atoms[i].latex) ||\r\n                            atoms[i].superscript ||\r\n                            atoms[i].subscript) && digitStringID) {\r\n                            // Done with digits\r\n                            digitStringID = null;\r\n                        }\r\n                    }\r\n\r\n\r\n                    if (displaySelection && atoms[i].isSelected) {\r\n                        selection = selection.concat(flat);\r\n                        selection.forEach(x => x.selected(true));\r\n                    } else {\r\n                        if (selection.length > 0) {\r\n                            // There was a selection, but we're out of it now\r\n                            // Append the selection\r\n                            result = [...result, ...selection];\r\n                            selection = [];\r\n                        }\r\n                        result = result.concat(flat);\r\n                    }\r\n                }\r\n\r\n                // Since the next atom (and this atom!) could have children\r\n                // use getFinal...() and getInitial...() to get the closest\r\n                // atom linearly.\r\n                previousType = atoms[i].getFinalBaseElement().type;\r\n                nextType = atoms[i + 1] ? atoms[i + 1].getInitialBaseElement().type : 'none';\r\n            }\r\n\r\n            // Is there a leftover selection?\r\n            if (selection.length > 0) {\r\n                result = [...result, ...selection];\r\n                selection = [];\r\n            }\r\n        }\r\n    } else if (atoms) {\r\n        // This is a single atom, decompose it\r\n        result = atoms.decompose(context);\r\n        if (result && displaySelection && atoms.isSelected) {\r\n            result.forEach(x => x.selected(true));\r\n        }\r\n    }\r\n\r\n\r\n    if (!result || result.length === 0) return null;\r\n\r\n    console.assert(Array.isArray(result) && result.length > 0);\r\n\r\n    // If the mathstyle changed between the parent and the current atom,\r\n    // account for the size difference\r\n    if (context.mathstyle !== context.parentMathstyle) {\r\n        const factor = context.mathstyle.sizeMultiplier /\r\n                context.parentMathstyle.sizeMultiplier;\r\n        for (const span of result) {\r\n            console.assert(!Array.isArray(span));\r\n            console.assert(typeof span.height === 'number' && isFinite(span.height));\r\n            span.height *= factor;\r\n            span.depth *= factor;\r\n        }\r\n    }\r\n    // If the size changed between the parent and the current group,\r\n    // account for the size difference\r\n    if (context.size !== context.parentSize) {\r\n        const factor = SIZING_MULTIPLIER[context.size] /\r\n                SIZING_MULTIPLIER[context.parentSize];\r\n        for (const span of result) {\r\n            console.assert(!Array.isArray(span));\r\n            console.assert(typeof span.height === 'number' && isFinite(span.height));\r\n            span.height *= factor;\r\n            span.depth *= factor;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Return an atom suitable for use as the root of a formula.\r\n *\r\n * @param {string} parseMode\r\n * @param {MathAtom[]} body\r\n * @return {MathAtom[]}\r\n * @memberof module:core/mathatom\r\n * @private\r\n */\r\n\r\nfunction makeRoot(parseMode, body) {\r\n    parseMode = parseMode || 'math';\r\n    const result =  new MathAtom(parseMode, 'root', body || []);\r\n    if (result.body.length === 0 || result.body[0].type !== 'first') {\r\n        result.body.unshift(new MathAtom('', 'first'));\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n    MathAtom,\r\n    decompose,\r\n    makeRoot,\r\n    GREEK_REGEX\r\n}\r\n\r\n\r\n\r\n","\r\n\r\n/**\r\n * This module contains some color dictionaries and algorithms to\r\n * parse a string into a hex RGB color value.s\r\n * @summary   Parsing of color strings.\r\n * @module core/color\r\n * @private\r\n */\r\n\r\n\r\n/*\r\n{\\color{apricot}\\blacksquare}{\\color{aquamarine}\\blacksquare}{\\color{bittersweet}\\blacksquare}{\\color{black}\\blacksquare}{\\color{blue}\\blacksquare}{\\color{blueGreen}\\blacksquare}{\\color{blueviolet}\\blacksquare}{\\color{brickred}\\blacksquare}{\\color{brown}\\blacksquare}{\\color{burntorange}\\blacksquare}{\\color{cadetblue}\\blacksquare}{\\color{carnationpink}\\blacksquare}{\\color{cerulean}\\blacksquare}{\\color{cornflowerblue}\\blacksquare}{\\color{cyan}\\blacksquare}{\\color{dandelion}\\blacksquare}{\\color{darkorchid}\\blacksquare}{\\color{emerald}\\blacksquare}{\\color{forestgreen}\\blacksquare}{\\color{fuchsia}\\blacksquare}{\\color{goldenrod}\\blacksquare}{\\color{gray}\\blacksquare}{\\color{green}\\blacksquare}{\\color{greenyellow}\\blacksquare}{\\color{junglegreen}\\blacksquare}{\\color{lavender}\\blacksquare}{\\color{limegreen}\\blacksquare}{\\color{magenta}\\blacksquare}{\\color{mahogany}\\blacksquare}{\\color{maroon}\\blacksquare}{\\color{melon}\\blacksquare}{\\color{midnightblue}\\blacksquare}{\\color{mulberry}\\blacksquare}{\\color{navyblue}\\blacksquare}{\\color{olivegreen}\\blacksquare}{\\color{orange}\\blacksquare}{\\color{orangered}\\blacksquare}{\\color{orchid}\\blacksquare}{\\color{peach}\\blacksquare}{\\color{periwinkle}\\blacksquare}{\\color{pinegreen}\\blacksquare}{\\color{plum}\\blacksquare}{\\color{processblue}\\blacksquare}{\\color{purple}\\blacksquare}{\\color{rawsienna}\\blacksquare}{\\color{red}\\blacksquare}{\\color{redorange}\\blacksquare}{\\color{redviolet}\\blacksquare}{\\color{rhodamine}\\blacksquare}{\\color{royalblue}\\blacksquare}{\\color{royalpurple}\\blacksquare}{\\color{rubinered}\\blacksquare}{\\color{salmon}\\blacksquare}{\\color{seagreen}\\blacksquare}{\\color{sepia}\\blacksquare}{\\color{skyblue}\\blacksquare}{\\color{springgreen}\\blacksquare}{\\color{tan}\\blacksquare}{\\color{tealblue}\\blacksquare}{\\color{thistle}\\blacksquare}{\\color{turquoise}\\blacksquare}{\\color{violet}\\blacksquare}{\\color{violetred}\\blacksquare}{\\color{white}\\blacksquare}{\\color{wildstrawberry}\\blacksquare}{\\color{yellow}\\blacksquare}{\\color{yellowgreen}\\blacksquare}{\\color{yelloworange}\\blacksquare}\r\n*/\r\n\r\n/**\r\n * First 10 predefined colors used for plotting by Mathematica.\r\n *\r\n * Also known as _indexed color scheme #97_.\r\n * @constant\r\n * @type {Object.<string, string>}\r\n * @memberof module:color\r\n * @private\r\n */\r\nconst MATHEMATICA_COLORS = {\r\n    'm0': '#3f3d99',        // strong blue\r\n    'm1': '#993d71',        // strong cerise\r\n    'm2': '#998b3d',        // strong gold\r\n    'm3': '#3d9956',        // malachite green\r\n    'm4': '#3d5a99',        // strong cobalt blue\r\n    'm5': '#993d90',        // strong orchid\r\n    'm6': '#996d3d',        // strong orange\r\n    'm7': '#43993d',        // strong sap green\r\n    'm8': '#3d7999',        // cornflower blue\r\n    'm9': '#843d99'         // mulberry\r\n}\r\n    // ColorData97 (Mathematica standard lines)\r\n    // rgb(0.368417, 0.506779, 0.709798),       #5e81b5\r\n    // rgb(0.880722, 0.611041, 0.142051),\r\n    // rgb(0.560181, 0.691569, 0.194885),\r\n    // rgb(0.922526, 0.385626, 0.209179),\r\n    // rgb(0.528488, 0.470624, 0.701351),\r\n    // rgb(0.772079, 0.431554, 0.102387),\r\n    // rgb(0.363898, 0.618501, 0.782349),\r\n    // rgb(1, 0.75, 0),\r\n    // rgb(0.647624, 0.37816, 0.614037),\r\n    // rgb(0.571589, 0.586483, 0.),\r\n    // rgb(0.915, 0.3325, 0.2125),\r\n    // rgb(0.40082222609352647, 0.5220066643438841, 0.85),\r\n    // rgb(0.9728288904374106, 0.621644452187053, 0.07336199581899142),\r\n    // rgb(0.736782672705901, 0.358, 0.5030266573755369),\r\n    // rgb(0.28026441037696703, 0.715, 0.4292089322474965)\r\n\r\n    // MathLab colors\r\n    // '#0072bd' // [0, 0.4470, 0.7410]             blue\r\n    // '#d95319' // [0.8500, 0.3250, 0.0980]        orange\r\n    // '#edb120', // [0.9290, 0.6940, 0.1250]       yellow\r\n    // '#7e2f8e', // [0.4940, 0.1840, 0.5560]       purple\r\n    // '#77ac30', // [0.4660, 0.6740, 0.1880]       green\r\n    // '#4dbeee', // [0.3010, 0.7450, 0.9330]       cyan\r\n    // '#a2142f' // [0.6350, 0.0780, 0.1840]\t    dark red\r\n\r\n\r\n/* Area colors are most appropriate to color a large area */\r\nconst AREA_COLORS = [\r\n    '#d35d60',      // red\r\n    '#7293cb',      // cobalt blue\r\n    '#e1974d',      // orange\r\n    '#84bb5d',      // pistachio\r\n    '#9066a7',      // purple\r\n    '#aD6a58',      // vermilion\r\n    '#f5a4ce',      // pale rose\r\n    '#fff590',      // pale gold\r\n    '#212121',      // Black\r\n    '#818787',      // dark grey\r\n    '#d4d5d2',      // light grey\r\n    '#ffffff'       // white\r\n]\r\n\r\n/* Line colors are most appropriate to color as a stroke color */\r\nconst LINE_COLORS = [\r\n    '#cc2428',      // red\r\n    '#3769b1',      // cobalt blue\r\n    '#da7e30',      // orange\r\n    '#409852',      // malachite green\r\n    '#6b4c9a',      // blue violet\r\n    '#922426',      // red\r\n    '#e7298a',      // brilliant rose\r\n    '#ffe907',      // vivid gold\r\n    '#000000',\r\n    '#525055',\r\n    '#adafaa',\r\n    '#ffffff',\r\n]\r\n\r\n/**\r\n * 68 colors (+ white) known to dvips used in LaTeX.\r\n *\r\n * The color names are based on the names of the _Crayola Crayon_ box of\r\n * 64 crayons.\r\n *\r\n * See:\r\n * - {@link http://mirror.jmu.edu/pub/CTAN/systems/knuth/local/lib/colordvi.tex|ColorDVI.tex}\r\n * - {@link https://en.wikibooks.org/w/index.php?title=LaTeX/Colors|Wikibooks:LaTeX/Colors}\r\n * @constant NAMED_COLORS\r\n * @memberof module:color\r\n * @type {Object.<string, string>}\r\n * @private\r\n */\r\nconst NAMED_COLORS = {\r\n    'apricot': '#FBB982',\r\n    'aquamarine': '#00B5BE',\r\n    'bittersweet': '#C04F17',\r\n    'black': '#221E1F',         // Indeed.\r\n    'blue': '#2D2F92',\r\n    'bluegreen': '#00B3B8',\r\n    'blueviolet': '#473992',\r\n    'brickred': '#B6321C',\r\n    'brown': '#792500',\r\n    'burntorange': '#F7921D',\r\n    'cadetblue': '#74729A',\r\n    'carnationpink': '#F282B4',\r\n    'cerulean': '#00A2E3',\r\n    'cornflowerblue': '#41B0E4',\r\n    'cyan': '#00AEEF',\r\n    'dandelion': '#FDBC42',\r\n    'darkorchid': '#A4538A',\r\n    'emerald': '#00A99D',\r\n    'forestgreen': '#009B55',\r\n    'fuchsia': '#8C368C',\r\n    'goldenrod': '#FFDF42',\r\n    'gray': '#949698',\r\n    'green': '#00A64F',\r\n    'greenyellow': '#DFE674',\r\n    'junglegreen': '#00A99A',\r\n    'lavender': '#F49EC4',\r\n    'limegreen': '#8DC73E',\r\n    'magenta': '#EC008C',\r\n    'mahogany': '#A9341F',\r\n    'maroon': '#AF3235',\r\n    'melon': '#F89E7B',\r\n    'midnightblue': '#006795',\r\n    'mulberry': '#A93C93',\r\n    'navyblue': '#006EB8',\r\n    'olivegreen': '#3C8031',\r\n    'orange': '#F58137',\r\n    'orangered': '#ED135A',\r\n    'orchid': '#AF72B0',\r\n    'peach': '#F7965A',\r\n    'periwinkle': '#7977B8',\r\n    'pinegreen': '#008B72',\r\n    'plum': '#92268F',\r\n    'processblue': '#00B0F0',\r\n    'purple': '#99479B',\r\n    'rawsienna': '#974006',\r\n    'red': '#ED1B23',\r\n    'redorange': '#F26035',\r\n    'redviolet': '#A1246B',\r\n    'rhodamine': '#EF559F',\r\n    'royalblue': '#0071BC',\r\n    'royalpurple': '#613F99',\r\n    'rubinered': '#ED017D',\r\n    'salmon': '#F69289',\r\n    'seagreen': '#3FBC9D',\r\n    'sepia': '#671800',\r\n    'skyblue': '#46C5DD',\r\n    'springgreen': '#C6DC67',\r\n    'tan': '#DA9D76',\r\n    'tealblue': '#00AEB3',\r\n    'thistle': '#D883B7',\r\n    'turquoise': '#00B4CE',\r\n    'violet': '#58429B',\r\n    'violetred': '#EF58A0',\r\n    'white': '#FFFFFF',\r\n    'wildstrawberry': '#EE2967',\r\n    'yellow': '#FFF200',\r\n    'yellowgreen': '#98CC70',\r\n    'yelloworange': '#FAA21A',\r\n};\r\n\r\n\r\n// Other color lists: SVG colors, x11 colors\r\n/*\r\naliceblue\trgb(240, 248, 255)\r\nantiquewhite\trgb(250, 235, 215)\r\naqua\trgb( 0, 255, 255)\r\naquamarine\trgb(127, 255, 212)\r\nazure\trgb(240, 255, 255)\r\nbeige\trgb(245, 245, 220)\r\nbisque\trgb(255, 228, 196)\r\nblack\trgb( 0, 0, 0)\r\nblanchedalmond\trgb(255, 235, 205)\r\nblue\trgb( 0, 0, 255)\r\nblueviolet\trgb(138, 43, 226)\r\nbrown\trgb(165, 42, 42)\r\nburlywood\trgb(222, 184, 135)\r\ncadetblue\trgb( 95, 158, 160)\r\nchartreuse\trgb(127, 255, 0)\r\nchocolate\trgb(210, 105, 30)\r\ncoral\trgb(255, 127, 80)\r\ncornflowerblue\trgb(100, 149, 237)\r\ncornsilk\trgb(255, 248, 220)\r\ncrimson\trgb(220, 20, 60)\r\ncyan\trgb( 0, 255, 255)\r\ndarkblue\trgb( 0, 0, 139)\r\ndarkcyan\trgb( 0, 139, 139)\r\ndarkgoldenrod\trgb(184, 134, 11)\r\ndarkgray\trgb(169, 169, 169)\r\ndarkgreen\trgb( 0, 100, 0)\r\ndarkgrey\trgb(169, 169, 169)\r\ndarkkhaki\trgb(189, 183, 107)\r\ndarkmagenta\trgb(139, 0, 139)\r\ndarkolivegreen\trgb( 85, 107, 47)\r\ndarkorange\trgb(255, 140, 0)\r\ndarkorchid\trgb(153, 50, 204)\r\ndarkred\trgb(139, 0, 0)\r\ndarksalmon\trgb(233, 150, 122)\r\ndarkseagreen\trgb(143, 188, 143)\r\ndarkslateblue\trgb( 72, 61, 139)\r\ndarkslategray\trgb( 47, 79, 79)\r\ndarkslategrey\trgb( 47, 79, 79)\r\ndarkturquoise\trgb( 0, 206, 209)\r\ndarkviolet\trgb(148, 0, 211)\r\ndeeppink\trgb(255, 20, 147)\r\ndeepskyblue\trgb( 0, 191, 255)\r\ndimgray\trgb(105, 105, 105)\r\ndimgrey\trgb(105, 105, 105)\r\ndodgerblue\trgb( 30, 144, 255)\r\nfirebrick\trgb(178, 34, 34)\r\nfloralwhite\trgb(255, 250, 240)\r\nforestgreen\trgb( 34, 139, 34)\r\nfuchsia\trgb(255, 0, 255)\r\ngainsboro\trgb(220, 220, 220)\r\nghostwhite\trgb(248, 248, 255)\r\ngold\trgb(255, 215, 0)\r\ngoldenrod\trgb(218, 165, 32)\r\ngray\trgb(128, 128, 128)\r\ngrey\trgb(128, 128, 128)\r\ngreen\trgb( 0, 128, 0)\r\ngreenyellow\trgb(173, 255, 47)\r\nhoneydew\trgb(240, 255, 240)\r\nhotpink\trgb(255, 105, 180)\r\nindianred\trgb(205, 92, 92)\r\nindigo\trgb( 75, 0, 130)\r\nivory\trgb(255, 255, 240)\r\nkhaki\trgb(240, 230, 140)\r\nlavender\trgb(230, 230, 250)\r\nlavenderblush\trgb(255, 240, 245)\r\nlawngreen\trgb(124, 252, 0)\r\nlemonchiffon\trgb(255, 250, 205)\r\nlightblue\trgb(173, 216, 230)\r\nlightcoral\trgb(240, 128, 128)\r\nlightcyan\trgb(224, 255, 255)\r\nlightgoldenrodyellow\trgb(250, 250, 210)\r\nlightgray\trgb(211, 211, 211)\r\nlightgreen\trgb(144, 238, 144)\r\nlightgrey\trgb(211, 211, 211)\r\nlightpink\trgb(255, 182, 193)\r\nlightsalmon\trgb(255, 160, 122)\r\nlightseagreen\trgb( 32, 178, 170)\r\nlightskyblue\trgb(135, 206, 250)\r\nlightslategray\trgb(119, 136, 153)\r\nlightslategrey\trgb(119, 136, 153)\r\nlightsteelblue\trgb(176, 196, 222)\r\nlightyellow\trgb(255, 255, 224)\r\nlime\trgb( 0, 255, 0)\r\nlimegreen\trgb( 50, 205, 50)\r\nlinen\trgb(250, 240, 230)\r\nmagenta\trgb(255, 0, 255)\r\nmaroon\trgb(128, 0, 0)\r\nmediumaquamarine\trgb(102, 205, 170)\r\nmediumblue\trgb( 0, 0, 205)\r\nmediumorchid\trgb(186, 85, 211)\r\nmediumpurple\trgb(147, 112, 219)\r\nmediumseagreen\trgb( 60, 179, 113)\r\nmediumslateblue\trgb(123, 104, 238)\r\nmediumspringgreen\trgb( 0, 250, 154)\r\nmediumturquoise\trgb( 72, 209, 204)\r\nmediumvioletred\trgb(199, 21, 133)\r\nmidnightblue\trgb( 25, 25, 112)\r\nmintcream\trgb(245, 255, 250)\r\nmistyrose\trgb(255, 228, 225)\r\nmoccasin\trgb(255, 228, 181)\r\nnavajowhite\trgb(255, 222, 173)\r\nnavy\trgb( 0, 0, 128)\r\noldlace\trgb(253, 245, 230)\r\nolive\trgb(128, 128, 0)\r\nolivedrab\trgb(107, 142, 35)\r\norange\trgb(255, 165, 0)\r\norangered\trgb(255, 69, 0)\r\norchid\trgb(218, 112, 214)\r\npalegoldenrod\trgb(238, 232, 170)\r\npalegreen\trgb(152, 251, 152)\r\npaleturquoise\trgb(175, 238, 238)\r\npalevioletred\trgb(219, 112, 147)\r\npapayawhip\trgb(255, 239, 213)\r\npeachpuff\trgb(255, 218, 185)\r\nperu\trgb(205, 133, 63)\r\npink\trgb(255, 192, 203)\r\nplum\trgb(221, 160, 221)\r\npowderblue\trgb(176, 224, 230)\r\npurple\trgb(128, 0, 128)\r\nred\trgb(255, 0, 0)\r\nrosybrown\trgb(188, 143, 143)\r\nroyalblue\trgb( 65, 105, 225)\r\nsaddlebrown\trgb(139, 69, 19)\r\nsalmon\trgb(250, 128, 114)\r\nsandybrown\trgb(244, 164, 96)\r\nseagreen\trgb( 46, 139, 87)\r\nseashell\trgb(255, 245, 238)\r\nsienna\trgb(160, 82, 45)\r\nsilver\trgb(192, 192, 192)\r\nskyblue\trgb(135, 206, 235)\r\nslateblue\trgb(106, 90, 205)\r\nslategray\trgb(112, 128, 144)\r\nslategrey\trgb(112, 128, 144)\r\nsnow\trgb(255, 250, 250)\r\nspringgreen\trgb( 0, 255, 127)\r\nsteelblue\trgb( 70, 130, 180)\r\ntan\trgb(210, 180, 140)\r\nteal\trgb( 0, 128, 128)\r\nthistle\trgb(216, 191, 216)\r\ntomato\trgb(255, 99, 71)\r\nturquoise\trgb( 64, 224, 208)\r\nviolet\trgb(238, 130, 238)\r\nwheat\trgb(245, 222, 179)\r\nwhite\trgb(255, 255, 255)\r\nwhitesmoke\trgb(245, 245, 245)\r\nyellow\trgb(255, 255, 0)\r\nyellowgreen\trgb(154, 205, 50)\r\n \t \r\n*/\r\n\r\n/**\r\n * Return a CSS color (#rrggbb) from a string.\r\n *\r\n * Possible formats include:\r\n * - named colors from the DVI color set: 'Yellow', 'red'... Case insensitive.\r\n * - colors from the Mathematica set: 'm1'...'m9'\r\n * - 3-digit hex: `'#d50'`\r\n * - 6-digit hex: `'#dd5500'`\r\n * - RGB functional: `'rgb(240, 20, 10)'`\r\n *\r\n * In addition, colors can be mixed using the following syntax:\r\n * `<mix> = <color>![<value>][!<mix>]`\r\n * For example:\r\n * - `'blue!20'`  = 20% blue + 80% white\r\n * - `'blue!20!black'` = 20% + 80% black\r\n * - `'blue!20!black!30!green'` = (20% + 80% black) * 30 % + 70% green\r\n *\r\n * If the input string is prefixed with a dash, the complementary color\r\n * of the expression is returned.\r\n *\r\n * This creative syntax is defined by the {@link http://mirror.jmu.edu/pub/CTAN/macros/latex/contrib/xcolor/xcolor.pdf|`xcolor` LaTeX package}.\r\n *\r\n * @param {string} s - An expression representing a color value\r\n * @return {string} An RGB color expressed as a hex-triplet preceded by `#`\r\n * @memberof module:color\r\n * @private\r\n */\r\nfunction stringToColor(s) {\r\n    const colorSpec = s.toLowerCase().split('!');\r\n\r\n    let baseRed;\r\n    let baseGreen;\r\n    let baseBlue;\r\n    let red = 255;\r\n    let green = 255;\r\n    let blue = 255;\r\n    let mix = -1;\r\n\r\n    // If the string is prefixed with a '-', use the complementary color\r\n    const complementary = colorSpec.length > 0 && colorSpec[0].charAt(0) === '-';\r\n    if (complementary) colorSpec[0] = colorSpec[0].slice(1);\r\n\r\n\r\n    for (let i = 0; i < colorSpec.length; i++) {\r\n        baseRed = red;\r\n        baseGreen = green;\r\n        baseBlue = blue;\r\n\r\n        let colorName = colorSpec[i].match(/([a-z0-9]*)/);\r\n        if (colorName) colorName = colorName[1];\r\n\r\n        let color = NAMED_COLORS[colorName] || MATHEMATICA_COLORS[colorName];\r\n        if (!color) color = colorSpec[i];\r\n\r\n        let m = color.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);\r\n        if (m && m[1] && m[2] && m[3]) {\r\n            // It's a six-digit hex number\r\n            red = Math.max(0, Math.min(255, parseInt(m[1], 16)));\r\n            green = Math.max(0, Math.min(255, parseInt(m[2], 16)));\r\n            blue = Math.max(0, Math.min(255, parseInt(m[3], 16)));\r\n        } else {\r\n            m = color.match(/^#([0-9a-f]{3})$/i)\r\n            if (m && m[1]) {\r\n                // It's a three-digit hex number\r\n                const r1 = parseInt(m[1][0], 16);\r\n                const g1 = parseInt(m[1][1], 16);\r\n                const b1 = parseInt(m[1][2], 16)\r\n                red = Math.max(0, Math.min(255, r1 * 16 + r1));\r\n                green = Math.max(0, Math.min(255, g1 * 16 + g1));\r\n                blue = Math.max(0, Math.min(255, b1 * 16 + b1));\r\n            } else {\r\n                // It's a rgb functional\r\n                m = color.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\r\n                if (m && m[1] && m[2] && m[3]) {\r\n                    red = Math.max(0, Math.min(255, parseInt(m[1])));\r\n                    green = Math.max(0, Math.min(255, parseInt(m[2])));\r\n                    blue = Math.max(0, Math.min(255, parseInt(m[3])));\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        if (mix >= 0) {\r\n            red = (1.0 - mix) * red +  mix * baseRed;\r\n            green = (1.0 - mix) * green + mix * baseGreen;\r\n            blue = (1.0 - mix) * blue + mix * baseBlue;\r\n            mix = -1;\r\n        }\r\n        if (i + 1 < colorSpec.length) {\r\n            mix = Math.max(0, Math.min(100, parseInt(colorSpec[++i]))) / 100.0;\r\n        }\r\n    }\r\n\r\n    if (mix >= 0) {\r\n        red = mix * red + (1.0 - mix) * baseRed;\r\n        green = mix * green + (1.0 - mix) * baseGreen;\r\n        blue = mix * blue + (1.0 - mix) * baseBlue;\r\n    }\r\n\r\n    if (complementary) {\r\n        red = 255 - red;\r\n        green = 255 - green;\r\n        blue = 255 - blue;\r\n    }\r\n\r\n    return '#' +\r\n        ('00' + Math.round(red).toString(16)).slice(-2) +\r\n        ('00' + Math.round(green).toString(16)).slice(-2) +\r\n        ('00' + Math.round(blue).toString(16)).slice(-2);\r\n}\r\n\r\nfunction colorToString(color) {\r\n    let result = color.toUpperCase();\r\n\r\n    for (const c in NAMED_COLORS) {\r\n        if (NAMED_COLORS[c] === result) {\r\n            result = c;\r\n            break;\r\n        }\r\n    }\r\n\r\n    for (const c in MATHEMATICA_COLORS) {\r\n        if (MATHEMATICA_COLORS[c] === result) {\r\n            result = c;\r\n            break;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n    stringToColor,\r\n    colorToString,\r\n    AREA_COLORS,\r\n    LINE_COLORS,\r\n}\r\n\r\n\r\n\r\n","\r\n/**\r\n * @module core/parser\r\n * @private\r\n */\r\n\r\nimport Definitions from './definitions.js';\r\nimport Color from './color.js';\r\nimport FontMetrics from './fontMetrics.js';\r\nimport Lexer from './lexer.js';\r\nimport MathAtomModule from './mathAtom.js';\r\n\r\nconst MathAtom = MathAtomModule.MathAtom;\r\n\r\n/**\r\n * A parser transforms a list of tokens into a list of MathAtom.\r\n *\r\n * @param {Token[]} tokens - An array of tokens generated by the lexer.\r\n * @param {Object.<string>} [args] - An optional list of arguments. `#n` tokens will be\r\n * substituted with the corresponding element in the args object. This is used\r\n * when parsing macros.\r\n * @class module:core/parser#Parser\r\n * @property {Object.<string, string>} [macros] - Optional macro definitions.\r\n * @property {Token[]} tokens - An array of tokens generated by the lexer.\r\n * @property {Object.<string>} args - Optional arguments to substitute the `#` token.\r\n * @property {Object.<string, string>} macros - A dictionary of objects, index by the name of\r\n * the macro, with the following keys:\r\n *    * args: an integer, the number of arguments, default 0. They can be referenced as #0,\r\n *       #1, #2... inside the definition of the macro\r\n *    * def: a string, the definition of the macro, which can reference other macros\r\n * @property {number} index - The current token to be parsed: index in `this.tokens`\r\n * @property {MathAtom[]} mathList - Accumulated result of the parsing by\r\n * `parseAtom()`\r\n * @property {object} style - The font, weight, color, etc. to apply to the\r\n * upcoming tokens\r\n * @property {string} parseMode - The parse mode indicates the syntax rules to\r\n * use to parse the upcoming tokens.\r\n *  Valid values include:\r\n *  - `'math'`: spaces are ignored, math functions are allowed\r\n *  - `'text'`: spaces are accounted for, math functions are ignored\r\n *  - `'string'`\r\n *  - `'color'`: color name, hex value: `'#fff'`, `'#a0a0a0'`\r\n *  - `'number'`: `+/-12.56`\r\n *  - `'dimen'`: `'25mu'`, `'2pt'`\r\n *  - `'skip'`: `'25mu plus 2em minus fiLll'`, `'2pt'`\r\n *  - `'colspec'`: formating of a column in tabular environment, e.g. `'r@{.}l'`\r\n * @property {boolean} tabularMode - When in tabular mode, `'&'` is interpreted as\r\n *  a column separator and `'\\'` as a row separator. Used for matrixes, etc...\r\n * @property {number} endCount - Counter to prevent deadlock. If `end()` is\r\n * called too many times (1,000) in a row for the same token, bail.\r\n * @private\r\n */\r\nclass Parser {\r\n    constructor(tokens, args, macros) {\r\n        this.tokens = tokens;\r\n        this.index = 0;\r\n        this.args = args;\r\n        this.macros = macros;\r\n        this.mathList = [];\r\n        this.style = {};\r\n        this.parseMode = 'math';\r\n        this.tabularMode = false;\r\n        this.endCount = 0;\r\n    }\r\n    swapMathList(newMathList) {\r\n        const result = this.mathList;\r\n        this.mathList = newMathList || [];\r\n        return result;\r\n    }\r\n    swapParseMode(mode) {\r\n        const result = this.parseMode;\r\n        this.parseMode = mode;\r\n        return result;\r\n    }\r\n    /**\r\n     * True if we've reached the end of the token stream.\r\n     * @method module:core/parser#Parser#end\r\n     * @private\r\n     */\r\n    end() {\r\n        // To prevent a deadlock, count how many times end() is called without the\r\n        // index advancing. If it happens more than 1,000 times in a row,\r\n        // assume something is broken and pretend the stream is finished.\r\n        this.endCount++;\r\n        return this.index >= this.tokens.length || this.endCount > 1000;\r\n    }\r\n    get() {\r\n        this.endCount = 0;\r\n        return this.index < this.tokens.length ? this.tokens[this.index++] : null;\r\n    }\r\n    peek(offset) {\r\n        const index = this.index + (offset ? offset : 0);\r\n        return index < this.tokens.length ? this.tokens[index] : null;\r\n    }\r\n    /**\r\n     * Return the last atom of the math list\r\n     * If there isn't one, insert a `msubsup` and return it.\r\n     * @method module:core/parser#Parser#lastMathAtom\r\n     * @private\r\n     */\r\n    lastMathAtom() {\r\n        const lastType = this.mathList.length === 0 ? 'none' :\r\n            this.mathList[this.mathList.length - 1].type;\r\n        if (lastType !== 'mop' && lastType !== 'msubsup') {\r\n            // ZERO WIDTH SPACE\r\n            const lastAtom = new MathAtom(this.parseMode, 'msubsup', '\\u200b');\r\n            lastAtom.attributes = { 'aria-hidden': true };\r\n            this.mathList.push(lastAtom);\r\n        }\r\n        return this.mathList[this.mathList.length - 1];\r\n    }\r\n    /**\r\n     * @param {string} type\r\n     * @return {boolean} True if the next token is of the specified type\r\n     * @method module:core/parser#Parser#hasToken\r\n     * @private\r\n     */\r\n    hasToken(type) {\r\n        const index = this.index;\r\n        return index < this.tokens.length ?\r\n            this.tokens[index].type === type : false;\r\n    }\r\n    /**\r\n     * @param {string} [value]\r\n     * @return {boolean} True if the next token is of type `'literal` and has the\r\n     * specified value. If `value` is empty, return true if the token is of type\r\n     * `'literal'`\r\n     * @method Parser#hasLiteral\r\n     * @private\r\n     */\r\n    hasLiteral(value) {\r\n        const index = this.index;\r\n        return index < this.tokens.length ?\r\n            this.tokens[index].type === 'literal' &&\r\n            (!value || this.tokens[index].value === value) : false;\r\n    }\r\n    /**\r\n     * @param {RegEx} pattern\r\n     * @return {boolean} True if the next token is of type `'literal` and matches\r\n     * the specified regular expression pattern.\r\n     * @method module:core/parser#Parser#hasLiteralPattern\r\n     * @private\r\n     */\r\n    hasLiteralPattern(pattern) {\r\n        return this.hasToken('literal') &&\r\n            pattern.test(this.tokens[this.index].value);\r\n    }\r\n    hasCommand(command) {\r\n        console.assert(command === '\\\\' || command.charAt(0) !== '\\\\', 'hasCommand() does not require a \\\\');\r\n        const index = this.index;\r\n        return index < this.tokens.length ?\r\n            this.tokens[index].type === 'command' &&\r\n            this.tokens[index].value === command : false;\r\n    }\r\n    hasInfixCommand() {\r\n        const index = this.index;\r\n        if (index < this.tokens.length &&\r\n            this.tokens[index].type === 'command') {\r\n            const info = Definitions.getInfo('\\\\' + this.tokens[index].value, this.parseMode, this.macros);\r\n            return info && info.infix;\r\n        }\r\n        return false;\r\n    }\r\n    hasColumnSeparator() {\r\n        const index = this.index;\r\n        return this.tabularMode && index < this.tokens.length ?\r\n            this.tokens[index].type === 'literal' &&\r\n            this.tokens[index].value === '&' : false;\r\n    }\r\n    hasRowSeparator() {\r\n        const index = this.index;\r\n        return this.tabularMode && index < this.tokens.length ?\r\n            this.tokens[index].type === 'command' &&\r\n            (this.tokens[index].value === '\\\\' ||\r\n                this.tokens[index].value === 'cr') : false;\r\n    }\r\n    parseColumnSeparator() {\r\n        if (this.hasColumnSeparator()) {\r\n            this.index++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /*\r\n     * Return the appropriate value for a placeholder, either a default\r\n     * one, or if a value was provided for #? via args, that value.\r\n     */\r\n    placeholder() {\r\n        if (this.args && typeof this.args['?'] === 'string') {\r\n            // If there is a specific value defined for the placeholder,\r\n            // use it.\r\n            return parseTokens(Lexer.tokenize(this.args['?']), this.parseMode, null, this.macros);\r\n        }\r\n        // U+2753 = BLACK QUESTION MARK ORNAMENT\r\n        const result = new MathAtom(this.parseMode, 'placeholder', '?', this.style);\r\n        result.captureSelection = true;\r\n        return [result];\r\n    }\r\n    hasImplicitCommand(commands) {\r\n        if (this.index < this.tokens.length) {\r\n            const token = this.tokens[this.index];\r\n            if (token.type === 'command') {\r\n                return commands.includes(token.value);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    parseRowSeparator() {\r\n        if (this.hasRowSeparator()) {\r\n            this.index++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @param {string} type\r\n     * @method module:core/parser#Parser#parseToken\r\n     * @private\r\n     */\r\n    parseToken(type) {\r\n        if (this.hasToken(type)) {\r\n            this.index++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    skipWhitespace() {\r\n        let found = false;\r\n        while (this.hasToken('space')) {\r\n            this.index++;\r\n            found = true;\r\n        }\r\n        return found;\r\n    }\r\n    skipUntilToken(type) {\r\n        while (!this.end() && !this.parseToken(type)) {\r\n            this.get();\r\n        }\r\n    }\r\n    parseCommand(command) {\r\n        if (this.hasCommand(command)) {\r\n            this.index++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    parseLiteral(literal) {\r\n        if (this.hasLiteral(literal)) {\r\n            this.index++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    parseFiller() {\r\n        let skipped = false;\r\n        let done = false;\r\n        do {\r\n            const skippedSpace = this.skipWhitespace();\r\n            const skippedRelax = this.parseCommand('relax');\r\n            skipped = skipped || skippedSpace || skippedRelax;\r\n            done = !skippedSpace && !skippedRelax;\r\n        } while (!done);\r\n        return skipped;\r\n    }\r\n    /**\r\n     * Keywords are used to specify dimensions, and for various other\r\n     * syntactic constructs. Unlike commands, they are not case sensitive.\r\n     * There are 25 keywords:\r\n     * at by bp cc cm dd depth em ex fil fill filll height in minus\r\n     * mm mu pc plus pt sp spread to true width\r\n     *\r\n     * TeX: 8212\r\n     * @param {string} keyword\r\n     * @return {boolean} true if the expected keyword is present\r\n     * @method module:core/parser#Parser#parseKeyword\r\n     * @private\r\n     */\r\n    parseKeyword(keyword) {\r\n        const savedIndex = this.index;\r\n        let done = this.end();\r\n        let value = '';\r\n        while (!done) {\r\n            const token = this.get();\r\n            if (token.type === 'literal') {\r\n                value += token.value;\r\n            }\r\n            done = this.end() || token.type !== 'literal' ||\r\n                value.length >= keyword.length;\r\n        }\r\n        const hasKeyword = keyword.toUpperCase() === value.toUpperCase();\r\n        if (!hasKeyword) {\r\n            this.index = savedIndex;\r\n        }\r\n        return hasKeyword;\r\n    }\r\n    /**\r\n     * Return a sequence of characters as a string.\r\n     * i.e. 'abcd' returns 'abcd'.\r\n     * Terminates on the first non-character encountered\r\n     * e.g. '{', '}' etc...\r\n     * Will also terminate on ']'\r\n     * @return {string}\r\n     * @method module:core/parser#Parser#scanString\r\n     * @private\r\n     */\r\n    scanString() {\r\n        let result = '';\r\n        let done = this.end();\r\n        while (!done) {\r\n            if (this.hasLiteral(']')) {\r\n                done = true;\r\n            } else if (this.hasToken('literal')) {\r\n                result += this.get().value;\r\n            } else if (this.skipWhitespace()) {\r\n                result += ' ';\r\n            } else if (this.hasToken('command')) {\r\n                const token = this.get();\r\n                if (token.value === 'space') {\r\n                    // The 'space' command is the ~\r\n                    // which can be used for example in operator names, i.e.\r\n                    // \\operatorname{lim~inf}. It's interpreted as a nbs\r\n                    result += '\\u00a0';     // NO-BREAK SPACE\r\n                } else {\r\n                    // TeX will give a 'Missing \\endcsname inserted' error\r\n                    // if it encounters any command when expecting a string.\r\n                    // We're a bit more lax.\r\n                    result += token.value;\r\n                }\r\n            } else {\r\n                done = true;\r\n            }\r\n            done = done || this.end();\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Return a CSS color (#rrggbb)\r\n     * @method module:core/parser#Parser#scanColor\r\n     * @private\r\n     */\r\n    scanColor() {\r\n        return Color.stringToColor(this.scanString());\r\n    }\r\n    /**\r\n     * Return as a number a group of characters representing a\r\n     * numerical quantity.\r\n     *\r\n     * From TeX:8695 (scan_int):\r\n     * An integer number can be preceded by any number of spaces and `\\.+' or\r\n     * `\\.-' signs. Then comes either a decimal constant (i.e., radix 10), an\r\n     * octal constant (i.e., radix 8, preceded by~\\.\\'), a hexadecimal constant\r\n     * (radix 16, preceded by~\\.\"), an alphabetic constant (preceded by~\\.\\`), or\r\n     * an internal variable.\r\n     * @return {number}\r\n     * @method Parser#scanNumber\r\n     * @private\r\n     */\r\n    scanNumber(isInteger) {\r\n        const negative = this.parseLiteral('-');\r\n        // Optional (ignorable) '+' sign\r\n        if (!negative) this.parseLiteral('+');\r\n        this.skipWhitespace();\r\n        isInteger = !!isInteger;\r\n        let radix = 10;\r\n        let digits = /[0-9]/;\r\n        if (this.parseLiteral(\"'\")) {\r\n            // Apostrophe indicates an octal value\r\n            radix = 8;\r\n            digits = /[0-7]/;\r\n            isInteger = true;\r\n        } else if (this.parseLiteral('\"') || this.parseLiteral('x')) {\r\n            // Double-quote indicates a hex value\r\n            // The 'x' prefix notation for the hexadecimal numbers is a MathJax extension.\r\n            // For example: 'x3a'\r\n            radix = 16;\r\n            // Hex digits have to be upper-case\r\n            digits = /[0-9A-F]/;\r\n            isInteger = true;\r\n        }\r\n        let value = '';\r\n        while (this.hasLiteralPattern(digits)) {\r\n            value += this.get().value;\r\n        }\r\n        // Parse the fractional part, if applicable\r\n        if (!isInteger && (this.parseLiteral('.') || this.parseLiteral(','))) {\r\n            value += '.';\r\n            while (this.hasLiteralPattern(digits)) {\r\n                value += this.get().value;\r\n            }\r\n        }\r\n        const result = isInteger ? parseInt(value, radix) : parseFloat(value);\r\n        return negative ? -result : result;\r\n    }\r\n    /**\r\n     * Return as a floating point number a dimension in pt (1 em = 10 pt)\r\n     *\r\n     * See TeX:8831\r\n     * @todo: note that some units depend on the font (em, ex). So it might be\r\n     * better to return a dimen struct with the value + unit and resolve\r\n     * later when we have a font context....\r\n     * @return {number}\r\n     * @method module:core/parser#Parser#scanDimen\r\n     * @private\r\n     */\r\n    scanDimen() {\r\n        const value = this.scanNumber(false);\r\n        this.skipWhitespace();\r\n        let result;\r\n        if (this.parseKeyword('pt')) {\r\n            result = FontMetrics.toEm(value, 'pt');\r\n        } else if (this.parseKeyword('mm')) {\r\n            result = FontMetrics.toEm(value, 'mm');\r\n        } else if (this.parseKeyword('cm')) {\r\n            result = FontMetrics.toEm(value, 'cm');\r\n        } else if (this.parseKeyword('ex')) {\r\n            result = FontMetrics.toEm(value, 'ex');\r\n        } else if (this.parseKeyword('px')) {\r\n            result = FontMetrics.toEm(value, 'px');\r\n        } else if (this.parseKeyword('em')) {\r\n            result = FontMetrics.toEm(value, 'em');\r\n        } else if (this.parseKeyword('bp')) {\r\n            result = FontMetrics.toEm(value, 'bp');\r\n        } else if (this.parseKeyword('dd')) {\r\n            result = FontMetrics.toEm(value, 'dd');\r\n        } else if (this.parseKeyword('pc')) {\r\n            result = FontMetrics.toEm(value, 'pc');\r\n        } else if (this.parseKeyword('in')) {\r\n            result = FontMetrics.toEm(value, 'in');\r\n        } else if (this.parseKeyword('mu')) {\r\n            result = FontMetrics.toEm(value, 'mu');\r\n        } else {\r\n            // If the units are missing, TeX assumes 'pt'\r\n            result = FontMetrics.toEm(value, 'pt');\r\n        }\r\n        return result;\r\n    }\r\n    scanSkip() {\r\n        const result = this.scanDimen();\r\n        // We parse, but ignore the optional 'plus' and 'minus'\r\n        // arguments.\r\n        this.skipWhitespace();\r\n        // 'plus', optionally followed by 'minus'\r\n        // ('minus' cannot come before 'plus')\r\n        // dimen or 'hfill'\r\n        if (this.parseKeyword('plus')) {\r\n            // @todo there could also be a \\hFilLlL command here\r\n            this.scanDimen();\r\n        }\r\n        this.skipWhitespace();\r\n        if (this.parseKeyword('minus')) {\r\n            // @todo there could also be a \\hFilLlL command here\r\n            this.scanDimen();\r\n        }\r\n        return result;\r\n    }\r\n    scanColspec() {\r\n        this.skipWhitespace();\r\n        const result = [];\r\n        while (!this.end() && !(this.hasToken('}') || this.hasLiteral(']'))) {\r\n            if (this.hasLiteral()) {\r\n                const literal = this.get().value;\r\n                if ('lcr'.includes(literal)) {\r\n                    result.push({ align: literal });\r\n                } else if (literal === '|') {\r\n                    result.push({ rule: true });\r\n                } else if (literal === '@') {\r\n                    if (this.parseToken('{')) {\r\n                        const savedParsemode = this.swapParseMode('math');\r\n                        result.push({ gap: this.scanImplicitGroup(token => token.type === '}') });\r\n                        this.swapParseMode(savedParsemode);\r\n                    }\r\n                    this.parseToken('}');\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Parse a `\\(...\\)` or `\\[...\\]` sequence\r\n     * @return {MathAtom} group for the sequence or null\r\n     * @method module:core/parser#Parser#scanModeSet\r\n     * @private\r\n     */\r\n    scanModeSet() {\r\n        let final;\r\n        if (this.parseCommand('(')) final = ')';\r\n        if (!final && this.parseCommand('[')) final = ']';\r\n        if (!final) return null;\r\n        const savedParsemode = this.swapParseMode('math');\r\n        const result = new MathAtom('math', 'group');\r\n        result.mathstyle = final === ')' ? 'textstyle' : 'displaystyle';\r\n        result.body = this.scanImplicitGroup(token => token.type === 'command' && token.value === final);\r\n        this.parseCommand(final);\r\n        this.swapParseMode(savedParsemode);\r\n        if (!result.body || result.body.length === 0) return null;\r\n        return result;\r\n    }\r\n    /**\r\n     * Parse a `$...$` or `$$...$$` sequence\r\n     * @method Parser#scanModeShift\r\n     * @private\r\n     */\r\n    scanModeShift() {\r\n        if (!this.hasToken('$') && !this.hasToken('$$')) return null;\r\n        const final = this.get().type;\r\n        const result = new MathAtom('math', 'group');\r\n        result.mathstyle = final === '$' ? 'textstyle' : 'displaystyle';\r\n        result.latexOpen = result.mathstyle === 'textstyle' ? '$' : '$$';\r\n        result.latexClose = result.latexOpen;\r\n        const savedParsemode = this.swapParseMode('math');\r\n        result.body = this.scanImplicitGroup(token => token.type === final);\r\n        this.parseToken(final);\r\n        this.swapParseMode(savedParsemode);\r\n        if (!result.body || result.body.length === 0) return null;\r\n        return result;\r\n    }\r\n    /**\r\n     * Parse a \\begin{env}...\\end{end} sequence\r\n     * @method module:core/parser#Parser#scanEnvironment\r\n     * @private\r\n     */\r\n    scanEnvironment() {\r\n        // An environment starts with a \\begin command\r\n        if (!this.parseCommand('begin')) return null;\r\n        // The \\begin command is immediately followed by the environment\r\n        // name, as a string argument\r\n        const envName = this.scanArg('string');\r\n        const env = Definitions.getEnvironmentInfo(envName);\r\n        // If the environment has some arguments, parse them\r\n        const args = [];\r\n        if (env && env.params) {\r\n            for (const param of env.params) {\r\n                // Parse an argument\r\n                if (param.optional) {\r\n                    // If it's not present, return the default argument value\r\n                    const arg = this.scanOptionalArg(param.type);\r\n                    // args.push(arg ? arg : param.defaultValue); @todo defaultvalue\r\n                    args.push(arg);\r\n                } else {\r\n                    // If it's not present, scanArg returns null,\r\n                    // but push it on the list of arguments anyway.\r\n                    // The null value will be interpreted as unspecified\r\n                    // optional value by the command parse function.\r\n                    args.push(this.scanArg(param.type));\r\n                }\r\n            }\r\n        }\r\n        // Some environments change the mode\r\n        const savedMode = this.parseMode;\r\n        const savedTabularMode = this.tabularMode;\r\n        const savedMathList = this.swapMathList([]);\r\n        // @todo: since calling scanImplicitGroup(), may not need to save/restore the mathlist\r\n        this.tabularMode = env.tabular;\r\n        const array = [];\r\n        const rowGaps = [];\r\n        let row = [];\r\n        let done = false;\r\n        do {\r\n            done = this.end();\r\n            if (!done && this.parseCommand('end')) {\r\n                done = this.scanArg('string') === envName;\r\n            }\r\n            if (!done) {\r\n                if (this.parseColumnSeparator()) {\r\n                    row.push(this.swapMathList([]));\r\n                } else if (this.parseRowSeparator()) {\r\n                    row.push(this.swapMathList([]));\r\n                    let gap = 0;\r\n                    this.skipWhitespace();\r\n                    if (this.parseLiteral('[')) {\r\n                        gap = this.scanDimen();\r\n                        this.skipWhitespace();\r\n                        this.parseLiteral(']');\r\n                    }\r\n                    rowGaps.push(gap || 0);\r\n                    array.push(row);\r\n                    row = [];\r\n                } else {\r\n                    this.mathList = this.mathList.concat(this.scanImplicitGroup());\r\n                }\r\n            }\r\n        } while (!done);\r\n        row.push(this.swapMathList([]));\r\n        if (row.length > 0) array.push(row);\r\n        const newMathList = this.swapMathList(savedMathList);\r\n        // If we're in tabular mode, we should end up with an empty mathlist\r\n        console.assert(!this.tabularMode || newMathList.length === 0, 'Leftover atoms in tabular mode');\r\n        this.parseMode = savedMode;\r\n        this.tabularMode = savedTabularMode;\r\n        if (!env.tabular && newMathList.length === 0) return null;\r\n        if (env.tabular && array.length === 0) return null;\r\n        const result = new MathAtom(this.parseMode, 'array', newMathList,\r\n            env.parser ? env.parser(envName, args, array) : {});\r\n        result.array = array;\r\n        result.rowGaps = rowGaps;\r\n        result.env = {...env};\r\n        result.env.name = envName;\r\n        return result;\r\n    }\r\n    /**\r\n     * Parse a sequence terminated with a group end marker, such as\r\n     * `}`, `\\end`, `&`, etc...\r\n     *\r\n     * Returns an array of atoms or an empty array if the sequence\r\n     * terminates right away.\r\n     *\r\n     * @param {function(Token):boolean} [done] A predicate indicating if a\r\n     * token signals the end of an implicit group\r\n     * @return {MathAtom[]}\r\n     * @method module:core/parser#Parser#scanImplicitGroup\r\n     * @private\r\n     */\r\n    scanImplicitGroup(done) {\r\n        // An implicit group is a sequence of atoms that terminates with\r\n        // a `'}'`, `'&'`, `'\\'`, `'\\cr'` or `'\\end'` or the end of the stream\r\n        const savedStyle = this.style;\r\n        if (!done) {\r\n            done = token => token.type === '}' ||\r\n                (token.type === 'literal' && token.value === '&') ||\r\n                (token.type === 'command' && /^(end|cr|\\\\)$/.test(token.value));\r\n        }\r\n        // To handle infix operators, we'll keep track of their prefix\r\n        // (tokens coming before them)\r\n        let infix = null; // A token\r\n        let prefix = null; // A mathlist\r\n        const savedMathlist = this.swapMathList([]);\r\n        // if (this.index >= this.tokens.length) return true;\r\n        // const token = this.tokens[this.index];\r\n        while (!this.end() && !done(this.peek())) {\r\n            if (this.hasImplicitCommand(['displaystyle', 'textstyle', 'scriptstyle', 'scriptscriptstyle'])) {\r\n                // Implicit math style commands such as \\displaystyle, \\textstyle...\r\n                // Note these commands switch to math mode and a specific size\r\n                // \\textsize is the mathstyle used for inlinemath, not for text\r\n                this.parseMode = 'math';\r\n                const atom = new MathAtom('math', 'mathstyle');\r\n                atom.mathstyle = this.get().value;\r\n                this.mathList.push(atom);\r\n            } else if (this.hasInfixCommand() && !infix) {\r\n                // The next token is an infix and we have not seen one yet\r\n                // (there can be only one infix command per implicit group).\r\n                infix = this.get();\r\n                // Save the math list so far and start a new one\r\n                prefix = this.swapMathList([]);\r\n            } else {\r\n                this.parseAtom();\r\n            }\r\n        }\r\n        let result;\r\n        if (infix) {\r\n            const suffix = this.swapMathList(savedMathlist);\r\n            // The current parseMode, this.parseMode, may no longer have the value\r\n            // it had when we encountered the infix. However, since all infix are\r\n            // only defined in 'math' mode, we can use the 'math' constant\r\n            // for the parseMode\r\n            const info = Definitions.getInfo('\\\\' + infix.value, 'math', this.macros);\r\n            if (info) {\r\n                result = [new MathAtom(this.parseMode,\r\n                    info.type,\r\n                    info.value || infix.value, // Functions don't have\r\n                    info.parse ? info.parse('\\\\' + infix.value, [prefix, suffix]) :\r\n                    null)];\r\n            } else {\r\n                result = [new MathAtom(this.parseMode, 'mop', infix.value)];\r\n            }\r\n        } else {\r\n            result = this.swapMathList(savedMathlist);\r\n        }\r\n\r\n        this.style = savedStyle;\r\n\r\n        return result;\r\n    }\r\n    /**\r\n     * Parse a group enclosed in a pair of braces: `{...}`.\r\n     *\r\n     * Return either a group MathAtom or null if not a group.\r\n     *\r\n     * Return a group MathAtom with an empty body if an empty\r\n     * group (i.e. `{}`).\r\n     * @return {MathAtom}\r\n     * @method module:core/parser#Parser#scanGroup\r\n     * @private\r\n     */\r\n    scanGroup() {\r\n        if (!this.parseToken('{')) return null;\r\n        const result = new MathAtom(this.parseMode, 'group');\r\n        result.body = this.scanImplicitGroup(token => token.type === '}');\r\n        this.parseToken('}');\r\n        result.latexOpen = '{';\r\n        result.latexClose = '}';\r\n        return result;\r\n    }\r\n    scanSmartFence() {\r\n        this.skipWhitespace();\r\n        if (!this.parseLiteral('(')) return null;\r\n        // We've found an open paren... Convert to a `\\mleft...\\mright`\r\n        const result = new MathAtom(this.parseMode, 'leftright');\r\n        result.leftDelim = '(';\r\n        result.inner = false; // It's a `\\mleft`, not a `\\left`\r\n        const savedMathList = this.swapMathList([]);\r\n        let nestLevel = 1;\r\n        while (!this.end() && nestLevel !== 0) {\r\n            if (this.hasLiteral('(')) nestLevel += 1;\r\n            if (this.hasLiteral(')')) nestLevel -= 1;\r\n            if (nestLevel !== 0) this.parseAtom();\r\n        }\r\n        if (nestLevel === 0) this.parseLiteral(')');\r\n        result.rightDelim = nestLevel === 0 ? ')' : '?';\r\n        result.body = this.swapMathList(savedMathList);\r\n        return result;\r\n    }\r\n    /**\r\n     * Scan a delimiter, e.g. '(', '|', '\\vert', '\\ulcorner'\r\n     *\r\n     * @return {string} The delimiter (as a character or command) or null\r\n     * @memberof Parser\r\n     * @method module:core/parser#Parser#scanDelim\r\n     * @private\r\n     */\r\n    scanDelim() {\r\n        this.skipWhitespace();\r\n        const token = this.get();\r\n        if (!token) return null;\r\n        let delim = '.';\r\n        if (token.type === 'command') {\r\n            delim = '\\\\' + token.value;\r\n        } else if (token.type === 'literal') {\r\n            delim = token.value;\r\n        }\r\n        const info = Definitions.getInfo(delim, 'math', this.macros);\r\n        if (!info) return null;\r\n        if (info.type === 'mopen' || info.type === 'mclose') {\r\n            return delim;\r\n        }\r\n        // Some symbols are not of type mopen/mclose, but are still\r\n        // valid delimiters...\r\n        // '?' is a special delimiter used as a 'placeholder'\r\n        // (when the closing delimiter is displayed greyed out)\r\n        if (/^(\\?|\\||<|>|\\\\vert|\\\\Vert|\\\\\\||\\\\surd|\\\\uparrow|\\\\downarrow|\\\\Uparrow|\\\\Downarrow|\\\\updownarrow|\\\\Updownarrow|\\\\mid|\\\\mvert|\\\\mVert)$/.test(delim)) {\r\n            return delim;\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Parse a `/left.../right` sequence.\r\n     *\r\n     * Note: the `/middle` command can occur multiple times inside a\r\n     * `/left.../right` sequence, and is handled separately.\r\n     *\r\n     * Return either an atom of type `'leftright'` or null\r\n     * @return {MathAtom}\r\n     * @method module:core/parser#Parser#scanLeftRight\r\n     * @private\r\n     */\r\n    scanLeftRight() {\r\n        if (this.parseCommand('right') || this.parseCommand('mright')) {\r\n            // We have an unbalanced left/right (there's a \\right, but no \\left)\r\n            const result = new MathAtom(this.parseMode, 'leftright');\r\n\r\n            result.rightDelim = this.scanDelim() || '';\r\n            // 去除点\r\n            // result.rightDelim = this.scanDelim() || '.';\r\n            return result;\r\n        }\r\n\r\n        const savedStyle = this.style;\r\n\r\n        let close = 'right';\r\n        if (!this.parseCommand('left')) {\r\n            if (!this.parseCommand('mleft')) return null;\r\n            close = 'mright';\r\n        }\r\n        // 去除点\r\n        // const leftDelim = this.scanDelim() || '.';\r\n        const leftDelim = this.scanDelim() || '';\r\n        const savedMathList = this.swapMathList([]);\r\n        while (!this.end() && !this.parseCommand(close)) {\r\n            this.parseAtom();\r\n        }\r\n        this.style = savedStyle;\r\n\r\n        // If we've reached the end and there was no `\\right` or\r\n        // there isn't a valid delimiter after `\\right`, we'll\r\n        // consider the `\\right` missing and set the `rightDelim` to undefined\r\n        const rightDelim = this.scanDelim();\r\n        const result = new MathAtom(this.parseMode, 'leftright');\r\n        result.leftDelim = leftDelim;\r\n        result.rightDelim = rightDelim;\r\n        result.inner = close === 'right';\r\n        result.body = this.swapMathList(savedMathList);\r\n        return result;\r\n    }\r\n    /**\r\n     * Parse a subscript/superscript: `^` and `_`.\r\n     *\r\n     * Modify the last atom accordingly.\r\n     *\r\n     * @return {MathAtom}\r\n     * @method module:core/parser#Parser#parseSupSub\r\n     * @private\r\n     */\r\n    parseSupSub() {\r\n        // No sup/sub in text or command mode.\r\n        if (this.parseMode !== 'math') return false;\r\n        // Apply the subscript/superscript to the last render atom.\r\n        // If none is present (beginning of the mathlist, i.e. `{^2}`,\r\n        // an empty atom will be created, equivalent to `{{}^2}`\r\n        let result = false;\r\n        while (this.hasLiteral('^') || this.hasLiteral('_') || this.hasLiteral(\"'\")) {\r\n            let supsub;\r\n            if (this.hasLiteral('^')) {\r\n                supsub = 'superscript';\r\n            } else if (this.hasLiteral('_')) {\r\n                supsub = 'subscript';\r\n            }\r\n            if (this.parseLiteral('^') || this.parseLiteral('_')) {\r\n                const arg = this.scanArg();\r\n                if (arg) {\r\n                    const atom = this.lastMathAtom();\r\n                    atom[supsub] = atom[supsub] || [];\r\n                    atom[supsub] = atom[supsub].concat(arg);\r\n                    result = true;\r\n                }\r\n            } else if (this.parseLiteral(\"'\")) {\r\n                // A single quote (prime) is actually equivalent to a\r\n                // '^{\\prime}'\r\n                const atom = this.lastMathAtom();\r\n                atom.superscript = atom.superscript || [];\r\n                atom.superscript.push(new MathAtom(atom.parseMode, 'mord', '\\u2032'));\r\n                result = true;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Parse a `\\limits` or `\\nolimits` command.\r\n     *\r\n     * This will change the placement of limits to be either above or below\r\n     * (if `\\limits`) or in the superscript/subscript position (if `\\nolimits`).\r\n     *\r\n     * This overrides the calculation made for the placement, which is usually\r\n     * dependent on the displaystyle (`inlinemath` prefers `\\nolimits`, while\r\n     * `displaymath` prefers `\\limits`).\r\n     * @method module:core/parser#Parser#parseLimits\r\n     * @private\r\n     */\r\n    parseLimits() {\r\n        // Note: technically, \\limits and \\nolimits are only applicable\r\n        // after an operator. However, we apply them in all cases. They\r\n        // will simply be ignored when not applicable (i.e. on a literal)\r\n        // which is actually consistent with TeX.\r\n        if (this.parseCommand('limits')) {\r\n            const lastAtom = this.lastMathAtom();\r\n            lastAtom.limits = 'limits';\r\n            // Record that the limits was set through an explicit command\r\n            // so we can generate the appropriate LaTeX later\r\n            lastAtom.explicitLimits = true;\r\n            return true;\r\n        }\r\n        if (this.parseCommand('nolimits')) {\r\n            const lastAtom = this.lastMathAtom();\r\n            lastAtom.limits = 'nolimits';\r\n            // Record that the limits was set through an explicit command\r\n            // so we can generate the appropriate LaTeX later\r\n            lastAtom.explicitLimits = true;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    scanOptionalArg(parseMode) {\r\n        parseMode = (!parseMode || parseMode === 'auto') ? this.parseMode : parseMode;\r\n        this.skipWhitespace();\r\n        if (!this.parseLiteral('[')) return null;\r\n        const savedParseMode = this.parseMode;\r\n        this.parseMode = parseMode;\r\n        const savedMathlist = this.swapMathList();\r\n        let result;\r\n        while (!this.end() && !this.parseLiteral(']')) {\r\n            if (parseMode === 'string') {\r\n                result = this.scanString();\r\n            } else if (parseMode === 'number') {\r\n                result = this.scanNumber();\r\n            } else if (parseMode === 'dimen') {\r\n                result = this.scanDimen();\r\n            } else if (parseMode === 'skip') {\r\n                result = this.scanSkip();\r\n            } else if (parseMode === 'colspec') {\r\n                result = this.scanColspec();\r\n            } else if (parseMode === 'color') {\r\n                result = this.scanColor() || '#ffffff';\r\n            } else if (parseMode === 'bbox') {\r\n                // The \\bbox command takes a very particular argument:\r\n                // a comma delimited list of up to three arguments:\r\n                // a color, a dimension and a string.\r\n                // Split the string by comma delimited sub-strings, ignoring commas\r\n                // that may be inside (). For example\"x, rgb(a, b, c)\" would return\r\n                // ['x', 'rgb(a, b, c)']\r\n                const list = this.scanString().toLowerCase().trim().split(/,(?![^(]*\\)(?:(?:[^(]*\\)){2})*[^\"]*$)/);\r\n                for (const elem of list) {\r\n                    const color = Color.stringToColor(elem);\r\n                    if (color) {\r\n                        result = result || {};\r\n                        result.backgroundcolor = color;\r\n                    } else {\r\n                        const m = elem.match(/^\\s*([0-9.]+)\\s*([a-z][a-z])/);\r\n                        if (m) {\r\n                            result = result || {};\r\n                            result.padding = FontMetrics.toEm(m[1], m[2]);\r\n                        } else {\r\n                            const m = elem.match(/^\\s*border\\s*:\\s*(.*)/);\r\n                            if (m) {\r\n                                result = result || {};\r\n                                result.border = m[1];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                console.assert(parseMode === 'math', 'Unexpected parse mode: \"' + parseMode + '\"');\r\n                this.mathList = this.mathList.concat(this.scanImplicitGroup(token => token.type === 'literal' && token.value === ']'));\r\n            }\r\n        }\r\n        this.parseMode = savedParseMode;\r\n        const mathList = this.swapMathList(savedMathlist);\r\n        return result ? result : mathList;\r\n    }\r\n    /**\r\n     * Parse a math field, an argument to a function.\r\n     *\r\n     * An argument can either be a single atom or\r\n     * a sequence of atoms enclosed in braces.\r\n     *\r\n     * @param {string} [parseMode] Temporarily overrides the parser parsemode. For\r\n     * example: `'dimension'`, `'color'`, `'text'`, etc...\r\n     * @method module:core/parser#Parser#scanArg\r\n     * @private\r\n     */\r\n    scanArg(parseMode) {\r\n        parseMode = (!parseMode || parseMode === 'auto') ? this.parseMode : parseMode;\r\n        this.parseFiller();\r\n        let result;\r\n        // An argument (which is called a 'math field' in TeX)\r\n        // could be a single character or symbol, as in `\\frac12`\r\n        // Note that ``\\frac\\sqrt{-1}\\alpha\\beta`` is equivalent to\r\n        // ``\\frac{\\sqrt}{-1}{\\beta}``\r\n        if (!this.parseToken('{')) {\r\n            if (parseMode === 'delim') {\r\n                return this.scanDelim() || '.';\r\n            } else if (/^(math|text)$/.test(parseMode)) {\r\n                // Parse a single atom.\r\n                const savedParseMode = this.parseMode;\r\n                this.parseMode = parseMode;\r\n                const atom = this.scanToken();\r\n                this.parseMode = savedParseMode;\r\n                if (Array.isArray(atom)) return atom;\r\n                return atom ? [atom] : null;\r\n            }\r\n        }\r\n        // If this is a param token, substitute it with the\r\n        // (optional) argument passed to the parser\r\n        if (this.hasToken('#')) {\r\n            const paramToken = this.get();\r\n            this.skipUntilToken('}');\r\n            if (paramToken.value === '?') {\r\n                return this.placeholder();\r\n            }\r\n            if (this.args) {\r\n                if (this.args[paramToken.value] === undefined &&\r\n                    this.args['?'] !== undefined) {\r\n                    return this.placeholder();\r\n                }\r\n                return this.args[paramToken.value] || null;\r\n            }\r\n            return null;\r\n        }\r\n        const savedParseMode = this.parseMode;\r\n        this.parseMode = parseMode;\r\n        const savedMathList = this.swapMathList([]);\r\n        if (parseMode === 'string') {\r\n            result = this.scanString();\r\n            this.skipUntilToken('}');\r\n        } else if (parseMode === 'number') {\r\n            result = this.scanNumber();\r\n            this.skipUntilToken('}');\r\n        } else if (parseMode === 'dimen') {\r\n            result = this.scanDimen();\r\n            this.skipUntilToken('}');\r\n        } else if (parseMode === 'skip') {\r\n            result = this.scanSkip();\r\n            this.skipUntilToken('}');\r\n        } else if (parseMode === 'colspec') {\r\n            result = this.scanColspec();\r\n            this.skipUntilToken('}');\r\n        } else if (parseMode === 'color') {\r\n            result = this.scanColor() || '#ffffff';\r\n            this.skipUntilToken('}');\r\n        } else if (parseMode === 'delim') {\r\n            result = this.scanDelim() || '.';\r\n            this.skipUntilToken('}');\r\n        } else {\r\n            console.assert(/^(math|text)$/.test(parseMode), 'Unexpected parse mode: \"' + parseMode + '\"');\r\n            do {\r\n                this.mathList = this.mathList.concat(this.scanImplicitGroup());\r\n            } while (!this.parseToken('}') && !this.end());\r\n        }\r\n        this.parseMode = savedParseMode;\r\n        const mathList = this.swapMathList(savedMathList);\r\n        return result ? result : mathList;\r\n    }\r\n    /**\r\n     * @return {MathAtom[]|MathAtom}\r\n     * @method module:core/parser#Parser#scanToken\r\n     * @private\r\n     */\r\n    scanToken() {\r\n        const token = this.get();\r\n        if (!token) return null;\r\n        let result = null;\r\n        if (token.type === 'space') {\r\n            if (this.parseMode === 'text') {\r\n                result = new MathAtom('text', '', ' ', this.style);\r\n            }\r\n        } else if (token.type === 'placeholder') {\r\n            // RENDER PLACEHOLDER\r\n            result = new MathAtom(this.parseMode, 'placeholder', token.value);\r\n            result.captureSelection = true;\r\n        } else if (token.type === 'command') {\r\n            // RENDER COMMAND\r\n            if (token.value === 'placeholder') {\r\n                result = new MathAtom(this.parseMode, 'placeholder', this.scanArg('string'), this.style);\r\n                result.captureSelection = true;\r\n\r\n            } else if (token.value === 'char') {\r\n                // \\char has a special syntax and requires a non-braced integer\r\n                // argument\r\n                let codepoint = Math.floor(this.scanNumber(true));\r\n                if (!isFinite(codepoint) || codepoint < 0 || codepoint > 0x10FFFF) {\r\n                    codepoint = 0x2753; // BLACK QUESTION MARK\r\n                }\r\n                result = new MathAtom(this.parseMode,\r\n                    this.parseMode === 'math' ? 'mord' : '',\r\n                    String.fromCodePoint(codepoint));\r\n                result.latex = '{\\\\char\"' +\r\n                    ('000000' + codepoint.toString(16)).toUpperCase().substr(-6) + '}';\r\n\r\n            } else if (token.value === 'hskip' || token.value === 'kern') {\r\n                // \\hskip and \\kern have a special syntax and requires a non-braced\r\n                // 'skip' argument\r\n                const width = this.scanSkip();\r\n                if (isFinite(width)) {\r\n                    result = new MathAtom(this.parseMode, 'spacing', null, this.style);\r\n                    result.width = width;\r\n                }\r\n                result .latex = '\\\\' + token.value;\r\n\r\n            } else {\r\n                result = this.scanMacro(token.value);\r\n                if (!result) {\r\n                    const info = Definitions.getInfo('\\\\' + token.value, this.parseMode, this.macros);\r\n                    const args = [];\r\n                    let argString = '';\r\n\r\n                    // Parse the arguments\r\n                    // let mandatoryParamsCount = 0;\r\n                    // If explicitGroup is not empty, an explicit group is expected\r\n                    // to follow the command and will be parsed *after* the\r\n                    // command has been processed.\r\n                    // This is used for commands such as \\textcolor{color}{content}\r\n                    // that need to apply the color to the content *after* the\r\n                    // style has been changed.\r\n                    // In definitions, this is indicated with a parameter type\r\n                    // of 'auto*'\r\n                    let explicitGroup = '';\r\n                    if (info && info.params) {\r\n                        for (const param of info.params) {\r\n                            // Parse an argument\r\n                            if (param.optional) {\r\n                                // If it's not present, return the default argument value\r\n                                const arg = this.scanOptionalArg(param.type);\r\n                                // args.push(arg ? arg : param.defaultValue); @todo defaultvalue\r\n                                args.push(arg);\r\n                            } else if (param.type.endsWith('*')) {\r\n                                explicitGroup = param.type.slice(0, -1);\r\n                            } else {\r\n                                // mandatoryParamsCount += 1;\r\n                                // If it's not present, scanArg returns null.\r\n                                // Add a placeholder instead.\r\n                                const arg = this.scanArg(param.type);\r\n                                if (arg && arg.length === 1 &&\r\n                                    arg[0].type === 'placeholder' && param.placeholder) {\r\n                                    arg[0].value = param.placeholder;\r\n                                }\r\n                                if (arg) {\r\n                                    args.push(arg);\r\n                                } else if (param.placeholder) {\r\n                                    const placeholder = new MathAtom(this.parseMode, 'placeholder', param.placeholder);\r\n                                    placeholder.captureSelection = true;\r\n\r\n                                    args.push([placeholder]);\r\n                                } else {\r\n                                    args.push(this.placeholder());\r\n                                }\r\n                                if (param.type !== 'math' && typeof arg === 'string') {\r\n                                    argString += arg\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (info && !info.infix) {\r\n                        // Infix commands should be handled in scanImplicitGroup\r\n                        // If we find an infix command here, it's a syntax error\r\n                        // (second infix command in an implicit group) and should be ignored.\r\n                        \r\n                        // Create the MathAtom.\r\n                        // If a parse function is present, invoke it with the arguments,\r\n                        // and pass the result to be appended by the constructor.\r\n                        if (info.parse) {\r\n                            const attributes = info.parse('\\\\' + token.value, args);\r\n                            if (!attributes.type) {\r\n                                // No type provided -> the parse function will modify\r\n                                // the current style rather than create a new Atom.\r\n                                const savedMode = this.parseMode;\r\n                                if (attributes.mode) {\r\n                                    // Change to 'text' (or 'math') mode if necessary\r\n                                    this.parseMode = attributes.mode;\r\n                                    delete attributes.mode;\r\n                                }\r\n\r\n                                // If an explicit group is expected, process it now\r\n                                if (explicitGroup) {\r\n                                    // Create a temporary style\r\n                                    const saveStyle = this.style;\r\n                                    this.style = {...this.style, ...attributes};\r\n                                    result = this.scanArg(explicitGroup);\r\n                                    this.style = saveStyle;\r\n                                } else {\r\n                                    // Merge the new style info with the current style\r\n                                    this.style = {...this.style, ...attributes};\r\n                                }\r\n                                this.parseMode = savedMode;\r\n\r\n                            } else {\r\n                                result = new MathAtom(this.parseMode,\r\n                                    info.type,\r\n                                    explicitGroup ? this.scanArg(explicitGroup) : null,\r\n                                    {...this.style, ...attributes});\r\n                            }\r\n                        } else {\r\n                            const style = {...this.style};\r\n                            if (info.baseFontFamily) style.baseFontFamily = info.baseFontFamily;\r\n                            result = new MathAtom(this.parseMode,\r\n                                info.type || 'mop',\r\n                                info.value || token.value,\r\n                                style);\r\n\r\n                            if (info.skipBoundary) {\r\n                                result.skipBoundary = true;\r\n                            }\r\n                        }\r\n                        if (result && !/^(llap|rlap|class|cssId)$/.test(token.value)) {\r\n                            result.latex = '\\\\' + token.value;\r\n                            if (argString /*|| mandatoryParamsCount > 0*/) {\r\n                                result.latex += '{' + argString + '}'\r\n                            }\r\n                            if (result.isFunction && this.smartFence) {\r\n                                // The atom was a function that may be followed by\r\n                                // an argument, like `\\sin(`\r\n                                const smartFence = this.scanSmartFence();\r\n                                if (smartFence) {\r\n                                    result = [result, smartFence];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (!info) {\r\n                        // An unknown command\r\n                        result = new MathAtom(this.parseMode,\r\n                            'error', '\\\\' + token.value);\r\n                        result.latex = '\\\\' + token.value;\r\n\r\n                    }\r\n                }\r\n            }\r\n        } else if (token.type === 'literal') {\r\n            const info = Definitions.getInfo(token.value, this.parseMode, this.macros);\r\n            if (info) {\r\n                const style = {...this.style};\r\n                if (info.baseFontFamily) style.baseFontFamily = info.baseFontFamily;\r\n                result = new MathAtom(this.parseMode,\r\n                    info.type,\r\n                    info.value || token.value,\r\n                    style);\r\n                if (info.isFunction) {\r\n                    result.isFunction = true;\r\n                }\r\n            } else {\r\n                result = new MathAtom(this.parseMode,\r\n                    this.parseMode === 'math' ? 'mord' : '',\r\n                    token.value, this.style);\r\n            }\r\n            result.latex = Definitions.matchCodepoint(this.parseMode,\r\n                token.value.codePointAt(0));\r\n            if (info && info.isFunction && this.smartFence) {\r\n                // The atom was a function that may be followed by\r\n                // an argument, like `f(`.\r\n                const smartFence = this.scanSmartFence();\r\n                if (smartFence) {\r\n                    result = [result, smartFence];\r\n                }\r\n            }\r\n        } else if (token.type === '#') {\r\n            // Parameter token in an implicit group (not as a parameter)\r\n            if (token.value === '?') {\r\n                // '#?' indicates that a placeholder should be used\r\n                result = this.placeholder();\r\n            } else if (this.args) {\r\n                result = this.args[token.value] || null;\r\n                if (Array.isArray(result) && result.length === 1) {\r\n                    result = result[0];\r\n                } else if (Array.isArray(result)) {\r\n                    const group = new MathAtom(this.parseMode, 'group');\r\n                    group.body = result;\r\n                    result = group;\r\n                } else {\r\n                    // If there is no argument value specified, use a placeholder\r\n                    result = this.placeholder();\r\n                }\r\n            }\r\n        } else {\r\n            console.warn('Unexpected token type \"' + token.type +\r\n                '\", value =\"' + token.value + '\"');\r\n        }\r\n        return result;\r\n    }\r\n    /*\r\n     * Attempt to scan the macro name and return an atom list if successful.\r\n     * Otherwise, it wasn't a macro.\r\n     */\r\n    scanMacro(macro) {\r\n        if (!this.macros || !this.macros[macro]) return null;\r\n        const args = {};\r\n        let def;\r\n        let argCount = 0;\r\n        if (typeof this.macros[macro] === 'string') {\r\n            def = this.macros[macro];\r\n            // Let's see if there are arguments in the definition.\r\n            if (/(^|[^\\\\])#1/.test(def)) argCount = 1;\r\n            if (/(^|[^\\\\])#2/.test(def)) argCount = 2;\r\n            if (/(^|[^\\\\])#3/.test(def)) argCount = 3;\r\n            if (/(^|[^\\\\])#4/.test(def)) argCount = 4;\r\n            if (/(^|[^\\\\])#5/.test(def)) argCount = 5;\r\n            if (/(^|[^\\\\])#6/.test(def)) argCount = 6;\r\n            if (/(^|[^\\\\])#7/.test(def)) argCount = 7;\r\n            if (/(^|[^\\\\])#8/.test(def)) argCount = 8;\r\n            if (/(^|[^\\\\])#9/.test(def)) argCount = 9;\r\n        } else {\r\n            def = this.macros[macro].def;\r\n            argCount = (this.macros[macro].args || 0);\r\n        }\r\n        for (let i = 1; i <= argCount; i++) {\r\n            args[i] = this.scanArg();\r\n        }\r\n        // Carry forward the placeholder argument, if any.\r\n        if (this.args && typeof this.args['?'] === 'string') {\r\n            args['?'] = this.args['?'];\r\n        }\r\n        // Group the result of the macro expansion, and set the\r\n        // captureSelection attribute so that it is handled as an unbreakable\r\n        // unit\r\n        const atom = new MathAtom(this.parseMode, 'group', parseTokens(Lexer.tokenize(def), this.parseMode, args, this.macros));\r\n        atom.captureSelection = true;\r\n        atom.latex = '\\\\' + macro;\r\n        let argString = '';\r\n        for (let i = 1; i <= argCount; i++) {\r\n            argString += '{';\r\n            if (Array.isArray(args[i])) {\r\n                for (let j = 0; j < args[i].length; j++) {\r\n                    argString += args[i][j].latex;\r\n                }\r\n            }\r\n            argString += '}';\r\n        }\r\n        atom.latex += argString ? argString : '';\r\n        return atom;\r\n    }\r\n    /**\r\n     * Make a MathAtom for the current token or token group and\r\n     * add it to the parser's current mathList\r\n     * @method module:core/parser#Parser#parseAtom\r\n     * @private\r\n     */\r\n    parseAtom() {\r\n        let result = this.scanEnvironment() ||\r\n            this.scanModeShift() ||\r\n            this.scanModeSet() ||\r\n            this.scanGroup() ||\r\n            this.scanLeftRight();\r\n        if (!result && (this.parseSupSub() || this.parseLimits())) return true;\r\n        if (!result) result = this.scanToken();\r\n        // If we have an atom to add, push it at the end of the current math list\r\n        // We could have no atom for tokens that were skipped, a ' ' in mathmode\r\n        // for example\r\n        if (Array.isArray(result)) {\r\n            this.mathList = this.mathList.concat(result);\r\n        } else if (result) {\r\n            this.mathList.push(result);\r\n        }\r\n        return result !== null;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Given an array of tokens returned by the lexer, return a corresponding\r\n * math list (array of atoms).\r\n * @param {object[]} tokens\r\n * @param {string} [parseMode='math']\r\n * @param {string[]} [args={}] - If there are any placeholder tokens, e.g.\r\n * `#0`, `#1`, etc... they will be replaced by the value provided by `args`.\r\n * @param {object} [macro={}] Dictionary defining macros\r\n * @param {boolean} [smartFence=false] If true, promote plain fences, e.g. `(`,\r\n * as `\\left...\\right` or `\\mleft...\\mright`\r\n * @return {object[]} An array of MathAtom\r\n * @method module:core/parser#parseTokens\r\n * @private\r\n */\r\nfunction parseTokens(tokens, parseMode, args, macros, smartFence) {\r\n    let mathlist = [];\r\n    const parser = new Parser(tokens, args, macros);\r\n    parser.parseMode = parseMode || 'math';  // other possible values: 'text', 'color', etc...\r\n    if (smartFence) parser.smartFence = true;\r\n\r\n    while(!parser.end()) {\r\n        mathlist = mathlist.concat(parser.scanImplicitGroup());\r\n    }\r\n    return mathlist;\r\n}\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n    Parser: Parser,\r\n    parseTokens: parseTokens\r\n}\r\n\r\n\r\n\r\n","/**\r\n * @module editor/mathpath\r\n * @private\r\n */\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n * @memberof module:editor/mathpath\r\n * @param {object} path\r\n * @param {number} extent\r\n * @return {string}\r\n * @private\r\n */\r\nfunction pathToString(path, extent) {\r\n    let result = '';\r\n    for (const segment of path) {\r\n        result += segment.relation + ':' + segment.offset + '/';\r\n    }\r\n    if (extent) {\r\n        result += '#' + extent;\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @memberof module:editor/mathpath\r\n * @param {string} string\r\n * @return {object}\r\n * @private\r\n */\r\nfunction pathFromString(string) {\r\n    // Reset the path\r\n    const result = {path: [], extent: 0};\r\n\r\n    // Parse the selection extent, if present\r\n    const components = string.split('#');\r\n    if (components.length > 1) {\r\n        result.extent = parseInt(components[1]);\r\n    }\r\n\r\n    // Parse the segments\r\n    const segments = components[0].split('/');\r\n    for (const segment of segments) {\r\n        const m2 = segment.match(/([^:]*):(.*)/);\r\n        if (m2) {\r\n            result.path.push({\r\n                relation: m2[1],\r\n                offset: parseInt(m2[2])\r\n            });\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Given two paths, return a path representing their common ancestor.\r\n *\r\n * @param {Array.<string>} p\r\n * @param {Array.<string>} q\r\n * @return {Array.<string>}\r\n * @memberof module:editor/mathpath\r\n * @private\r\n */\r\nfunction pathCommonAncestor(p, q) {\r\n    const result = [];\r\n    const maxIndex = Math.min(p.length - 1, q.length - 1);\r\n    let i = 0;\r\n    while ( i <= maxIndex &&\r\n            p[i].relation === q[i].relation &&\r\n            p[i].offset === q[i].offset) {\r\n        result.push(p[i]);\r\n        i += 1;\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n *\r\n * @param {Array.<string>} p\r\n * @param {Array.<string>} q\r\n * @return {number} 0 if the paths are identical\r\n *  - 1 if they are siblings\r\n *  - >1 if they are not siblings\r\n * @memberof module:editor/mathpath\r\n * @private\r\n */\r\nfunction pathDistance(p, q) {\r\n     let result = 0;\r\n     let i = -1;\r\n     let done = false;\r\n     while (!done) {\r\n        i += 1;\r\n        done = i >= p.length || i >= q.length;\r\n        done = done ||\r\n            !(p[i].relation === q[i].relation &&\r\n            p[i].offset === q[i].offset);\r\n    }\r\n    if (i === p.length && i === q.length) {\r\n        // They're identical\r\n        result = 0;\r\n    } else if (i + 1 === p.length && i + 1 === q.length &&\r\n        p[i].relation === q[i].relation ) {\r\n        // They're siblings\r\n        result = 1;\r\n    } else {\r\n        result = 2;\r\n    }\r\n\r\n     return result;\r\n}\r\n\r\n\r\n\r\nfunction clone(path) {\r\n    return pathFromString(pathToString(path)).path;\r\n}\r\n\r\nexport default {\r\n    pathFromString,\r\n    pathToString,\r\n    pathDistance,\r\n    pathCommonAncestor,\r\n    clone\r\n\r\n}\r\n\r\n\r\n\r\n","/**\r\n * @private\r\n */\r\n\r\nimport Definitions from '../core/definitions.js';\r\n\r\n/**\r\n * The index of this array is a keystroke combination as returned by the key\r\n * field of a JavaScript keyboard event as documented here:\r\n * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\r\n * except for:\r\n * - `Escape`         → `Esc`\r\n * - `LeftArrow`...   → `Left/Right/Up/Down`\r\n * - `Delete`         → `Del`\r\n * - `Escape`         → `Esc`\r\n * - ' '              → `Spacebar`\r\n *\r\n * The modifiers are specified before the main key, in the following order:\r\n * 1. `Ctrl`\r\n * 2. `Meta`: Command key on Mac OS. On Windows this is the Windows key,\r\n * but the system intercepts those key combinations so they are never received\r\n * 3. `Alt`: Option key on Mac OS\r\n * 4. `Shift`\r\n *\r\n * The keys can be preceded by a context to restrict when the shortcut is\r\n * applicable. For example, \"math:Ctrl-KeyA\" will restrict this shortcut\r\n * to only apply in the \"math\" context (parseMode). Other valid context include\r\n * \"text\" and \"command\".\r\n *\r\n * The value of the entries represent the command to perform.\r\n * This can be either a single selector, or an array of a selector followed\r\n * by its arguments.\r\n * Selectors uses the following naming conventions:\r\n * - a 'char' is a math atom (a letter, digit, symbol or compound atom)\r\n * - a 'word' is a sequence of math atoms of the same type\r\n * - a 'group' is a sequence of sibling atoms, for example a numerator or\r\n * a superscript\r\n * - the 'MathField' is the entire expression being edited\r\n * - a 'placeholder' is either an actual placeholder atom or an empty child\r\n * list, for example an empty numerator\r\n * - 'move' changes the position of the insertion point (and collapses the\r\n * selection range if necessary)\r\n * - 'extend' keeps the anchor of the  selection, but moves the focus (extends,\r\n * or shrinks, the range of selected items)\r\n *\r\n * @type {Object<string,string>}\r\n * @private\r\n */\r\nconst KEYBOARD_SHORTCUTS = {\r\n    'Left':                     'moveToPreviousChar',\r\n    'Right':                    'moveToNextChar',\r\n    'Up':                       'moveUp',\r\n    'Down':                     'moveDown',\r\n\r\n    'Shift-Left':               'extendToPreviousChar',\r\n    'Shift-Right':              'extendToNextChar',\r\n    'Shift-Up':                 'extendUp',\r\n    'Shift-Down':               'extendDown',\r\n\r\n    'Backspace':                'deletePreviousChar',\r\n    'Alt-Del':                  'deletePreviousChar',\r\n\r\n    'Del':                      'deleteNextChar',\r\n    'Alt-Backspace':            'deleteNextChar',\r\n\r\n    'Alt-Left':                 'moveToPreviousWord',\r\n    'Alt-Right':                'moveToNextWord',\r\n\r\n    'Alt-Shift-Left':           'extendToPreviousWord',\r\n    'Alt-Shift-Right':          'extendToNextWord',\r\n\r\n    'Ctrl-Left':                'moveToGroupStart',\r\n    'Ctrl-Right':               'moveToGroupEnd',\r\n\r\n    'Ctrl-Shift-Left':          'extendToGroupStart',\r\n    'Ctrl-Shift-Right':         'extendToGroupEnd',\r\n\r\n    'math:Spacebar':            'moveAfterParent',\r\n    'math:Shift-Spacebar':      'moveBeforeParent',\r\n\r\n    'Home':                     'moveToMathFieldStart',\r\n    'mac:Meta-Left':            'moveToMathFieldStart',\r\n    'Shift-Home':               'extendToMathFieldStart',\r\n    'mac:Meta-Shift-Left':      'extendToMathFieldStart',\r\n\r\n    'End':                      'moveToMathFieldEnd',\r\n    'mac:Meta-Right':           'moveToMathFieldEnd',\r\n    'Shift-End':                'extendToMathFieldEnd',\r\n    'mac:Meta-Shift-Right':     'extendToMathFieldEnd',\r\n\r\n    'PageUp':                   'moveToGroupStart',\r\n    'PageDown':                 'moveToGroupEnd',\r\n\r\n    'math:Tab':                 'moveToNextPlaceholder',\r\n    'math:F8':                  'moveToNextPlaceholder',    // Visual Studio\r\n    'math:Shift-Tab':           'moveToPreviousPlaceholder',\r\n    'math:Shift-F8':            'moveToPreviousPlaceholder',    // Visual Studio\r\n\r\n    'text:Tab':                 'moveToNextPlaceholder',\r\n    'text:F8':                  'moveToNextPlaceholder',    // Visual Studio\r\n    'text:Shift-Tab':           'moveToPreviousPlaceholder',\r\n    'text:Shift-F8':            'moveToPreviousPlaceholder',    // Visual Studio\r\n\r\n    'math:Esc':                 ['switch-mode', 'command'],\r\n    'math:Backslash':           ['switch-mode', 'command'],\r\n    'math:IntlBackslash':       ['switch-mode', 'command'],\r\n\r\n    'math:Alt-Equal':           ['apply-style', {mode: 'text'}],\r\n    'text:Alt-Equal':           ['apply-style', {mode: 'math'}],\r\n\r\n    'command:Esc':              ['complete', {discard: true}], // discard the command, insert nothing\r\n    'command:Tab':              ['complete', {acceptSuggestion: true}], // complete the suggestion\r\n    'command:Return':           'complete',\r\n    'command:Enter':            'complete',\r\n    'command:Shift-Esc':        ['complete', {discard: true}],     // Some keyboards can't generate\r\n            // this combination, for example in 60% keyboards it is mapped to ~\r\n    'command:Down':             'nextSuggestion',\r\n    'ios:command:Tab':          'nextSuggestion',\r\n    'command:Up':               'previousSuggestion',\r\n\r\n    '!mac:Ctrl-KeyA':      'selectAll',\r\n    'mac:Meta-KeyA':       'selectAll',\r\n\r\n    // Rare keys on some extended keyboards\r\n    'Cut':                      'cut',\r\n    'Copy':                     'copy',\r\n    'Paste':                    'paste',\r\n    'Clear':                    'delete',\r\n\r\n    '!mac:Ctrl-KeyZ':           'undo',\r\n    'mac:Meta-KeyZ':            'undo',\r\n    'Undo':                     'undo',\r\n    '!mac:Ctrl-KeyY':           'redo',             // ARIA recommendation\r\n    'mac:Meta-Shift-KeyY':      'redo',\r\n    '!mac:Ctrl-Shift-KeyZ':     'redo',\r\n    'mac:Meta-Shift-KeyZ':      'redo',\r\n    'Redo':                     'redo',\r\n\r\n    'EraseEof':                 'deleteToGroupEnd',\r\n\r\n\r\n    // EMACS/MACOS BINDINGS\r\n    'mac:Ctrl-KeyB':            'moveToPreviousChar',\r\n    'mac:Ctrl-KeyF':            'moveToNextChar',\r\n    'mac:Ctrl-KeyP':            'moveUp',\r\n    'mac:Ctrl-KeyN':            'moveDown',\r\n    'mac:Ctrl-KeyA':            'moveToMathFieldStart',\r\n    'mac:Ctrl-KeyE':            'moveToMathFieldEnd',\r\n\r\n    'mac:Ctrl-Shift-KeyB':      'extendToPreviousChar',\r\n    'mac:Ctrl-Shift-KeyF':      'extendToNextChar',\r\n    'mac:Ctrl-Shift-KeyP':      'extendUp',\r\n    'mac:Ctrl-Shift-KeyN':      'extendDown',\r\n    'mac:Ctrl-Shift-KeyA':      'extendToMathFieldStart',\r\n    'mac:Ctrl-Shift-KeyE':      'extendToMathFieldEnd',\r\n    'mac:Ctrl-Alt-KeyB':        'moveToPreviousWord',\r\n    'mac:Ctrl-Alt-KeyF':        'moveToNextWord',\r\n    'mac:Ctrl-Shift-Alt-KeyB':  'extendToPreviousWord',\r\n    'mac:Ctrl-Shift-Alt-KeyF':  'extendToNextWord',\r\n\r\n    'mac:Ctrl-KeyH':            'deletePreviousChar',\r\n    'mac:Ctrl-KeyD':            'deleteNextChar',\r\n    'mac:Ctrl-KeyL':            'scrollIntoView',\r\n    'mac:Ctrl-KeyT':            'transpose',\r\n\r\n    'math:Shift-Quote':         ['switch-mode', 'text', '', '“'],\r\n    'text:Shift-Quote':         ['switch-mode', 'math', '”', ''],\r\n\r\n    // WOLFRAM MATHEMATICA BINDINGS\r\n    'math:Ctrl-Digit2':          ['insert', '\\\\sqrt{#0}'],\r\n    'math:Ctrl-Digit5':          'moveToOpposite',\r\n    'math:Ctrl-Digit6':          'moveToSuperscript',\r\n    'math:Ctrl-Minus':           'moveToSubscript',\r\n    'math:Alt-BracketLeft':      ['insert', '\\\\left\\\\lbrack #0 \\\\right\\\\rbrack'],\r\n    'math:Alt-Shift-BracketLeft':  ['insert', '\\\\left\\\\lbrace #0 \\\\right\\\\rbrace'],\r\n    'math:Return':               'addRowAfter',\r\n    'math:Enter':                'addRowAfter',\r\n    'math:Ctrl-Comma':           'addColumnAfter',\r\n    // Excel shortcuts:\r\n    // Shift-space: select entire row, ctrl+space: select an entire column\r\n    // ctrl+shift++ or ctrl+numpad+\r\n    // ctrl+- to delete a row or columns\r\n\r\n    // MATHLIVE BINDINGS\r\n    'math:Alt-KeyQ':             ['insert', '\\\\theta'],\r\n    'math:Alt-KeyP':             ['insert', '\\\\pi'],\r\n    'math:Alt-KeyV':             ['insert', '\\\\sqrt{#0}'],\r\n    'math:Alt-KeyW':             ['insert', '\\\\sum_{i=#?}^{#?}'],\r\n    'math:Alt-KeyB':             ['insert', '\\\\int_{#?}^{#?}'],\r\n    'math:Alt-KeyU':             ['insert', '\\\\cup'],\r\n    'math:Alt-KeyN':             ['insert', '\\\\cap'],\r\n    'math:Alt-KeyO':             ['insert', '\\\\emptyset'],\r\n    'math:Alt-KeyD':             ['insert', '\\\\differentialD'],\r\n    'math:Alt-Shift-KeyO':       ['insert', '\\\\varnothing'],\r\n    'math:Alt-Shift-KeyD':       ['insert', '\\\\partial'],\r\n    'math:Alt-Shift-KeyP':       ['insert', '\\\\prod_{i=#?}^{#?}'],\r\n    'math:Alt-Shift-KeyU':       ['insert', '\\\\bigcup'],\r\n    'math:Alt-Shift-KeyN':       ['insert', '\\\\bigcap'],\r\n    'math:Alt-Shift-KeyA':       ['insert', '\\\\forall'],\r\n    'math:Alt-Shift-KeyE':       ['insert', '\\\\exists'],\r\n    'math:Alt-Digit5':           ['insert', '\\\\infty'],      // \"%\" key\r\n    'math:Alt-Digit6':           ['insert', '\\\\wedge'],      // \"^\" key\r\n    'math:Alt-Shift-Digit6':     ['insert', '\\\\vee'],        // \"^\" key\r\n    'math:Alt-Digit9':           ['insert', '('],            // \"(\" key, override smartFence\r\n    'math:Alt-Digit0':           ['insert', ')'],            // \")\" key, override smartFence\r\n    'math:Alt-Shift-Backslash':  ['insert', '|'],            // \"|\" key, override smartFence\r\n    'math:Alt-Backslash':        ['insert', '\\\\backslash'],   // \"|\" key, override command mode\r\n    'math:Slash':                ['insert', '\\\\frac{#@}{#?}'],\r\n    'math:Alt-Slash':            ['insert', '\\\\frac{#?}{#@}'],\r\n    'math:NumpadDivide':         ['insert', '\\\\frac{#@}{#?}'],\r\n    'math:Alt-NumpadDivide':     ['insert', '\\\\frac{#?}{#@}'],\r\n    'math:Shift-Backquote':      ['insert', '\\\\~'],\r\n    'math:Alt-Shift-Slash':      ['insert', '\\\\/'],\r\n\r\n    // Accessibility\r\n    'Alt-Shift-KeyK':           'toggleKeystrokeCaption',\r\n    'Alt-Space':                'toggleVirtualKeyboard',\r\n\r\n    // Note: On Mac OS (as of 10.12), there is a bug/behavior that causes\r\n    // a beep to be generated with certain command+control key combinations.\r\n    // The workaround is to create a default binding file to silence them.\r\n    // In ~/Library/KeyBindings/DefaultKeyBinding.dict add these entries:\r\n /*\r\n {\r\n    \"^@\\UF701\" = \"noop:\";\r\n    \"^@\\UF702\" = \"noop:\";\r\n    \"^@\\UF703\" = \"noop:\";\r\n}\r\n*/\r\n    'mac:Ctrl-Meta-Up':           ['speak', 'parent', {withHighlighting: false}],\r\n    '!mac:Ctrl-Alt-Up':           ['speak', 'parent', {withHighlighting: false}],\r\n    'mac:Ctrl-Meta-Down':         ['speak', 'all', {withHighlighting: false}],\r\n    '!mac:Ctrl-Alt-Down':         ['speak', 'all', {withHighlighting: false}],\r\n    'mac:Ctrl-Meta-Left':         ['speak', 'left', {withHighlighting: false}],\r\n    '!mac:Ctrl-Alt-Left':         ['speak', 'left', {withHighlighting: false}],\r\n    'mac:Ctrl-Meta-Right':        ['speak', 'right', {withHighlighting: false}],\r\n    '!mac:Ctrl-Alt-Right':        ['speak', 'right', {withHighlighting: false}],\r\n    '!mac:Ctrl-Alt-Period':       ['speak', 'selection', {withHighlighting: false}],\r\n    'mac:Ctrl-Meta-Period':       ['speak', 'selection', {withHighlighting: false}],\r\n  \r\n    'mac:Ctrl-Meta-Shift-Up':     ['speak', 'parent', {withHighlighting: true}],\r\n    '!mac:Ctrl-Alt-Shift-Up':     ['speak', 'parent', {withHighlighting: true}],\r\n    'mac:Ctrl-Meta-Shift-Down':   ['speak', 'all', {withHighlighting: true}],\r\n    '!mac:Ctrl-Alt-Shift-Down':   ['speak', 'all', {withHighlighting: true}],\r\n    'mac:Ctrl-Meta-Shift-Left':   ['speak', 'left', {withHighlighting: true}],\r\n    '!mac:Ctrl-Alt-Shift-Left':   ['speak', 'left', {withHighlighting: true}],\r\n    'mac:Ctrl-Meta-Shift-Right':  ['speak', 'right', {withHighlighting: true}],\r\n    '!mac:Ctrl-Alt-Shift-Right':  ['speak', 'right', {withHighlighting: true}],\r\n    '!mac:Ctrl-Alt-Shift-Period': ['speak', 'selection', {withHighlighting: true}],\r\n    'mac:Ctrl-Meta-Shift-Period': ['speak', 'selection', {withHighlighting: true}],\r\n    // '!mac:Ctrl-Alt-Shift-Home': ['speak', 'start', {withHighlighting: true}],\r\n    // 'mac:Ctrl-Alt-Shift-Home':  ['speak', 'start', {withHighlighting: true}],\r\n    // '!mac:Ctrl-Alt-Shift-End':  ['speak', 'end', {withHighlighting: true}],\r\n    // 'mac:Ctrl-Alt-Shift-End':   ['speak', 'end', {withHighlighting: true}],\r\n}\r\n\r\n/**\r\n * Most commands can be associated to their keyboard shortcuts from the\r\n * KEYBOARD_SHORTCUTS table above, for example 'speakSelection' -> 'Ctrl-KeyR'\r\n * However, those that contain complex commands are more ambiguous.\r\n * For example, '\\sqrt' -> 'math:Alt-KeyV'. This table provides the reverse\r\n * mapping for those more complex commands. It is used when displaying\r\n * keyboard shortcuts for specific commands in the popover.\r\n * @type {Object<string,string>}\r\n * @private\r\n */\r\nconst REVERSE_KEYBOARD_SHORTCUTS = {\r\n    '\\\\theta':                  'Alt-KeyQ',\r\n    '\\\\sqrt':                   ['Alt-KeyV', 'Ctrl-Digit2'],\r\n    '\\\\pi':                     'Alt-KeyP',\r\n    '\\\\prod':                   'Alt-Shift-KeyP',\r\n    '\\\\sum':                    'Alt-KeyW',\r\n    '\\\\int':                    'Alt-KeyB',\r\n    '\\\\cup':                    'Alt-KeyU',\r\n    '\\\\cap':                    'Alt-KeyN',\r\n    '\\\\bigcup':                 'Alt-Shift-KeyU',\r\n    '\\\\bigcap':                 'Alt-Shift-KeyN',\r\n    '\\\\forall':                 'Alt-Shift-KeyA',\r\n    '\\\\exists':                 'Alt-Shift-KeyE',\r\n    '\\\\infty':                  'Alt-Digit5',\r\n    '\\\\wedge':                  'Alt-Digit5',\r\n    '\\\\vee':                    'Alt-Shift-Digit6',\r\n    '\\\\differentialD':          'Alt-keyD',\r\n    '\\\\partial':                'Alt-Shift-KeyD',\r\n    '\\\\frac':                   'Slash',\r\n    '\\\\emptyset':               'Alt-KeyO',\r\n    '\\\\varnothing':             'Alt-Shift-KeyO',\r\n    '\\\\~':                      '~'\r\n\r\n}\r\n\r\n/**\r\n * These shortcut strings are replaced with the corresponding LaTeX expression\r\n * without requiring an escape sequence or command.\r\n *\r\n * @type {Object.<string,string>}\r\n * @private\r\n */\r\nconst INLINE_SHORTCUTS = {\r\n    // 检测并转换列表\r\n    // Primes\r\n    \"''\":                   { mode: 'math', value: '^{\\\\doubleprime}'},\r\n\r\n    // Greek letters\r\n    'alpha':                '\\\\alpha',\r\n    'delta':                '\\\\delta',\r\n    'Delta':                '\\\\Delta',\r\n    'pi':                   { mode: 'math', value: '\\\\pi'},\r\n    'pi ':                  { mode: 'text', value: '\\\\pi '},\r\n    'Pi':                   { mode: 'math', value: '\\\\Pi'},\r\n    'theta':                '\\\\theta',\r\n    'Theta':                '\\\\Theta',\r\n\r\n    // Letter-like\r\n    'ii':                   { after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\imaginaryI' },\r\n    'jj':                   { after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\imaginaryJ' },\r\n    'ee':                   {\r\n                                mode: 'math',\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\exponentialE',\r\n                            },\r\n\r\n    'nabla':                { mode: 'math', value: '\\\\nabla'},\r\n    'grad':                 { mode: 'math', value: '\\\\nabla'},\r\n    'del':                  { mode: 'math', value: '\\\\partial'},\r\n\r\n    '\\u221e':               '\\\\infty',         // @TODO: doesn't work\r\n    // '&infin;': '\\\\infty',\r\n    // '&#8734;': '\\\\infty',\r\n    'oo':                   {\r\n                                mode: 'math',\r\n                                after: 'nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space',\r\n                                value: '\\\\infty',\r\n                            },\r\n\r\n    // Big operators\r\n    '∑':                    { mode: 'math', value: '\\\\sum'},\r\n    'sum':                  { mode: 'math', value: '\\\\sum_{#?}^{#?}' },\r\n    'prod':                 { mode: 'math', value: '\\\\prod_{#?}^{#?}' },\r\n    'sqrt':                 { mode: 'math', value: '\\\\sqrt'},\r\n    // '∫':                    '\\\\int',             // There's a alt-B command for this\r\n    '∆':                    { mode: 'math', value: '\\\\differentialD'},     // @TODO: is \\\\diffD most common?\r\n    '∂':                    { mode: 'math', value: '\\\\differentialD'},\r\n\r\n    // Functions\r\n    'sin':                  { mode: 'math', value: '\\\\sin'},\r\n    'cos':                  { mode: 'math', value: '\\\\cos'},\r\n    'tan':                  { mode: 'math', value: '\\\\tan'},\r\n    'tanh':                 { mode: 'math', value: '\\\\tanh'},\r\n    'log':                  { mode: 'math', value: '\\\\log'},\r\n    'ln':                   { mode: 'math', value: '\\\\ln'},\r\n    'exp':                  { mode: 'math', value: '\\\\exp'},\r\n    'lim':                  { mode: 'math', value: '\\\\lim_{#?}'},\r\n\r\n    // Differentials\r\n    // According to ISO31/XI (ISO 80000-2), differentials should be upright\r\n    'dx':                   '\\\\differentialD x',\r\n    'dy':                   '\\\\differentialD y',\r\n    'dt':                   '\\\\differentialD t',\r\n\r\n    // Logic\r\n    'AA':                   { mode: 'math', value: '\\\\forall'},\r\n    'EE':                   { mode: 'math', value: '\\\\exists'},\r\n    '!EE':                  { mode: 'math', value: '\\\\nexists'},\r\n    '&&':                   { mode: 'math', value: '\\\\land'},\r\n    // The shortcut for the greek letter \"xi\" is interfering with \"x in\"\r\n    'xin':                   {\r\n                                mode: 'math',\r\n                                after: 'nothing+text+relop+punct+openfence+space',\r\n                                value: 'x \\\\in',\r\n                            },\r\n    'in':                   {\r\n                                mode: 'math',\r\n                                after: 'nothing+letter+closefence',\r\n                                value: '\\\\in',\r\n                            },\r\n    '!in':                  { mode: 'math', value: '\\\\notin'},\r\n\r\n    // Sets\r\n    'NN':                   '\\\\N',        // Natural numbers\r\n    'ZZ':                   '\\\\Z',        // Integers\r\n    'QQ':                   '\\\\Q',        // Rational numbers\r\n    'RR':                   '\\\\R',        // Real numbers\r\n    'CC':                   '\\\\C',        // Complex numbers\r\n    'PP':                   '\\\\P',        // Prime numbers\r\n\r\n    // Operators\r\n    // 'xx':                   '\\\\times', 按两次XX的转换暂停\r\n    '+-':                   '\\\\pm',\r\n\r\n    // Relational operators\r\n    '!=':                   '\\\\ne',\r\n    '>=':                   '\\\\ge',\r\n    '<=':                   '\\\\le',\r\n    '<<':                   '\\\\ll',\r\n    '>>':                   '\\\\gg',\r\n    '~~':                   '\\\\approx',\r\n\r\n    // More operators\r\n    '≈':                    '\\\\approx',\r\n    '?=':                   '\\\\questeq',\r\n    '÷':                    '\\\\div',\r\n    '¬':                    '\\\\neg',\r\n    ':=':                   '\\\\coloneq',\r\n    '::':                   '\\\\Colon',\r\n\r\n    // Fences\r\n    '(:':                   '\\\\langle',\r\n    ':)':                   '\\\\rangle',\r\n\r\n    // More Greek letters\r\n    'beta':                 '\\\\beta',\r\n    'chi':                  '\\\\chi',\r\n    'epsilon':              '\\\\epsilon',\r\n    'varepsilon':           '\\\\varepsilon',\r\n    'eta':                  {\r\n                                mode: 'math',\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\eta'\r\n                            },\r\n    'eta ':                 {\r\n                                mode: 'text',\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\eta '\r\n                            },\r\n    'gamma':                '\\\\gamma',\r\n    'Gamma':                '\\\\Gamma',\r\n    'iota':                 '\\\\iota',\r\n    'kappa':                '\\\\kappa',\r\n    'lambda':               '\\\\lambda',\r\n    'Lambda':               '\\\\Lambda',\r\n    'mu':                   {\r\n                                mode: 'math',\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\mu'\r\n                            },\r\n    'mu ':                   {\r\n                                mode: 'text',\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\mu '\r\n                            },\r\n    'nu':                   {\r\n                                mode: 'math',\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value:'\\\\nu'\r\n                            },\r\n    'nu ':                   {\r\n                                mode: 'text',\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value:'\\\\nu '\r\n                            },\r\n    'µ':                    '\\\\mu',        // @TODO: or micro?\r\n    'phi':                  {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\phi'\r\n                            },\r\n    'Phi':                  {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value:'\\\\Phi'\r\n                            },\r\n    'varphi':               '\\\\varphi',\r\n    'psi':                  {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\psi'\r\n                            },\r\n    'Psi':                  {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value:'\\\\Psi'\r\n    },\r\n    'rho':                  {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\rho'\r\n    },\r\n    'sigma':                '\\\\sigma',\r\n    'Sigma':                '\\\\Sigma',\r\n    'tau':                  {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value: '\\\\tau'\r\n    },\r\n    'vartheta':             '\\\\vartheta',\r\n    'upsilon':              '\\\\upsilon',\r\n    'xi':                   {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value:'\\\\xi'},\r\n    'Xi':                   {\r\n                                after: 'nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text',\r\n                                value:'\\\\Xi'},\r\n    'zeta':                 '\\\\zeta',\r\n    'omega':                '\\\\omega',\r\n    'Omega':                '\\\\Omega',\r\n    'Ω':                    '\\\\omega',     // @TODO: or ohm?\r\n\r\n    // More Logic\r\n    'forall':               '\\\\forall',\r\n    'exists':               {\r\n                                mode: 'math',\r\n                                value:'\\\\exists'\r\n                            },\r\n    '!exists':              {\r\n                                mode: 'math',\r\n                                value: '\\\\nexists'\r\n                            },\r\n    ':.':                   {\r\n                                mode: 'math',\r\n                                value:'\\\\therefore'\r\n    },\r\n\r\n    // MORE FUNCTIONS\r\n    // 'arg': '\\\\arg',\r\n    'liminf':               '\\\\operatorname*{lim~inf}_{#?}',\r\n    'limsup':               '\\\\operatorname*{lim~sup}_{#?}',\r\n    'argmin':               '\\\\operatorname*{arg~min}_{#?}',\r\n    'argmax':               '\\\\operatorname*{arg~max}_{#?}',\r\n    'det':                  '\\\\det',\r\n    'mod':                  {\r\n                                mode: 'math',\r\n                                value:'\\\\mod'},\r\n    'max':                  {\r\n                                mode: 'math',\r\n                                value:'\\\\max'},\r\n    'min':                  {\r\n                                mode: 'math',\r\n                                value:'\\\\min'},\r\n    'erf':                  '\\\\operatorname{erf}',\r\n    'erfc':                 '\\\\operatorname{erfc}',\r\n    'bessel':               {\r\n                                mode: 'math',\r\n                                value:'\\\\operatorname{bessel}'},\r\n    'mean':                 {\r\n                                mode: 'math',\r\n                                value: '\\\\operatorname{mean}'\r\n    },\r\n    'median':               {\r\n                                mode: 'math',\r\n                                value: '\\\\operatorname{median}'},\r\n    'fft':                  {\r\n                                mode: 'math',\r\n                                value:'\\\\operatorname{fft}'},\r\n    'lcm':                  {\r\n                                mode: 'math',\r\n                                value:'\\\\operatorname{lcm}'},\r\n    'gcd':                  {\r\n                                mode: 'math',\r\n                                value:'\\\\operatorname{gcd}'},\r\n    'randomReal':           '\\\\operatorname{randomReal}',\r\n    'randomInteger':        '\\\\operatorname{randomInteger}',\r\n    'Re':                   {\r\n                                mode: 'math',\r\n                                value:'\\\\operatorname{Re}'},\r\n    'Im':                   {\r\n                                mode: 'math',\r\n                                value:'\\\\operatorname{Im}'},\r\n\r\n    // UNITS\r\n    'mm':                   {   mode: 'math',\r\n                                after: 'nothing+digit',\r\n                                value:  '\\\\operatorname{mm}',         // millimeter\r\n                            },\r\n    'cm':                   {   mode: 'math',\r\n                                after: 'nothing+digit',\r\n                                value:  '\\\\operatorname{cm}',         // centimeter\r\n                            },\r\n    'km':                   {   mode: 'math',\r\n                                after: 'nothing+digit',\r\n                                value:  '\\\\operatorname{km}',         // kilometer\r\n                            },\r\n    'kg':                   {   mode: 'math',\r\n                                after: 'nothing+digit',\r\n                                value:  '\\\\operatorname{kg}',         // kilogram\r\n                            },\r\n                            \r\n\r\n\r\n    // '||':                   '\\\\lor',\r\n    '...':                  '\\\\ldots',          // In general, use \\ldots\r\n    '+...':                 '+\\\\cdots',         // ... but use \\cdots after + ...\r\n    '-...':                 '-\\\\cdots',         // ... - and ...\r\n    '->...':                '\\\\to\\\\cdots',       // ->\r\n\r\n    '->':                   '\\\\to',\r\n    '|->':                  '\\\\mapsto',\r\n    '-->':                  '\\\\longrightarrow',\r\n//    '<-':                   '\\\\leftarrow',\r\n    '<--':                  '\\\\longleftarrow',\r\n    '=>':                   '\\\\Rightarrow',\r\n    '==>':                  '\\\\Longrightarrow',\r\n// '<=': '\\\\Leftarrow',     // CONFLICTS WITH LESS THAN OR EQUAL\r\n    '<=>':                  '\\\\Leftrightarrow',\r\n    '<->':                  '\\\\leftrightarrow',\r\n\r\n    '(.)':                  '\\\\odot',\r\n    '(+)':                  '\\\\oplus',\r\n    '(/)':                  '\\\\oslash',\r\n    '(*)':                  '\\\\otimes',\r\n    '(-)':                  '\\\\ominus',\r\n    // '(-)':                  '\\\\circleddash',\r\n\r\n    '||':                   '\\\\Vert',\r\n    '{':                    '\\\\{',\r\n    '}':                    '\\\\}',\r\n    \r\n    '*':                    '\\\\cdot',\r\n\r\n\r\n/*\r\n    //\r\n    // ASCIIIMath\r\n    //\r\n    // Binary operation symbols\r\n    '**':                   '\\\\ast',\r\n    '***':                  '\\\\star',\r\n    '//':                   '\\\\slash',\r\n    '\\\\\\\\':                 '\\\\backslash',\r\n    'setminus':             '\\\\backslash',\r\n    '|><':                  '\\\\ltimes',\r\n    '><|':                  '\\\\rtimes',\r\n    '|><|':                 '\\\\bowtie',\r\n    '-:':                   '\\\\div',\r\n    'divide':               '\\\\div',\r\n    '@':                    '\\\\circ',\r\n    'o+':                   '\\\\oplus',\r\n    'ox':                   '\\\\otimes',\r\n    'o.':                   '\\\\odot',\r\n    '^^':                   '\\\\wedge',\r\n    '^^^':                  '\\\\bigwedge',\r\n    'vv':                   '\\\\vee',\r\n    'vvv':                  '\\\\bigvee',\r\n    'nn':                   '\\\\cap',\r\n    'nnn':                  '\\\\bigcap',\r\n    'uu':                   '\\\\cup',\r\n    'uuu':                  '\\\\bigcup',\r\n\r\n    // Binary relation symbols\r\n    '-=':                   '\\\\equiv',\r\n    '~=':                   '\\\\cong',\r\n    'lt':                   '<',\r\n    'lt=':                  '\\\\leq',\r\n    'gt':                   '>',\r\n    'gt=':                  '\\\\geq',\r\n    '-<':                   '\\\\prec',\r\n    '-lt':                  '\\\\prec',\r\n    '-<=':                  '\\\\preceq',\r\n    // '>-':                   '\\\\succ',\r\n    '>-=':                  '\\\\succeq',\r\n    'prop':                 '\\\\propto',\r\n    'diamond':              '\\\\diamond',\r\n    'square':               '\\\\square',\r\n    'iff':                  '\\\\iff',\r\n\r\n    'sub':                  '\\\\subset',\r\n    'sup':                  '\\\\supset',\r\n    'sube':                 '\\\\subseteq',\r\n    'supe':                 '\\\\supseteq',\r\n    'uarr':                 '\\\\uparrow',\r\n    'darr':                 '\\\\downarrow',\r\n    'rarr':                 '\\\\rightarrow',\r\n    'rArr':                 '\\\\Rightarrow',\r\n    'larr':                 '\\\\leftarrow',\r\n    'lArr':                 '\\\\Leftarrow',\r\n    'harr':                 '\\\\leftrightarrow',\r\n    'hArr':                 '\\\\Leftrightarrow',\r\n    'aleph':                '\\\\aleph',\r\n\r\n    // Logic\r\n    'and':                  '\\\\land',\r\n    'or':                   '\\\\lor',\r\n    'not':                  '\\\\neg',\r\n    '_|_':                   '\\\\bot',\r\n    'TT':                   '\\\\top',\r\n    '|--':                  '\\\\vdash',\r\n    '|==':                  '\\\\models',\r\n    \r\n    // Other functions\r\n    '|__':                  '\\\\lfloor',\r\n    '__|':                  '\\\\rfloor',\r\n\r\n    '|~':                   '\\\\lceil',\r\n    '~|':                   '\\\\rceil',\r\n\r\n    // Arrows\r\n    '>->':                   '\\\\rightarrowtail',\r\n    '->>':                   '\\\\twoheadrightarrow',\r\n    '>->>':                  '\\\\twoheadrightarrowtail'\r\n*/\r\n};\r\n\r\n\r\n/**\r\n * Return an array of potential shortcuts\r\n * @param {string} s\r\n * @param {object} config\r\n * @return {string[]}\r\n * @private\r\n */\r\nfunction startsWithString(s, config) {\r\n    const result = [];\r\n\r\n    for (let i = 0; i <= s.length - 1; i++) {\r\n        const s2 = s.substring(i);\r\n        const skipDefaultShortcuts = config && config.overrideDefaultInlineShortcuts;\r\n        if (!skipDefaultShortcuts) {\r\n            Object.keys(INLINE_SHORTCUTS).forEach(key => {\r\n                if (key.startsWith(s2) && !result.includes(key)) {\r\n                    result.push(key);\r\n                }\r\n            });\r\n        }\r\n\r\n        const customInlineShortcuts = config && config.inlineShortcuts ?\r\n            config.inlineShortcuts : null;\r\n        if (customInlineShortcuts) {\r\n            Object.keys(customInlineShortcuts).forEach(key => {\r\n                if (key.startsWith(s2)) {\r\n                    result.push(key);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {string} mode\r\n * @param {object[]} siblings atoms preceding this potential shortcut\r\n * @param {string} shortcut\r\n * @private\r\n */\r\nfunction validateShortcut(mode, siblings, shortcut) {\r\n    if (!shortcut) return shortcut\r\n    // If it's a simple shortcut (no conditional), it's valid\r\n    if (typeof shortcut === 'string') return shortcut\r\n\r\n    if (typeof shortcut.mode === 'string' && shortcut.mode !== mode) return null;\r\n\r\n    // If we have no context, we assume all the shortcuts are valid\r\n    if (!siblings) return shortcut ? shortcut.value : undefined;\r\n    \r\n    let nothing = false;\r\n    let letter = false;\r\n    let digit = false;\r\n    let isFunction = false;\r\n    let frac = false;\r\n    let surd = false;\r\n    let binop = false;\r\n    let relop = false;\r\n    let punct = false;\r\n    let array = false;\r\n    let openfence = false;\r\n    let closefence = false;\r\n    let text = false;\r\n    let space = false;\r\n    let sibling = siblings[siblings.length - 1];\r\n    let index = siblings.length - 1;\r\n    while (sibling && /msubsup|placeholder/.test(sibling.type)) {\r\n        index -= 1;\r\n        sibling = siblings[index];\r\n    }\r\n    nothing = !sibling || sibling.type === 'first';         // start of a group\r\n    if (sibling) {\r\n        text = sibling.mode === 'text';\r\n        letter = !text && sibling.type === 'mord' && Definitions.LETTER.test(sibling.body);\r\n        digit = !text && sibling.type === 'mord' && /[0-9]+$/.test(sibling.body);\r\n        isFunction = !text && sibling.isFunction;\r\n        frac = sibling.type === 'genfrac';\r\n        surd = sibling.type === 'surd';\r\n        binop = sibling.type === 'mbin';\r\n        relop = sibling.type === 'mrel';\r\n        punct = sibling.type === 'mpunct' || sibling.type === 'minner';\r\n        array = sibling.array;\r\n        openfence = sibling.type === 'mopen';\r\n        closefence = sibling.type === 'mclose' || sibling.type === 'leftright';\r\n        space = sibling.type === 'space';\r\n    }\r\n\r\n    if (typeof shortcut.after !== 'undefined') {\r\n        // If this is a conditional shortcut, consider the conditions now\r\n        if (    (/nothing/.test(shortcut.after) && nothing) ||\r\n                (/letter/.test(shortcut.after) && letter) ||\r\n                (/digit/.test(shortcut.after) && digit) ||\r\n                (/function/.test(shortcut.after) && isFunction) ||\r\n                (/frac/.test(shortcut.after) && frac) ||\r\n                (/surd/.test(shortcut.after) && surd) ||\r\n                (/binop/.test(shortcut.after) && binop) ||\r\n                (/relop/.test(shortcut.after) && relop) ||\r\n                (/punct/.test(shortcut.after) && punct) ||\r\n                (/array/.test(shortcut.after) && array) ||\r\n                (/openfence/.test(shortcut.after) && openfence) ||\r\n                (/closefence/.test(shortcut.after) && closefence) ||\r\n                (/text/.test(shortcut.after) && text) ||\r\n                (/space/.test(shortcut.after) && space)){\r\n            return shortcut.value;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    return shortcut.value;\r\n}\r\n\r\n/**\r\n * This function is used to resolve inline shortcuts.\r\n *\r\n * @param {string} mode\r\n * @param {string} context - atoms preceding the candidate, potentially used\r\n * to reduce which shortcuts are applicable. If 'null', no restrictions are\r\n * applied.\r\n * @param {string} s - candidate inline shortcuts (e.g. `'pi'`)\r\n * @param {object} config\r\n * @return {string} - A replacement string matching the shortcut (e.g. `'\\pi'`)\r\n * @memberof module:editor/shortcuts\r\n * @private\r\n */\r\nfunction forString(mode, context, s, config) {\r\n    let result = '';\r\n\r\n    const skipDefaultShortcuts = config && config.overrideDefaultInlineShortcuts;\r\n    if (!skipDefaultShortcuts) {\r\n        result = validateShortcut(mode, context, INLINE_SHORTCUTS[s]);\r\n    }\r\n\r\n    const customInlineShortcuts = config && config.inlineShortcuts ?\r\n        config.inlineShortcuts : null;\r\n    let customResult;\r\n    if (customInlineShortcuts) {\r\n        customResult = validateShortcut(mode, context, customInlineShortcuts[s]);\r\n    }\r\n    \r\n    return customResult || result;\r\n}\r\n\r\n/**\r\n * Return `p`, the platform name if `p` is the current platform, otherwise\r\n * return `!p`. For example, when running on Windows, `platform('mac')` returns\r\n * `'!mac'`.\r\n * The valid values for `p` are:\r\n * - `'mac'`\r\n * - `'win'`\r\n * - `'android`'\r\n * - `'ios'`\r\n * - `'chromeos'`\r\n * - `'other'` (Linux, etc...)\r\n * @param {string} p The platform to test against.\r\n * @return {string} if we are running on the candidate platform, return it.\r\n * Otherwise, return \"!\" + candidate.\r\n * @memberof module:editor/shortcuts\r\n * @private\r\n */\r\nfunction platform(p) {\r\n    let result = 'other';\r\n    if (navigator && navigator.platform && navigator.userAgent) {\r\n        if (/^(mac)/i.test(navigator.platform)) {\r\n            result = 'mac';\r\n        } else if (/^(win)/i.test(navigator.platform)) {\r\n            result = 'win';\r\n        } else if (/(android)/i.test(navigator.userAgent)) {\r\n            result = 'android';\r\n        } else if (/(iphone)/i.test(navigator.userAgent) ||\r\n                    /(ipod)/i.test(navigator.userAgent) ||\r\n                    /(ipad)/i.test(navigator.userAgent)) {\r\n            result = 'ios';\r\n        } else if (/\\bCrOS\\b/i.test(navigator.userAgent)) {\r\n            result = 'chromeos';\r\n        }\r\n    }\r\n\r\n    return result === p ? p : '!' + p;\r\n}\r\n\r\n/**\r\n * Return the selector matching the keystroke.\r\n *\r\n * @param {string} mode\r\n * @param {string} keystroke\r\n * @return {string}\r\n * @memberof module:editor/shortcuts\r\n * @private\r\n */\r\nfunction selectorForKeystroke(mode, keystroke) {\r\n    for (const c of [\r\n        platform('mac') + ':' + mode + ':' + keystroke,\r\n        platform('win') + ':' + mode + ':' + keystroke,\r\n        platform('ios') + ':' + mode + ':' + keystroke,\r\n        platform('android') + ':' + mode + ':' + keystroke,\r\n        platform('chromeos') + ':' + mode + ':' + keystroke,\r\n        platform('other') + ':' + mode + ':' + keystroke,\r\n\r\n        platform('mac') + ':' + keystroke,\r\n        platform('win') + ':' + keystroke,\r\n        platform('ios') + ':' + keystroke,\r\n        platform('android') + ':' + keystroke,\r\n        platform('chromeos') + ':' + keystroke,\r\n\r\n        mode + ':' + keystroke,\r\n\r\n        keystroke,\r\n    ]) {\r\n        if (KEYBOARD_SHORTCUTS[c]) {\r\n            return KEYBOARD_SHORTCUTS[c];\r\n        }\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\nfunction commandToString(command) {\r\n    let result = command;\r\n\r\n    if (Array.isArray(result) && result.length > 0) {\r\n        result = result[0] + '(' + result.slice(1).join('') + ')';\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction forCommand(command) {\r\n    let result = [];\r\n\r\n    if (typeof command === 'string') {\r\n        const candidate = REVERSE_KEYBOARD_SHORTCUTS[command];\r\n        if (Array.isArray(candidate)) {\r\n            result = candidate.slice();\r\n        } else if (candidate) {\r\n            result.push(candidate);\r\n        }\r\n    }\r\n\r\n    // A command can be either a simple selector, or a selector\r\n    // with arguments. Normalize it to a string\r\n    command = commandToString(command);\r\n\r\n    const regex = new RegExp('^' +\r\n        command.replace('\\\\','\\\\\\\\').\r\n            replace('|', '\\\\|').\r\n            replace('*', '\\\\*').\r\n            replace('$', '\\\\$').\r\n            replace('^', '\\\\^')\r\n        + '([^*a-zA-Z]|$)');\r\n    Object.keys(KEYBOARD_SHORTCUTS).forEach(shortcut  => {\r\n            if (regex.test(commandToString(KEYBOARD_SHORTCUTS[shortcut]))) {\r\n                const m = shortcut.match(/:([^:]*)$/);\r\n                if (m) result.push(m[1]);\r\n            }\r\n        }\r\n    );\r\n\r\n    return stringify(result);\r\n}\r\n\r\n/**\r\n * Return a human readable representation of an array of shortcut strings\r\n * @param {Object<string,string>} shortcuts\r\n * @param {?string} join - optional, string in between each shortcut representation\r\n * @memberof module:editor/shortcuts\r\n * @private\r\n */\r\nfunction stringify(shortcuts, join) {\r\n    let result = '';\r\n    if (!Array.isArray(shortcuts)) shortcuts = [shortcuts];\r\n    for (const shortcut of shortcuts) {\r\n        let keyboardShortcut;\r\n        const platMatch = shortcut.match(/(^[^:]*):/);\r\n        const plat = platMatch ? platMatch[1] : '';\r\n\r\n        if (plat === platform('mac') ||\r\n            plat === platform('win') ||\r\n            plat === platform('ios') ||\r\n            plat === platform('android') ||\r\n            plat === platform('chromeos') ||\r\n            plat === platform('other')) {\r\n\r\n            const m = shortcut.match(/:([^:]*)$/);\r\n            keyboardShortcut = m ? m[1] : shortcut;\r\n        } else if (!['mac', '!mac', 'win', '!win', 'ios', '!ios', 'android',\r\n            '!android', 'chromeos', '!chromeos', 'other', '!other'].includes(plat)) {\r\n            const m = shortcut.match(/:([^:]*)$/);\r\n            keyboardShortcut = m ? m[1] : shortcut;\r\n        }\r\n        if (keyboardShortcut) {\r\n\r\n            const useSymbol = platform('mac') === 'mac' ||\r\n                                platform('ios') === 'ios';\r\n            const modifiers = keyboardShortcut.length > 1 ?\r\n                keyboardShortcut.split('-') : [keyboardShortcut];\r\n            let shortcutString = '';\r\n            for (const modifier of modifiers) {\r\n                if (!useSymbol && shortcutString.length > 0) {\r\n                    shortcutString += '<span class=\"ML__shortcut-join\">+</span>';\r\n                }\r\n                if (modifier.substr(0, 3) === 'Key') {\r\n                    shortcutString += modifier.substr(3, 1);\r\n                } else if (modifier.substr(0, 5) === 'Digit') {\r\n                    shortcutString += modifier.substr(5, 1);\r\n                } else {\r\n                    shortcutString += {\r\n                        'Meta':         useSymbol ? '\\u2318' : 'command',\r\n                        'Shift':        useSymbol ? '\\u21e7' : 'shift',\r\n                        'Alt':          useSymbol ? '\\u2325' : 'alt',\r\n                        'Ctrl':         useSymbol ? '\\u2303' : 'control',\r\n                        '\\n':           useSymbol ? '\\u23ce' : 'return',\r\n                        'Return':       useSymbol ? '\\u23ce' : 'return',\r\n                        'Enter':        useSymbol ? '\\u2324' : 'enter',\r\n                        'Tab':          useSymbol ? '\\u21e5' : 'tab',\r\n                        // 'Esc':          useSymbol ? '\\u238b' : 'esc',\r\n                        'Esc':          'esc',\r\n\r\n                        'Backspace':    useSymbol ? '\\u232b' : 'backspace',\r\n                        'Del':          useSymbol ? '\\u2326' : 'del',\r\n                        'PageUp':       useSymbol ? '\\u21de' : 'page up',\r\n                        'PageDown':     useSymbol ? '\\u21df' : 'page down',\r\n                        'Home':         useSymbol ? '\\u2912' : 'home',\r\n                        'End':          useSymbol ? '\\u2913' : 'end',\r\n                        'Spacebar':     'space',\r\n                        'Semicolon':    ';',\r\n                        'Period':       '.',\r\n                        'Comma':        ',',\r\n                        'Minus':        '-',\r\n                        'Equal':        '=',\r\n                        'Quote':        '\\'',\r\n                        'BracketLeft':  '[',\r\n                        'BracketRight': ']',\r\n                        'Backslash':    '\\\\',\r\n                        'IntlBackslash':    '\\\\',\r\n                        'Backquote':    '`',\r\n                        'Slash':        '/',\r\n                        'NumpadMultiply': '* &#128290;',\r\n                        'NumpadDivide': '/ &#128290;',  // Numeric keypad\r\n                        'NumpadSubtract': '- &#128290;',\r\n                        'NumpadAdd':    '+ &#128290;',\r\n                        'NumpadDecimal':    '. &#128290;',\r\n                        'NumpadComma':    ', &#128290;',\r\n                        'Help':         'help',\r\n                        'Left':         '\\u21E0',\r\n                        'Up':           '\\u21E1',\r\n                        'Right':        '\\u21E2',\r\n                        'Down':         '\\u21E3',\r\n                    }[modifier] || modifier;\r\n                }\r\n            }\r\n\r\n            if (result.length > 0) {\r\n                result += join || ' or ';\r\n            }\r\n            // if (shortcutString.length === 1) {\r\n            //     shortcutString = shortcutString + ' (U+' +\r\n            //         ('0000' + shortcutString.codePointAt(0).toString(16)).substr(-4) +\r\n            //         ')';\r\n            // }\r\n            result += shortcutString;\r\n\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nexport default {\r\n    KEYBOARD_SHORTCUTS,\r\n    INLINE_SHORTCUTS,\r\n    stringify,\r\n    startsWithString,\r\n    forString,\r\n    selectorForKeystroke,\r\n    forCommand\r\n}\r\n\r\n\r\n\r\n","/**\r\n * This module contains the definition of a data structure representing a list\r\n * of math atoms that can be edited. It is an in-memory representation of a\r\n * mathematical expression whose elements, math atoms, can be removed,\r\n * inserted or re-arranged. In addition, the data structure keeps track\r\n * of a selection, which can be either an insertion point — the selection is\r\n * then said to be _collapsed_ — or a range of atoms.\r\n *\r\n * See {@linkcode EditableMathlist}\r\n *\r\n * @module editor/editableMathlist\r\n * @private\r\n */\r\nimport Definitions from \"../core/definitions.js\";\r\nimport MathAtom from \"../core/mathAtom.js\";\r\nimport Lexer from \"../core/lexer.js\";\r\nimport ParserModule from \"../core/parser.js\";\r\nimport MathPath from \"./editor-mathpath.js\";\r\nimport Shortcuts from \"./editor-shortcuts.js\";\r\n\r\nfunction isEmptyMathlist(mathlist) {\r\n    return (\r\n        mathlist.length === 0 ||\r\n        (mathlist.length === 1 && mathlist[0].type === \"first\")\r\n    );\r\n}\r\n\r\n/**\r\n *\r\n * **Note**\r\n * - Method names that _begin with_ an underbar `_` are private and meant\r\n * to be used only by the implementation of the class.\r\n * - Method names that _end with_ an underbar `_` are selectors. They can\r\n * be invoked by calling [`MathField.$perform()`]{@link MathField#$perform}.\r\n * They will be dispatched to an instance of `MathEditableList` as necessary.\r\n * Note that the selector name does not include the underbar.\r\n *\r\n * For example:\r\n * ```\r\n *    mf.$perform('selectAll');\r\n * ```\r\n *\r\n * @param {Object.<string, any>} config\r\n * @param {HTMLElement} target - A target object passed as the first argument of\r\n * callback functions. Typically, a MathField.\r\n * @property {MathAtom[]} root - The root element of the math expression.\r\n * @property {Object[]} path - The path to the element that is the\r\n * anchor for the selection.\r\n * @property {number} extent - Number of atoms in the selection. `0` if the\r\n * selection is collapsed.\r\n * @property {Object.<string, any>} config\r\n * @property {boolean} suppressChangeNotifications - If true,\r\n * the handlers for notification change won't be called.\r\n * @class\r\n * @global\r\n * @private\r\n * @memberof module:editor/editableMathlist\r\n */\r\nfunction EditableMathlist(config, target) {\r\n    this.root = MathAtom.makeRoot();\r\n    this.path = [{ relation: \"body\", offset: 0 }];\r\n    this.extent = 0;\r\n\r\n    this.config = config ? { ...config } : {};\r\n    this.target = target;\r\n\r\n    this.suppressChangeNotifications = false;\r\n}\r\n\r\nfunction clone(mathlist) {\r\n    const result = Object.assign(\r\n        new EditableMathlist(mathlist.config, mathlist.target),\r\n        mathlist\r\n    );\r\n    result.path = MathPath.clone(mathlist.path);\r\n    return result;\r\n}\r\n\r\nEditableMathlist.prototype._announce = function(command, mathlist, atoms) {\r\n    if (typeof this.config.onAnnounce === \"function\") {\r\n        this.config.onAnnounce(this.target, command, mathlist, atoms);\r\n    }\r\n};\r\n\r\n/**\r\n * Iterate over each atom in the expression, starting with the focus.\r\n *\r\n * Return an array of all the paths for which the callback predicate\r\n * returned true.\r\n *\r\n * @param {function} cb - A predicate being passed a path and the atom at this\r\n * path. Return true to include the designated atom in the result.\r\n * @param {number} dir - `+1` to iterate forward, `-1` to iterate backward.\r\n * @return {MathAtom[]} The atoms for which the predicate is true\r\n * @method EditableMathlist#filter\r\n * @private\r\n */\r\nEditableMathlist.prototype.filter = function(cb, dir) {\r\n    dir = dir < 0 ? -1 : +1;\r\n\r\n    const result = [];\r\n\r\n    const iter = new EditableMathlist();\r\n    iter.path = MathPath.clone(this.path);\r\n    iter.extent = this.extent;\r\n    iter.root = this.root;\r\n\r\n    if (dir >= 0) {\r\n        iter.collapseForward();\r\n    } else {\r\n        iter.collapseBackward();\r\n        iter.move(1);\r\n    }\r\n    const initialAnchor = iter.anchor();\r\n    do {\r\n        if (cb.bind(iter)(iter.path, iter.anchor())) {\r\n            result.push(iter.toString());\r\n        }\r\n        if (dir >= 0) {\r\n            iter.next({ iterateAll: true });\r\n        } else {\r\n            iter.previous({ iterateAll: true });\r\n        }\r\n    } while (initialAnchor !== iter.anchor());\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * Enumerator\r\n * @param {function} cb - A callback called for each atom in the mathlist.\r\n * @method EditableMathlist#forEach\r\n * @private\r\n */\r\nEditableMathlist.prototype.forEach = function(cb) {\r\n    this.root.forEach(cb);\r\n};\r\n\r\n/**\r\n *\r\n * @param {function} cb - A callback called for each selected atom in the\r\n * mathlist.\r\n * @method EditableMathlist#forEachSelected\r\n * @private\r\n */\r\nEditableMathlist.prototype.forEachSelected = function(cb, options) {\r\n    options = options || {};\r\n    options.recursive =\r\n        typeof options.recursive !== \"undefined\" ? options.recursive : false;\r\n    const siblings = this.siblings();\r\n    const firstOffset = this.startOffset() + 1;\r\n    const lastOffset = this.endOffset() + 1;\r\n    if (options.recursive) {\r\n        for (let i = firstOffset; i < lastOffset; i++) {\r\n            if (siblings[i] && siblings[i].type !== \"first\") {\r\n                siblings[i].forEach(cb);\r\n            }\r\n        }\r\n    } else {\r\n        for (let i = firstOffset; i < lastOffset; i++) {\r\n            if (siblings[i] && siblings[i].type !== \"first\") {\r\n                cb(siblings[i]);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Return a string representation of the selection.\r\n * @todo This is a bad name for this function, since it doesn't return\r\n * a representation of the content, which one might expect...\r\n *\r\n * @return {string}\r\n * @method EditableMathlist#toString\r\n * @private\r\n */\r\nEditableMathlist.prototype.toString = function() {\r\n    return MathPath.pathToString(this.path, this.extent);\r\n};\r\n\r\n/**\r\n * When changing the selection, if the former selection is an empty list,\r\n * insert a placeholder if necessary. For example, if in an empty numerator.\r\n * @private\r\n */\r\nEditableMathlist.prototype.adjustPlaceholder = function() {\r\n    // Should we insert a placeholder?\r\n    // Check if we're an empty list that is the child of a fraction\r\n    const siblings = this.siblings();\r\n    if (siblings && siblings.length <= 1) {\r\n        let placeholder;\r\n        const relation = this.relation();\r\n        if (relation === \"numer\") {\r\n            placeholder = \"numerator\";\r\n        } else if (relation === \"denom\") {\r\n            placeholder = \"denominator\";\r\n        } else if (this.parent().type === \"surd\" && relation === \"body\") {\r\n            // Surd (roots)\r\n            placeholder = \"radicand\";\r\n        } else if (this.parent().type === \"overunder\" && relation === \"body\") {\r\n            placeholder = \"base\";\r\n        } else if (relation === \"underscript\" || relation === \"overscript\") {\r\n            placeholder = \"annotation\";\r\n        }\r\n        if (placeholder) {\r\n            // ◌ ⬚\r\n            const placeholderAtom = [\r\n                new MathAtom.MathAtom(\r\n                    \"math\",\r\n                    \"placeholder\",\r\n                    \"⬚\",\r\n                    this.anchorStyle()\r\n                )\r\n            ];\r\n            Array.prototype.splice.apply(\r\n                siblings,\r\n                [1, 0].concat(placeholderAtom)\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.selectionWillChange = function() {\r\n    if (\r\n        typeof this.config.onSelectionWillChange === \"function\" &&\r\n        !this.suppressChangeNotifications\r\n    ) {\r\n        this.config.onSelectionWillChange(this.target);\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.selectionDidChange = function() {\r\n    if (\r\n        typeof this.config.onSelectionDidChange === \"function\" &&\r\n        !this.suppressChangeNotifications\r\n    ) {\r\n        this.config.onSelectionDidChange(this.target);\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.contentWillChange = function() {\r\n    if (\r\n        typeof this.config.onContentWillChange === \"function\" &&\r\n        !this.suppressChangeNotifications\r\n    ) {\r\n        this.config.onContentWillChange(this.target);\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.contentDidChange = function() {\r\n    if (\r\n        typeof this.config.onContentDidChange === \"function\" &&\r\n        !this.suppressChangeNotifications\r\n    ) {\r\n        this.config.onContentDidChange(this.target);\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @param {string|Array} selection\r\n * @param {number} extent the length of the selection\r\n * @return {boolean} true if the path has actually changed\r\n * @method EditableMathlist#setPath\r\n * @private\r\n */\r\nEditableMathlist.prototype.setPath = function(selection, extent) {\r\n    // Convert to a path array if necessary\r\n    if (typeof selection === \"string\") {\r\n        selection = MathPath.pathFromString(selection);\r\n    } else if (Array.isArray(selection)) {\r\n        // need to temporarily change the path of this to use 'sibling()'\r\n        const newPath = MathPath.clone(selection);\r\n        const oldPath = this.path;\r\n        this.path = newPath;\r\n        if (extent === 0 && this.anchor().type === \"placeholder\") {\r\n            // select the placeholder\r\n            newPath[newPath.length - 1].offset = 0;\r\n            extent = 1;\r\n        }\r\n        selection = {\r\n            path: newPath,\r\n            extent: extent || 0\r\n        };\r\n        this.path = oldPath;\r\n    }\r\n\r\n    const pathChanged = MathPath.pathDistance(this.path, selection.path) !== 0;\r\n    const extentChanged = selection.extent !== this.extent;\r\n\r\n    if (pathChanged || extentChanged) {\r\n        if (pathChanged) {\r\n            this.adjustPlaceholder();\r\n        }\r\n        this.selectionWillChange();\r\n\r\n        this.path = MathPath.clone(selection.path);\r\n\r\n        if (this.siblings().length < this.anchorOffset()) {\r\n            // The new path is out of bounds.\r\n            // Reset the path to something valid\r\n            console.warn(\r\n                \"Invalid selection: \" +\r\n                    this.toString() +\r\n                    ' in \"' +\r\n                    this.root.toLatex() +\r\n                    '\"'\r\n            );\r\n\r\n            this.path = [{ relation: \"body\", offset: 0 }];\r\n            this.extent = 0;\r\n        } else {\r\n            this.setExtent(selection.extent);\r\n        }\r\n\r\n        this.selectionDidChange();\r\n    }\r\n\r\n    return pathChanged || extentChanged;\r\n};\r\n\r\nEditableMathlist.prototype.wordBoundary = function(path, dir) {\r\n    dir = dir < 0 ? -1 : +1;\r\n\r\n    const iter = new EditableMathlist();\r\n    iter.path = MathPath.clone(path);\r\n    iter.root = this.root;\r\n\r\n    let i = 0;\r\n    while (\r\n        iter.sibling(i) &&\r\n        iter.sibling(i).mode === \"text\" &&\r\n        Definitions.LETTER_AND_DIGITS.test(iter.sibling(i).body)\r\n    ) {\r\n        i += dir;\r\n    }\r\n    if (!iter.sibling(i)) i -= dir;\r\n    iter.path[iter.path.length - 1].offset += i;\r\n    return iter.path;\r\n};\r\n\r\n/*\r\n * Calculates the offset of the \"next word\".\r\n * This is inspired by the behavior of text editors on macOS, namely:\r\n    blue   yellow\r\n      ^-\r\n         ^-------\r\n * That is:\r\n\r\n * (1) If starts with an alphanumerical character, find the first alphanumerical\r\n * character which is followed by a non-alphanumerical character\r\n *\r\n * The behavior regarding non-alphanumeric characters is less consistent.\r\n * Here's the behavior we use:\r\n *\r\n *   +=-()_:”     blue\r\n * ^---------\r\n *   +=-()_:”     blue\r\n *      ^---------\r\n *   +=-()_:”blue\r\n *      ^--------\r\n *\r\n * (2) If starts in whitespace, skip whitespace, then find first non-whitespace*\r\n *    followed by whitespace\r\n * (*) Pages actually uses the character class of the first non-whitespace\r\n * encountered.\r\n *\r\n * (3) If starts in a non-whitespace, non alphanumerical character, find the first\r\n *      whitespace\r\n *\r\n */\r\nEditableMathlist.prototype.wordBoundaryOffset = function(offset, dir) {\r\n    dir = dir < 0 ? -1 : +1;\r\n\r\n    const siblings = this.siblings();\r\n    if (!siblings[offset]) return offset;\r\n    if (siblings[offset].mode !== \"text\") return offset;\r\n\r\n    let result;\r\n    if (Definitions.LETTER_AND_DIGITS.test(siblings[offset].body)) {\r\n        // (1) We start with an alphanumerical character\r\n        let i = offset;\r\n        let match;\r\n        do {\r\n            match =\r\n                siblings[i].mode === \"text\" &&\r\n                Definitions.LETTER_AND_DIGITS.test(siblings[i].body);\r\n            i += dir;\r\n        } while (siblings[i] && match);\r\n        result = siblings[i] ? i - 2 * dir : i - dir;\r\n    } else if (/\\s/.test(siblings[offset].body)) {\r\n        // (2) We start with whitespace\r\n\r\n        // Skip whitespace\r\n        let i = offset;\r\n        while (\r\n            siblings[i] &&\r\n            siblings[i].mode === \"text\" &&\r\n            /\\s/.test(siblings[i].body)\r\n        ) {\r\n            i += dir;\r\n        }\r\n        if (!siblings[i]) {\r\n            // We've reached the end\r\n            result = i - dir;\r\n        } else {\r\n            let match = true;\r\n            do {\r\n                match =\r\n                    siblings[i].mode === \"text\" && !/\\s/.test(siblings[i].body);\r\n                i += dir;\r\n            } while (siblings[i] && match);\r\n            result = siblings[i] ? i - 2 * dir : i - dir;\r\n        }\r\n    } else {\r\n        // (3)\r\n        let i = offset;\r\n        // Skip non-whitespace\r\n        while (\r\n            siblings[i] &&\r\n            siblings[i].mode === \"text\" &&\r\n            !/\\s/.test(siblings[i].body)\r\n        ) {\r\n            i += dir;\r\n        }\r\n        result = siblings[i] ? i : i - dir;\r\n        let match = true;\r\n        while (siblings[i] && match) {\r\n            match = siblings[i].mode === \"text\" && /\\s/.test(siblings[i].body);\r\n            if (match) result = i;\r\n            i += dir;\r\n        }\r\n        result = siblings[i] ? i - 2 * dir : i - dir;\r\n    }\r\n\r\n    return result - (dir > 0 ? 0 : 1);\r\n};\r\n\r\n/**\r\n * Extend the selection between `from` and `to` nodes\r\n *\r\n * @param {string[]} from\r\n * @param {string[]} to\r\n * @param {object} options\r\n * - options.extendToWordBoundary\r\n * @method EditableMathlist#setRange\r\n * @return {boolean} true if the range was actually changed\r\n * @private\r\n */\r\nEditableMathlist.prototype.setRange = function(from, to, options) {\r\n    options = options || {};\r\n    // Measure the 'distance' between `from` and `to`\r\n    const distance = MathPath.pathDistance(from, to);\r\n    if (distance === 0) {\r\n        // `from` and `to` are equal.\r\n\r\n        if (options.extendToWordBoundary) {\r\n            from = this.wordBoundary(from, -1);\r\n            to = this.wordBoundary(to, +1);\r\n            return this.setRange(from, to);\r\n        }\r\n\r\n        // Set the path to a collapsed insertion point\r\n        return this.setPath(MathPath.clone(from), 0);\r\n    }\r\n\r\n    if (distance === 1) {\r\n        const extent = to[to.length - 1].offset - from[from.length - 1].offset;\r\n        if (options.extendToWordBoundary) {\r\n            from = this.wordBoundary(from, extent < 0 ? +1 : -1);\r\n            to = this.wordBoundary(to, extent < 0 ? -1 : +1);\r\n            return this.setRange(from, to);\r\n        }\r\n        // They're siblings, set an extent\r\n        return this.setPath(MathPath.clone(from), extent);\r\n    }\r\n\r\n    // They're neither identical, not siblings.\r\n\r\n    // Find the common ancestor between the nodes\r\n    let commonAncestor = MathPath.pathCommonAncestor(from, to);\r\n    const ancestorDepth = commonAncestor.length;\r\n    if (\r\n        from.length === ancestorDepth ||\r\n        to.length === ancestorDepth ||\r\n        from[ancestorDepth].relation !== to[ancestorDepth].relation\r\n    ) {\r\n        return this.setPath(commonAncestor, -1);\r\n    }\r\n\r\n    commonAncestor.push(from[ancestorDepth]);\r\n    commonAncestor = MathPath.clone(commonAncestor);\r\n\r\n    let extent = to[ancestorDepth].offset - from[ancestorDepth].offset + 1;\r\n\r\n    if (extent <= 0) {\r\n        if (to.length > ancestorDepth + 1) {\r\n            // axb/c+y -> select from y to x\r\n            commonAncestor[ancestorDepth].relation = to[ancestorDepth].relation;\r\n            commonAncestor[ancestorDepth].offset = to[ancestorDepth].offset;\r\n            commonAncestor[commonAncestor.length - 1].offset -= 1;\r\n            extent = -extent + 2;\r\n        } else {\r\n            // x+(ayb/c) -> select from y to x\r\n            commonAncestor[ancestorDepth].relation = to[ancestorDepth].relation;\r\n            commonAncestor[ancestorDepth].offset = to[ancestorDepth].offset;\r\n            extent = -extent + 1;\r\n        }\r\n    } else if (to.length <= from.length) {\r\n        // axb/c+y -> select from x to y\r\n        commonAncestor[commonAncestor.length - 1].offset -= 1;\r\n    } else if (to.length > from.length) {\r\n        commonAncestor[ancestorDepth].offset -= 1;\r\n    }\r\n\r\n    return this.setPath(commonAncestor, extent);\r\n};\r\n\r\n/**\r\n * Convert an array row/col into an array index.\r\n * @param {MathAtom[][]} array\r\n * @param {object} rowCol\r\n * @return {number}\r\n * @private\r\n */\r\nfunction arrayIndex(array, rowCol) {\r\n    let result = 0;\r\n\r\n    for (let i = 0; i < rowCol.row; i++) {\r\n        for (let j = 0; j < array[i].length; j++) {\r\n            result += 1;\r\n        }\r\n    }\r\n    result += rowCol.col;\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Convert an array index (scalar) to an array row/col.\r\n * @param {MathAtom[][]} array\r\n * @param {number|string} index\r\n * @return {object}\r\n * - row: number\r\n * - col: number\r\n * @private\r\n */\r\nfunction arrayColRow(array, index) {\r\n    if (typeof index === \"string\") {\r\n        const m = index.match(/cell([0-9]*)$/);\r\n        if (m) index = parseInt(m[1]);\r\n    }\r\n    const result = { row: 0, col: 0 };\r\n    while (index > 0) {\r\n        result.col += 1;\r\n        if (!array[result.row] || result.col >= array[result.row].length) {\r\n            result.col = 0;\r\n            result.row += 1;\r\n        }\r\n        index -= 1;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Return the array cell corresponding to colrow or null (for example in\r\n * a sparse array)\r\n *\r\n * @param {MathAtom[][]} array\r\n * @param {number|string|object} colrow\r\n * @private\r\n */\r\nfunction arrayCell(array, colrow) {\r\n    if (typeof colrow !== \"object\") colrow = arrayColRow(array, colrow);\r\n    let result;\r\n    if (Array.isArray(array[colrow.row])) {\r\n        result = array[colrow.row][colrow.col] || null;\r\n    }\r\n    // If the 'first' math atom is missing, insert it\r\n    if (result && (result.length === 0 || result[0].type !== \"first\")) {\r\n        result.unshift(makeFirstAtom());\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Total numbers of cells (include sparse cells) in the array.\r\n * @param {MathAtom[][]} array\r\n * @private\r\n */\r\nfunction arrayCellCount(array) {\r\n    let result = 0;\r\n    let numRows = 0;\r\n    let numCols = 1;\r\n    for (const row of array) {\r\n        numRows += 1;\r\n        if (row.length > numCols) numCols = row.length;\r\n    }\r\n    result = numRows * numCols;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Join all the cells at the indicated row into a single mathlist\r\n * @param {MathAtom[]} row\r\n * @param {string} separator\r\n * @param {object} style\r\n * @return {MathAtom[]}\r\n * @private\r\n */\r\nfunction arrayJoinColumns(row, separator, style) {\r\n    if (!row) return [];\r\n    if (!separator) separator = \",\";\r\n    let result = [];\r\n    let sep;\r\n    for (let cell of row) {\r\n        if (cell && cell.length > 0 && cell[0].type === \"first\") {\r\n            // Remove the 'first' atom, if present\r\n            cell = cell.slice(1);\r\n        }\r\n        if (cell && cell.length > 0) {\r\n            if (sep) {\r\n                result.push(sep);\r\n            } else {\r\n                sep = new MathAtom.MathAtom(\"math\", \"mpunct\", separator, style);\r\n            }\r\n            result = result.concat(cell);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Join all the rows into a single atom list\r\n * @param {MathAtom} array\r\n * @param {strings} separators\r\n * @param {object} style\r\n * @return {MathAtom[]}\r\n * @private\r\n */\r\nfunction arrayJoinRows(array, separators, style) {\r\n    if (!separators) separators = [\";\", \",\"];\r\n    let result = [];\r\n    let sep;\r\n    for (const row of array) {\r\n        if (sep) {\r\n            result.push(sep);\r\n        } else {\r\n            sep = new MathAtom.MathAtom(\"math\", \"mpunct\", separators[0], style);\r\n        }\r\n        result = result.concat(arrayJoinColumns(row, separators[1]));\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Return the number of non-empty cells in that column\r\n * @param {MathAtom} array\r\n * @param {number} col\r\n * @return {number}\r\n * @private\r\n */\r\nfunction arrayColumnCellCount(array, col) {\r\n    let result = 0;\r\n    const colRow = { col: col, row: 0 };\r\n    while (colRow.row < array.length) {\r\n        const cell = arrayCell(array, colRow);\r\n        if (cell && cell.length > 0) {\r\n            let cellLen = cell.length;\r\n            if (cell[0].type === \"first\") cellLen -= 1;\r\n            if (cellLen > 0) {\r\n                result += 1;\r\n            }\r\n        }\r\n        colRow.row += 1;\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Remove the indicated column from the array\r\n * @param {MathAtom} array\r\n * @param {number} col\r\n * @private\r\n */\r\nfunction arrayRemoveColumn(array, col) {\r\n    let row = 0;\r\n    while (row < array.length) {\r\n        if (array[row][col]) {\r\n            array[row].splice(col, 1);\r\n        }\r\n        row += 1;\r\n    }\r\n}\r\n\r\n/**\r\n * Remove the indicated row from the array\r\n * @param {MathAtom} atom\r\n * @param {number} row\r\n * @private\r\n */\r\nfunction arrayRemoveRow(array, row) {\r\n    array.splice(row, 1);\r\n}\r\n\r\n/**\r\n * Return the first non-empty cell, row by row\r\n * @param {MathAtom[][]} array\r\n * @return {string}\r\n * @private\r\n */\r\nfunction arrayFirstCellByRow(array) {\r\n    const colRow = { col: 0, row: 0 };\r\n    while (colRow.row < array.length && !arrayCell(array, colRow)) {\r\n        colRow.row += 1;\r\n    }\r\n    return arrayCell(array, colRow) ? \"cell\" + arrayIndex(array, colRow) : \"\";\r\n}\r\n\r\n/**\r\n * Adjust colRow to point to the next/previous available row\r\n * If no more rows, go to the next/previous column\r\n * If no more columns, return null\r\n * @param {MathAtom[][]} array\r\n * @param {object} colRow\r\n * @param {number} dir\r\n * @private\r\n */\r\nfunction arrayAdjustRow(array, colRow, dir) {\r\n    const result = { ...colRow };\r\n    result.row += dir;\r\n    if (result.row < 0) {\r\n        result.col += dir;\r\n        result.row = array.length - 1;\r\n        if (result.col < 0) return null;\r\n        while (result.row >= 0 && !arrayCell(array, result)) {\r\n            result.row -= 1;\r\n        }\r\n        if (result.row < 0) return null;\r\n    } else if (result.row >= array.length) {\r\n        result.col += dir;\r\n        result.row = 0;\r\n        while (result.row < array.length && !arrayCell(array, result)) {\r\n            result.row += 1;\r\n        }\r\n        if (result.row > array.length - 1) return null;\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * @param {number} ancestor distance from self to ancestor.\r\n * - `ancestor` = 0: self\r\n * - `ancestor` = 1: parent\r\n * - `ancestor` = 2: grand-parent\r\n * - etc...\r\n * @return {MathAtom}\r\n * @method EditableMathlist#ancestor\r\n * @private\r\n */\r\nEditableMathlist.prototype.ancestor = function(ancestor) {\r\n    // If the requested ancestor goes beyond what's available,\r\n    // return null\r\n    if (ancestor > this.path.length) return null;\r\n\r\n    // Start with the root\r\n    let result = this.root;\r\n\r\n    // Iterate over the path segments, selecting the appropriate\r\n    for (let i = 0; i < this.path.length - ancestor; i++) {\r\n        const segment = this.path[i];\r\n        if (result.array) {\r\n            result = arrayCell(result.array, segment.relation)[segment.offset];\r\n        } else if (!result[segment.relation]) {\r\n            // There is no such relation... (the path got out of sync with the tree)\r\n            return null;\r\n        } else {\r\n            // Make sure the 'first' atom has been inserted, otherwise\r\n            // the segment.offset might be invalid\r\n            if (\r\n                result[segment.relation].length === 0 ||\r\n                result[segment.relation][0].type !== \"first\"\r\n            ) {\r\n                // debugger\r\n                if (typeof(result[segment.relation]) === 'object') {\r\n                    result[segment.relation].unshift(makeFirstAtom());\r\n                }\r\n            }\r\n            const offset = Math.min(\r\n                segment.offset,\r\n                result[segment.relation].length - 1\r\n            );\r\n            result = result[segment.relation][offset];\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * The atom where the selection starts. When the selection is extended\r\n * the anchor remains fixed. The anchor could be either before or\r\n * after the focus.\r\n *\r\n * @method EditableMathlist#anchor\r\n * @private\r\n */\r\nEditableMathlist.prototype.anchor = function() {\r\n    if (this.parent().array) {\r\n        return arrayCell(this.parent().array, this.relation())[\r\n            this.anchorOffset()\r\n        ];\r\n    }\r\n    const siblings = this.siblings();\r\n    return siblings[Math.min(siblings.length - 1, this.anchorOffset())];\r\n};\r\n\r\nEditableMathlist.prototype.parent = function() {\r\n    return this.ancestor(1);\r\n};\r\n\r\nEditableMathlist.prototype.relation = function() {\r\n    return this.path.length > 0 ? this.path[this.path.length - 1].relation : \"\";\r\n};\r\n\r\nEditableMathlist.prototype.anchorOffset = function() {\r\n    return this.path.length > 0 ? this.path[this.path.length - 1].offset : 0;\r\n};\r\n\r\nEditableMathlist.prototype.focusOffset = function() {\r\n    return this.path.length > 0\r\n        ? this.path[this.path.length - 1].offset + this.extent\r\n        : 0;\r\n};\r\n\r\n/**\r\n * Offset of the first atom included in the selection\r\n * i.e. `=1` => selection starts with and includes first atom\r\n * With expression _x=_ and atoms :\r\n * - 0: _<first>_\r\n * - 1: _x_\r\n * - 2: _=_\r\n *\r\n * - if caret is before _x_:  `start` = 0, `end` = 0\r\n * - if caret is after _x_:   `start` = 1, `end` = 1\r\n * - if _x_ is selected:      `start` = 1, `end` = 2\r\n * - if _x=_ is selected:   `start` = 1, `end` = 3\r\n * @method EditableMathlist#startOffset\r\n * @private\r\n */\r\nEditableMathlist.prototype.startOffset = function() {\r\n    return Math.min(this.focusOffset(), this.anchorOffset());\r\n};\r\n\r\n/**\r\n * Offset of the first atom not included in the selection\r\n * i.e. max value of `siblings.length`\r\n * `endOffset - startOffset = extent`\r\n * @method EditableMathlist#endOffset\r\n * @private\r\n */\r\nEditableMathlist.prototype.endOffset = function() {\r\n    return Math.max(this.focusOffset(), this.anchorOffset());\r\n};\r\n\r\n/**\r\n * If necessary, insert a `first` atom in the sibling list.\r\n * If there's already a `first` atom, do nothing.\r\n * The `first` atom is used as a 'placeholder' to hold the blinking caret when\r\n * the caret is positioned at the very beginning of the mathlist.\r\n * @method EditableMathlist#insertFirstAtom\r\n * @private\r\n */\r\nEditableMathlist.prototype.insertFirstAtom = function() {\r\n    this.siblings();\r\n};\r\n\r\n/**\r\n * @return {MathAtom[]} array of children of the parent\r\n * @method EditableMathlist#siblings\r\n * @private\r\n */\r\nEditableMathlist.prototype.siblings = function() {\r\n    if (this.path.length === 0) return [];\r\n\r\n    let siblings;\r\n    if (this.parent().array) {\r\n        siblings = arrayCell(this.parent().array, this.relation());\r\n    } else {\r\n        siblings = this.parent()[this.relation()] || [];\r\n        if (typeof siblings === \"string\") siblings = [];\r\n    }\r\n\r\n    // If the 'first' math atom is missing, insert it\r\n    if (siblings.length === 0 || siblings[0].type !== \"first\") {\r\n        siblings.unshift(makeFirstAtom());\r\n    }\r\n\r\n    return siblings;\r\n};\r\n\r\n/**\r\n * Sibling, relative to `anchor`\r\n * `sibling(0)` = start of selection\r\n * `sibling(-1)` = sibling immediately left of start offset\r\n * @return {MathAtom}\r\n * @method EditableMathlist#sibling\r\n * @private\r\n */\r\nEditableMathlist.prototype.sibling = function(offset) {\r\n    return this.siblings()[this.startOffset() + offset];\r\n};\r\n\r\n/**\r\n * @return {boolean} True if the selection is an insertion point.\r\n * @method EditableMathlist#isCollapsed\r\n * @private\r\n */\r\nEditableMathlist.prototype.isCollapsed = function() {\r\n    return this.extent === 0;\r\n};\r\n\r\n/**\r\n * @param {number} extent\r\n * @method EditableMathlist#setExtent\r\n * @private\r\n */\r\nEditableMathlist.prototype.setExtent = function(extent) {\r\n    this.extent = extent;\r\n};\r\n\r\nEditableMathlist.prototype.collapseForward = function() {\r\n    if (this.extent === 0) return false;\r\n\r\n    this.setSelection(this.endOffset());\r\n    return true;\r\n};\r\n\r\nEditableMathlist.prototype.collapseBackward = function() {\r\n    if (this.extent === 0) return false;\r\n\r\n    this.setSelection(this.startOffset());\r\n    return true;\r\n};\r\n\r\n/**\r\n * Return true if the atom could be a part of a number\r\n * i.e. \"-12354.568\"\r\n * @param {object} atom\r\n * @private\r\n */\r\nfunction isNumber(atom) {\r\n    if (!atom) return false;\r\n    return (\r\n        (atom.type === \"mord\" && /[0-9.]/.test(atom.body)) ||\r\n        (atom.type === \"mpunct\" && atom.body === \",\")\r\n    );\r\n}\r\n\r\n/**\r\n * Select all the atoms in the current group, that is all the siblings.\r\n * When the selection is in a numerator, the group is the numerator. When\r\n * the selection is a superscript or subscript, the group is the supsub.\r\n * When the selection is in a text zone, the \"group\" is a word.\r\n * @method EditableMathlist#selectGroup_\r\n * @private\r\n */\r\nEditableMathlist.prototype.selectGroup_ = function() {\r\n    const siblings = this.siblings();\r\n    if (this.anchorMode() === \"text\") {\r\n        let start = this.startOffset();\r\n        let end = this.endOffset();\r\n        //\r\n        while (\r\n            siblings[start] &&\r\n            siblings[start].mode === \"text\" &&\r\n            Definitions.LETTER_AND_DIGITS.test(siblings[start].body)\r\n        ) {\r\n            start -= 1;\r\n        }\r\n        while (\r\n            siblings[end] &&\r\n            siblings[end].mode === \"text\" &&\r\n            Definitions.LETTER_AND_DIGITS.test(siblings[end].body)\r\n        ) {\r\n            end += 1;\r\n        }\r\n        end -= 1;\r\n        if (start >= end) {\r\n            // No word found. Select a single character\r\n            this.setSelection(this.endOffset() - 1, 1);\r\n            return;\r\n        }\r\n\r\n        this.setSelection(start, end - start);\r\n    } else {\r\n        // In a math zone, select all the sibling nodes\r\n        if (\r\n            this.sibling(0).type === \"mord\" &&\r\n            /[0-9,.]/.test(this.sibling(0).body)\r\n        ) {\r\n            // In a number, select all the digits\r\n            let start = this.startOffset();\r\n            let end = this.endOffset();\r\n            //\r\n            while (isNumber(siblings[start])) start -= 1;\r\n            while (isNumber(siblings[end])) end += 1;\r\n            end -= 1;\r\n            this.setSelection(start, end - start);\r\n        } else {\r\n            this.setSelection(0, \"end\");\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Select all the atoms in the mathfield.\r\n * @method EditableMathlist#selectAll_\r\n * @private\r\n */\r\nEditableMathlist.prototype.selectAll_ = function() {\r\n    this.path = [{ relation: \"body\", offset: 0 }];\r\n    this.setSelection(0, \"end\");\r\n};\r\n\r\n/**\r\n * Delete everything in the field\r\n * @method EditableMathlist#deleteAll_\r\n * @private\r\n */\r\nEditableMathlist.prototype.deleteAll_ = function() {\r\n    this.selectAll_();\r\n    this.delete_();\r\n};\r\n\r\n/**\r\n *\r\n * @param {MathAtom} atom\r\n * @param {MathAtom} target\r\n * @return {boolean} True if  `atom` is the target, or if one of the\r\n * children of `atom` contains the target\r\n * @function atomContains\r\n * @private\r\n */\r\nfunction atomContains(atom, target) {\r\n    if (!atom) return false;\r\n    if (Array.isArray(atom)) {\r\n        for (const child of atom) {\r\n            if (atomContains(child, target)) return true;\r\n        }\r\n    } else {\r\n        if (atom === target) return true;\r\n\r\n        if (\r\n            [\r\n                \"body\",\r\n                \"numer\",\r\n                \"denom\",\r\n                \"index\",\r\n                \"subscript\",\r\n                \"superscript\",\r\n                \"underscript\",\r\n                \"overscript\"\r\n            ].some(function(value) {\r\n                return value === target || atomContains(atom[value], target);\r\n            })\r\n        )\r\n            return true;\r\n        if (atom.array) {\r\n            for (let i = arrayCellCount(atom.array); i >= 0; i--) {\r\n                if (atomContains(arrayCell(atom.array, i), target)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * @param {MathAtom} atom\r\n * @return {boolean} True if `atom` is within the selection range\r\n * @todo: poorly named, since this is specific to the selection, not the math\r\n * field\r\n * @method EditableMathlist#contains\r\n * @private\r\n */\r\nEditableMathlist.prototype.contains = function(atom) {\r\n    if (this.isCollapsed()) return false;\r\n    const siblings = this.siblings();\r\n    const firstOffset = this.startOffset();\r\n    const lastOffset = this.endOffset();\r\n    for (let i = firstOffset; i < lastOffset; i++) {\r\n        if (atomContains(siblings[i], atom)) return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * @return {MathAtom[]} The currently selected atoms, or `null` if the\r\n * selection is collapsed\r\n * @method EditableMathlist#getSelectedAtoms\r\n * @private\r\n */\r\nEditableMathlist.prototype.getSelectedAtoms = function() {\r\n    if (this.isCollapsed()) return null;\r\n    const result = [];\r\n    const siblings = this.siblings();\r\n    const firstOffset = this.startOffset() + 1;\r\n    const lastOffset = this.endOffset() + 1;\r\n    for (let i = firstOffset; i < lastOffset; i++) {\r\n        if (siblings[i] && siblings[i].type !== \"first\")\r\n            result.push(siblings[i]);\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * Return a `{start:, end:}` for the offsets of the command around the insertion\r\n * point, or null.\r\n * - `start` is the first atom which is of type `command`\r\n * - `end` is after the last atom of type `command`\r\n * @return {object}\r\n * @method EditableMathlist#commandOffsets\r\n * @private\r\n */\r\nEditableMathlist.prototype.commandOffsets = function() {\r\n    const siblings = this.siblings();\r\n    if (siblings.length <= 1) return null;\r\n\r\n    let start = Math.min(this.endOffset(), siblings.length - 1);\r\n    // let start = Math.max(0, this.endOffset());\r\n    if (siblings[start].type !== \"command\") return null;\r\n    while (start > 0 && siblings[start].type === \"command\") start -= 1;\r\n\r\n    let end = this.startOffset() + 1;\r\n    while (end <= siblings.length - 1 && siblings[end].type === \"command\")\r\n        end += 1;\r\n    if (end > start) {\r\n        return { start: start + 1, end: end };\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * @return {string}\r\n * @method EditableMathlist#extractCommandStringAroundInsertionPoint\r\n * @private\r\n */\r\nEditableMathlist.prototype.extractCommandStringAroundInsertionPoint = function(\r\n    beforeInsertionPointOnly\r\n) {\r\n    let result = \"\";\r\n\r\n    const command = this.commandOffsets();\r\n    if (command) {\r\n        const end = beforeInsertionPointOnly\r\n            ? this.anchorOffset() + 1\r\n            : command.end;\r\n        const siblings = this.siblings();\r\n        for (let i = command.start; i < end; i++) {\r\n            // All these atoms are 'command' atom with a body that's\r\n            // a single character\r\n            result += siblings[i].body || \"\";\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\n/**\r\n * @param {boolean} value If true, decorate the command string around the\r\n * insertion point with an error indicator (red dotted underline). If false,\r\n * remove it.\r\n * @method EditableMathlist#decorateCommandStringAroundInsertionPoint\r\n * @private\r\n */\r\nEditableMathlist.prototype.decorateCommandStringAroundInsertionPoint = function(\r\n    value\r\n) {\r\n    const command = this.commandOffsets();\r\n    if (command) {\r\n        const siblings = this.siblings();\r\n        for (let i = command.start; i < command.end; i++) {\r\n            siblings[i].error = value;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * @return {string}\r\n * @method EditableMathlist#commitCommandStringBeforeInsertionPoint\r\n * @private\r\n */\r\nEditableMathlist.prototype.commitCommandStringBeforeInsertionPoint = function() {\r\n    const command = this.commandOffsets();\r\n    if (command) {\r\n        const siblings = this.siblings();\r\n        const anchorOffset = this.anchorOffset() + 1;\r\n        for (let i = command.start; i < anchorOffset; i++) {\r\n            if (siblings[i]) {\r\n                siblings[i].suggestion = false;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.spliceCommandStringAroundInsertionPoint = function(\r\n    mathlist\r\n) {\r\n    const command = this.commandOffsets();\r\n    if (command) {\r\n        // Dispatch notifications\r\n        this.contentWillChange();\r\n\r\n        if (!mathlist) {\r\n            this.siblings().splice(command.start, command.end - command.start);\r\n            this.setSelection(command.start - 1, 0);\r\n        } else {\r\n            Array.prototype.splice.apply(\r\n                this.siblings(),\r\n                [command.start, command.end - command.start].concat(mathlist)\r\n            );\r\n            let newPlaceholders = [];\r\n            for (const atom of mathlist) {\r\n                newPlaceholders = newPlaceholders.concat(\r\n                    atom.filter(atom => atom.type === \"placeholder\")\r\n                );\r\n            }\r\n            this.setExtent(0);\r\n\r\n            // Set the anchor offset to a reasonable value that can be used by\r\n            // leap(). In particular, the current offset value may be invalid\r\n            // if the length of the mathlist is shorter than the name of the command\r\n            this.path[this.path.length - 1].offset = command.start - 1;\r\n\r\n            if (newPlaceholders.length === 0 || !this.leap(+1, false)) {\r\n                this.setSelection(command.start + mathlist.length - 1);\r\n            }\r\n        }\r\n\r\n        // Dispatch notifications\r\n        this.contentDidChange();\r\n    }\r\n};\r\n\r\nfunction removeCommandStringFromAtom(atom) {\r\n    if (!atom) return;\r\n    if (Array.isArray(atom)) {\r\n        for (let i = atom.length - 1; i >= 0; i--) {\r\n            if (atom[i].type === \"command\") {\r\n                atom.splice(i, 1);\r\n                // i += 1;\r\n            } else {\r\n                removeCommandStringFromAtom(atom[i]);\r\n            }\r\n        }\r\n        return;\r\n    }\r\n\r\n    removeCommandStringFromAtom(atom.body);\r\n    removeCommandStringFromAtom(atom.superscript);\r\n    removeCommandStringFromAtom(atom.subscript);\r\n    removeCommandStringFromAtom(atom.underscript);\r\n    removeCommandStringFromAtom(atom.overscript);\r\n    removeCommandStringFromAtom(atom.numer);\r\n    removeCommandStringFromAtom(atom.denom);\r\n    removeCommandStringFromAtom(atom.index);\r\n\r\n    if (atom.array) {\r\n        for (let j = arrayCellCount(atom.array); j >= 0; j--) {\r\n            removeCommandStringFromAtom(arrayCell(atom.array, j));\r\n        }\r\n    }\r\n}\r\n\r\nEditableMathlist.prototype.removeCommandString = function() {\r\n    this.contentWillChange();\r\n    const contentWasChanging = this.suppressChangeNotifications;\r\n    this.suppressChangeNotifications = true;\r\n\r\n    removeCommandStringFromAtom(this.root.body);\r\n\r\n    this.suppressChangeNotifications = contentWasChanging;\r\n    this.contentDidChange();\r\n};\r\n\r\n/**\r\n * @return {string}\r\n * @method EditableMathlist#extractArgBeforeInsertionPoint\r\n * @private\r\n */\r\nEditableMathlist.prototype.extractArgBeforeInsertionPoint = function() {\r\n    const siblings = this.siblings();\r\n    if (siblings.length <= 1) return [];\r\n\r\n    const result = [];\r\n    let i = this.startOffset();\r\n    if (siblings[i].mode === \"text\") {\r\n        while (i >= 1 && siblings[i].mode === \"text\") {\r\n            result.unshift(siblings[i]);\r\n            i--;\r\n        }\r\n    } else {\r\n        while (\r\n            i >= 1 &&\r\n            /^(mord|surd|msubsup|leftright|mop)$/.test(siblings[i].type)\r\n        ) {\r\n            result.unshift(siblings[i]);\r\n            i--;\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n// 3 + 4(sin(x) > 3 + 4[sin(x)]/[ __ ]\r\n// Add a frac inside a partial leftright: remove leftright\r\n// When smartfence, add paren at end of expr\r\n// a+3x=1 insert after + => paren before =\r\n\r\n/**\r\n * @param {number} offset\r\n * - &gt;0: index of the child in the group where the selection will start from\r\n * - <0: index counting from the end of the group\r\n * @param {number|string} [extent=0] Number of items in the selection:\r\n * - 0: collapsed selection, single insertion point\r\n * - &gt;0: selection extending _after_ the offset\r\n * - <0: selection extending _before_ the offset\r\n * - `'end'`: selection extending to the end of the group\r\n * - `'start'`: selection extending to the beginning of the group\r\n * @param {string} relation e.g. `'body'`, `'superscript'`, etc...\r\n * @return {boolean} False if the relation is invalid (no such children)\r\n * @method EditableMathlist#setSelection\r\n * @private\r\n */\r\nEditableMathlist.prototype.setSelection = function(offset, extent, relation) {\r\n    offset = offset || 0;\r\n    extent = extent || 0;\r\n\r\n    // If no relation (\"children\", \"superscript\", etc...) is specified\r\n    // keep the current relation\r\n    const oldRelation = this.path[this.path.length - 1].relation;\r\n    if (!relation) relation = oldRelation;\r\n\r\n    // If the relation is invalid, exit and return false\r\n    const parent = this.parent();\r\n    if (!parent && relation !== \"body\") return false;\r\n    const arrayRelation = relation.startsWith(\"cell\");\r\n    if (\r\n        (!arrayRelation && !parent[relation]) ||\r\n        (arrayRelation && !parent.array)\r\n    )\r\n        return false;\r\n\r\n    const relationChanged = relation !== oldRelation;\r\n    // Temporarily set the path to the potentially new relation to get the\r\n    // right siblings\r\n    this.path[this.path.length - 1].relation = relation;\r\n\r\n    // Invoking siblings() will have the side-effect of adding the 'first'\r\n    // atom if necessary\r\n    // ... and we want the siblings with the potentially new relation...\r\n    const siblings = this.siblings();\r\n    const siblingsCount = siblings.length;\r\n\r\n    // Restore the relation\r\n    this.path[this.path.length - 1].relation = oldRelation;\r\n\r\n    const oldExtent = this.extent;\r\n    if (extent === \"end\") {\r\n        extent = siblingsCount - offset - 1;\r\n    } else if (extent === \"start\") {\r\n        extent = -offset;\r\n    }\r\n    this.setExtent(extent);\r\n    const extentChanged = this.extent !== oldExtent;\r\n    this.setExtent(oldExtent);\r\n\r\n    // Calculate the new offset, and make sure it is in range\r\n    // (setSelection can be called with an offset that greater than\r\n    // the number of children, for example when doing an up from a\r\n    // numerator to a smaller denominator, e.g. \"1/(x+1)\".\r\n    if (offset < 0) {\r\n        offset = siblingsCount + offset;\r\n    }\r\n    offset = Math.max(0, Math.min(offset, siblingsCount - 1));\r\n\r\n    const oldOffset = this.path[this.path.length - 1].offset;\r\n    const offsetChanged = oldOffset !== offset;\r\n\r\n    if (relationChanged || offsetChanged || extentChanged) {\r\n        if (relationChanged) {\r\n            this.adjustPlaceholder();\r\n        }\r\n        this.selectionWillChange();\r\n\r\n        this.path[this.path.length - 1].relation = relation;\r\n        this.path[this.path.length - 1].offset = offset;\r\n        this.setExtent(extent);\r\n\r\n        this.selectionDidChange();\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Move the anchor to the next permissible atom\r\n * @method EditableMathlist#next\r\n * @private\r\n */\r\nEditableMathlist.prototype.next = function(options) {\r\n    options = options || {};\r\n\r\n    const NEXT_RELATION = {\r\n        body: \"numer\",\r\n        numer: \"denom\",\r\n        denom: \"index\",\r\n        index: \"overscript\",\r\n        overscript: \"underscript\",\r\n        underscript: \"subscript\",\r\n        subscript: \"superscript\"\r\n    };\r\n\r\n    if (this.anchorOffset() === this.siblings().length - 1) {\r\n        this.adjustPlaceholder();\r\n\r\n        // We've reached the end of this list.\r\n        // Is there another list to consider?\r\n        let relation = NEXT_RELATION[this.relation()];\r\n        const parent = this.parent();\r\n        while (relation && !parent[relation]) {\r\n            relation = NEXT_RELATION[relation];\r\n        }\r\n\r\n        // We found a new relation/set of siblings...\r\n        if (relation) {\r\n            this.setSelection(0, 0, relation);\r\n            return;\r\n        }\r\n\r\n        // No more siblings, check if we have a sibling cell in an array\r\n        if (this.parent().array) {\r\n            const maxCellCount = arrayCellCount(this.parent().array);\r\n            let cellIndex =\r\n                parseInt(this.relation().match(/cell([0-9]*)$/)[1]) + 1;\r\n            while (cellIndex < maxCellCount) {\r\n                const cell = arrayCell(this.parent().array, cellIndex);\r\n                // Some cells could be null (sparse array), so skip them\r\n                if (cell && this.setSelection(0, 0, \"cell\" + cellIndex)) {\r\n                    this.selectionDidChange();\r\n                    return;\r\n                }\r\n                cellIndex += 1;\r\n            }\r\n        }\r\n\r\n        // No more siblings, go up to the parent.\r\n        if (this.path.length === 1) {\r\n            // Invoke handler and perform default if they return true.\r\n            if (\r\n                this.suppressChangeNotifications ||\r\n                !this.config.onMoveOutOf ||\r\n                this.config.onMoveOutOf(this, \"forward\")\r\n            ) {\r\n                // We're at the root, so loop back\r\n                this.path[0].offset = 0;\r\n            }\r\n        } else {\r\n            // We've reached the end of the siblings. If we're a group\r\n            // with skipBoundary, when exiting, move one past the next atom\r\n            const skip = !options.iterateAll && this.parent().skipBoundary;\r\n            this.path.pop();\r\n            if (skip) {\r\n                this.next(options);\r\n            }\r\n        }\r\n\r\n        this.selectionDidChange();\r\n        return;\r\n    }\r\n\r\n    // Still some siblings to go through. Move on to the next one.\r\n    this.setSelection(this.anchorOffset() + 1);\r\n    const anchor = this.anchor();\r\n\r\n    // Dive into its components, if the new anchor is a compound atom,\r\n    // and allows capture of the selection by its sub-elements\r\n    if (anchor && !anchor.captureSelection) {\r\n        let relation;\r\n        if (anchor.array) {\r\n            // Find the first non-empty cell in this array\r\n            let cellIndex = 0;\r\n            relation = \"\";\r\n            const maxCellCount = arrayCellCount(anchor.array);\r\n            while (!relation && cellIndex < maxCellCount) {\r\n                // Some cells could be null (sparse array), so skip them\r\n                if (arrayCell(anchor.array, cellIndex)) {\r\n                    relation = \"cell\" + cellIndex.toString();\r\n                }\r\n                cellIndex += 1;\r\n            }\r\n            console.assert(relation);\r\n            this.path.push({ relation: relation, offset: 0 });\r\n            this.setSelection(0, 0, relation);\r\n            return;\r\n        }\r\n        relation = \"body\";\r\n        while (relation) {\r\n            if (Array.isArray(anchor[relation])) {\r\n                this.path.push({ relation: relation, offset: 0 });\r\n                this.insertFirstAtom();\r\n                if (!options.iterateAll && anchor.skipBoundary)\r\n                    this.next(options);\r\n                return;\r\n            }\r\n            relation = NEXT_RELATION[relation];\r\n        }\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.previous = function(options) {\r\n    options = options || {};\r\n\r\n    const PREVIOUS_RELATION = {\r\n        numer: \"body\",\r\n        denom: \"numer\",\r\n        index: \"denom\",\r\n        overscript: \"index\",\r\n        underscript: \"overscript\",\r\n        subscript: \"underscript\",\r\n        superscript: \"subscript\"\r\n    };\r\n    if (\r\n        !options.iterateAll &&\r\n        this.anchorOffset() === 1 &&\r\n        this.parent() &&\r\n        this.parent().skipBoundary\r\n    ) {\r\n        this.setSelection(0);\r\n    }\r\n    if (this.anchorOffset() < 1) {\r\n        // We've reached the first of these siblings.\r\n        // Is there another set of siblings to consider?\r\n        let relation = PREVIOUS_RELATION[this.relation()];\r\n        while (relation && !this.setSelection(-1, 0, relation)) {\r\n            relation = PREVIOUS_RELATION[relation];\r\n        }\r\n        // Ignore the body of the subsup scaffolding and of\r\n        // 'mop' atoms (for example, \\sum): their body is not editable.\r\n        const parentType = this.parent() ? this.parent().type : \"none\";\r\n        if (\r\n            relation === \"body\" &&\r\n            (parentType === \"msubsup\" || parentType === \"mop\")\r\n        ) {\r\n            relation = null;\r\n        }\r\n        // We found a new relation/set of siblings...\r\n        if (relation) return;\r\n\r\n        this.adjustPlaceholder();\r\n\r\n        this.selectionWillChange();\r\n\r\n        // No more siblings, check if we have a sibling cell in an array\r\n        if (this.relation().startsWith(\"cell\")) {\r\n            let cellIndex =\r\n                parseInt(this.relation().match(/cell([0-9]*)$/)[1]) - 1;\r\n            while (cellIndex >= 0) {\r\n                const cell = arrayCell(this.parent().array, cellIndex);\r\n                if (cell && this.setSelection(-1, 0, \"cell\" + cellIndex)) {\r\n                    this.selectionDidChange();\r\n                    return;\r\n                }\r\n                cellIndex -= 1;\r\n            }\r\n        }\r\n\r\n        // No more siblings, go up to the parent.\r\n        if (this.path.length === 1) {\r\n            // Invoke handler and perform default if they return true.\r\n            if (\r\n                this.suppressChangeNotifications ||\r\n                !this.config.onMoveOutOf ||\r\n                this.config.onMoveOutOf.bind(this)(-1)\r\n            ) {\r\n                // We're at the root, so loop back\r\n                this.path[0].offset = this.root.body.length - 1;\r\n            }\r\n        } else {\r\n            this.path.pop();\r\n            this.setSelection(this.anchorOffset() - 1);\r\n        }\r\n\r\n        this.selectionDidChange();\r\n        return;\r\n    }\r\n\r\n    // If the new anchor is a compound atom, dive into its components\r\n    const anchor = this.anchor();\r\n    // Only dive in if the atom allows capture of the selection by\r\n    // its sub-elements\r\n    if (!anchor.captureSelection) {\r\n        let relation;\r\n        if (anchor.array) {\r\n            relation = \"\";\r\n            const maxCellCount = arrayCellCount(anchor.array);\r\n            let cellIndex = maxCellCount - 1;\r\n            while (!relation && cellIndex < maxCellCount) {\r\n                // Some cells could be null (sparse array), so skip them\r\n                if (arrayCell(anchor.array, cellIndex)) {\r\n                    relation = \"cell\" + cellIndex.toString();\r\n                }\r\n                cellIndex -= 1;\r\n            }\r\n            cellIndex += 1;\r\n            console.assert(relation);\r\n            this.path.push({\r\n                relation: relation,\r\n                offset: arrayCell(anchor.array, cellIndex).length - 1\r\n            });\r\n            this.setSelection(-1, 0, relation);\r\n            return;\r\n        }\r\n        relation = \"superscript\";\r\n        while (relation) {\r\n            if (Array.isArray(anchor[relation])) {\r\n                this.path.push({\r\n                    relation: relation,\r\n                    offset: anchor[relation].length - 1\r\n                });\r\n\r\n                this.setSelection(-1, 0, relation);\r\n                return;\r\n            }\r\n            relation = PREVIOUS_RELATION[relation];\r\n        }\r\n    }\r\n    // There wasn't a component to navigate to, so...\r\n    // Still some siblings to go through: move on to the previous one.\r\n    this.setSelection(this.anchorOffset() - 1);\r\n\r\n    if (\r\n        !options.iterateAll &&\r\n        this.sibling(0) &&\r\n        this.sibling(0).skipBoundary\r\n    ) {\r\n        this.previous(options);\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.move = function(dist, options) {\r\n    options = options || { extend: false };\r\n    const extend = options.extend || false;\r\n\r\n    this.removeSuggestion();\r\n\r\n    if (extend) {\r\n        this.extend(dist, options);\r\n    } else {\r\n        const oldPath = clone(this);\r\n        // const previousParent = this.parent();\r\n        // const previousRelation = this.relation();\r\n        // const previousSiblings = this.siblings();\r\n\r\n        if (dist > 0) {\r\n            if (this.collapseForward()) dist--;\r\n            while (dist > 0) {\r\n                this.next();\r\n                dist--;\r\n            }\r\n        } else if (dist < 0) {\r\n            if (this.collapseBackward()) dist++;\r\n            while (dist !== 0) {\r\n                this.previous();\r\n                dist++;\r\n            }\r\n        }\r\n\r\n        // ** @todo: can't do that without updating the path.\r\n        // If the siblings list we left was empty, remove the relation\r\n        // if (previousSiblings.length <= 1) {\r\n        //     if (['superscript', 'subscript', 'index'].includes(previousRelation)) {\r\n        //         previousParent[previousRelation] = null;\r\n        //     }\r\n        // }\r\n        this._announce(\"move\", oldPath);\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.up = function(options) {\r\n    options = options || { extend: false };\r\n    const extend = options.extend || false;\r\n\r\n    this.collapseBackward();\r\n    const relation = this.relation();\r\n\r\n    if (relation === \"denom\") {\r\n        if (extend) {\r\n            this.selectionWillChange();\r\n            this.path.pop();\r\n            this.path[this.path.length - 1].offset -= 1;\r\n            this.setExtent(1);\r\n            this.selectionDidChange();\r\n        } else {\r\n            this.setSelection(this.anchorOffset(), 0, \"numer\");\r\n        }\r\n        this._announce(\"moveUp\");\r\n    } else if (this.parent().array) {\r\n        // In an array\r\n        let colRow = arrayColRow(this.parent().array, relation);\r\n        colRow = arrayAdjustRow(this.parent().array, colRow, -1);\r\n        if (colRow && arrayCell(colRow)) {\r\n            this.path[this.path.length - 1].relation =\r\n                \"cell\" + arrayIndex(this.parent().array, colRow);\r\n            this.setSelection(this.anchorOffset());\r\n\r\n            this._announce(\"moveUp\");\r\n        } else {\r\n            this.move(-1, options);\r\n        }\r\n    } else {\r\n        this._announce(\"line\");\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.down = function(options) {\r\n    options = options || { extend: false };\r\n    const extend = options.extend || false;\r\n\r\n    this.collapseForward();\r\n    const relation = this.relation();\r\n    if (relation === \"numer\") {\r\n        if (extend) {\r\n            this.selectionWillChange();\r\n            this.path.pop();\r\n            this.path[this.path.length - 1].offset -= 1;\r\n            this.setExtent(1);\r\n            this.selectionDidChange();\r\n        } else {\r\n            this.setSelection(this.anchorOffset(), 0, \"denom\");\r\n        }\r\n        this._announce(\"moveDown\");\r\n    } else if (this.parent().array) {\r\n        // In an array\r\n        let colRow = arrayColRow(this.parent().array, relation);\r\n        colRow = arrayAdjustRow(this.parent().array, colRow, +1);\r\n        if (colRow && arrayCell(colRow)) {\r\n            this.path[this.path.length - 1].relation =\r\n                \"cell\" + arrayIndex(this.parent().array, colRow);\r\n            this.setSelection(this.anchorOffset());\r\n\r\n            this._announce(\"moveDown\");\r\n        } else {\r\n            this.move(+1, options);\r\n        }\r\n    } else {\r\n        this._announce(\"line\");\r\n    }\r\n};\r\n\r\n/**\r\n * Change the range of the selection\r\n *\r\n * @param {number} dist - The change (positive or negative) to the extent\r\n * of the selection. The anchor point does not move.\r\n * @method EditableMathlist#extend\r\n * @private\r\n */\r\nEditableMathlist.prototype.extend = function(dist) {\r\n    let offset = this.path[this.path.length - 1].offset;\r\n    let extent = 0;\r\n    const oldPath = clone(this);\r\n\r\n    extent = this.extent + dist;\r\n\r\n    const newFocusOffset = offset + extent;\r\n    if (newFocusOffset < 0 && extent !== 0) {\r\n        // We're trying to extend beyond the first element.\r\n        // Go up to the parent.\r\n        if (this.path.length > 1) {\r\n            this.selectionWillChange();\r\n            this.path.pop();\r\n            // this.path[this.path.length - 1].offset -= 1;\r\n            this.setExtent(-1);\r\n            this.selectionDidChange();\r\n            this._announce(\"move\", oldPath);\r\n            return;\r\n        }\r\n        // @todo exit left extend\r\n        // If we're at the very beginning, nothing to do.\r\n        offset = this.path[this.path.length - 1].offset;\r\n        extent = this.extent;\r\n    } else if (newFocusOffset >= this.siblings().length) {\r\n        // We're trying to extend beyond the last element.\r\n        // Go up to the parent\r\n        if (this.path.length > 1) {\r\n            this.selectionWillChange();\r\n            this.path.pop();\r\n            this.path[this.path.length - 1].offset -= 1;\r\n            this.setExtent(1);\r\n            this.selectionDidChange();\r\n            this._announce(\"move\", oldPath);\r\n            return;\r\n        }\r\n        // @todo exit right extend\r\n        if (this.isCollapsed()) {\r\n            offset -= 1;\r\n        }\r\n        extent -= 1;\r\n    }\r\n    this.setSelection(offset, extent);\r\n    this._announce(\"move\", oldPath);\r\n};\r\n\r\n/**\r\n * Move the selection focus to the next/previous point of interest.\r\n * A point of interest is an atom of a different type (mbin, mord, etc...)\r\n * than the current focus.\r\n * If `extend` is true, the selection will be extended. Otherwise, it is\r\n * collapsed, then moved.\r\n * @param {number} dir +1 to skip forward, -1 to skip back\r\n * @param {Object.<string, any>} options\r\n * @method EditableMathlist#skip\r\n * @private\r\n */\r\nEditableMathlist.prototype.skip = function(dir, options) {\r\n    options = options || { extend: false };\r\n    const extend = options.extend || false;\r\n    dir = dir < 0 ? -1 : +1;\r\n\r\n    const oldPath = clone(this);\r\n\r\n    const siblings = this.siblings();\r\n    const focus = this.focusOffset();\r\n    let offset = focus + dir;\r\n    if (extend) offset = Math.min(Math.max(0, offset), siblings.length - 1);\r\n    if (offset < 0 || offset >= siblings.length) {\r\n        // If we've reached the end, just move out of the list\r\n        this.move(dir, options);\r\n        return;\r\n    }\r\n    if (siblings[offset] && siblings[offset].mode === \"text\") {\r\n        // We're in a text zone, skip word by word\r\n        offset = this.wordBoundaryOffset(offset, dir);\r\n        if (offset < 0 && !extend) {\r\n            this.setSelection(0);\r\n            return;\r\n        }\r\n        if (offset > siblings.length) {\r\n            this.setSelection(siblings.length - 1);\r\n            this.move(dir, options);\r\n            return;\r\n        }\r\n    } else {\r\n        const type = siblings[offset] ? siblings[offset].type : \"\";\r\n        if ((type === \"mopen\" && dir > 0) || (type === \"mclose\" && dir < 0)) {\r\n            // We're right before (or after) an opening (or closing)\r\n            // fence. Skip to the balanced element (in level, but not necessarily in\r\n            // fence symbol).\r\n            let level = type === \"mopen\" ? 1 : -1;\r\n            offset += dir > 0 ? 1 : -1;\r\n            while (offset >= 0 && offset < siblings.length && level !== 0) {\r\n                if (siblings[offset].type === \"mopen\") {\r\n                    level += 1;\r\n                } else if (siblings[offset].type === \"mclose\") {\r\n                    level -= 1;\r\n                }\r\n                offset += dir;\r\n            }\r\n            if (level !== 0) {\r\n                // We did not find a balanced element. Just move a little.\r\n                offset = focus + dir;\r\n            }\r\n            if (dir > 0) offset = offset - 1;\r\n        } else {\r\n            while (\r\n                siblings[offset] &&\r\n                siblings[offset].mode === \"math\" &&\r\n                siblings[offset].type === type\r\n            ) {\r\n                offset += dir;\r\n            }\r\n            offset -= dir > 0 ? 1 : 0;\r\n        }\r\n    }\r\n\r\n    if (extend) {\r\n        const anchor = this.anchorOffset();\r\n        this.setSelection(anchor, offset - anchor);\r\n    } else {\r\n        this.setSelection(offset);\r\n    }\r\n    this._announce(\"move\", oldPath);\r\n};\r\n\r\n/**\r\n * Move to the next/previous expression boundary\r\n * @method EditableMathlist#jump\r\n * @private\r\n */\r\nEditableMathlist.prototype.jump = function(dir, options) {\r\n    options = options || { extend: false };\r\n    const extend = options.extend || false;\r\n    dir = dir < 0 ? -1 : +1;\r\n\r\n    const siblings = this.siblings();\r\n    let focus = this.focusOffset();\r\n    if (dir > 0) focus = Math.min(focus + 1, siblings.length - 1);\r\n\r\n    const offset = dir < 0 ? 0 : siblings.length - 1;\r\n\r\n    if (extend) {\r\n        this.extend(offset - focus);\r\n    } else {\r\n        this.move(offset - focus);\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.jumpToMathFieldBoundary = function(dir, options) {\r\n    options = options || { extend: false };\r\n    const extend = options.extend || false;\r\n    dir = dir || +1;\r\n    dir = dir < 0 ? -1 : +1;\r\n\r\n    const oldPath = clone(this);\r\n    const path = [{ relation: \"body\", offset: this.path[0].offset }];\r\n    let extent;\r\n\r\n    if (!extend) {\r\n        // Change the anchor to the end/start of the root expression\r\n        path[0].offset = dir < 0 ? 0 : this.root.body.length - 1;\r\n        extent = 0;\r\n    } else {\r\n        // Don't change the anchor, but update the extent\r\n        if (dir < 0) {\r\n            if (path[0].offset > 0) {\r\n                extent = -path[0].offset;\r\n            } else {\r\n                // @todo exit left extend\r\n            }\r\n        } else {\r\n            if (path[0].offset < this.siblings().length - 1) {\r\n                extent = this.siblings().length - 1 - path[0].offset;\r\n            } else {\r\n                // @todo exit right extend\r\n            }\r\n        }\r\n    }\r\n\r\n    this.setPath(path, extent);\r\n    this._announce(\"move\", oldPath);\r\n};\r\n\r\n/**\r\n * Move to the next/previous placeholder or empty child list.\r\n * @return {boolean} False if no placeholder found and did not move\r\n * @method EditableMathlist#leap\r\n * @private\r\n */\r\nEditableMathlist.prototype.leap = function(dir, callHandler) {\r\n    dir = dir || +1;\r\n    dir = dir < 0 ? -1 : +1;\r\n    callHandler = callHandler || true;\r\n    const savedSuppressChangeNotifications = this.suppressChangeNotifications;\r\n    this.suppressChangeNotifications = true;\r\n    const oldPath = clone(this);\r\n    const oldExtent = this.extent;\r\n    this.move(dir);\r\n\r\n    if (this.anchor().type === \"placeholder\") {\r\n        // If we're already at a placeholder, move by one more (the placeholder\r\n        // is right after the insertion point)\r\n        this.move(dir);\r\n    }\r\n    // Candidate placeholders are atom of type 'placeholder'\r\n    // or empty children list (except for the root: if the root is empty,\r\n    // it is not a valid placeholder)\r\n    const placeholders = this.filter(\r\n        (path, atom) =>\r\n            atom.type === \"placeholder\" ||\r\n            (path.length > 1 && this.siblings().length === 1),\r\n        dir\r\n    );\r\n\r\n    // If no placeholders were found, call handler or move to the next focusable\r\n    // element in the document\r\n    if (placeholders.length === 0) {\r\n        // Restore the selection\r\n        this.setPath(oldPath, oldExtent);\r\n        if (callHandler) {\r\n            if (this.config.onTabOutOf) {\r\n                this.config.onTabOutOf(\r\n                    this.target,\r\n                    dir > 0 ? \"forward\" : \"backward\"\r\n                );\r\n            } else if (document.activeElement) {\r\n                const focussableElements = `a[href]:not([disabled]),\r\n                    button:not([disabled]),\r\n                    textarea:not([disabled]),\r\n                    input[type=text]:not([disabled]),\r\n                    select:not([disabled]),\r\n                    [contentEditable=\"true\"],\r\n                    [tabindex]:not([disabled]):not([tabindex=\"-1\"])`;\r\n                // Get all the potentially focusable elements\r\n                // and exclude (1) those that are invisible (width and height = 0)\r\n                // (2) not the active element\r\n                // (3) the ancestor of the active element\r\n\r\n                const focussable = Array.prototype.filter.call(\r\n                    document.querySelectorAll(focussableElements),\r\n                    element =>\r\n                        ((element.offsetWidth > 0 ||\r\n                            element.offsetHeight > 0) &&\r\n                            !element.contains(document.activeElement)) ||\r\n                        element === document.activeElement\r\n                );\r\n                let index = focussable.indexOf(document.activeElement) + dir;\r\n                if (index < 0) index = focussable.length - 1;\r\n                if (index >= focussable.length) index = 0;\r\n                focussable[index].focus();\r\n            }\r\n        }\r\n        this.suppressChangeNotifications = savedSuppressChangeNotifications;\r\n        return false;\r\n    }\r\n\r\n    // Set the selection to the next placeholder\r\n    this.selectionWillChange();\r\n    this.setPath(placeholders[0]);\r\n    if (this.anchor().type === \"placeholder\") this.setExtent(-1);\r\n    this._announce(\"move\", oldPath);\r\n    this.selectionDidChange();\r\n    this.suppressChangeNotifications = savedSuppressChangeNotifications;\r\n    return true;\r\n};\r\n\r\nEditableMathlist.prototype.anchorMode = function() {\r\n    const anchor = this.isCollapsed() ? this.anchor() : this.sibling(1);\r\n    let result;\r\n    if (anchor) {\r\n        if (anchor.type === \"commandliteral\" || anchor.type === \"command\")\r\n            return \"command\";\r\n        result = anchor.mode;\r\n    }\r\n    let i = 1;\r\n    let ancestor = this.ancestor(i);\r\n    while (!result && ancestor) {\r\n        if (ancestor) result = ancestor.mode;\r\n        i += 1;\r\n        ancestor = this.ancestor(i);\r\n    }\r\n    return result;\r\n};\r\n\r\nEditableMathlist.prototype.anchorStyle = function() {\r\n    const anchor = this.isCollapsed() ? this.anchor() : this.sibling(1);\r\n    let result;\r\n    if (anchor && anchor.type !== \"first\") {\r\n        if (anchor.type === \"commandliteral\" || anchor.type === \"command\")\r\n            return {};\r\n        result = {\r\n            color: anchor.color,\r\n            backgroundColor: anchor.backgroundColor,\r\n            fontFamily: anchor.fontFamily,\r\n            fontShape: anchor.fontShape,\r\n            fontSeries: anchor.fontSeries,\r\n            fontSize: anchor.fontSize\r\n        };\r\n    }\r\n    let i = 1;\r\n    let ancestor = this.ancestor(i);\r\n    while (!result && ancestor) {\r\n        if (ancestor) {\r\n            result = {\r\n                color: ancestor.color,\r\n                backgroundColor: ancestor.backgroundColor,\r\n                fontFamily: ancestor.fontFamily,\r\n                fontShape: ancestor.fontShape,\r\n                fontSeries: ancestor.fontSeries,\r\n                fontSize: ancestor.fontSize\r\n            };\r\n        }\r\n        i += 1;\r\n        ancestor = this.ancestor(i);\r\n    }\r\n    return result;\r\n};\r\n\r\nfunction removeParen(list) {\r\n    if (!list) return undefined;\r\n\r\n    if (\r\n        list.length === 1 &&\r\n        list[0].type === \"leftright\" &&\r\n        list[0].leftDelim === \"(\"\r\n    ) {\r\n        list = list[0].body;\r\n    }\r\n\r\n    return list;\r\n}\r\n\r\n/*\r\n * If it's a fraction with a parenthesized numerator or denominator\r\n * remove the parentheses\r\n * */\r\nEditableMathlist.prototype.simplifyParen = function(atoms) {\r\n    if (atoms && this.config.removeExtraneousParentheses) {\r\n        for (let i = 0; atoms[i]; i++) {\r\n            if (atoms[i].type === \"leftright\" && atoms[i].leftDelim === \"(\") {\r\n                if (Array.isArray(atoms[i].body)) {\r\n                    let genFracCount = 0;\r\n                    let genFracIndex = 0;\r\n                    let nonGenFracCount = 0;\r\n                    for (let j = 0; atoms[i].body[j]; j++) {\r\n                        if (atoms[i].body[j].type === \"genfrac\") {\r\n                            genFracCount++;\r\n                            genFracIndex = j;\r\n                        }\r\n                        if (atoms[i].body[j].type !== \"first\")\r\n                            nonGenFracCount++;\r\n                    }\r\n                    if (nonGenFracCount === 0 && genFracCount === 1) {\r\n                        // This is a single frac inside a leftright: remove the leftright\r\n                        atoms[i] = atoms[i].body[genFracIndex];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        atoms.forEach(atom => {\r\n            if (atom.type === \"genfrac\") {\r\n                this.simplifyParen(atom.numer);\r\n                this.simplifyParen(atom.denom);\r\n                atom.numer = removeParen(atom.numer);\r\n                atom.denom = removeParen(atom.denom);\r\n            }\r\n            if (atom.superscript) {\r\n                this.simplifyParen(atom.superscript);\r\n                atom.superscript = removeParen(atom.superscript);\r\n            }\r\n            if (atom.subscript) {\r\n                this.simplifyParen(atom.subscript);\r\n                atom.subscript = removeParen(atom.subscript);\r\n            }\r\n            if (atom.underscript) {\r\n                this.simplifyParen(atom.underscript);\r\n                atom.underscript = removeParen(atom.underscript);\r\n            }\r\n            if (atom.overscript) {\r\n                this.simplifyParen(atom.overscript);\r\n                atom.overscript = removeParen(atom.overscript);\r\n            }\r\n            if (atom.index) {\r\n                this.simplifyParen(atom.index);\r\n                atom.index = removeParen(atom.index);\r\n            }\r\n            if (atom.type === \"surd\") {\r\n                this.simplifyParen(atom.body);\r\n                atom.body = removeParen(atom.body);\r\n            } else if (atom.body && Array.isArray(atom.body)) {\r\n                this.simplifyParen(atom.body);\r\n            }\r\n\r\n            if (atom.array) {\r\n                for (let i = arrayCellCount(atom.array); i >= 0; i--) {\r\n                    this.simplifyParen(arrayCell(atom.array, i));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nfunction applyStyleToUnstyledAtoms(atom, style) {\r\n    if (!atom || !style) return;\r\n    if (Array.isArray(atom)) {\r\n        // Apply styling options to each atom\r\n        atom.forEach(x => applyStyleToUnstyledAtoms(x, style));\r\n    } else if (typeof atom === \"object\") {\r\n        if (\r\n            !atom.color &&\r\n            !atom.backgroundColor &&\r\n            !atom.fontFamily &&\r\n            !atom.fontShape &&\r\n            !atom.fontSeries &&\r\n            !atom.fontSize\r\n        ) {\r\n            atom.applyStyle(style);\r\n            applyStyleToUnstyledAtoms(atom.body, style);\r\n            applyStyleToUnstyledAtoms(atom.numer, style);\r\n            applyStyleToUnstyledAtoms(atom.denom, style);\r\n            applyStyleToUnstyledAtoms(atom.index, style);\r\n            applyStyleToUnstyledAtoms(atom.overscript, style);\r\n            applyStyleToUnstyledAtoms(atom.underscript, style);\r\n            applyStyleToUnstyledAtoms(atom.subscript, style);\r\n            applyStyleToUnstyledAtoms(atom.superscript, style);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @param {string} s\r\n * @param {Object.<string, any>} options\r\n * @param {\"replaceSelection\"|\"replaceAll\"|\"insertBefore\"|\"insertAfter\"} options.insertionMode -\r\n *    * 'replaceSelection' (default)\r\n *    * 'replaceAll'\r\n *    * 'insertBefore'\r\n *    * 'insertAfter'\r\n *\r\n * @param {\"placeholder\"|\"after\"|\"before\"} options.selectionMode - Describes where the selection\r\n * will be after the insertion:\r\n *    * `'placeholder'`: the selection will be the first available placeholder\r\n * in the item that has been inserted) (default)\r\n *    * `'after'`: the selection will be an insertion point after the item that\r\n * has been inserted),\r\n *    * `'before'`: the selection will be an insertion point before\r\n * the item that has been inserted) or 'item' (the item that was inserted will\r\n * be selected).\r\n *\r\n * @param {string} options.placeholder - The placeholder string, if necessary\r\n *\r\n * @param {\"auto\"|\"latex\"} options.format - The format of the string `s`:\r\n *    * `'auto'`: the string is interpreted as a latex fragment or command or\r\n * ASCIIMath (default)\r\n *    * `'latex'`: the string is interpreted strictly as a latex fragment\r\n *\r\n * @param {boolean} options.smartFence - If true, promote plain fences, e.g. `(`,\r\n * as `\\left...\\right` or `\\mleft...\\mright`\r\n *\r\n * @param {boolean} options.suppressChangeNotifications - If true, the\r\n * handlers for the contentWillChange, contentDidChange, selectionWillChange and\r\n * selectionDidChange notifications will not be invoked. Default `false`.\r\n *\r\n * @param {object} options.style\r\n *\r\n * @method EditableMathlist#insert\r\n * @private\r\n */\r\nEditableMathlist.prototype.insert = function(s, options) {\r\n    options = options || {};\r\n\r\n    // Try to insert a smart fence.\r\n    if (options.smartFence && this._insertSmartFence(s, options.style)) {\r\n        return;\r\n    }\r\n\r\n    const suppressChangeNotifications = this.suppressChangeNotifications;\r\n    if (options.suppressChangeNotifications) {\r\n        this.suppressChangeNotifications = true;\r\n    }\r\n    // Dispatch notifications\r\n    this.contentWillChange();\r\n    const contentWasChanging = this.suppressChangeNotifications;\r\n    this.suppressChangeNotifications = true;\r\n\r\n    if (!options.insertionMode) options.insertionMode = \"replaceSelection\";\r\n    if (!options.selectionMode) options.selectionMode = \"placeholder\";\r\n    if (!options.format) options.format = \"auto\";\r\n    options.macros = options.macros || this.config.macros;\r\n\r\n    const anchorMode = options.mode || this.anchorMode();\r\n    let mathlist;\r\n\r\n    // Save the content of the selection, if any\r\n    const args = [this.getSelectedAtoms()];\r\n\r\n    // If a placeholder was specified, use it\r\n    if (options.placeholder !== undefined) {\r\n        args[\"?\"] = options.placeholder;\r\n    }\r\n\r\n    // Delete any selected items\r\n    if (options.insertionMode === \"replaceSelection\" && !this.isCollapsed()) {\r\n        this.delete_();\r\n    } else if (options.insertionMode === \"replaceAll\") {\r\n        // Remove all the children of root, save for the 'first' atom\r\n        this.root.body.splice(1);\r\n        this.path = [{ relation: \"body\", offset: 0 }];\r\n        this.extent = 0;\r\n    } else if (options.insertionMode === \"insertBefore\") {\r\n        this.collapseBackward();\r\n    } else if (options.insertionMode === \"insertAfter\") {\r\n        this.collapseForward();\r\n    }\r\n\r\n    // Delete any placeholders before or after the insertion point\r\n    const siblings = this.siblings();\r\n    const firstOffset = this.startOffset();\r\n    if (\r\n        firstOffset + 1 < siblings.length &&\r\n        siblings[firstOffset + 1] &&\r\n        siblings[firstOffset + 1].type === \"placeholder\"\r\n    ) {\r\n        this.delete_(1);\r\n    } else if (\r\n        firstOffset > 0 &&\r\n        siblings[firstOffset] &&\r\n        siblings[firstOffset].type === \"placeholder\"\r\n    ) {\r\n        this.delete_(-1);\r\n    }\r\n\r\n    if (anchorMode === \"math\" && options.format === \"ASCIIMath\") {\r\n        s = parseMathString(s, { ...this.config, format: \"ASCIIMath\" });\r\n        mathlist = ParserModule.parseTokens(\r\n            Lexer.tokenize(s),\r\n            \"math\",\r\n            null,\r\n            options.macros,\r\n            false\r\n        );\r\n        // Simplify result.\r\n        this.simplifyParen(mathlist);\r\n    } else if (anchorMode !== \"text\" && options.format === \"auto\") {\r\n        if (anchorMode === \"command\") {\r\n            // Short-circuit the tokenizer and parser if in command mode\r\n            mathlist = [];\r\n            for (const c of s) {\r\n                if (Definitions.COMMAND_MODE_CHARACTERS.test(c)) {\r\n                    mathlist.push(\r\n                        new MathAtom.MathAtom(\"command\", \"command\", c)\r\n                    );\r\n                }\r\n            }\r\n        } else if (s === \"\\u001b\") {\r\n            // Insert an 'esc' character triggers the command mode\r\n            mathlist = [new MathAtom.MathAtom(\"command\", \"command\", \"\\\\\")];\r\n        } else {\r\n            s = parseMathString(s, this.config);\r\n\r\n            if (args[0]) {\r\n                // There was a selection, we'll use it for #@\r\n                s = s.replace(/(^|[^\\\\])#@/g, \"$1#0\");\r\n            } else if (/(^|[^\\\\])#@/.test(s)) {\r\n                // If we're inserting a latex fragment that includes a #@ argument\r\n                // substitute the preceding `mord` or text mode atoms for it.\r\n                s = s.replace(/(^|[^\\\\])#@/g, \"$1#0\");\r\n                args[0] = this.extractArgBeforeInsertionPoint();\r\n                // Delete the implicit argument\r\n                this._deleteAtoms(-args[0].length);\r\n                // If the implicit argument was empty, remove it from the args list.\r\n                if (Array.isArray(args[0]) && args[0].length === 0)\r\n                    args[0] = undefined;\r\n            } else {\r\n                // No selection, no 'mord' before. Let's make '#@' a placeholder.\r\n                s = s.replace(/(^|[^\\\\])#@/g, \"$1#?\");\r\n            }\r\n\r\n            mathlist = ParserModule.parseTokens(\r\n                Lexer.tokenize(s),\r\n                anchorMode,\r\n                args,\r\n                options.macros,\r\n                options.smartFence\r\n            );\r\n\r\n            // Simplify result.\r\n            this.simplifyParen(mathlist);\r\n        }\r\n    } else if (options.format === \"latex\") {\r\n        mathlist = ParserModule.parseTokens(\r\n            Lexer.tokenize(s),\r\n            anchorMode,\r\n            args,\r\n            options.macros,\r\n            options.smartFence\r\n        );\r\n    } else if (anchorMode === \"text\" || options.format === \"text\") {\r\n        // Map special TeX characters to alternatives\r\n        // Must do this one first, since other replacements include backslash\r\n        s = s.replace(/\\\\/g, \"\\\\textbackslash \");\r\n\r\n        s = s.replace(/#/g, \"\\\\#\");\r\n        s = s.replace(/\\$/g, \"\\\\$\");\r\n        s = s.replace(/%/g, \"\\\\%\");\r\n        s = s.replace(/&/g, \"\\\\&\");\r\n        // s = s.replace(/:/g, '\\\\colon');     // text colon?\r\n        // s = s.replace(/\\[/g, '\\\\lbrack');\r\n        // s = s.replace(/]/g, '\\\\rbrack');\r\n        s = s.replace(/_/g, \"\\\\_\");\r\n        s = s.replace(/{/g, \"\\\\textbraceleft \");\r\n        s = s.replace(/}/g, \"\\\\textbraceright \");\r\n        s = s.replace(/\\^/g, \"\\\\textasciicircum \");\r\n        s = s.replace(/~/g, \"\\\\textasciitilde \");\r\n        s = s.replace(/£/g, \"\\\\textsterling \");\r\n\r\n        mathlist = ParserModule.parseTokens(\r\n            Lexer.tokenize(s),\r\n            \"text\",\r\n            args,\r\n            options.macros,\r\n            false\r\n        );\r\n    }\r\n\r\n    // Some atoms may already have a style (for example if there was an\r\n    // argument, i.e. the selection, that this was applied to).\r\n    // So, don't apply style to atoms that are already styled, but *do*\r\n    // apply it to newly created atoms that have no style yet.\r\n    applyStyleToUnstyledAtoms(mathlist, options.style);\r\n\r\n    // Insert the mathlist at the position following the anchor\r\n    const parent = this.parent();\r\n    if (\r\n        this.config.removeExtraneousParentheses &&\r\n        parent &&\r\n        parent.type === \"leftright\" &&\r\n        parent.leftDelim === \"(\" &&\r\n        isEmptyMathlist(parent.body) &&\r\n        mathlist &&\r\n        mathlist.length === 1 &&\r\n        mathlist[0].type === \"genfrac\"\r\n    ) {\r\n        // If the insert is fraction inside a lefright, remove the leftright\r\n        this.path.pop();\r\n        this.siblings()[this.anchorOffset()] = mathlist[0];\r\n    } else {\r\n        Array.prototype.splice.apply(\r\n            this.siblings(),\r\n            [this.anchorOffset() + 1, 0].concat(mathlist)\r\n        );\r\n    }\r\n\r\n    // If needed, make sure there's a first atom in the siblings list\r\n    this.insertFirstAtom();\r\n\r\n    // Prepare to dispatch notifications\r\n    // (for selection changes, then content change)\r\n    this.suppressChangeNotifications = contentWasChanging;\r\n\r\n    // Update the anchor's location\r\n    if (options.selectionMode === \"placeholder\") {\r\n        // Move to the next placeholder\r\n        let newPlaceholders = [];\r\n        for (const atom of mathlist) {\r\n            newPlaceholders = newPlaceholders.concat(\r\n                atom.filter(atom => atom.type === \"placeholder\")\r\n            );\r\n        }\r\n        if (newPlaceholders.length === 0 || !this.leap(+1, false)) {\r\n            // No placeholder found, move to right after what we just inserted\r\n            this.setSelection(this.anchorOffset() + mathlist.length);\r\n            // this.path[this.path.length - 1].offset += mathlist.length;\r\n        } else {\r\n            this._announce(\"move\"); // should have placeholder selected\r\n        }\r\n    } else if (options.selectionMode === \"before\") {\r\n        // Do nothing: don't change the anchorOffset.\r\n    } else if (options.selectionMode === \"after\") {\r\n        this.setSelection(this.anchorOffset() + mathlist.length);\r\n    } else if (options.selectionMode === \"item\") {\r\n        this.setSelection(this.anchorOffset(), mathlist.length);\r\n    }\r\n\r\n    this.contentDidChange();\r\n\r\n    this.suppressChangeNotifications = suppressChangeNotifications;\r\n};\r\n\r\n/**\r\n * Insert a smart fence '(', '{', '[', etc...\r\n * If not handled (because `fence` wasn't a fence), return false.\r\n * @param {string} fence\r\n * @param {object} style\r\n * @return {boolean}\r\n * @private\r\n */\r\nEditableMathlist.prototype._insertSmartFence = function(fence, style) {\r\n    const parent = this.parent();\r\n\r\n    // We're inserting a middle punctuation, for example as in {...|...}\r\n    if (parent.type === \"leftright\" && parent.leftDelim !== \"|\") {\r\n        if (/\\||\\\\vert|\\\\Vert|\\\\mvert|\\\\mid/.test(fence)) {\r\n            this.insert(\"\\\\,\\\\middle\" + fence + \"\\\\, \", {\r\n                mode: \"math\",\r\n                format: \"latex\",\r\n                style: style\r\n            });\r\n            return true;\r\n        }\r\n    }\r\n    if (fence === \"{\" || fence === \"\\\\{\") fence = \"\\\\lbrace\";\r\n    if (fence === \"}\" || fence === \"\\\\}\") fence = \"\\\\rbrace\";\r\n    if (fence === \"[\" || fence === \"\\\\[\") fence = \"\\\\lbrack\";\r\n    if (fence === \"]\" || fence === \"\\\\]\") fence = \"\\\\rbrack\";\r\n\r\n    const rDelim = Definitions.RIGHT_DELIM[fence];\r\n    if (rDelim && !(parent.type === \"leftright\" && parent.leftDelim === \"|\")) {\r\n        // We have a valid open fence as input\r\n        let s = \"\";\r\n        const collapsed =\r\n            this.isCollapsed() || this.anchor().type === \"placeholder\";\r\n\r\n        if (this.sibling(0).isFunction) {\r\n            // We're before a function (e.g. `\\sin`, or 'f'):  this is an\r\n            // argument list.\r\n            // Use `\\mleft...\\mright'.\r\n            s = \"\\\\mleft\" + fence + \"\\\\mright\";\r\n        } else {\r\n            s = \"\\\\left\" + fence + \"\\\\right\";\r\n        }\r\n        s += collapsed ? \"?\" : rDelim;\r\n\r\n        let content = [];\r\n        if (collapsed) {\r\n            // content = this.siblings().slice(this.anchorOffset() + 1);\r\n            content = this.siblings().splice(\r\n                this.anchorOffset() + 1,\r\n                this.siblings().length\r\n            );\r\n        }\r\n        this.insert(s, { mode: \"math\", format: \"latex\", style: style });\r\n        if (collapsed) {\r\n            // Move everything that was after the anchor into the leftright\r\n            this.sibling(0).body = content;\r\n            this.move(-1);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // We did not have a valid open fence. Maybe it's a close fence?\r\n    let lDelim;\r\n    Object.keys(Definitions.RIGHT_DELIM).forEach(delim => {\r\n        if (fence === Definitions.RIGHT_DELIM[delim]) lDelim = delim;\r\n    });\r\n    if (lDelim) {\r\n        // We found the matching open fence, so it was a valid close fence.\r\n        // Note that `lDelim` may not match `fence`. That's OK.\r\n\r\n        // If we're the last atom inside a 'leftright',\r\n        // update the parent\r\n        if (\r\n            parent &&\r\n            parent.type === \"leftright\" &&\r\n            this.endOffset() === this.siblings().length - 1\r\n        ) {\r\n            this.contentWillChange();\r\n            parent.rightDelim = fence;\r\n            this.move(+1);\r\n            this.contentDidChange();\r\n            return true;\r\n        }\r\n\r\n        // If we have a 'leftright' sibling to our left\r\n        // with an indeterminate right fence,\r\n        // move what's between us and the 'leftright' inside the leftright\r\n        const siblings = this.siblings();\r\n        let i;\r\n        for (i = this.endOffset(); i >= 0; i--) {\r\n            if (\r\n                siblings[i].type === \"leftright\" &&\r\n                siblings[i].rightDelim === \"?\"\r\n            )\r\n                break;\r\n        }\r\n        if (i >= 0) {\r\n            this.contentWillChange();\r\n            siblings[i].rightDelim = fence;\r\n            siblings[i].body = siblings[i].body.concat(\r\n                siblings.slice(i + 1, this.endOffset() + 1)\r\n            );\r\n            siblings.splice(i + 1, this.endOffset() - i);\r\n            this.setSelection(i);\r\n            this.contentDidChange();\r\n            return true;\r\n        }\r\n\r\n        // If we're inside a 'leftright', but not the last atom,\r\n        // and the 'leftright' right delim is indeterminate\r\n        // adjust the body (put everything after the insertion point outside)\r\n        if (\r\n            parent &&\r\n            parent.type === \"leftright\" &&\r\n            parent.rightDelim === \"?\"\r\n        ) {\r\n            this.contentWillChange();\r\n            parent.rightDelim = fence;\r\n\r\n            const tail = siblings.slice(this.endOffset() + 1);\r\n            siblings.splice(this.endOffset() + 1);\r\n            this.path.pop();\r\n\r\n            Array.prototype.splice.apply(\r\n                this.siblings(),\r\n                [this.endOffset() + 1, 0].concat(tail)\r\n            );\r\n            this.contentDidChange();\r\n\r\n            return true;\r\n        }\r\n\r\n        // Is our grand-parent a 'leftright'?\r\n        // If `\\left(\\frac{1}{x|}\\right?` with the caret at `|`\r\n        // go up to the 'leftright' and apply it there instead\r\n        const grandparent = this.ancestor(2);\r\n        if (\r\n            grandparent &&\r\n            grandparent.type === \"leftright\" &&\r\n            grandparent.rightDelim === \"?\" &&\r\n            this.endOffset() === siblings.length - 1\r\n        ) {\r\n            this.move(1);\r\n            return this._insertSmartFence(fence, style);\r\n        }\r\n\r\n        // Meh... We couldn't find a matching open fence. Just insert the\r\n        // closing fence as a regular character\r\n        this.insert(fence, { mode: \"math\", format: \"latex\", style: style });\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nEditableMathlist.prototype.positionInsertionPointAfterCommitedCommand = function() {\r\n    const siblings = this.siblings();\r\n    const command = this.commandOffsets();\r\n    let i = command.start;\r\n    while (i < command.end && !siblings[i].suggestion) {\r\n        i++;\r\n    }\r\n    this.setSelection(i - 1);\r\n};\r\n\r\nEditableMathlist.prototype.removeSuggestion = function() {\r\n    const siblings = this.siblings();\r\n    // Remove all `suggestion` atoms\r\n    for (let i = siblings.length - 1; i >= 0; i--) {\r\n        if (siblings[i].suggestion) {\r\n            siblings.splice(i, 1);\r\n        }\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.insertSuggestion = function(s, l) {\r\n    this.removeSuggestion();\r\n\r\n    const mathlist = [];\r\n\r\n    // Make a mathlist from the string argument with the `suggestion` property set\r\n    const subs = s.substr(l);\r\n    for (const c of subs) {\r\n        const atom = new MathAtom.MathAtom(\"command\", \"command\", c);\r\n        atom.suggestion = true;\r\n        mathlist.push(atom);\r\n    }\r\n\r\n    // Splice in the mathlist after the insertion point, but don't change the\r\n    // insertion point\r\n    Array.prototype.splice.apply(\r\n        this.siblings(),\r\n        [this.anchorOffset() + 1, 0].concat(mathlist)\r\n    );\r\n};\r\n\r\n/**\r\n * Delete sibling atoms\r\n * @method EditableMathlist#_deleteAtoms\r\n * @private\r\n */\r\nEditableMathlist.prototype._deleteAtoms = function(count) {\r\n    if (count > 0) {\r\n        this.siblings().splice(this.anchorOffset() + 1, count);\r\n    } else {\r\n        this.siblings().splice(this.anchorOffset() + count + 1, -count);\r\n        this.setSelection(this.anchorOffset() + count);\r\n    }\r\n};\r\n\r\n/**\r\n * Delete multiple characters\r\n * @method EditableMathlist#delete\r\n * @private\r\n */\r\nEditableMathlist.prototype.delete = function(count) {\r\n    count = count || 0;\r\n    if (count === 0) {\r\n        this.delete_(0);\r\n    } else if (count > 0) {\r\n        while (count > 0) {\r\n            this.delete_(+1);\r\n            count--;\r\n        }\r\n    } else {\r\n        while (count < 0) {\r\n            this.delete_(-1);\r\n            count++;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * @param {number} dir If the selection is not collapsed, and dir is\r\n * negative, delete backwards, starting with the anchor atom.\r\n * That is, delete(-1) will delete only the anchor atom.\r\n * If dir = 0, delete only if the selection is not collapsed\r\n * @method EditableMathlist#delete_\r\n * @instance\r\n * @private\r\n */\r\nEditableMathlist.prototype.delete_ = function(dir) {\r\n    // Dispatch notifications\r\n    this.contentWillChange();\r\n    this.selectionWillChange();\r\n    const contentWasChanging = this.suppressChangeNotifications;\r\n    this.suppressChangeNotifications = true;\r\n\r\n    dir = dir || 0;\r\n    dir = dir < 0 ? -1 : dir > 0 ? +1 : dir;\r\n\r\n    this.removeSuggestion();\r\n\r\n    if (this.parent().array) {\r\n        if (dir < 0 && this.startOffset() === 0) {\r\n            const array = this.parent().array;\r\n            if (arrayFirstCellByRow(array) === this.relation()) {\r\n                // (1) First cell:\r\n                // delete array, replace it with linearized content\r\n                const atoms = arrayJoinRows(array);\r\n                this.path.pop();\r\n                this.siblings().splice(this.anchorOffset(), 1, ...atoms);\r\n                this.setSelection(this.anchorOffset() - 1, atoms.length);\r\n            } else {\r\n                const colRow = arrayColRow(array, this.relation());\r\n                if (colRow.col === 0) {\r\n                    // (2) First (non-empty) column (but not first row):\r\n\r\n                    // Move to the end of the last cell of the previous row\r\n                    const dest = arrayAdjustRow(array, colRow, -1);\r\n                    dest.col = array[dest.row].length - 1;\r\n\r\n                    this.path[this.path.length - 1].relation =\r\n                        \"cell\" + arrayIndex(array, dest);\r\n                    const destLength = array[dest.row][dest.col].length;\r\n\r\n                    // (2.1) Linearize it and merge it with last cell of previous row\r\n                    // (note that atoms could be empty if there are no non-empty\r\n                    // cells left in the row)\r\n                    const atoms = arrayJoinColumns(array[colRow.row]);\r\n                    array[dest.row][dest.col] = array[dest.row][\r\n                        dest.col\r\n                    ].concat(atoms);\r\n                    this.setSelection(destLength - 1, atoms.length);\r\n\r\n                    // (2.2) Remove row\r\n                    arrayRemoveRow(array, colRow.row);\r\n                } else {\r\n                    // (3) Non-first column\r\n                    // (3.1) If column is empty, remove it\r\n                    if (arrayColumnCellCount(array, colRow.col) === 0) {\r\n                        arrayRemoveColumn(array, colRow.col);\r\n                        colRow.col -= 1;\r\n                        this.path[this.path.length - 1].relation =\r\n                            \"cell\" + arrayIndex(array, colRow);\r\n                        const destCell = array[colRow.row][colRow.col];\r\n                        this.setSelection(destCell.length - 1, 0);\r\n                    }\r\n                    // (3.2) merge cell with cell in previous column\r\n                }\r\n            }\r\n\r\n            // Dispatch notifications\r\n            this.suppressChangeNotifications = contentWasChanging;\r\n            this.selectionDidChange();\r\n            this.contentDidChange();\r\n            return;\r\n        }\r\n    }\r\n\r\n    const siblings = this.siblings();\r\n\r\n    if (!this.isCollapsed()) {\r\n        // There is a selection extent. Delete all the atoms within it.\r\n        const first = this.startOffset() + 1;\r\n        const last = this.endOffset() + 1;\r\n\r\n        this._announce(\"deleted\", null, siblings.slice(first, last));\r\n        siblings.splice(first, last - first);\r\n\r\n        // Adjust the anchor\r\n        this.setSelection(first - 1);\r\n    } else {\r\n        const anchorOffset = this.anchorOffset();\r\n        if (dir < 0) {\r\n            if (anchorOffset !== 0) {\r\n                // We're not at the begining of the sibling list.\r\n                // If the previous sibling is a compound (fractions, group),\r\n                // just move into it, otherwise delete it\r\n                const sibling = this.sibling(0);\r\n                if (sibling.type === \"leftright\") {\r\n                    sibling.rightDelim = \"?\";\r\n                    this.move(-1);\r\n                } else if (\r\n                    !sibling.captureSelection &&\r\n                    /^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(\r\n                        sibling.type\r\n                    )\r\n                ) {\r\n                    this.move(-1);\r\n                } else {\r\n                    this._announce(\r\n                        \"delete\",\r\n                        null,\r\n                        siblings.slice(anchorOffset, anchorOffset + 1)\r\n                    );\r\n                    siblings.splice(anchorOffset, 1);\r\n                    this.setSelection(anchorOffset - 1);\r\n                }\r\n            } else {\r\n                // We're at the beginning of the sibling list.\r\n                // Delete what comes before\r\n                const relation = this.relation();\r\n                if (relation === \"superscript\" || relation === \"subscript\") {\r\n                    const supsub = this.parent()[relation].filter(\r\n                        atom =>\r\n                            atom.type !== \"placeholder\" && atom.type !== \"first\"\r\n                    );\r\n                    this.parent()[relation] = null;\r\n                    this.path.pop();\r\n                    Array.prototype.splice.apply(\r\n                        this.siblings(),\r\n                        [this.anchorOffset(), 0].concat(supsub)\r\n                    );\r\n                    this.setSelection(this.anchorOffset() - 1);\r\n                    this._announce(\"deleted: \" + relation);\r\n                } else if (relation === \"denom\") {\r\n                    // Fraction denominator\r\n                    const numer = this.parent().numer.filter(\r\n                        atom =>\r\n                            atom.type !== \"placeholder\" && atom.type !== \"first\"\r\n                    );\r\n                    const denom = this.parent().denom.filter(\r\n                        atom =>\r\n                            atom.type !== \"placeholder\" && atom.type !== \"first\"\r\n                    );\r\n                    this.path.pop();\r\n                    Array.prototype.splice.apply(\r\n                        this.siblings(),\r\n                        [this.anchorOffset(), 1].concat(denom)\r\n                    );\r\n                    Array.prototype.splice.apply(\r\n                        this.siblings(),\r\n                        [this.anchorOffset(), 0].concat(numer)\r\n                    );\r\n                    this.setSelection(this.anchorOffset() + numer.length - 1);\r\n                    this._announce(\"deleted: denominator\");\r\n                } else if (relation === \"body\") {\r\n                    const body = this.siblings().filter(\r\n                        atom => atom.type !== \"placeholder\"\r\n                    );\r\n                    if (this.path.length > 1) {\r\n                        body.shift(); // Remove the 'first' atom\r\n                        this.path.pop();\r\n                        Array.prototype.splice.apply(\r\n                            this.siblings(),\r\n                            [this.anchorOffset(), 1].concat(body)\r\n                        );\r\n                        this.setSelection(this.anchorOffset() - 1);\r\n                        this._announce(\"deleted: root\");\r\n                    }\r\n                } else {\r\n                    this.move(-1);\r\n                    this.delete(-1);\r\n                }\r\n            }\r\n        } else if (dir > 0) {\r\n            if (anchorOffset !== siblings.length - 1) {\r\n                if (\r\n                    /^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(\r\n                        this.sibling(1).type\r\n                    )\r\n                ) {\r\n                    this.move(+1);\r\n                } else {\r\n                    this._announce(\r\n                        \"delete\",\r\n                        null,\r\n                        siblings.slice(anchorOffset + 1, anchorOffset + 2)\r\n                    );\r\n                    siblings.splice(anchorOffset + 1, 1);\r\n                }\r\n            } else {\r\n                // We're at the end of the sibling list, delete what comes next\r\n                const relation = this.relation();\r\n                if (relation === \"numer\") {\r\n                    const numer = this.parent().numer.filter(\r\n                        atom =>\r\n                            atom.type !== \"placeholder\" && atom.type !== \"first\"\r\n                    );\r\n                    const denom = this.parent().denom.filter(\r\n                        atom =>\r\n                            atom.type !== \"placeholder\" && atom.type !== \"first\"\r\n                    );\r\n                    this.path.pop();\r\n                    Array.prototype.splice.apply(\r\n                        this.siblings(),\r\n                        [this.anchorOffset(), 1].concat(denom)\r\n                    );\r\n                    Array.prototype.splice.apply(\r\n                        this.siblings(),\r\n                        [this.anchorOffset(), 0].concat(numer)\r\n                    );\r\n                    this.setSelection(this.anchorOffset() + numer.length - 1);\r\n                    this._announce(\"deleted: numerator\");\r\n                } else {\r\n                    this.move(1);\r\n                    this.delete(-1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // Dispatch notifications\r\n    this.suppressChangeNotifications = contentWasChanging;\r\n    this.selectionDidChange();\r\n    this.contentDidChange();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToNextPlaceholder_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToNextPlaceholder_ = function() {\r\n    this.leap(+1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToPreviousPlaceholder_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToPreviousPlaceholder_ = function() {\r\n    this.leap(-1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToNextChar_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToNextChar_ = function() {\r\n    this.move(+1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToPreviousChar_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToPreviousChar_ = function() {\r\n    this.move(-1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveUp_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveUp_ = function() {\r\n    this.up();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveDown_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveDown_ = function() {\r\n    this.down();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToNextWord_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToNextWord_ = function() {\r\n    this.skip(+1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToPreviousWord_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToPreviousWord_ = function() {\r\n    this.skip(-1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToGroupStart_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToGroupStart_ = function() {\r\n    this.setSelection(0);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToGroupEnd_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToGroupEnd_ = function() {\r\n    this.setSelection(-1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToMathFieldStart_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToMathFieldStart_ = function() {\r\n    this.jumpToMathFieldBoundary(-1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveToMathFieldEnd_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToMathFieldEnd_ = function() {\r\n    this.jumpToMathFieldBoundary(+1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#deleteNextChar_\r\n * @private\r\n */\r\nEditableMathlist.prototype.deleteNextChar_ = function() {\r\n    this.delete_(+1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#deletePreviousChar_\r\n * @private\r\n */\r\nEditableMathlist.prototype.deletePreviousChar_ = function() {\r\n    this.delete_(-1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#deleteNextWord_\r\n * @private\r\n */\r\nEditableMathlist.prototype.deleteNextWord_ = function() {\r\n    this.extendToNextBoundary();\r\n    this.delete_();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#deletePreviousWord_\r\n * @private\r\n */\r\nEditableMathlist.prototype.deletePreviousWord_ = function() {\r\n    this.extendToPreviousBoundary();\r\n    this.delete_();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#deleteToGroupStart_\r\n * @private\r\n */\r\nEditableMathlist.prototype.deleteToGroupStart_ = function() {\r\n    this.extendToGroupStart();\r\n    this.delete_();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#deleteToGroupEnd_\r\n * @private\r\n */\r\nEditableMathlist.prototype.deleteToGroupEnd_ = function() {\r\n    this.extendToMathFieldStart();\r\n    this.delete_();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#deleteToMathFieldEnd_\r\n * @private\r\n * @private\r\n */\r\nEditableMathlist.prototype.deleteToMathFieldEnd_ = function() {\r\n    this.extendToMathFieldEnd();\r\n    this.delete_();\r\n};\r\n\r\n/**\r\n * Swap the characters to either side of the insertion point and advances\r\n * the insertion point past both of them. Does nothing to a selected range of\r\n * text.\r\n * @method EditableMathlist#transpose_\r\n * @private\r\n */\r\nEditableMathlist.prototype.transpose_ = function() {\r\n    // @todo\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#extendToNextChar_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToNextChar_ = function() {\r\n    this.extend(+1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#extendToPreviousChar_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToPreviousChar_ = function() {\r\n    this.extend(-1);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#extendToNextWord_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToNextWord_ = function() {\r\n    this.skip(+1, { extend: true });\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#extendToPreviousWord_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToPreviousWord_ = function() {\r\n    this.skip(-1, { extend: true });\r\n};\r\n\r\n/**\r\n * If the selection is in a denominator, the selection will be extended to\r\n * include the numerator.\r\n * @method EditableMathlist#extendUp_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendUp_ = function() {\r\n    this.up({ extend: true });\r\n};\r\n\r\n/**\r\n * If the selection is in a numerator, the selection will be extended to\r\n * include the denominator.\r\n * @method EditableMathlist#extendDown_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendDown_ = function() {\r\n    this.down({ extend: true });\r\n};\r\n\r\n/**\r\n * Extend the selection until the next boundary is reached. A boundary\r\n * is defined by an atom of a different type (mbin, mord, etc...)\r\n * than the current focus. For example, in \"1234+x=y\", if the focus is between\r\n * \"1\" and \"2\", invoking `extendToNextBoundary_` would extend the selection\r\n * to \"234\".\r\n * @method EditableMathlist#extendToNextBoundary_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToNextBoundary_ = function() {\r\n    this.skip(+1, { extend: true });\r\n};\r\n\r\n/**\r\n * Extend the selection until the previous boundary is reached. A boundary\r\n * is defined by an atom of a different type (mbin, mord, etc...)\r\n * than the current focus. For example, in \"1+23456\", if the focus is between\r\n * \"5\" and \"6\", invoking `extendToPreviousBoundary` would extend the selection\r\n * to \"2345\".\r\n * @method EditableMathlist#extendToPreviousBoundary_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToPreviousBoundary_ = function() {\r\n    this.skip(-1, { extend: true });\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#extendToGroupStart_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToGroupStart_ = function() {\r\n    this.setExtent(-this.anchorOffset());\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#extendToGroupEnd_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToGroupEnd_ = function() {\r\n    this.setExtent(this.siblings().length - this.anchorOffset());\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#extendToMathFieldStart_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToMathFieldStart_ = function() {\r\n    this.jumpToMathFieldBoundary(-1, { extend: true });\r\n};\r\n\r\n/**\r\n * Extend the selection to the end of the mathfield.\r\n * @method EditableMathlist#extendToMathFieldEnd_\r\n * @private\r\n */\r\nEditableMathlist.prototype.extendToMathFieldEnd_ = function() {\r\n    this.jumpToMathFieldBoundary(+1, { extend: true });\r\n};\r\n\r\n/**\r\n * Switch the cursor to the superscript and select it. If there is no subscript\r\n * yet, create one.\r\n * @method EditableMathlist#moveToSuperscript_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToSuperscript_ = function() {\r\n    this.collapseForward();\r\n    if (!this.anchor().superscript) {\r\n        if (this.anchor().subscript) {\r\n            this.anchor().superscript = [makeFirstAtom()];\r\n        } else {\r\n            const sibling = this.sibling(1);\r\n            if (sibling && sibling.superscript) {\r\n                this.path[this.path.length - 1].offset += 1;\r\n                //            this.setSelection(this.anchorOffset() + 1);\r\n            } else if (sibling && sibling.subscript) {\r\n                this.path[this.path.length - 1].offset += 1;\r\n                //            this.setSelection(this.anchorOffset() + 1);\r\n                this.anchor().superscript = [makeFirstAtom()];\r\n            } else {\r\n                if (this.anchor().limits !== \"limits\") {\r\n                    this.siblings().splice(\r\n                        this.anchorOffset() + 1,\r\n                        0,\r\n                        new MathAtom.MathAtom(\r\n                            this.parent().anchorMode,\r\n                            \"msubsup\",\r\n                            \"\\u200b\",\r\n                            this.anchorStyle()\r\n                        )\r\n                    );\r\n                    this.path[this.path.length - 1].offset += 1;\r\n                    //            this.setSelection(this.anchorOffset() + 1);\r\n                }\r\n                this.anchor().superscript = [makeFirstAtom()];\r\n            }\r\n        }\r\n    }\r\n    this.path.push({ relation: \"superscript\", offset: 0 });\r\n    this.selectGroup_();\r\n};\r\n\r\n/**\r\n * Switch the cursor to the subscript and select it. If there is no subscript\r\n * yet, create one.\r\n * @method EditableMathlist#moveToSubscript_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToSubscript_ = function() {\r\n    this.collapseForward();\r\n    if (!this.anchor().subscript) {\r\n        if (this.anchor().superscript) {\r\n            this.anchor().subscript = [makeFirstAtom()];\r\n        } else {\r\n            const sibling = this.sibling(1);\r\n            if (sibling && sibling.subscript) {\r\n                this.path[this.path.length - 1].offset += 1;\r\n                // this.setSelection(this.anchorOffset() + 1);\r\n            } else if (sibling && sibling.superscript) {\r\n                this.path[this.path.length - 1].offset += 1;\r\n                // this.setSelection(this.anchorOffset() + 1);\r\n                this.anchor().subscript = [makeFirstAtom()];\r\n            } else {\r\n                if (this.anchor().limits !== \"limits\") {\r\n                    this.siblings().splice(\r\n                        this.anchorOffset() + 1,\r\n                        0,\r\n                        new MathAtom.MathAtom(\r\n                            this.parent().anchorMode,\r\n                            \"msubsup\",\r\n                            \"\\u200b\",\r\n                            this.anchorStyle()\r\n                        )\r\n                    );\r\n                    this.path[this.path.length - 1].offset += 1;\r\n                    // this.setSelection(this.anchorOffset() + 1);\r\n                }\r\n                this.anchor().subscript = [makeFirstAtom()];\r\n            }\r\n        }\r\n    }\r\n    this.path.push({ relation: \"subscript\", offset: 0 });\r\n    this.selectGroup_();\r\n};\r\n\r\n/**\r\n * If cursor is currently in:\r\n * - superscript: move to subscript, creating it if necessary\r\n * - subscript: move to superscript, creating it if necessary\r\n * - numerator: move to denominator\r\n * - denominator: move to numerator\r\n * - otherwise: move to superscript\r\n * @method EditableMathlist#moveToOpposite_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveToOpposite_ = function() {\r\n    const OPPOSITE_RELATIONS = {\r\n        superscript: \"subscript\",\r\n        subscript: \"superscript\",\r\n        denom: \"numer\",\r\n        numer: \"denom\"\r\n    };\r\n    const oppositeRelation = OPPOSITE_RELATIONS[this.relation()];\r\n    if (!oppositeRelation) {\r\n        this.moveToSuperscript_();\r\n    }\r\n\r\n    if (!this.parent()[oppositeRelation]) {\r\n        // Don't have children of the opposite relation yet\r\n        // Add them\r\n        this.parent()[oppositeRelation] = [makeFirstAtom()];\r\n    }\r\n\r\n    this.setSelection(0, \"end\", oppositeRelation);\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveBeforeParent_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveBeforeParent_ = function() {\r\n    if (this.path.length > 1) {\r\n        this.path.pop();\r\n        this.setSelection(this.anchorOffset() - 1);\r\n    } else {\r\n        this._announce(\"plonk\");\r\n    }\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#moveAfterParent_\r\n * @private\r\n */\r\nEditableMathlist.prototype.moveAfterParent_ = function() {\r\n    if (this.path.length > 1) {\r\n        const oldPath = clone(this);\r\n        this.path.pop();\r\n        this.setExtent(0);\r\n        this._announce(\"move\", oldPath);\r\n    } else {\r\n        this._announce(\"plonk\");\r\n    }\r\n};\r\n\r\n/**\r\n * Internal primitive to add a column/row in a matrix\r\n * @method EditableMathlist#_addCell\r\n * @private\r\n */\r\nEditableMathlist.prototype._addCell = function(where) {\r\n    // This command is only applicable if we're in an array\r\n    const parent = this.parent();\r\n    if (parent && parent.type === \"array\" && Array.isArray(parent.array)) {\r\n        const relation = this.relation();\r\n        if (parent.array) {\r\n            const colRow = arrayColRow(parent.array, relation);\r\n\r\n            if (where === \"after row\" || where === \"before row\") {\r\n                // Insert a row\r\n                colRow.col = 0;\r\n                colRow.row = colRow.row + (where === \"after row\" ? 1 : 0);\r\n\r\n                parent.array.splice(colRow.row, 0, [[]]);\r\n            } else {\r\n                // Insert a column\r\n                colRow.col += where === \"after column\" ? 1 : 0;\r\n                parent.array[colRow.row].splice(colRow.col, 0, []);\r\n            }\r\n\r\n            const cellIndex = arrayIndex(parent.array, colRow);\r\n\r\n            this.path.pop();\r\n            this.path.push({\r\n                relation: \"cell\" + cellIndex.toString(),\r\n                offset: 0\r\n            });\r\n            this.insertFirstAtom();\r\n        }\r\n    }\r\n};\r\n\r\nEditableMathlist.prototype.convertParentToArray = function() {\r\n    const parent = this.parent();\r\n    if (parent.type === \"leftright\") {\r\n        parent.type = \"array\";\r\n        const envName =\r\n            { \"(\": \"pmatrix\", \"\\\\lbrack\": \"bmatrix\", \"\\\\lbrace\": \"cases\" }[\r\n                parent.leftDelim\r\n            ] || \"matrix\";\r\n        const env = Definitions.getEnvironmentInfo(envName);\r\n        const array = [[parent.body]];\r\n        if (env.parser) {\r\n            Object.assign(parent, env.parser(envName, [], array));\r\n        }\r\n        parent.tabularMode = env.tabular;\r\n        parent.parseMode = this.anchorMode();\r\n        parent.env = { ...env };\r\n        parent.env.name = envName;\r\n        parent.array = array;\r\n        parent.rowGaps = [0];\r\n        delete parent.body;\r\n        this.path[this.path.length - 1].relation = \"cell0\";\r\n    }\r\n    // Note: could also be a group, or we could be a subscript or an\r\n    // underscript (for multi-valued conditions on a \\sum, for example)\r\n    // Or if at root, this could be a 'align*' environment\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#addRowAfter_\r\n * @private\r\n */\r\nEditableMathlist.prototype.addRowAfter_ = function() {\r\n    this.contentWillChange();\r\n    this.convertParentToArray();\r\n    this._addCell(\"after row\");\r\n    this.contentDidChange();\r\n};\r\n/**\r\n * @method EditableMathlist#addRowBefore_\r\n * @private\r\n */\r\nEditableMathlist.prototype.addRowBefore_ = function() {\r\n    this.contentWillChange();\r\n    this.convertParentToArray();\r\n    this._addCell(\"before row\");\r\n    this.contentDidChange();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#addColumnAfter_\r\n * @private\r\n */\r\nEditableMathlist.prototype.addColumnAfter_ = function() {\r\n    this.contentWillChange();\r\n    this.convertParentToArray();\r\n    this._addCell(\"after column\");\r\n    this.contentDidChange();\r\n};\r\n\r\n/**\r\n * @method EditableMathlist#addColumnBefore_\r\n * @private\r\n */\r\nEditableMathlist.prototype.addColumnBefore_ = function() {\r\n    this.contentWillChange();\r\n    this.convertParentToArray();\r\n    this._addCell(\"before column\");\r\n    this.contentDidChange();\r\n};\r\n\r\n/**\r\n * Apply a style (color, background) to the selection.\r\n *\r\n * If the style is already applied to the selection, remove it. If the selection\r\n * has the style partially applied (i.e. only some sections), remove it from\r\n * those sections, and apply it to the entire selection.\r\n *\r\n * @method EditableMathlist#applyStyle\r\n * @private\r\n */\r\n\r\nEditableMathlist.prototype._applyStyle = function(style) {\r\n    // No selection, nothing to do.\r\n    if (this.isCollapsed()) return;\r\n\r\n    const that = this;\r\n\r\n    function everyStyle(property, value) {\r\n        let result = true;\r\n        that.forEachSelected(\r\n            x => {\r\n                result = result && x[property] === value;\r\n            },\r\n            { recursive: true }\r\n        );\r\n        return result;\r\n    }\r\n\r\n    if (style.color && everyStyle(\"color\", style.color)) {\r\n        // If the selection already has this color, turn it off\r\n        style.color = \"none\";\r\n    }\r\n\r\n    if (\r\n        style.backgroundColor &&\r\n        everyStyle(\"backgroundColor\", style.backgroundColor)\r\n    ) {\r\n        // If the selection already has this color, turn it off\r\n        style.backgroundColor = \"none\";\r\n    }\r\n\r\n    if (style.fontFamily && everyStyle(\"fontFamily\", style.fontFamily)) {\r\n        // If the selection already has this font family, turn it off\r\n        style.fontFamily = \"none\";\r\n    }\r\n\r\n    if (style.series) style.fontSeries = style.series;\r\n    if (style.fontSeries && everyStyle(\"fontSeries\", style.fontSeries)) {\r\n        // If the selection already has this series (weight), turn it off\r\n        style.fontSeries = \"auto\";\r\n    }\r\n\r\n    if (style.shape) style.fontShape = style.shape;\r\n    if (style.fontShape && everyStyle(\"fontShape\", style.fontShape)) {\r\n        // If the selection already has this shape (italic), turn it off\r\n        style.fontShape = \"auto\";\r\n    }\r\n\r\n    if (style.size) style.fontSize = style.size;\r\n    if (style.fontSize && everyStyle(\"fontSize\", style.fontSize)) {\r\n        // If the selection already has this size, reset it to default size\r\n        style.fontSize = \"size5\";\r\n    }\r\n\r\n    this.contentWillChange();\r\n    this.forEachSelected(x => x.applyStyle(style), { recursive: true });\r\n    this.contentDidChange();\r\n};\r\n\r\n/**\r\n * Attempts to parse and interpret a string in an unknown format, possibly\r\n * ASCIIMath and return a canonical LaTeX string.\r\n *\r\n * The format recognized are one of these variations:\r\n * - ASCIIMath: Only supports a subset\r\n * (1/2x)\r\n * 1/2sin x                     -> \\frac {1}{2}\\sin x\r\n * 1/2sinx                      -> \\frac {1}{2}\\sin x\r\n * (1/2sin x (x^(2+1))          // Unbalanced parentheses\r\n * (1/2sin(x^(2+1))             -> \\left(\\frac {1}{2}\\sin \\left(x^{2+1}\\right)\\right)\r\n * alpha + (pi)/(4)             -> \\alpha +\\frac {\\pi }{4}\r\n * x=(-b +- sqrt(b^2 – 4ac))/(2a)\r\n * alpha/beta\r\n * sqrt2 + sqrtx + sqrt(1+a) + sqrt(1/2)\r\n * f(x) = x^2 \"when\" x >= 0\r\n * AA n in QQ\r\n * AA x in RR \",\" |x| > 0\r\n * AA x in RR \",\" abs(x) > 0\r\n *\r\n * - UnicodeMath (generated by Microsoft Word): also only supports a subset\r\n *      - See https://www.unicode.org/notes/tn28/UTN28-PlainTextMath-v3.1.pdf\r\n * √(3&x+1)\r\n * {a+b/c}\r\n * [a+b/c]\r\n * _a^b x\r\n * lim_(n->\\infty) n\r\n * \\iint_(a=0)^\\infty  a\r\n *\r\n * - \"JavaScript Latex\": a variant that is LaTeX, but with escaped backslashes\r\n *  \\\\frac{1}{2} \\\\sin x\r\n * @param {string} s\r\n * @private\r\n */\r\nexport function parseMathString(s, config) {\r\n    if (!s) return \"\";\r\n\r\n    // Nothing to do if a single character\r\n    if (s.length <= 1) return s;\r\n\r\n    // Replace double-backslash (coming from JavaScript) to a single one\r\n    if (!config || config.format !== \"ASCIIMath\") {\r\n        s = s.replace(/\\\\\\\\([^\\s\\n])/g, \"\\\\$1\");\r\n    }\r\n\r\n    if ((!config || config.format !== \"ASCIIMath\") && /\\\\/.test(s)) {\r\n        // If the string includes a '\\' and a '{' or a '}'\r\n        // it's probably a LaTeX string\r\n        // (that's not completely true, it could be a UnicodeMath string, since\r\n        // UnicodeMath supports some LaTeX commands. However, we need to pick\r\n        // one in order to correctly interpret {} (which are argument delimiters\r\n        // in LaTeX, and are fences in UnicodeMath)\r\n        return s;\r\n    }\r\n\r\n    s = s.replace(/\\u2061/gu, \"\"); // Remove function application\r\n    s = s.replace(/\\u3016/gu, \"{\"); // WHITE LENTICULAR BRACKET (grouping)\r\n    s = s.replace(/\\u3017/gu, \"}\"); // WHITE LENTICULAR BRACKET (grouping)\r\n\r\n    s = s.replace(/([^\\\\])sinx/g, \"$1\\\\sin x\"); // common typo\r\n    s = s.replace(/([^\\\\])cosx/g, \"$1\\\\cos x \"); // common typo\r\n    s = s.replace(/\\u2013/g, \"-\"); // EN-DASH, sometimes used as a minus sign\r\n\r\n    return parseMathExpression(s, config);\r\n}\r\n\r\nfunction parseMathExpression(s, config) {\r\n    if (!s) return \"\";\r\n    let done = false;\r\n    let m;\r\n\r\n    if (!done && (s[0] === \"^\" || s[0] === \"_\")) {\r\n        // Superscript and subscript\r\n        m = parseMathArgument(s.substr(1), { ...config, noWrap: true });\r\n        s = s[0] + \"{\" + m.match + \"}\";\r\n        s += parseMathExpression(m.rest, config);\r\n        done = true;\r\n    }\r\n\r\n    if (!done) {\r\n        m = s.match(/^(sqrt|\\u221a)(.*)/);\r\n        if (m) {\r\n            // Square root\r\n            m = parseMathArgument(m[2], { ...config, noWrap: true });\r\n            s = \"\\\\sqrt{\" + m.match + \"}\";\r\n            s += parseMathExpression(m.rest, config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    if (!done) {\r\n        m = s.match(/^(\\\\cbrt|\\u221b)(.*)/);\r\n        if (m) {\r\n            // Cube root\r\n            m = parseMathArgument(m[2], { ...config, noWrap: true });\r\n            s = \"\\\\sqrt[3]{\" + m.match + \"}\";\r\n            s += parseMathExpression(m.rest, config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    if (!done) {\r\n        m = s.match(/^abs(.*)/);\r\n        if (m) {\r\n            // Absolute value\r\n            m = parseMathArgument(m[1], { ...config, noWrap: true });\r\n            s = \"\\\\left|\" + m.match + \"\\\\right|\";\r\n            s += parseMathExpression(m.rest, config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    if (!done) {\r\n        m = s.match(/^[\"”“](.*?)[\"”“](.*)/);\r\n        if (m) {\r\n            // Quoted text\r\n            s = \"\\\\text{\" + m[1] + \"}\";\r\n            s += parseMathExpression(m[2], config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    if (!done) {\r\n        m = s.match(/^([^a-zA-Z({[_^\\\\\\s\"]+)(.*)/);\r\n        // A string of symbols...\r\n        // Could be a binary or relational operator, etc...\r\n        if (m) {\r\n            s = paddedShortcut(m[1], config);\r\n            s += parseMathExpression(m[2], config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    if (!done && /^(f|g|h)[^a-zA-Z]/.test(s)) {\r\n        // This could be a function...\r\n        m = parseMathArgument(s.substring(1), config);\r\n        s = s[0];\r\n        s += m.match;\r\n        s += parseMathExpression(m.rest, config);\r\n        done = true;\r\n    }\r\n\r\n    if (!done) {\r\n        m = s.match(/^([a-zA-Z]+)(.*)/);\r\n        if (m) {\r\n            // Some alphabetical string...\r\n            // Could be a function name (sin) or symbol name (alpha)\r\n            s = paddedShortcut(m[1], config);\r\n            s += parseMathExpression(m[2], config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    if (!done) {\r\n        m = parseMathArgument(s, { ...config, noWrap: true });\r\n        if (m.match && m.rest[0] === \"/\") {\r\n            // Fraction\r\n            const m2 = parseMathArgument(m.rest.substr(1), {\r\n                ...config,\r\n                noWrap: true\r\n            });\r\n            if (m2.match) {\r\n                s =\r\n                    \"\\\\frac{\" +\r\n                    m.match +\r\n                    \"}{\" +\r\n                    m2.match +\r\n                    \"}\" +\r\n                    parseMathExpression(m2.rest, config);\r\n            }\r\n            done = true;\r\n        } else if (m.match && /^(\\(|\\{|\\[)$/.test(s[0])) {\r\n            // A group\r\n\r\n            s =\r\n                \"\\\\left\" +\r\n                s[0] +\r\n                m.match +\r\n                \"\\\\right\" +\r\n                { \"(\": \")\", \"{\": \"}\", \"[\": \"]\" }[s[0]] +\r\n                parseMathExpression(m.rest, config);\r\n            done = true;\r\n        } else if (m.match) {\r\n            s = m.match;\r\n            s += parseMathExpression(m.rest, config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    if (!done) {\r\n        m = s.match(/^(\\s+)(.*)$/);\r\n        // Whitespace\r\n        if (m) {\r\n            s = \" \" + parseMathExpression(m[2], config);\r\n            done = true;\r\n        }\r\n    }\r\n\r\n    return s;\r\n}\r\n\r\n/**\r\n * Parse a math argument, as defined by ASCIIMath and UnicodeMath:\r\n * - Either an expression fenced in (), {} or []\r\n * - a number (- sign, digits, decimal point, digits)\r\n * - a single [a-zA-Z] letter (an identifier)\r\n * - a multi-letter shortcut (e.g., pi)\r\n * - a LaTeX command (\\pi) (for UnicodeMath)\r\n * @param {string} s\r\n * @return {object}\r\n * - match: the parsed (and converted) portion of the string that is an argument\r\n * - rest: the raw, unconverted, rest of the string\r\n * @private\r\n */\r\nfunction parseMathArgument(s, config) {\r\n    let match = \"\";\r\n    s = s.trim();\r\n    let rest = s;\r\n    const lFence = s.charAt(0);\r\n    const rFence = { \"(\": \")\", \"{\": \"}\", \"[\": \"]\" }[lFence];\r\n    if (rFence) {\r\n        // It's a fence\r\n        let level = 1;\r\n        let i = 1;\r\n        while (i < s.length && level > 0) {\r\n            if (s[i] === lFence) level++;\r\n            if (s[i] === rFence) level--;\r\n            i++;\r\n        }\r\n        if (level === 0) {\r\n            // We've found the matching closing fence\r\n            if (config.noWrap && lFence === \"(\" && rFence === \")\") {\r\n                match = parseMathExpression(s.substring(1, i - 1), config);\r\n            } else {\r\n                match =\r\n                    \"\\\\mleft\" +\r\n                    lFence +\r\n                    parseMathExpression(s.substring(1, i - 1), config) +\r\n                    \"\\\\mright\" +\r\n                    rFence;\r\n            }\r\n            rest = s.substring(i);\r\n        } else {\r\n            // Unbalanced fence...\r\n            match = s.substring(1, i);\r\n            rest = \"\";\r\n        }\r\n    } else {\r\n        let m = s.match(/^([a-zA-Z]+)/);\r\n        if (m) {\r\n            // It's a string of letter, maybe a shortcut\r\n            let shortcut = Shortcuts.forString(\"math\", null, s, config);\r\n            if (shortcut) {\r\n                shortcut = shortcut.replace(\"_{#?}\", \"\");\r\n                shortcut = shortcut.replace(\"^{#?}\", \"\");\r\n                return { match: shortcut, rest: s.substring(shortcut.length) };\r\n            }\r\n        }\r\n\r\n        m = s.match(/^([a-zA-Z])/);\r\n        if (m) {\r\n            // It's a single letter\r\n            return { match: m[1], rest: s.substring(1) };\r\n        }\r\n\r\n        m = s.match(/^(-)?\\d+(\\.\\d*)?/);\r\n        if (m) {\r\n            // It's a number\r\n            return { match: m[0], rest: s.substring(m[0].length) };\r\n        }\r\n\r\n        if (!/^\\\\(left|right)/.test(s)) {\r\n            // It's a LaTeX command (but not a \\left\\right)\r\n            m = s.match(/^(\\\\[a-zA-Z]+)/);\r\n            if (m) {\r\n                rest = s.substring(m[1].length);\r\n                match = m[1];\r\n            }\r\n        }\r\n    }\r\n\r\n    return { match: match, rest: rest };\r\n}\r\n\r\nfunction paddedShortcut(s, config) {\r\n    let result = Shortcuts.forString(\"math\", null, s, config);\r\n    if (result) {\r\n        result = result.replace(\"_{#?}\", \"\");\r\n        result = result.replace(\"^{#?}\", \"\");\r\n        result += \" \";\r\n    } else {\r\n        result = s;\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction makeFirstAtom() {\r\n    return new MathAtom.MathAtom(\"\", \"first\");\r\n}\r\n\r\nexport default {\r\n    EditableMathlist,\r\n    parseMathString\r\n};\r\n","\r\n/**\r\n * This modules handles low-level keyboard events and normalize them across\r\n * browsers.\r\n * @module editor/keyboard\r\n * @private\r\n */\r\n\r\n// These keys on international (non-US QWERTY) keyboards should\r\n// be mapped to the coresponding virtual keys (they could be shifted keys on\r\n// international keyboards)\r\nconst INTL_KEY = {\r\n    '#':            '#',\r\n    '|':            '|',\r\n    '[':            'BracketLeft',\r\n    ']':            'BracketRight',\r\n    '-':            'Minus',\r\n    '+':            'Plus',\r\n    '=':            'Equal',\r\n    '/':            'Slash',\r\n    '\\\\':           'Backslash',\r\n}\r\n\r\nconst KEY_NAMES = {\r\n    'Space':        'Spacebar',\r\n    ' ':            'Spacebar',\r\n    'Escape':       'Esc',\r\n    'ArrowLeft':    'Left',\r\n    'ArrowUp':      'Up',\r\n    'ArrowRight':   'Right',\r\n    'ArrowDown':    'Down',\r\n    'Delete':       'Del'\r\n};\r\n\r\n  const VIRTUAL_KEY_NAMES = {\r\n      'q'           : 'KeyQ',\r\n      'w'           : 'KeyW',\r\n      'e'           : 'KeyE',\r\n      'r'           : 'KeyR',\r\n      't'           : 'KeyT',\r\n      'y'           : 'KeyY',\r\n      'u'           : 'KeyU',\r\n      'i'           : 'KeyI',\r\n      'o'           : 'KeyO',\r\n      'p'           : 'KeyP',\r\n      'a'           : 'KeyA',\r\n      's'           : 'KeyS',\r\n      'd'           : 'KeyD',\r\n      'f'           : 'KeyF',\r\n      'g'           : 'KeyG',\r\n      'h'           : 'KeyH',\r\n      'j'           : 'KeyJ',\r\n      'k'           : 'KeyK',\r\n      'l'           : 'KeyL',\r\n      'z'           : 'KeyZ',\r\n      'x'           : 'KeyX',\r\n      'c'           : 'KeyC',\r\n      'v'           : 'KeyV',\r\n      'b'           : 'KeyB',\r\n      'n'           : 'KeyN',\r\n      'm'           : 'KeyM',\r\n\r\n      '1'           : 'Digit1',\r\n      '2'           : 'Digit2',\r\n      '3'           : 'Digit3',\r\n      '4'           : 'Digit4',\r\n      '5'           : 'Digit5',\r\n      '6'           : 'Digit6',\r\n      '7'           : 'Digit7',\r\n      '8'           : 'Digit8',\r\n      '9'           : 'Digit9',\r\n      '0'           : 'Digit0',\r\n\r\n      '!'           : 'Shift-Digit1',\r\n      '@'           : 'Shift-Digit2',\r\n      '#'           : 'Shift-Digit3',\r\n      '$'           : 'Shift-Digit4',\r\n      '%'           : 'Shift-Digit5',\r\n      '^'           : 'Shift-Digit6',\r\n      '&'           : 'Shift-Digit7',\r\n      '*'           : 'Shift-Digit8',\r\n      '('           : 'Shift-Digit9',\r\n      ')'           : 'Shift-Digit0',\r\n\r\n      '-'           : 'Minus',\r\n      '_'           : 'Shift-Minus',\r\n\r\n      '/'           : 'Slash',\r\n      '\\\\'          : 'Backslash',  // Some virtual keyboards (iOS) return '\\' as the event.key\r\n                                    // with no evt.code\r\n      '|'           : 'Shift-Backslash',\r\n      '?'           : 'Shift-Slash',\r\n\r\n      ' '           : 'Spacebar'\r\n  };\r\n\r\n/**\r\n *\r\n * Create a normalized string representation of the key combo,\r\n * i.e., key code and modifier keys. For example:\r\n * - `Ctrl-Shift-Alt-KeyF`\r\n * - `Alt-Space`\r\n * - `Shift-Digit6`\r\n * @todo See https://github.com/madrobby/keymaster/blob/master/keymaster.js\r\n * - Doesn't work very well for command-<key>\r\n * - Returns \"Alt-Alt\" when only the Alt key is pressed\r\n * @memberof module:editor/keyboard\r\n * @param {Event} evt\r\n * @private\r\n */\r\nfunction keyboardEventToString(evt) {\r\n    let keyname;\r\n    let useModifiers = true;\r\n\r\n    if (evt.key === 'Unidentified') {\r\n        // On Android, the evt.key seems to always be Unidentified.\r\n        // Get the value entered in the event target\r\n        if (evt.target) {\r\n            keyname = VIRTUAL_KEY_NAMES[evt.target.value] || evt.target.value;\r\n        }\r\n    }\r\n\r\n    if (!keyname) {\r\n        if (INTL_KEY[evt.key]) {\r\n            keyname = INTL_KEY[evt.key];\r\n            useModifiers = false;\r\n        } else {\r\n            keyname = KEY_NAMES[evt.key];\r\n        }\r\n\r\n        // For virtual keyboards (iOS, Android) and Microsoft Edge (!)\r\n        // the `evt.code`, which represents the physical key pressed, is set\r\n        // to undefined. In that case, map the virtual key (\"q\") to a\r\n        // pseudo-hardware key (\"KeyQ\")\r\n        if (!keyname) {\r\n            keyname = VIRTUAL_KEY_NAMES[evt.key.toLowerCase()] || evt.key;\r\n        }\r\n    }\r\n\r\n    if (!keyname && evt.code) {\r\n        keyname = KEY_NAMES[evt.code] || evt.code;\r\n    }\r\n\r\n    const modifiers = [];\r\n\r\n    if (evt.ctrlKey) modifiers.push('Ctrl');\r\n    if (evt.metaKey) modifiers.push('Meta');\r\n    if (useModifiers && evt.altKey) modifiers.push('Alt');\r\n    if (useModifiers && evt.shiftKey) modifiers.push('Shift');\r\n\r\n    // If no modifiers, simply return the key name\r\n    if (modifiers.length === 0) return keyname;\r\n\r\n    modifiers.push(keyname);\r\n\r\n    return modifiers.join('-');\r\n  }\r\n\r\n\r\n/**\r\n * Setup to capture the keyboard events from a `TextArea` and redispatch them to\r\n * handlers.\r\n *\r\n * In general, commands (arrows, delete, etc..) should be handled\r\n * in the `keystroke()` handler while text input should be handled in\r\n * `typedtext()`.\r\n *\r\n * @param {HTMLElement} textarea A `TextArea` element that will capture the keyboard\r\n * events. While this element will usually be a `TextArea`, it could be any\r\n * element that is focusable and can receive keyboard events.\r\n * @param {Object.<string, any>} handlers\r\n * @param {HTMLElement} [handlers.container]\r\n * @param {function} handlers.keystroke invoked on a key down event, including\r\n * for special keys such as ESC, arrow keys, tab, etc... and their variants\r\n * with modifiers.\r\n * @param {function} handlers.typedtext invoked on a keypress or other events\r\n * when a key corresponding to a character has been pressed. This include `a-z`,\r\n * `0-9`, `{}`, `^_()`, etc...\r\n * This does not include arrow keys, tab, etc... but does include 'space'\r\n * When a 'character' key is pressed, both `keystroke()` and `typedtext()` will\r\n * be invoked. When a control/function key is pressed, only `keystroke()` will\r\n * be invoked. In some cases, for example when using input methods or entering\r\n * emoji, only `typedtext()` will be invoked.\r\n * @param {function} handlers.paste(text) Invoked in response to a paste\r\n * command. Not all browsers support this (Chrome doesn't), so typedtext()\r\n * will be invoked instead.\r\n * @param {function} handlers.cut\r\n * @param {function} handlers.copy\r\n * @memberof module:editor/keyboard\r\n * @private\r\n */\r\nfunction delegateKeyboardEvents(textarea, handlers) {\r\n    let keydownEvent = null;\r\n    let keypressEvent = null;\r\n    let compositionInProgress = false;\r\n    let deadKey = false;\r\n\r\n    // This callback is invoked after a keyboard event has been processed\r\n    // by the textarea\r\n    let callbackTimeoutID;\r\n\r\n    function defer(cb) {\r\n        clearTimeout(callbackTimeoutID);\r\n        callbackTimeoutID = setTimeout(function() {\r\n            clearTimeout(callbackTimeoutID);\r\n            cb();\r\n        });\r\n    }\r\n\r\n    function handleTypedText() {\r\n        // Some browsers (Firefox, Opera) fire a keypress event for commands\r\n        // such as command-C where there might be a non-empty selection.\r\n        // We need to ignore these.\r\n        if (hasSelection(textarea)) return;\r\n\r\n        const text = textarea.value;\r\n        textarea.value = '';\r\n        if (text.length > 0) handlers.typedText(text);\r\n    }\r\n\r\n    function onKeydown(e) {\r\n        const allowDeadKey = typeof handlers.allowDeadKey === 'function' &&\r\n            handlers.allowDeadKey();\r\n        if (!allowDeadKey &&\r\n            ((e.key === 'Dead' || e.key === 'Unidentified') || e.keyCode === 229)) {\r\n            deadKey = true;\r\n            compositionInProgress = false;\r\n            // This sequence seems to cancel dead keys\r\n            // but don't call our blur/focus handlers\r\n            const savedBlur = handlers.blur;\r\n            const savedFocus = handlers.focus;\r\n            handlers.blur = null;\r\n            handlers.focus = null;\r\n            textarea.blur();\r\n            textarea.focus();\r\n            handlers.blur = savedBlur;\r\n            handlers.focus = savedFocus;\r\n        } else {\r\n            deadKey = false;\r\n        }\r\n        if (!compositionInProgress &&\r\n            e.code !== 'CapsLock' &&\r\n            !/(Control|Meta|Alt|Shift)(Right|Left)/.test(e.code)) {\r\n            keydownEvent = e;\r\n            keypressEvent = null;\r\n            return handlers.keystroke(keyboardEventToString(e), e);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function onKeypress(e) {\r\n        // If this is not the first keypress after a keydown, that is,\r\n        // if this is a repeated keystroke, call the keystroke handler.\r\n        if (!compositionInProgress) {\r\n            if (keydownEvent && keypressEvent) {\r\n                handlers.keystroke(keyboardEventToString(keydownEvent), keydownEvent);\r\n            }\r\n\r\n            keypressEvent = e;\r\n            defer(handleTypedText);\r\n        }\r\n    }\r\n\r\n    function onKeyup() {\r\n       // If we've received a keydown, but no keypress, check what's in the\r\n        // textarea field.\r\n        if (!compositionInProgress && keydownEvent && !keypressEvent) {\r\n            handleTypedText();\r\n        }\r\n    }\r\n\r\n    function onPaste() {\r\n        // In some cases (Linux browsers), the text area might not be focused\r\n        // when doing a middle-click paste command.\r\n        textarea.focus();\r\n        const text = textarea.value;\r\n        textarea.value = '';\r\n        if (text.length > 0) handlers.paste(text);\r\n    }\r\n\r\n    function onCopy(e) {\r\n        if (handlers.copy) handlers.copy(e);\r\n    }\r\n\r\n    function onCut(e) {\r\n        if (handlers.cut) handlers.cut(e);\r\n    }\r\n\r\n    function onBlur() {\r\n        keydownEvent = null;\r\n        keypressEvent = null;\r\n        if (handlers.blur) handlers.blur();\r\n    }\r\n    function onFocus() {\r\n        if (handlers.focus) {\r\n            handlers.focus();\r\n        }\r\n    }\r\n\r\n    const target = textarea || handlers.container;\r\n\r\n    target.addEventListener('keydown', onKeydown, true);\r\n    target.addEventListener('keypress', onKeypress, true);\r\n    target.addEventListener('keyup', onKeyup, true);\r\n    target.addEventListener('paste', onPaste, true);\r\n    target.addEventListener('copy', onCopy, true);\r\n    target.addEventListener('cut', onCut, true);\r\n    target.addEventListener('blur', onBlur, true);\r\n    target.addEventListener('focus', onFocus, true);\r\n    target.addEventListener('compositionstart',\r\n        () => { compositionInProgress = true }, true);\r\n    target.addEventListener('compositionend',\r\n        () => { compositionInProgress = false; defer(handleTypedText); }, true);\r\n\r\n    // The `input` handler gets called when the field is changed, for example\r\n    // with input methods or emoji input...\r\n    target.addEventListener('input', () => {\r\n        if (deadKey) {\r\n            const savedBlur = handlers.blur;\r\n            const savedFocus = handlers.focus;\r\n            handlers.blur = null;\r\n            handlers.focus = null;\r\n            textarea.blur();\r\n            textarea.focus();\r\n            handlers.blur = savedBlur;\r\n            handlers.focus = savedFocus;\r\n            deadKey = false;\r\n            compositionInProgress = false;\r\n            defer(handleTypedText);\r\n        } else if (!compositionInProgress) {\r\n            defer(handleTypedText);\r\n        }\r\n    });\r\n\r\n}\r\n\r\nfunction hasSelection(textarea) {\r\n    return textarea.selectionStart !== textarea.selectionEnd;\r\n}\r\n\r\n\r\nfunction eventToChar(evt) {\r\n    if (!evt) return '';\r\n    let result;\r\n    if (evt.key === 'Unidentified') {\r\n        // On Android, the evt.key seems to always be 'Unidentified'.\r\n        // Get the value entered in the event target\r\n        if (evt.target) {\r\n            result = evt.target.value;\r\n        }\r\n    }\r\n    result = result || evt.key || evt.code;\r\n    if (/^(Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(result)) {\r\n        result = '';\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction charToEvent(c) {\r\n    const result = {\r\n        key: c,\r\n        metaKey: false,\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false\r\n    };\r\n\r\n    return result;\r\n}\r\n\r\nexport default {\r\n    delegateKeyboardEvents: delegateKeyboardEvents,\r\n    select: delegateKeyboardEvents.select,\r\n    keyboardEventToString,\r\n    eventToChar,\r\n    charToEvent\r\n};\r\n\r\n\r\n\r\n","/**\r\n *\r\n * @class UndoManager\r\n * @property {MathAtom[]} mathlist\r\n * @property {object[]} stack Stack of undo/redo states\r\n * @property {number} index Index pointing to the undo/redo stack\r\n * @property {number} maximumDepth Maximum number of undo/redo states\r\n * @global\r\n * @private\r\n */\r\nclass UndoManager {\r\n    constructor(mathlist) {\r\n        this.mathlist = mathlist;\r\n        this.maximumDepth = 1000;\r\n        this.record = false;\r\n        this.canCoalesce = false;\r\n        this.reset();\r\n    }\r\n    reset() {\r\n        this.stack = [];\r\n        this.index = -1;\r\n    }\r\n    startRecording() {\r\n        this.record = true;\r\n    }\r\n    /**\r\n     *\r\n     * @return {boolean}\r\n     * @memberof UndoManager\r\n     * @instance\r\n     * @private\r\n     */\r\n    canUndo() {\r\n        return this.index > 0;\r\n    }\r\n    /**\r\n     *\r\n     * @return {boolean}\r\n     * @memberof UndoManager\r\n     * @instance\r\n     * @private\r\n     */\r\n    canRedo() {\r\n        return this.index !== this.stack.length - 1;\r\n    }\r\n    /**\r\n     *\r\n     * @memberof UndoManager\r\n     * @instance\r\n     * @private\r\n     */\r\n    undo(options) {\r\n        if (this.canUndo()) {\r\n            if (options && typeof options.onUndoStateWillChange === 'function') {\r\n                options.onUndoStateWillChange(this.mathlist.target, 'undo');\r\n            }\r\n            this.restore(this.stack[this.index - 1], options);\r\n            this.index -= 1;\r\n            if (options && typeof options.onUndoStateDidChange === 'function') {\r\n                options.onUndoStateDidChange(this.mathlist.target, 'undo');\r\n            }\r\n            this.canCoalesce = false;\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @memberof UndoManager\r\n     * @instance\r\n     * @private\r\n     */\r\n    redo(options) {\r\n        if (this.canRedo()) {\r\n            if (options && options.onUndoStateWillChange === 'function') {\r\n                options.onUndoStateWillChange(this.mathlist.target, 'redo');\r\n            }\r\n            this.index += 1;\r\n            this.restore(this.stack[this.index], options);\r\n            if (options && typeof options.onUndoStateDidChange === 'function') {\r\n                options.onUndoStateDidChange(this.mathlist.target, 'redo');\r\n            }\r\n            this.canCoalesce = false;\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @memberof UndoManager\r\n     * @instance\r\n     * @private\r\n     */\r\n    pop() {\r\n        if (this.canUndo()) {\r\n            this.index -= 1;\r\n            this.stack.pop();\r\n        }\r\n    }\r\n    /**\r\n     * Push a snapshot of the content and selection of the mathfield onto the\r\n     * undo stack so that it can potentially be reverted to later.\r\n     * @memberof UndoManager\r\n     * @instance\r\n     * @private\r\n     */\r\n    snapshot(options) {\r\n        if (!this.record) return;\r\n\r\n        if (options && options.onUndoStateWillChange === 'function') {\r\n            options.onUndoStateWillChange(this.mathlist.target, 'snapshot');\r\n        }\r\n        // Drop any entries that are part of the redo stack\r\n        this.stack.splice(this.index + 1, this.stack.length - this.index - 1);\r\n        // Add a new entry\r\n        this.stack.push({\r\n            latex: this.mathlist.root.toLatex(),\r\n            selection: this.mathlist.toString()\r\n        });\r\n\r\n        this.index++;\r\n        // If we've reached the maximum number of undo operations, forget the\r\n        // oldest one.\r\n        if (this.stack.length > this.maximumDepth) {\r\n            this.stack.shift();\r\n        }\r\n        if (options && typeof options.onUndoStateDidChange === 'function') {\r\n            options.onUndoStateDidChange(this.mathlist.target, 'snapshot');\r\n        }\r\n        this.canCoalesce = false;\r\n    }\r\n    /**\r\n     *\r\n     * @param {Object.<any>} options\r\n     * @instance\r\n     * @memberof UndoManager\r\n     * @private\r\n     */\r\n    snapshotAndCoalesce(options) {\r\n        if (this.canCoalesce) {\r\n            this.pop();\r\n        }\r\n        this.snapshot(options);\r\n        this.canCoalesce = true;\r\n    }\r\n    /**\r\n     * Return an object capturing the state of the content and selection of the\r\n     * mathfield. Pass this object to restore() to reset the value of the math\r\n     * field to this saved value. This does not affect the undo stack.\r\n     * @instance\r\n     * @memberof UndoManager\r\n     * @private\r\n    */\r\n    save() {\r\n        return {\r\n            latex: this.mathlist.root.toLatex(),\r\n            selection: this.mathlist.toString()\r\n        };\r\n    }\r\n    /**\r\n     * Set the content and selection of the mathfield to a value previously\r\n     * captured with save() or stored in the undo stack.\r\n     * This does not affect the undo stack.\r\n     * @instance\r\n     * @memberof UndoManager\r\n     * @private\r\n    */\r\n    restore(state, options) {\r\n        const wasSuppressing = this.mathlist.suppressChangeNotifications;\r\n        if (options.suppressChangeNotifications !== undefined) {\r\n            this.mathlist.suppressChangeNotifications = options.suppressChangeNotifications;\r\n        }\r\n        \r\n        // Restore the content\r\n        this.mathlist.insert(state ? state.latex : '', {\r\n            mode: 'math',\r\n            insertionMode: 'replaceAll',\r\n            selectionMode: 'after',\r\n            format: 'latex',\r\n            ...options\r\n        });\r\n\r\n        // Restore the selection\r\n        this.mathlist.setPath(state ? state.selection : [{relation: 'body', offset: 0}]);\r\n\r\n        this.mathlist.suppressChangeNotifications = wasSuppressing;\r\n    }\r\n}\r\n\r\nexport default {\r\n    UndoManager\r\n}\r\n\r\n\r\n\r\n","\r\n\r\nimport MathAtom from '../core/mathAtom.js';\r\nimport Lexer from '../core/lexer.js';\r\nimport ParserModule from '../core/parser.js';\r\nimport Span from '../core/span.js';\r\nimport Shortcuts from './editor-shortcuts.js';\r\n\r\nconst SAMPLES = {\r\n    '\\\\mathrm':         '\\\\mathrm{x=+3.14, x\\\\in A}',\r\n    '\\\\mathbf':         '\\\\mathbf{x=+3.14, x\\\\in A}',\r\n    '\\\\bf':             '\\\\bf{x=+3.14, x\\\\in A}',\r\n    '\\\\bm':             '\\\\bm{x=+3.14, x\\\\in A}',\r\n    '\\\\bold':           '\\\\bold{x=+3.14, x\\\\in A}',\r\n    '\\\\mathit':         '\\\\mathbb{x=+3.14}',\r\n    '\\\\mathbb':         '\\\\mathbb{ABCD}',\r\n    '\\\\Bbb':            '\\\\mathbb{ABCD}',\r\n    '\\\\frak':           '\\\\frak{ABCD}',\r\n    '\\\\mathfrak':       '\\\\mathfrak{ABCD}',\r\n    '\\\\mathscr':        '\\\\mathscr{ABCD}',\r\n    '\\\\mathsf':         '\\\\mathsf{ABab01}',\r\n    '\\\\mathtt':         '\\\\mathtt{x=+3.14, x\\\\in A}',\r\n    '\\\\mathcal':        '\\\\mathcal{ABCD}',\r\n    '\\\\boldsymbol':     '\\\\boldsymbol{ABab01+=}',\r\n\r\n    '\\\\text':           '\\\\text{ABC abc}',\r\n    '\\\\textrm':         '\\\\textrm{ABC abc}',\r\n    '\\\\textnormal':     '\\\\textnormal{ABC abc}',\r\n    '\\\\textit':         '\\\\textit{ABC abc}',\r\n    '\\\\textbf':         '\\\\textbf{ABC abc}',\r\n    '\\\\texttt':         '\\\\texttt{ABC abc}',\r\n    '\\\\textsf':         '\\\\textsf{ABC abc}',\r\n    '\\\\textcolor':      `{\\\\textcolor{m0}A}{\\\\textcolor{m1}B}{\\\\textcolor{m2}C }{\\\\textcolor{m3}a}{\\\\textcolor{m4}b}{\\\\textcolor{m5}c}{\\\\textcolor{m6}8}`,\r\n    '\\\\color':          `{\\\\color{m0}A}{\\\\color{m1}B}{\\\\color{m2}C}{\\\\color{m3}a}{\\\\color{m4}b}{\\\\color{m5}c}{\\\\color{m6}8}`,\r\n\r\n    '\\\\underline':      '\\\\underline{\\\\unicode{\"2B1A}}',\r\n    '\\\\overline':       '\\\\overline{\\\\unicode{\"2B1A}}',\r\n\r\n    '\\\\vec':            '\\\\vec{\\\\unicode{\"25CC}}',\r\n    '\\\\check':          '\\\\check{\\\\unicode{\"25CC}}',\r\n    '\\\\acute':          '\\\\acute{\\\\unicode{\"25CC}}',\r\n    '\\\\breve':          '\\\\breve{\\\\unicode{\"25CC}}',\r\n    '\\\\tilde':          '\\\\tilde{\\\\unicode{\"25CC}}',\r\n    '\\\\hat':            '\\\\hat{\\\\unicode{\"25CC}}',\r\n    '\\\\ddot':           '\\\\ddot{\\\\unicode{\"25CC}}',\r\n    '\\\\dot':            '\\\\dot{\\\\unicode{\"25CC}}',\r\n    '\\\\bar':            '\\\\bar{\\\\unicode{\"25CC}}',\r\n\r\n    '\\\\!':              '\\\\unicode{\"203A}\\\\!\\\\unicode{\"2039}',\r\n    '\\\\,':              '\\\\unicode{\"203A}\\\\,\\\\unicode{\"2039}',\r\n    '\\\\:':              '\\\\unicode{\"203A}\\\\:\\\\unicode{\"2039}',\r\n    '\\\\;':              '\\\\unicode{\"203A}\\\\;\\\\unicode{\"2039}',\r\n    '\\\\quad':           '\\\\unicode{\"203A}\\\\quad\\\\unicode{\"2039}',\r\n    '\\\\qquad':          '\\\\unicode{\"203A}\\\\qquad\\\\unicode{\"2039}',\r\n    '\\\\enskip':         '\\\\unicode{\"203A}\\\\enskip\\\\unicode{\"2039}',\r\n    '\\\\space':          '\\\\unicode{\"203A}\\\\space\\\\unicode{\"2039}',\r\n\r\n\r\n    '\\\\frac':           '\\\\frac{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\dfrac':          '\\\\dfrac{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\cfrac':          '\\\\cfrac{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\tfrac':          '\\\\tfrac{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\dbinom':         '\\\\dbinom{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\tbinom':         '\\\\tbinom{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\binom':          '\\\\binom{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\pdiff':          '\\\\pdiff{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n\r\n    '\\\\in':             'n\\\\in\\\\N',\r\n    '\\\\notin':          'n\\\\notin\\\\N',\r\n    '\\\\not':            'B \\\\not A',\r\n    '\\\\ni':             'N\\\\in n',\r\n    '\\\\owns':           'N\\\\owns n',\r\n    '\\\\subset':         'A\\\\subset B',\r\n    '\\\\supset':         'B\\\\supset A',\r\n    '\\\\subseteq':       'A\\\\subseteq B',\r\n    '\\\\supseteq':       'B\\\\supseteq A',\r\n    '\\\\nsubseteq':      'A\\\\nsubseteq B',\r\n    '\\\\nsupseteq':      'B\\\\nsupseteq A',\r\n    '\\\\subsetneq':      'A\\\\subsetneq B',\r\n    '\\\\supsetneq':      'B\\\\supsetneq A',\r\n    '\\\\varsubsetneq':   'A\\\\varsubsetneq B',\r\n    '\\\\varsupsetneq':   'B\\\\varsupsetneq A',\r\n    '\\\\nsubseteqq':     'A\\\\varsupsetneq B',\r\n    '\\\\subsetneqq':     'A\\\\subsetneqq B',\r\n    '\\\\varsubsetneqq':  'A\\\\varsubsetneqq B',\r\n    '\\\\nsubset':        'A\\\\nsubset B',\r\n    '\\\\nsupset':        'B\\\\nsupset A',\r\n    '\\\\complement':     'A^\\\\complement',\r\n\r\n\r\n    '\\\\bigcup':         '\\\\bigcup_{\\\\unicode{\"2B1A}}',\r\n    '\\\\bigcap':         '\\\\bigcap_{\\\\unicode{\"2B1A}}',\r\n    '\\\\sqrt':           '\\\\sqrt{\\\\unicode{\"2B1A}}',\r\n    '\\\\prod':           '\\\\prod_{\\\\unicode{\"2B1A}}^{\\\\unicode{\"2B1A}}',\r\n    '\\\\sum':            '\\\\sum_{\\\\unicode{\"2B1A}}^{\\\\unicode{\"2B1A}}',\r\n    '\\\\int':            '\\\\int_{\\\\unicode{\"2B1A}}^{\\\\unicode{\"2B1A}}',\r\n    '\\\\stackrel':       '\\\\stackrel{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\stackbin':       '\\\\stackbin{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\underset':       '\\\\underset{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\overset':        '\\\\overset{\\\\unicode{\"2B1A}}{\\\\unicode{\"2B1A}}',\r\n    '\\\\prime':          '\\\\unicode{\"2B1A}^{\\\\prime}',\r\n\r\n    '\\\\boxed':          '\\\\boxed{\\\\unicode{\"2B1A}}',\r\n    '\\\\colorbox':        '\\\\colorbox{#fbc0bd}{\\\\unicode{\"2B1A}}',\r\n    '\\\\bbox':           '\\\\bbox[#ffd400, solid 2px #ffd400]{\\\\unicode{\"2B1A}}',\r\n    '\\\\enclose':        '\\\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground=\"#fbc0bd\"]{23+45}',\r\n    '\\\\fcolorbox':      '\\\\fcolorbox{#cd0030}{#ffd400}{\\\\unicode{\"2B1A}}',\r\n    '\\\\ ':              '\\\\char\"2423',  // OPEN BOX\r\n\r\n    '\\\\top':            '{\\\\color{red}P}\\\\top',\r\n    '\\\\bot':            '{\\\\color{#0F0}P}\\\\bot',\r\n    '\\\\mid':            'P(p\\\\mid q)',\r\n\r\n    '\\\\rlap':           '\\\\rlap{x}o',\r\n    '\\\\llap':           'o\\\\llap{/}',\r\n};\r\n\r\n// A textual description of a LaTeX command.\r\n// The value can be either a single string, or an array of string\r\n// in order to provide alternatives or additional context.\r\n// In that case, the first string in the array should be appropriate\r\n// to be spoken for accessibility.\r\nconst NOTES = {\r\n    '\\\\text':       'roman text',\r\n    '\\\\textrm':     'roman text',\r\n    '\\\\textnormal': 'roman text',\r\n    '\\\\textit':     'italic text',\r\n    '\\\\textbf':     'bold text',\r\n    '\\\\texttt':     'monospaced text',\r\n    '\\\\textsf':     'sans-serif text',\r\n    '\\\\mathrm':     ['roman', '(upright)'],\r\n    '\\\\mathbf':     'bold',\r\n    '\\\\bf':         'bold',\r\n    '\\\\bold':       'bold',\r\n    '\\\\mathit':     'italic',\r\n    '\\\\mathbb':     'blackboard',\r\n    '\\\\Bbb':        'blackboard',\r\n    '\\\\mathscr':    'script',\r\n    '\\\\mathtt':     ['typewriter', '(monospaced)'],\r\n    '\\\\mathsf':     'sans-serif',\r\n    '\\\\mathcal':    'caligraphic',\r\n    '\\\\frak':       ['fraktur', '(gothic)'],\r\n    '\\\\mathfrak':   ['fraktur', '(gothic)'],\r\n\r\n    '\\\\textcolor':  'text color',\r\n    '\\\\color':      'color',\r\n\r\n\r\n    '\\\\forall':     'for all',\r\n    '\\\\exists':     'there exists',\r\n    '\\\\nexists':    'there does not exist',\r\n    '\\\\frac':       'fraction',\r\n    '\\\\dfrac':      'display fraction',\r\n    '\\\\cfrac':      'continuous fraction',\r\n    '\\\\tfrac':      'text fraction',\r\n    '\\\\binom':      'binomial coefficient',\r\n    '\\\\dbinom':     'display binomial coefficient',\r\n    '\\\\tbinom':     'text binomial coefficient',\r\n    '\\\\pdiff':      'partial differential',\r\n\r\n    '\\\\vec':        'vector',\r\n    '\\\\check':      'caron',\r\n    '\\\\acute':      'acute',\r\n    '\\\\breve':      'breve',\r\n    '\\\\tilde':      'tilde',\r\n    '\\\\dot':        'dot',\r\n    '\\\\hat':        ['hat', 'circumflex'],\r\n    '\\\\ddot':       'double dot',\r\n    '\\\\bar':        'bar',\r\n\r\n    '\\\\prime':      'prime',\r\n    '\\\\doubleprime':'double prime',\r\n    '\\\\varnothing': 'empty set',\r\n    '\\\\emptyset':   'empty set',\r\n    '\\\\subseteq':   'subset of or <br>equal to',\r\n    '\\\\supseteq':   'superset of or <br>equal to',\r\n    '\\\\supset':     'superset of',\r\n    '\\\\subset':     'subset of',\r\n    '\\\\partial':    'partial derivative',\r\n    '\\\\bigcup':     'union',\r\n    '\\\\bigcap':     'intersection',\r\n    '\\\\approx':     'approximately equal to',\r\n    '\\\\notin':      'not an element of',\r\n    '\\\\in':         ['element of', 'included in'],\r\n    '\\\\infty':      'infinity',\r\n    '\\\\land':       'logical and',\r\n    '\\\\sqrt':       'square root',\r\n    '\\\\prod':       'product',\r\n    '\\\\sum':        'summation',\r\n    '\\\\amalg':      ['amalgamation', 'coproduct', 'free product', 'disjoint union'],\r\n    '\\\\cup':        'union with',\r\n    '\\\\cap':        'intersection with',\r\n    '\\\\int':        'integral',\r\n    '\\\\iint':       'surface integral',\r\n    '\\\\oint':       'curve integral',\r\n    '\\\\iiint':      'volume integral',\r\n    '\\\\iff':        'if and only if',\r\n    '\\\\ln':         'natural logarithm',\r\n    '\\\\boldsymbol': 'bold',\r\n    '\\\\setminus':   'set subtraction',\r\n    '\\\\stackrel':   'relation with symbol above',\r\n    '\\\\stackbin':   'operator with symbol above',\r\n    '\\\\underset':   'symbol with annotation below',\r\n    '\\\\overset':    'symbol with annotation above',\r\n    '\\\\hslash':     ['h-bar', 'Planck constant'],\r\n    '\\\\gtrsim':     'greater than or <br>similar to',\r\n    '\\\\propto':     'proportional to',\r\n    '\\\\equiv':      'equivalent to',\r\n\r\n    '\\\\!':          ['negative thin space', '(-3 mu)'],\r\n    '\\\\ ':          ['space', '(6 mu)'],\r\n    '\\\\,':          ['thin space', '(3 mu)'],\r\n    '\\\\:':          ['medium space', '(4 mu)'],\r\n    '\\\\;':          ['thick space', '(5 mu)'],\r\n    '\\\\quad':       ['1 em space', '(18 mu)'],\r\n    '\\\\qquad':      ['2 em space', '(36 mu)'],\r\n    '\\\\enskip':     ['&#189; em space', '(9 mu)'],\r\n\r\n    '\\\\mp':         'minus or plus',\r\n    '\\\\pm':         'plus or minus',\r\n    '\\\\Im':         'Imaginary part of',\r\n    '\\\\Re':         'Real part of',\r\n    '\\\\gothicCapitalR': 'Real part of',\r\n    '\\\\gothicCapitalI': 'Imaginary part part of',\r\n    '\\\\differentialD':     'differential d',\r\n    '\\\\aleph':          ['aleph', 'infinite cardinal',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Cardinal_number\">Wikipedia <big>&#x203A;</big></a>'\r\n    ],\r\n    '\\\\beth':          ['beth', 'beth number',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Beth_number\">Wikipedia <big>&#x203A;</big></a>'\r\n    ],\r\n    '\\\\gimel':          ['gimel', 'gimel function',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Gimel_function\">Wikipedia <big>&#x203A;</big></a>'\r\n    ],\r\n\r\n    '\\\\O':              'empty set',\r\n    '\\\\N':              'set of <br>natural numbers',\r\n    '\\\\Z':              'set of <br>integers',\r\n    '\\\\Q':              'set of <br>rational numbers',\r\n    '\\\\C':              'set of <br>complex numbers',\r\n    '\\\\R':              'set of <br>real numbers',\r\n    '\\\\P':              'set of <br>prime numbers',\r\n\r\n    '\\\\lesseqqgtr':     'less than, equal to or<br> greater than',\r\n    '\\\\gnapprox':       'greater than and <br>not approximately',\r\n    '\\\\lnapprox':       'lesser than and <br>not approximately',\r\n\r\n    '\\\\j':              'dotless j',\r\n    '\\\\i':              'dotless i',\r\n    '\\\\cdot':           'centered dot',\r\n    '\\\\lmoustache':     'left moustache',\r\n    '\\\\rmoustache':     'right moustache',\r\n    '\\\\nabla':          ['nabla', 'del', 'differential vector operator'],\r\n\r\n    '\\\\square':         ['square', 'd’Alembert operator',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/D%27Alembert_operator\">Wikipedia <big>&#x203A;</big></a>'\r\n    ],\r\n    '\\\\blacksquare':    ['black square', 'end of proof', 'tombstone', 'Halmos symbol'],\r\n    '\\\\Box':            'end of proof',\r\n    '\\\\colon':          ['such that', 'ratio'],\r\n    '\\\\coloneq':        ['is defined by', 'is assigned'],\r\n    '\\\\Colon':          ['is defined by', 'as'],\r\n    '\\\\_':              ['underbar', 'underscore'],\r\n    '\\\\ll':             'much less than',\r\n    '\\\\gg':             'much greater than',\r\n    '\\\\doteq':          'approximately equal to',\r\n    '\\\\Doteq':          'approximately equal to',\r\n    '\\\\doteqdot':       'approximately equal to',\r\n    '\\\\cong':           ['isomorphism of', '(for algebras, modules...)'],\r\n    '\\\\det':            ['determinant of', '(of a matrix)'],\r\n    '\\\\dotplus':        'Cartesian product algebra',\r\n    '\\\\otimes':         ['tensor product', '(of algebras)',\r\n                        'Kronecker product', '(of matrices)'],\r\n    '\\\\oplus':          ['direct sum', '(of modules)'],\r\n    '\\\\lb':             'base-2 logarithm',\r\n    '\\\\lg':             'base-10 logarithm',\r\n    '\\\\wp':             ['Weierstrass P',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Weierstrass%27s_elliptic_functions\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n    '\\\\wr':             ['wreath product',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Wreath_product\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n    '\\\\top':            ['tautology', 'Proposition P is universally true'],\r\n    '\\\\bot':            ['contradiction', 'Proposition P is contradictory'],\r\n    '\\\\mid':            ['probability', 'of event A given B'],\r\n    '\\\\mho':            ['Siemens', 'electrical conductance in SI unit',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Siemens_(unit)\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n\r\n    '\\\\Longrightarrow': 'implies',\r\n    '\\\\Longleftrightarrow': 'if, and only if,',\r\n\r\n    '\\\\prec':           'precedes',\r\n    '\\\\preceq':         'precedes or is equal to',\r\n    '\\\\succ':           'succeedes',\r\n    '\\\\succeq':         'succeedes or is equal to',\r\n    '\\\\perp':           ['is perpendicular to', 'is independent of'],\r\n\r\n    '\\\\models':         ['entails',\r\n                        'double-turnstyle, models',\r\n                        'is a semantic consequence of',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Double_turnstile\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n    '\\\\vdash':          ['satisfies',\r\n                        'turnstyle, assertion sign',\r\n                        'syntactic inference',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Turnstile_(symbol)\">Wikipedia <big>&#x203A;</big></a>'\r\n    ],\r\n\r\n    '\\\\implies':        ['implies', 'logical consequence'],\r\n    '\\\\impliedby':      ['implied by', 'logical consequence'],\r\n\r\n    '\\\\surd':           ['surd', 'root of', 'checkmark'],\r\n    '\\\\ltimes':         ['semi direct product',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Semidirect_product\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n    '\\\\rtimes':         ['semi direct product',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Semidirect_product\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n    '\\\\leftthreetimes':         ['semi direct product',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Semidirect_product\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n    '\\\\rightthreetimes':         ['semi direct product',\r\n                        '<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Semidirect_product\">Wikipedia <big>&#x203A;</big></a>'\r\n                        ],\r\n    '\\\\divideontimes':  ['divide on times'],\r\n    '\\\\curlywedge':     'nor',\r\n    '\\\\curlyvee':       'nand',\r\n\r\n    '\\\\simeq':          'is group isomorphic with',\r\n    '\\\\vartriangleleft':   [\r\n                        'is a normal subgroup of',\r\n                        'is an ideal ring of'\r\n                        ],\r\n\r\n    '\\\\circ':           ['circle', 'ring', 'function composition'],\r\n\r\n    '\\\\rlap':           ['overlap right',\r\n                            '\\\\rlap{x}o'],\r\n    '\\\\llap':           ['overlap left',\r\n                            'o\\\\llap{/}'],\r\n    '\\\\colorbox':       ['color box',\r\n                            '\\\\colorbox{#fbc0bd}{...}'\r\n                        ],\r\n    '\\\\ast':            ['asterisk', 'reflexive closure (as a superscript)'],\r\n    '\\\\bullet':         'bullet',\r\n\r\n    '\\\\lim':            'limit',\r\n};\r\n\r\nfunction getNote(symbol) {\r\n    let result = NOTES[symbol] || '';\r\n    if (Array.isArray(result)) {\r\n        result = result.join('<br>');\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n\r\nfunction latexToMarkup(latex, mf) {\r\n    const parse = ParserModule.parseTokens(Lexer.tokenize(latex), 'math', null, mf.config.macros);\r\n    const spans = MathAtom.decompose(\r\n        {\r\n            mathstyle: 'displaystyle',\r\n            macros: mf.config.macros\r\n        },\r\n        parse);\r\n\r\n    const base = Span.makeSpan(spans, 'ML__base');\r\n\r\n    const topStrut = Span.makeSpan('', 'ML__strut');\r\n    topStrut.setStyle('height', base.height, 'em');\r\n    const bottomStrut = Span.makeSpan('', 'ML__strut--bottom');\r\n    bottomStrut.setStyle('height', base.height + base.depth, 'em');\r\n    bottomStrut.setStyle('vertical-align', -base.depth, 'em');\r\n    const wrapper = Span.makeSpan([topStrut, bottomStrut, base], 'ML__mathlive');\r\n\r\n    return wrapper.toMarkup();\r\n}\r\n\r\nfunction showPopoverWithLatex(mf, latex, displayArrows) {\r\n    if (!latex || latex.length === 0) {\r\n        hidePopover(mf);\r\n        return;\r\n    }\r\n\r\n    const command = latex;\r\n    const command_markup = latexToMarkup(SAMPLES[command] || latex, mf);\r\n    const command_note = getNote(command);\r\n    const command_shortcuts = Shortcuts.forCommand(command);\r\n\r\n    let template = displayArrows ?\r\n        '<div class=\"ML__popover__prev-shortcut\" role=\"button\" aria-label=\"Previous suggestion\"><span><span>&#x25B2;</span></span></div>' : '';\r\n    template += '<span class=\"ML__popover__content\" role=\"button\">';\r\n    template += '<div class=\"ML__popover__command\">' +\r\n        command_markup + '</div>';\r\n    if (command_note) {\r\n        template += '<div class=\"ML__popover__note\">' +\r\n            command_note + '</div>';\r\n    }\r\n    if (command_shortcuts) {\r\n        template += '<div class=\"ML__popover__shortcut\">' +\r\n            command_shortcuts + '</div>';\r\n    }\r\n    template += '</span>';\r\n    template += displayArrows ? '<div class=\"ML__popover__next-shortcut\" role=\"button\" aria-label=\"Next suggestion\"><span><span>&#x25BC;</span></span></div>' : '';\r\n    showPopover(mf, template);\r\n\r\n    let el = mf.popover.getElementsByClassName('ML__popover__content');\r\n    if (el && el.length > 0) {\r\n        mf._attachButtonHandlers(el[0], ['complete', {acceptSuggestion:true}]);\r\n    }\r\n\r\n\r\n    el = mf.popover.getElementsByClassName('ML__popover__prev-shortcut');\r\n    if (el && el.length > 0) {\r\n        mf._attachButtonHandlers(el[0], 'previousSuggestion');\r\n    }\r\n\r\n    el = mf.popover.getElementsByClassName('ML__popover__next-shortcut');\r\n    if (el && el.length > 0) {\r\n        mf._attachButtonHandlers(el[0], 'nextSuggestion');\r\n    }\r\n\r\n}\r\n\r\nfunction updatePopoverPosition(mf, options) {\r\n    // Check that the mathfield is still valid\r\n    // (we're calling ourselves from requestAnimationFrame() and the mathfield\r\n    // could have gotten destroyed\r\n    if (!mf.element || mf.element.mathfield !== mf) return;\r\n\r\n    // If the popover pane is visible...\r\n    if (mf.popover.classList.contains('is-visible')) {\r\n        if (options && options.deferred) {\r\n            // Call ourselves again later, typically after the\r\n            // rendering/layout of the DOM has been completed\r\n            window.requestAnimationFrame(() => updatePopoverPosition(mf));\r\n        } else {\r\n            if (!mf.mathlist.anchor() || mf.mathlist.anchor().type !== 'command') {\r\n                hidePopover(mf);\r\n            } else {\r\n                // ... get the caret position\r\n                const position = mf._getCaretPosition();\r\n                if (position) setPopoverPosition(mf, position);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction showPopover(mf, markup) {\r\n    mf.popover.innerHTML = markup;\r\n\r\n    const position = mf._getCaretPosition();\r\n    if (position) setPopoverPosition(mf, position);\r\n\r\n    mf.popover.classList.add('is-visible');\r\n}\r\n\r\nfunction setPopoverPosition(mf, position) {\r\n    // get screen width & height (browser compatibility)\r\n    const screen_height = window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight;\r\n    const screen_width = window.innerWidth ||\r\n        document.documentElement.clientWidth ||\r\n        document.body.clientWidth;\r\n\r\n    // get scrollbar size. This would be 0 in mobile device (also no needed).\r\n    const scrollbar_width = window.innerWidth -\r\n        document.documentElement.clientWidth;\r\n    const scrollbar_height = window.innerHeight -\r\n        document.documentElement.clientHeight;\r\n    const virtualkeyboard_height = mf.virtualKeyboardVisible ?\r\n        mf.virtualKeyboard.offsetHeight : 0;\r\n    // prevent screen overflow horizontal.\r\n    if (position.x + (mf.popover.offsetWidth / 2) > screen_width - scrollbar_width) {\r\n        mf.popover.style.left =\r\n            (screen_width - mf.popover.offsetWidth - scrollbar_width) + 'px';\r\n    } else if (position.x - (mf.popover.offsetWidth / 2) < 0) {\r\n        mf.popover.style.left = 0;\r\n    } else {\r\n        mf.popover.style.left =\r\n            (position.x - mf.popover.offsetWidth / 2) + 'px';\r\n    }\r\n\r\n    // and position the popover right below or above the caret\r\n    if (position.y + mf.popover.offsetHeight + 5 >\r\n        screen_height - scrollbar_height - virtualkeyboard_height) {\r\n        mf.popover.classList.add('reverse-direction');\r\n        mf.popover.style.top =\r\n            (position.y - position.height -\r\n            mf.popover.offsetHeight - 5) + 'px';\r\n    } else {\r\n        mf.popover.classList.remove('reverse-direction');\r\n        mf.popover.style.top = (position.y + 5) + 'px';\r\n    }\r\n}\r\n\r\nfunction hidePopover(mf) {\r\n    mf.popover.classList.remove('is-visible');\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    getNote,\r\n    SAMPLES,\r\n    NOTES,\r\n    showPopoverWithLatex,\r\n    showPopover,\r\n    hidePopover,\r\n    updatePopoverPosition\r\n}\r\n\r\n\r\n\r\n","/**\r\n * This module outputs a formula to LaTeX.\r\n *\r\n * To use it, use the {@linkcode MathAtom#toLatex MathAtom.toLatex()}  method.\r\n *\r\n * @module addons/outputLatex\r\n * @private\r\n */\r\n\r\nimport MathAtom from '../core/mathAtom.js';\r\nimport Color from '../core/color.js';\r\n\r\nfunction findLongestRun(atoms, property, value) {\r\n    let i = 0;\r\n    if (property === 'fontFamily') {\r\n        while (atoms[i]) {\r\n            if (atoms[i].type !== 'mop' &&\r\n                (atoms[i].fontFamily || atoms[i].baseFontFamily) !== value) break\r\n            i++;\r\n        }\r\n    } else {\r\n        while (atoms[i]) {\r\n            if (atoms[i].type !== 'mop' &&\r\n                atoms[i][property] !== value) break\r\n            i++;\r\n        }\r\n    }\r\n    return i;\r\n}\r\n\r\n/**\r\n *\r\n * @param {MathAtom} parent the parent or predecessor of the atom list\r\n * @param {MathAtom[]} atoms the list of atoms to transform to LaTeX\r\n * @param {boolean} expandMacro true if macros should be expanded\r\n * @result {string} a LaTeX string\r\n * @private\r\n */\r\nfunction latexifyArray(parent, properties, atoms, expandMacro) {\r\n    if (atoms.length === 0) return '';\r\n\r\n    if (properties.length === 0) {\r\n        // We've (recursively) checked:\r\n        // all the atoms have the same properties\r\n        return atoms.map(x => x.toLatex(expandMacro)).join('');\r\n    }\r\n\r\n    let result = '';\r\n    let prefix = '';\r\n    let suffix = '';\r\n    const prop = properties[0];\r\n    let propValue = atoms[0][prop];\r\n    if (prop === 'fontFamily') propValue = atoms[0].fontFamily || atoms[0].baseFontFamily;\r\n\r\n    const i = findLongestRun(atoms, prop, propValue);\r\n\r\n    if (atoms[0].mode === 'text') {\r\n        if (prop === 'fontShape' && atoms[0].fontShape) {\r\n            if (atoms[0].fontShape === 'it') {\r\n                prefix = '\\\\textit{'\r\n                suffix = '}';\r\n            } else if (atoms[0].fontShape === 'sl') {\r\n                prefix = '\\\\textsl{'\r\n                suffix = '}';\r\n            } else if (atoms[0].fontShape === 'sc') {\r\n                prefix = '\\\\textsc{'\r\n                suffix = '}';\r\n            } else if (atoms[0].fontShape === 'n') {\r\n                prefix = '\\\\textup{'\r\n                suffix = '}';\r\n            } else {\r\n                prefix = '\\\\text{\\\\fontshape{' + atoms[0].fontShape + '}';\r\n                suffix = '}';\r\n            }\r\n        } else if (prop === 'fontSeries' && atoms[0].fontSeries) {\r\n            if (atoms[0].fontSeries === 'b') {\r\n                prefix = '\\\\textbf{'\r\n                suffix = '}';\r\n            } else if (atoms[0].fontSeries === 'l') {\r\n                prefix = '\\\\textlf{'\r\n                suffix = '}';\r\n            } else if (atoms[0].fontSeries === 'm') {\r\n                prefix = '\\\\textmd{'\r\n                suffix = '}';\r\n            } else {\r\n                prefix = '\\\\text{\\\\fontseries{' + atoms[0].fontSeries + '}';\r\n                suffix = '}';\r\n            }\r\n        } else if (prop === 'mode') {\r\n            let allAtomsHaveShapeOrSeriesOrFontFamily = true;\r\n            for (let j = 0; j < i; j++) {\r\n                if (!atoms[j].fontSeries &&\r\n                    !atoms[j].fontShape &&\r\n                    !atoms[j].fontFamily &&\r\n                    !atoms[j].baseFontFamily) {\r\n                    allAtomsHaveShapeOrSeriesOrFontFamily = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (!allAtomsHaveShapeOrSeriesOrFontFamily) {\r\n                // Wrap in text, only if there isn't a shape or series on\r\n                // all the atoms, because if so, it will be wrapped in a\r\n                // \\\\textbf, \\\\textit, etc... and the \\\\text would be redundant\r\n                prefix = '\\\\text{';\r\n                suffix = '}';\r\n            }\r\n        } else if (prop === 'fontSize' && atoms[0].fontSize) {\r\n            const command = {\r\n                'size1': 'tiny',\r\n                'size2': 'scriptsize',\r\n                'size3': 'footnotesize',\r\n                'size4': 'small',\r\n                'size5': 'normalsize',\r\n                'size6': 'large',\r\n                'size7': 'Large',\r\n                'size8': 'LARGE',\r\n                'size9': 'huge',\r\n                'size10': 'Huge'\r\n            }[atoms[0].fontSize] || '';\r\n            prefix = '{\\\\' + command + ' ';\r\n            suffix = '}';\r\n\r\n        } else if (prop === 'fontFamily' &&\r\n            (atoms[0].fontFamily || atoms[0].baseFontFamily)) {\r\n            const command = {\r\n                'cmr': 'textrm',\r\n                'cmtt': 'texttt',\r\n                'cmss': 'textsf'\r\n            }[atoms[0].fontFamily || atoms[0].baseFontFamily] || '';\r\n            if (!command) {\r\n                prefix += '{\\\\fontfamily{' + (atoms[0].fontFamily || atoms[0].baseFontFamily) + '}';\r\n                suffix = '}';\r\n            } else {\r\n                prefix = '\\\\' + command + '{';\r\n                suffix = '}';\r\n            }\r\n        }\r\n    } else if (atoms[0].mode === 'math') {\r\n        if (prop === 'fontSeries') {\r\n            if (atoms[0].fontSeries === 'b') {\r\n                prefix = '\\\\mathbf{';\r\n                suffix = '}';\r\n            } else if (atoms[0].fontSeries && atoms[0].fontSeries !== 'n') {\r\n                prefix = '{\\\\fontSeries{' + atoms[0].fontSeries + '}';\r\n                suffix = '}';\r\n            }\r\n        } else if (prop === 'fontShape') {\r\n            if (atoms[0].fontShape === 'it') {\r\n                prefix = '\\\\mathit{';\r\n                suffix = '}';\r\n            } else if (atoms[0].fontShape === 'n') {\r\n                prefix = '{\\\\upshape ';\r\n                suffix = '}';\r\n            } else if (atoms[0].fontShape && atoms[0].fontShape !== 'n') {\r\n                prefix = '{\\\\fontShape{' + atoms[0].fontShape + '}';\r\n                suffix = '}';\r\n            }\r\n\r\n        } else if (prop === 'fontSize' && atoms[0].fontSize) {\r\n            const command = {\r\n                'size1': 'tiny',\r\n                'size2': 'scriptsize',\r\n                'size3': 'footnotesize',\r\n                'size4': 'small',\r\n                'size5': 'normalsize',\r\n                'size6': 'large',\r\n                'size7': 'Large',\r\n                'size8': 'LARGE',\r\n                'size9': 'huge',\r\n                'size10': 'Huge'\r\n            }[atoms[0].fontSize] || '';\r\n            prefix = '{\\\\' + command + ' ';\r\n            suffix = '}';\r\n\r\n        } else if (prop === 'fontFamily' && atoms[0].fontFamily) {\r\n            if (!/^(math|main)$/.test(atoms[0].fontFamily)) {\r\n                const command = {\r\n                    'cal': 'mathcal',\r\n                    'frak': 'mathfrak',\r\n                    'bb': 'mathbb',\r\n                    'scr': 'mathscr',\r\n                    'cmr': 'mathrm',\r\n                    'cmtt': 'mathtt',\r\n                    'cmss': 'mathsf'\r\n                }[atoms[0].fontFamily] || '';\r\n                if (!command) {\r\n                    prefix += '{\\\\fontfamily{' + atoms[0].fontFamily + '}';\r\n                    suffix = '}';\r\n                } else {\r\n                    if (/^\\\\operatorname{/.test(atoms[0].latex)) {\r\n                        return atoms[0].latex + latexifyArray(parent, properties, atoms.slice(i), expandMacro);\r\n                    }\r\n                    if (!atoms[0].isFunction) {\r\n                        prefix = '\\\\' + command + '{';\r\n                        suffix = '}';\r\n                    }\r\n                    // These command have an implicit fontSeries/fontShape, so\r\n                    // we're done checking properties now.\r\n                    properties = [];\r\n                }\r\n            }\r\n        } else if (prop === 'fontFamily' && atoms[0].baseFontFamily) {\r\n            // This is a command that applied a base font to the atoms.\r\n            if (atoms[0].latex && atoms[0].latex.startsWith('\\\\')) {\r\n                prefix = '';\r\n                suffix = '';\r\n            } else {\r\n                const command = {\r\n                    'cal': 'mathcal',\r\n                    'frak': 'mathfrak',\r\n                    'bb': 'mathbb',\r\n                    'scr': 'mathscr',\r\n                    'cmr': 'mathrm',\r\n                    'cmtt': 'mathtt',\r\n                    'cmss': 'mathsf'\r\n                }[atoms[0].baseFontFamily] || '';\r\n                if (command) {\r\n                    prefix = '\\\\' + command + '{';\r\n                    suffix = '}';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (prop === 'color' && atoms[0].color &&\r\n         atoms[0].color !== 'none' &&\r\n         (!parent || parent.color !== atoms[0].color)) {\r\n        prefix = '\\\\textcolor{' + Color.colorToString(atoms[0].color) + '}{';\r\n        suffix = '}';\r\n    }\r\n\r\n    if (prop === 'backgroundColor' && atoms[0].backgroundColor &&\r\n         atoms[0].backgroundColor !== 'none' &&\r\n         (!parent || parent.backgroundColor !== atoms[0].backgroundColor)) {\r\n        prefix = '\\\\colorbox{' + Color.colorToString(atoms[0].backgroundColor) + '}{';\r\n        suffix = '}';\r\n    }\r\n\r\n    result += prefix;\r\n\r\n    result += latexifyArray(parent,\r\n        properties.slice(1),\r\n        atoms.slice(0, i),\r\n        expandMacro);\r\n\r\n    result += suffix;\r\n\r\n    // latexify the rest\r\n    result += latexifyArray(parent, properties, atoms.slice(i), expandMacro);\r\n\r\n    return result;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Given an atom or an array of atoms, return a LaTeX string representation\r\n * @return {string}\r\n * @param {string|MathAtom|MathAtom[]} value\r\n * @private\r\n */\r\nfunction latexify(parent, value, expandMacro) {\r\n    let result = '';\r\n    if (Array.isArray(value) && value.length > 0) {\r\n        if (value[0].type === 'first') {\r\n            // Remove the 'first' atom, if present\r\n            value = value.slice(1);\r\n            if (value.length === 0) return '';\r\n        }\r\n\r\n        result = latexifyArray(parent, [\r\n            'mode',\r\n            'color',\r\n            'backgroundColor',\r\n            'fontSize',\r\n            'fontFamily',\r\n            'fontShape',\r\n            'fontSeries',\r\n            ], value, expandMacro);\r\n        // if (result.startsWith('{') && result.endsWith('}')) {\r\n        //     result = result.slice(1, result.length - 1);\r\n        // }\r\n\r\n    } else if (typeof value === 'number' || typeof value === 'boolean') {\r\n        result = value.toString();\r\n    } else if (typeof value === 'string') {\r\n        result = value.replace(/\\s/g, '~');\r\n    } else if (value && typeof value.toLatex === 'function') {\r\n        result = value.toLatex(expandMacro);\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Return a LaTeX representation of the atom.\r\n *\r\n * @param {boolean} expandMacro - If true, macros are fully expanded. This will\r\n * no longer round-trip.\r\n *\r\n * @return {string}\r\n * @memberof module:core/mathAtom~MathAtom\r\n * @private\r\n */\r\nMathAtom.MathAtom.prototype.toLatex = function(expandMacro) {\r\n    expandMacro = expandMacro === undefined ? false : expandMacro;\r\n    let result = '';\r\n    let col, row = 0;\r\n    let i = 0;\r\n    const m = !this.latex ? null : this.latex.match(/^(\\\\[^{\\s0-9]+)/);\r\n    const command = m ? m[1] : null;\r\n\r\n    // this.mode=='text' is handled in the switch by looking at this.type===''\r\n    switch(this.type) {\r\n        case 'group':\r\n            result += this.latexOpen || ((this.cssId || this.cssClass) ? '' : '{');\r\n\r\n            if (this.cssId) result += '\\\\cssId{' + this.cssId + '}{';\r\n\r\n            if (this.cssClass === 'ML__emph') {\r\n                result += '\\\\emph{' + latexify(this, this.body, expandMacro) + '}';\r\n            } else {\r\n                if (this.cssClass) result += '\\\\class{' + this.cssClass + '}{';\r\n\r\n                result += expandMacro ? latexify(this, this.body, true) :\r\n                    (this.latex || latexify(this, this.body, false));\r\n\r\n                if (this.cssClass) result += '}';\r\n            }\r\n            if (this.cssId) result += '}';\r\n\r\n            result += this.latexClose || ((this.cssId || this.cssClass) ? '' : '}');\r\n            break;\r\n\r\n        case 'array':\r\n            result += '\\\\begin{' + this.env.name + '}';\r\n            if (this.env.name === 'array') {\r\n                result += '{';\r\n                if (this.colFormat) {\r\n                    for (i = 0; i < this.colFormat.length; i++) {\r\n                        if (this.colFormat[i].align) {\r\n                            result += this.colFormat[i].align;\r\n                        } else if (this.colFormat[i].rule) {\r\n                            result += '|';\r\n                        }\r\n                    }\r\n                }\r\n                result += '}';\r\n            }\r\n            for (row = 0; row < this.array.length; row++) {\r\n                for (col = 0; col < this.array[row].length; col++) {\r\n                    if (col > 0) result += ' & ';\r\n                    result += latexify(this, this.array[row][col], expandMacro);\r\n                }\r\n                // Adds a separator between rows (but not after the last row)\r\n                if (row < this.array.length - 1) {\r\n                    result += ' \\\\\\\\ ';\r\n                }\r\n            }\r\n            result += '\\\\end{' + this.env.name + '}';\r\n            break;\r\n\r\n        case 'root':\r\n            result = latexify(this, this.body, expandMacro);\r\n            break;\r\n\r\n        case 'genfrac':\r\n            if (/^(choose|atop|over)$/.test(this.body)) {\r\n                // Infix commands.\r\n                result += '{';\r\n                result += latexify(this, this.numer, expandMacro)\r\n                result += '\\\\' + this.body + ' ';\r\n                result += latexify(this, this.denom, expandMacro);\r\n                result += '}';\r\n            } else {\r\n                // @todo: deal with fracs delimiters\r\n                result += command;\r\n                result += `{${latexify(this, this.numer, expandMacro)}}{${latexify(this, this.denom, expandMacro)}}`;\r\n            }\r\n            break;\r\n\r\n        case 'surd':\r\n            result += '\\\\sqrt';\r\n            if (this.index) {\r\n                result += '[';\r\n                result += latexify(this, this.index, expandMacro);\r\n                result += ']';\r\n            }\r\n            result += `{${latexify(this, this.body, expandMacro)}}`;\r\n            break;\r\n\r\n        case 'leftright':\r\n            console.log(this.inner, result);\r\n            \r\n            if (this.inner) {\r\n                result += (this.leftDelim || '');\r\n                if (this.leftDelim && this.leftDelim.length > 1) result += ' ';\r\n                result += latexify(this, this.body, expandMacro);\r\n                result += (this.rightDelim || '');\r\n                if (this.rightDelim && this.rightDelim.length > 1) result += ' ';\r\n\r\n                // 隐藏mleft,mright,'.'等\r\n                // result += '\\\\left' + (this.leftDelim || '.');\r\n                // if (this.leftDelim && this.leftDelim.length > 1) result += ' ';\r\n                // result += latexify(this, this.body, expandMacro);\r\n                // result += '\\\\right' + (this.rightDelim || '.');\r\n                // if (this.rightDelim && this.rightDelim.length > 1) result += ' ';\r\n            } else {\r\n                result += (this.leftDelim || '');\r\n                if (this.leftDelim && this.leftDelim.length > 1) result += ' ';\r\n                result += latexify(this, this.body, expandMacro);\r\n                result += (this.rightDelim || '');\r\n                if (this.rightDelim && this.rightDelim.length > 1) result += ' ';\r\n                \r\n                // 隐藏mleft,mright,'.'等\r\n                // result += '\\\\mleft' + (this.leftDelim || '.');\r\n                // if (this.leftDelim && this.leftDelim.length > 1) result += ' ';\r\n                // result += latexify(this, this.body, expandMacro);\r\n                // result += '\\\\mright' + (this.rightDelim || '.');\r\n                // if (this.rightDelim && this.rightDelim.length > 1) result += ' ';\r\n            }\r\n            break;\r\n\r\n        case 'delim':\r\n        case 'sizeddelim':\r\n            result += command + '{' + this.delim + '}';\r\n            break;\r\n\r\n        case 'rule':\r\n            result += command;\r\n            if (this.shift) {\r\n                result += `[${latexify(this, this.shift, expandMacro)}em]`;\r\n            }\r\n            result += `{${latexify(this, this.width, expandMacro)}em}{${latexify(this, this.height, expandMacro)}em}`;\r\n            break;\r\n\r\n        case 'line':\r\n        case 'overlap':\r\n        case 'accent':\r\n            result += `${command}{${latexify(this, this.body, expandMacro)}}`;\r\n            break;\r\n\r\n        case 'overunder':\r\n            result += `${command}{${latexify(this, this.overscript || this.underscript, expandMacro)}}{${latexify(parent, this.body, expandMacro)}}`;\r\n            break;\r\n\r\n        case 'mord':\r\n        case 'minner':\r\n        case 'mbin':\r\n        case 'mrel':\r\n        case 'mpunct':\r\n        case 'mopen':\r\n        case 'mclose':\r\n        case 'textord':\r\n        case '':        // mode = text\r\n            if (/^\\\\(mathbin|mathrel|mathopen|mathclose|mathpunct|mathord|mathinner)/.test(command)) {\r\n                result += command + '{' + latexify(this, this.body, expandMacro) + '}';\r\n            } else if (command === '\\\\char\"') {\r\n                result += this.latex + ' ';\r\n            } else if (command === '\\\\unicode') {\r\n                result += '\\\\unicode{\"';\r\n                result += ('000000' + this.body.charCodeAt(0).toString(16)).toUpperCase().substr(-6);\r\n                result += '}';\r\n            } else if (this.latex || typeof this.body === 'string') {\r\n                // Not ZERO-WIDTH\r\n                if (this.latex && this.latex[0] === '\\\\') {\r\n                    result += this.latex;\r\n                    if (/[a-zA-Z0-9]$/.test(this.latex)) {\r\n                        result += ' ';\r\n                    }\r\n                } else if (command) {\r\n                    result += command;\r\n                } else {\r\n                    result += this.body !== '\\u200b' ? (this.latex || this.body) : '';\r\n                }\r\n            }\r\n            break;\r\n\r\n        case 'mop':\r\n            if (this.body !== '\\u200b') {\r\n                // Not ZERO-WIDTH\r\n                if (command === '\\\\mathop') {\r\n                    // The argument to mathop is math, therefor this.body can be an expression\r\n                    result += command + '{' + latexify(this, this.body, expandMacro) + '}';\r\n                } else if (command === '\\\\operatorname') {\r\n                    // The argument to operator name is text, therefore this.body is a string\r\n                    result += command + '{' + this.body + '}';\r\n                } else {\r\n                    if (this.latex && this.latex[0] === '\\\\') {\r\n                        result += this.latex;\r\n                        if (/[a-zA-Z0-9]$/.test(this.latex)) {\r\n                            result += ' ';\r\n                        }\r\n                    } else if (command) {\r\n                        result += command;\r\n                    } else {\r\n                        result += this.body !== '\\u200b' ? (this.latex || this.body) : '';\r\n                    }\r\n                }\r\n            }\r\n            if (this.explicitLimits) {\r\n                if (this.limits === 'limits') result += '\\\\limits ';\r\n                if (this.limits === 'nolimits') result += '\\\\nolimits ';\r\n            }\r\n            break;\r\n\r\n\r\n        case 'box':\r\n            if (command === '\\\\bbox') {\r\n                result += command;\r\n                if (isFinite(this.padding) ||\r\n                    typeof this.border !== 'undefined' ||\r\n                    typeof this.backgroundcolor !== 'undefined') {\r\n                    const bboxParams = [];\r\n                    if (isFinite(this.padding)) {\r\n                        bboxParams.push(Math.floor(1e2 * this.padding) / 1e2 + 'em')\r\n                    }\r\n                    if (this.border) {\r\n                        bboxParams.push('border:' + this.border);\r\n                    }\r\n                    if (this.backgroundcolor) {\r\n                        bboxParams.push(Color.colorToString(this.backgroundcolor));\r\n                    }\r\n                    result += `[${bboxParams.join(',')}]`;\r\n                }\r\n                result += `{${latexify(this, this.body, expandMacro)}}`;\r\n            } else if (command === '\\\\boxed') {\r\n                result += `\\\\boxed{${latexify(this, this.body, expandMacro)}}`;\r\n            } else {\r\n                // \\\\colorbox, \\\\fcolorbox\r\n                result += command;\r\n                if (this.framecolor) {\r\n                    result += `{${Color.colorToString(this.framecolor)}}`;\r\n                }\r\n                if (this.backgroundcolor) {\r\n                    result += `{${Color.colorToString(this.backgroundcolor)}}`;\r\n                }\r\n                result += `{${latexify(this, this.body, expandMacro)}}`;\r\n            }\r\n            break;\r\n\r\n        case 'spacing':\r\n            // Three kinds of spacing commands:\r\n            // \\hskip and \\kern which take one implicit parameter\r\n            // \\hspace and hspace* with take one *explicit* parameter\r\n            // \\quad, etc... which take no parameters.\r\n            result += command;\r\n            if (command === '\\\\hspace' || command === '\\\\hspace*') {\r\n                result += '{';\r\n                if (this.width) {\r\n                    result += this.width + 'em';\r\n                } else {\r\n                    result += '0em'\r\n                }\r\n                result += '}';\r\n            } else {\r\n                result += ' ';\r\n                if (this.width) {\r\n                    result += this.width + 'em ';\r\n                }\r\n            }\r\n\r\n\r\n            break;\r\n\r\n        case 'enclose':\r\n            result += command;\r\n            if (command === '\\\\enclose') {\r\n                result += '{';\r\n                let sep = '';\r\n                for (const notation in this.notation) {\r\n                    if (Object.prototype.hasOwnProperty.call(this.notation, notation) &&\r\n                        this.notation[notation]) {\r\n                        result += sep + notation;\r\n                        sep = ' ';\r\n                    }\r\n                }\r\n                result += '}';\r\n\r\n                // \\enclose can have optional parameters...\r\n                let style = '';\r\n                sep = '';\r\n                if (this.backgroundcolor && this.backgroundcolor !== 'transparent') {\r\n                    style += sep + 'mathbackground=\"' + Color.colorToString(this.backgroundcolor) + '\"';\r\n                    sep = ',';\r\n                }\r\n                if (this.shadow && this.shadow !== 'auto') {\r\n                    style += sep + 'shadow=\"' + this.shadow + '\"';\r\n                    sep = ',';\r\n                }\r\n                if (this.strokeWidth !== 1 || this.strokeStyle !== 'solid') {\r\n                    style += sep + this.borderStyle;\r\n                    sep = ',';\r\n                } else if (this.strokeColor && this.strokeColor !== 'currentColor') {\r\n                    style += sep + 'mathcolor=\"' + Color.colorToString(this.strokeColor) + '\"';\r\n                    sep = ',';\r\n                }\r\n\r\n\r\n                if (style) {\r\n                    result += `[${style}]`;\r\n                }\r\n            }\r\n            result += `{${latexify(this, this.body, expandMacro)}}`;\r\n            break;\r\n\r\n        case 'mathstyle':\r\n            result += '\\\\' + this.mathstyle + ' ';\r\n            break;\r\n\r\n        case 'space':\r\n            result += this.latex;\r\n            break;\r\n\r\n        case 'placeholder':\r\n            result += '\\\\placeholder{' + (this.value || '') + '}';\r\n            break;\r\n\r\n        case 'first':\r\n        case 'command':\r\n        case 'msubsup':\r\n            break;\r\n\r\n        case 'error':\r\n            result += this.latex;\r\n            break;\r\n\r\n\r\n        default:\r\n            console.warn('Unexpected atom type \"' + this.type +\r\n                '\" in \"' + (this.latex || this.value) + '\"');\r\n            break;\r\n\r\n    }\r\n    if (this.superscript) {\r\n        let sup = latexify(this, this.superscript, expandMacro);\r\n        if (sup.length === 1) {\r\n            if (sup === '\\u2032') {     // PRIME\r\n                sup = '\\\\prime ';\r\n            } else if (sup === '\\u2033') {      // DOUBLE-PRIME\r\n                sup = '\\\\doubleprime ';\r\n            }\r\n            result += '^' + sup;\r\n        } else {\r\n            result += '^{' + sup + '}';\r\n        }\r\n    }\r\n    if (this.subscript) {\r\n        const sub = latexify(this, this.subscript, expandMacro);\r\n        if (sub.length === 1) {\r\n            result += '_' + sub;\r\n        } else {\r\n            result += '_{' + sub + '}';\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n}\r\n\r\n\r\n\r\n","\r\n\r\n\r\nexport function l10n(s) {\r\n\r\n    const language = l10n.locale.substring(0, 2);\r\n\r\n    let result = '';\r\n\r\n    // Attempt to find a match for the current locale\r\n    if (l10n.strings[l10n.locale]) result = l10n.strings[l10n.locale][s];\r\n    // If none is found, attempt to find a match for the language\r\n    if (!result && l10n.strings[language]) result = l10n.strings[language][s];\r\n    // If none is found, try english\r\n    if (!result) result = l10n.strings['en'][s];\r\n    // If that didn't work, use the key...\r\n    if (!result) result = s;\r\n\r\n    return result;\r\n\r\n}\r\n\r\n\r\nl10n.plural = function(value, s, options) {\r\n    options = options || {};\r\n    options.type = options.type || 'cardinal';\r\n    const language = l10n.locale.substring(0, 2);\r\n    const rules = options.type === 'ordinal' ? l10n.ordinal : l10n.cardinal;\r\n    let rule = options.type === 'ordinal' ?\r\n        l10n._ordinalPluralCategories.indexOf(rules.select(value)) :\r\n        l10n._cardinalPluralCategories.indexOf(rules.select(value));\r\n        \r\n\r\n    let result;\r\n    if (l10n.strings[l10n.locale]) result = l10n.strings[l10n.locale][s];\r\n    if (!result && l10n.strings[language]) result = l10n.strings[language][s];\r\n    if (!result) {\r\n        result = l10n.strings['en'][s];\r\n        if (!result) result = s;\r\n        if (options.type === 'ordinal') {\r\n            rule = l10n._ordinalPluralCategories.indexOf(l10n._ordinalEnglish.select(value));\r\n        } else {\r\n            rule = l10n._cardinalPluralCategories.indexOf(l10n._cardinalEnglish.select(value));\r\n        }\r\n\r\n    }\r\n    return result.split(';')[rule] || result.split(';')[0]\r\n}\r\n\r\n\r\n/*\r\n * Two forms for this function:\r\n * - merge(locale, strings)\r\n * Merge a dictionary of keys -> values for the specified locale\r\n * - merge(strings)\r\n * Merge a dictionary of locale code -> dictionary of keys -> values\r\n *\r\n */\r\nl10n.merge = function(locale, strings) {\r\n    if (locale && strings) {\r\n        const savedLocale = l10n._locale;\r\n        l10n.locale = locale;   // Load the necessary json file\r\n\r\n        l10n.strings[locale] = {...l10n.strings[locale], ...strings };\r\n        l10n.locale = savedLocale;\r\n    } else if (locale && !strings) {\r\n        strings = locale;\r\n        Object.keys(strings).forEach(l => l10n.merge(l, strings[l]));\r\n    }\r\n}\r\n\r\n\r\n// Add getter and setter for the _locale property of l10n\r\nObject.defineProperty(l10n, 'locale', {\r\n    set(locale) {\r\n        l10n._locale = locale;\r\n        l10n._ordinal = null;\r\n        l10n._cardinal = null;\r\n    },\r\n    get() {\r\n        // Use the browser defined language as the default language,\r\n        // \"english\" if not running in a browser (node.js)\r\n        if (!l10n._locale) {\r\n            // Use the setter, which will load the necessary .json files.\r\n            l10n._locale = typeof navigator === 'undefined' ? 'en' :\r\n                navigator.language.slice(0, 5);\r\n        }\r\n        return l10n._locale\r\n    }\r\n});\r\n\r\nObject.defineProperty(l10n, 'ordinal', {\r\n    get() {\r\n        if (!l10n._ordinal) {\r\n            l10n._ordinalEnglish = new Intl.PluralRules('en', {type: 'ordinal'});\r\n            l10n._ordinalEnglishPluralCategories = l10n._ordinalEnglish.resolvedOptions().pluralCategories;\r\n            l10n._ordinal = new Intl.PluralRules(l10n.locale, {type: 'ordinal'});\r\n            l10n._ordinalPluralCategories = l10n._ordinal.resolvedOptions().pluralCategories;\r\n            //    \"zero\", \"one\", \"two\", \"few\", \"many\" and \"other\"\r\n        }\r\n        return l10n._ordinal;\r\n    }\r\n});\r\n\r\nObject.defineProperty(l10n, 'cardinal', {\r\n    get() {\r\n        if (!l10n._cardinal) {\r\n            l10n._cardinalEnglish = new Intl.PluralRules('en', {type: 'cardinal'});\r\n            l10n._cardinalEnglishPluralCategories = l10n._cardinalEnglish.resolvedOptions().pluralCategories;\r\n            l10n._cardinal = new Intl.PluralRules(l10n.locale, {type: 'cardinal'});\r\n            l10n._cardinaPluralCategories = l10n._ordinal.resolvedOptions().pluralCategories;\r\n        }\r\n        return l10n._cardinal;\r\n    }\r\n});\r\n\r\n\r\nl10n.strings = {\r\n    \"en\": {\r\n        \"keyboard.tooltip.functions\": \"Functions\",\r\n        \"keyboard.tooltip.greek\": \"Greek Letters\",\r\n        \"keyboard.tooltip.command\": \"LaTeX Command Mode\",\r\n        \"keyboard.tooltip.numeric\": \"Numeric\",\r\n        \"keyboard.tooltip.roman\": \"Symbols and Roman Letters\",\r\n        \"tooltip.copy to clipboard\": \"Copy to Clipboard\",\r\n        \"tooltip.redo\": \"Redo\",\r\n        \"tooltip.toggle virtual keyboard\": \"Toggle Virtual Keyboard\",\r\n        \"tooltip.undo\": \"Undo\"\r\n    },\r\n    \"ar\": {\r\n      \"keyboard.tooltip.functions\": \"مهام\",\r\n      \"keyboard.tooltip.greek\": \"حروف يونانية\",\r\n      \"keyboard.tooltip.command\": \"حالة تلقي الأوامر اللاتك\",\r\n      \"keyboard.tooltip.numeric\": \"الرقمية\",\r\n      \"keyboard.tooltip.roman\": \"رموز الاحرف الرومانية\",\r\n      \"tooltip.copy to clipboard\": \"نسخ إلى الحافظة\",\r\n      \"tooltip.redo\": \"الإعادة\",\r\n      \"tooltip.toggle virtual keyboard\": \"تبديل لوحة المفاتيح الإفتراضية\",\r\n      \"tooltip.undo\": \"إلغاء\"\r\n    },\r\n    \"de\": {\r\n        \"keyboard.tooltip.functions\": \"Funktionen\",\r\n        \"keyboard.tooltip.greek\": \"Griechische Buchstaben\",\r\n        \"keyboard.tooltip.command\": \"LaTeX-Befehlsmodus\",\r\n        \"keyboard.tooltip.numeric\": \"Numerisch\",\r\n        \"keyboard.tooltip.roman\": \"Symbole und römische Buchstaben\",\r\n        \"tooltip.copy to clipboard\": \"In die Zwischenablage kopieren\",\r\n        \"tooltip.redo\": \"Wiederholen\",\r\n        \"tooltip.toggle virtual keyboard\": \"Virtuelle Tastatur umschalten\",\r\n        \"tooltip.undo\": \"Widerrufen\"\r\n    },\r\n    \"el\": {\r\n        \"keyboard.tooltip.functions\": \"συναρτήσεις\",\r\n        \"keyboard.tooltip.greek\": \"ελληνικά γράμματα\",\r\n        \"keyboard.tooltip.command\": \"Λειτουργία εντολών LaTeX\",\r\n        \"keyboard.tooltip.numeric\": \"Αριθμητικός\",\r\n        \"keyboard.tooltip.roman\": \"Σύμβολα και ρωμαϊκά γράμματα\",\r\n        \"tooltip.copy to clipboard\": \"Αντιγραφή στο πρόχειρο\",\r\n        \"tooltip.redo\": \"Ξανακάνω\",\r\n        \"tooltip.toggle virtual keyboard\": \"Εναλλαγή εικονικού πληκτρολογίου\",\r\n        \"tooltip.undo\": \"Ξεκάνω\"\r\n    },\r\n    \"es\": {\r\n        \"keyboard.tooltip.functions\": \"Funciones\",\r\n        \"keyboard.tooltip.greek\": \"Letras griegas\",\r\n        \"keyboard.tooltip.command\": \"Modo Comando LaTeX\",\r\n        \"keyboard.tooltip.numeric\": \"Numérico\",\r\n        \"keyboard.tooltip.roman\": \"Símbolos y letras romanas\",\r\n        \"tooltip.copy to clipboard\": \"Copiar al portapapeles\",\r\n        \"tooltip.redo\": \"Rehacer\",\r\n        \"tooltip.toggle virtual keyboard\": \"Alternar teclado virtual\",\r\n        \"tooltip.undo\": \"Deshacer\"\r\n    },\r\n    \"fa\": {\r\n      \"keyboard.tooltip.functions\": \"توابع\",\r\n      \"keyboard.tooltip.greek\": \"حروف یونانی\",\r\n      \"keyboard.tooltip.command\": \"حالت دستور لاتک\",\r\n      \"keyboard.tooltip.numeric\": \"عددی\",\r\n      \"keyboard.tooltip.roman\": \"علائم و حروف لاتین\",\r\n      \"tooltip.copy to clipboard\": \"کپی به کلیپبورد\",\r\n      \"tooltip.redo\": \"بازگشت به بعد\",\r\n      \"tooltip.toggle virtual keyboard\": \"نمایش/نهفتن کیبورد مجازی\",\r\n      \"tooltip.undo\": \"بازگشت به قبل\"\r\n    },\r\n    \"fr\": {\r\n        \"keyboard.tooltip.functions\": \"Fonctions\",\r\n        \"keyboard.tooltip.greek\": \"Lettres grecques\",\r\n        \"keyboard.tooltip.command\": \"Mode de commandes LaTeX\",\r\n        \"keyboard.tooltip.numeric\": \"Numérique\",\r\n        \"keyboard.tooltip.roman\": \"Lettres et symboles romains\",\r\n        \"tooltip.copy to clipboard\": \"Copier dans le presse-papiers\",\r\n        \"tooltip.redo\": \"Rétablir\",\r\n        \"tooltip.toggle virtual keyboard\": \"Afficher/Masquer le clavier virtuel\",\r\n        \"tooltip.undo\": \"Annuler\"\r\n    },\r\n    \"it\": {\r\n        \"keyboard.tooltip.functions\": \"Funzioni\",\r\n        \"keyboard.tooltip.greek\": \"Lettere greche\",\r\n        \"keyboard.tooltip.command\": \"Modalità di comando LaTeX\",\r\n        \"keyboard.tooltip.numeric\": \"Numerico\",\r\n        \"keyboard.tooltip.roman\": \"Simboli e lettere romane\",\r\n        \"tooltip.copy to clipboard\": \"Copia negli appunti\",\r\n        \"tooltip.redo\": \"Rifare\",\r\n        \"tooltip.toggle virtual keyboard\": \"Attiva / disattiva la tastiera virtuale\",\r\n        \"tooltip.undo\": \"Disfare\"\r\n    },\r\n    \"ja\": {\r\n        \"keyboard.tooltip.functions\": \"関数\",\r\n        \"keyboard.tooltip.greek\": \"ギリシャ文字\",\r\n        \"keyboard.tooltip.command\": \"LaTeXコマンドモード\",\r\n        \"keyboard.tooltip.numeric\": \"数値\",\r\n        \"keyboard.tooltip.roman\": \"記号とローマ字\",\r\n        \"tooltip.copy to clipboard\": \"クリップボードにコピー\",\r\n        \"tooltip.redo\": \"やり直し\",\r\n        \"tooltip.toggle virtual keyboard\": \"仮想キーボードの切り替え\",\r\n        \"tooltip.undo\": \"元に戻す\"\r\n    },\r\n    \"pl\": {\r\n        \"keyboard.tooltip.functions\": \"Funkcje\",\r\n        \"keyboard.tooltip.greek\": \"Litery greckie\",\r\n        \"keyboard.tooltip.command\": \"Tryb poleceń LaTeX\",\r\n        \"keyboard.tooltip.numeric\": \"Numeryczne\",\r\n        \"keyboard.tooltip.roman\": \"Symbole i litery rzymskie\",\r\n        \"tooltip.copy to clipboard\": \"Kopiuj do Schowka\",\r\n        \"tooltip.redo\": \"Przywróć\",\r\n        \"tooltip.toggle virtual keyboard\": \"Przełącz wirtualną klawiaturę\",\r\n        \"tooltip.undo\": \"Cofnij\"\r\n    },\r\n    \"ru\": {\r\n        \"keyboard.tooltip.functions\": \"Функции\",\r\n        \"keyboard.tooltip.greek\": \"Греческие буквы\",\r\n        \"keyboard.tooltip.command\": \"Режим командной строки LaTeX\",\r\n        \"keyboard.tooltip.numeric\": \"числовой\",\r\n        \"keyboard.tooltip.roman\": \"Символы и римские буквы\",\r\n        \"tooltip.copy to clipboard\": \"Скопировать в буфер обмена\",\r\n        \"tooltip.redo\": \"переделывать\",\r\n        \"tooltip.toggle virtual keyboard\": \"Переключить виртуальную клавиатуру\",\r\n        \"tooltip.undo\": \"расстегивать\"\r\n    }\r\n};\r\n\r\n\r\nexport default {\r\n    l10n\r\n}","/**\r\n * @module editor/virtualKeyboard\r\n * @private\r\n */\r\nimport MathAtom from '../core/mathAtom.js';\r\nimport Span from '../core/span.js';\r\nimport Lexer from '../core/lexer.js';\r\nimport ParserModule from '../core/parser.js';\r\nimport Color from '../core/color.js';\r\nimport '../addons/outputLatex.js';\r\nimport { l10n } from './l10n.js';\r\n\r\nconst KEYBOARDS = {\r\n    'numeric': {\r\n        tooltip: 'keyboard.tooltip.numeric',\r\n        layer: 'math',\r\n        label: '123',\r\n        layers: ['math']\r\n    },\r\n    'roman': {\r\n        tooltip: 'keyboard.tooltip.roman',\r\n        layer: 'lower-roman',\r\n        label: 'ABC',\r\n        layers: ['lower-roman', 'upper-roman', 'symbols']\r\n    },\r\n    'greek': {\r\n        tooltip: 'keyboard.tooltip.greek',\r\n        layer: 'lower-greek',\r\n        label: '&alpha;&beta;&gamma;',\r\n        classes: 'tex-math',\r\n        layers: ['lower-greek', 'upper-greek']\r\n    },\r\n    'functions': {\r\n        tooltip: 'keyboard.tooltip.functions',\r\n        layer: 'functions',\r\n        label: '<i>f</i>&thinsp;()',\r\n        classes: 'tex',\r\n        layers: ['functions']\r\n    },\r\n    'command': {\r\n        tooltip: 'keyboard.tooltip.command',\r\n        // For the command keyboard, perform a command rather than\r\n        // doing a simple layer switch, as we want to enter command mode\r\n        // when the keyboard is activated\r\n        command: 'enterCommandMode',\r\n        label: `<svg><use xlink:href='#svg-command' /></svg>`,\r\n        layers: ['lower-command', 'upper-command', 'symbols-command']\r\n    },\r\n    'style': {\r\n        tooltip: 'keyboard.tooltip.style',\r\n        layer: 'style',\r\n        label: '<b>b</b><i>i</i>𝔹',\r\n    }\r\n}\r\n\r\nconst SHIFTED_KEYS = {\r\n    '\\\\varphi ': {label: '&Phi;', insert: '\\\\Phi '},\r\n    '\\\\varsigma ': {label: '&Sigma;', insert: '\\\\Sigma '},\r\n    '\\\\epsilon ': {label: '&#x0190;', insert: '{\\\\char\"0190}'},\r\n    '\\\\rho ': {label: '&#x3A1', insert: '{\\\\char\"3A1}'},\r\n    '\\\\tau ': {label: '&#x3A4;', insert: '{\\\\char\"3A4}'},\r\n    '\\\\upsilon ': {label: '&Upsilon;', insert: '\\\\Upsilon '},\r\n    '\\\\theta ': {label: '&Theta;', insert: '\\\\Theta '},\r\n    '\\\\iota ': {label: '&Iota;', insert: '{\\\\char\"399}'},\r\n    '\\\\omicron ': {label: '&#x039F;', insert: '{\\\\char\"39F}'},\r\n    '\\\\pi ': {label: '&Pi;', insert: '\\\\Pi '},\r\n    '\\\\alpha ': {label: '&Alpha;', insert: '{\\\\char\"391}'},\r\n    '\\\\sigma ': {label: '&Sigma;', insert: '\\\\Sigma '},\r\n    '\\\\delta ': {label: '&Delta;', insert: '\\\\Delta '},\r\n    '\\\\phi ': {label: '&#x03a6;', insert: '\\\\Phi '},\r\n    '\\\\gamma ': {label: '&Gamma;', insert: '\\\\Gamma '},\r\n    '\\\\eta ': {label: '&Eta;', insert: '{\\\\char\"397}'},\r\n    '\\\\xi ': {label: '&Xi;', insert: '\\\\Xi '},\r\n    '\\\\kappa ': {label: '&Kappa;', insert: '{\\\\char\"39A}'},\r\n    '\\\\lambda ': {label: '&Lambda;', insert: '\\\\Lambda '},\r\n    '\\\\zeta ': {label: '&Zeta;', insert: '{\\\\char\"396}'},\r\n    '\\\\chi ': {label: '&Chi;', insert: '{\\\\char\"3A7}'},\r\n    '\\\\psi ': {label: '&Psi;', insert: '\\\\Psi '},\r\n    '\\\\omega ': {label: '&Omega;', insert: '\\\\Omega '},\r\n    '\\\\beta ': {label: '&Beta;', insert: '{\\\\char\"392}'},\r\n    '\\\\nu ': {label: '&Nu;', insert: '{\\\\char\"39D}'},\r\n    '\\\\mu ': {label: '&Mu;', insert: '{\\\\char\"39C}'}\r\n}\r\n\r\n// const FUNCTIONS = [\r\n//     'Basic',\r\n//         ['\\\\sin', '\\\\cos', '\\\\tan', '\\\\min', '\\\\max', '\\\\gcd', '\\\\lcm', '\\\\repeat', 'encapsulate', 'recognize'],\r\n//     'Operators',\r\n//         ['\\\\sum', '\\\\prod', '\\\\bigcup_x']\r\n// ]\r\nconst ALT_KEYS_BASE = {\r\n    '0': ['\\\\emptyset', '\\\\varnothing', '\\\\infty', {latex: '#?_0', insert: '#@_0'},\r\n            '\\\\circ', '\\\\bigcirc', '\\\\bullet'],\r\n    '2': ['\\\\frac{1}{2}', {latex: '#?^2', insert: '#@^2' }],\r\n    '3': ['\\\\frac{1}{3}', {latex: '#?^3', insert: '#@^3' }],\r\n    '.': [\r\n        ',',  ';', '\\\\colon',  {latex:':', aside:'ratio'},\r\n        {latex:'\\\\cdotp', aside:'center dot', classes:'box'},\r\n        {latex:'\\\\cdots', aside:'center ellipsis', classes:'box'},\r\n        {latex:'\\\\ldotp', aside:'low dot', classes:'box'} ,\r\n        {latex:'\\\\ldots', aside:'low ellipsis', classes:'box'} ,\r\n        {latex:'\\\\vdots', aside:'', classes:'box'} ,\r\n        {latex:'\\\\ddots', aside:'', classes:'box'} ,\r\n        '\\\\odot', '\\\\oslash', '\\\\circledcirc',\r\n\r\n    ],\r\n\r\n    '*': [\r\n        '\\\\cdot', '\\\\ast', '\\\\star', '\\\\bigstar',\r\n        '\\\\ltimes', '\\\\rtimes', '\\\\rightthreetimes','\\\\leftthreetimes',\r\n        '\\\\intercal', '\\\\prod', {latex:'\\\\prod_{n\\\\mathop=0}^{\\\\infty}', classes:'small'},\r\n    ],\r\n\r\n    '+': [\r\n        '\\\\pm', '\\\\mp',\r\n        '\\\\sum', {latex:'\\\\sum_{n\\\\mathop=0}^{\\\\infty}', classes:'small'},\r\n        '\\\\dotplus', '\\\\oplus'\r\n    ],\r\n    '-': [\r\n        '\\\\pm', '\\\\mp',\r\n        '\\\\ominus', '\\\\vert #0  \\\\vert'\r\n    ],\r\n\r\n    '/': ['\\\\divideontimes', '/', '\\\\div'],\r\n\r\n    '(':[\r\n        '\\\\left( #0\\\\right)', '\\\\left[ #0\\\\right]', '\\\\left\\\\{ #0\\\\right\\\\}', '\\\\left\\\\langle #0\\\\right\\\\rangle',\r\n        '\\\\lfloor',    '\\\\llcorner',    '(',            '\\\\lbrack',\r\n        '\\\\lvert',     '\\\\lVert',       '\\\\lgroup',     '\\\\langle',\r\n        '\\\\lceil',     '\\\\ulcorner',    '\\\\lmoustache', '\\\\lbrace',\r\n    ],\r\n\r\n    ')':[\r\n        '\\\\rfloor',    '\\\\lrcorner',    ')',            '\\\\rbrack',\r\n        '\\\\rvert',     '\\\\rVert',       '\\\\rgroup',     '\\\\rangle',\r\n        '\\\\rceil',     '\\\\urcorner',    '\\\\rmoustache', '\\\\rbrace',\r\n    ],\r\n\r\n    '=': [\r\n        '\\\\cong',       '\\\\asymp', '\\\\equiv',\r\n        '\\\\differencedelta',    '\\\\varpropto',\r\n        '\\\\thickapprox', '\\\\approxeq', '\\\\thicksim', '\\\\backsim', '\\\\eqsim', '\\\\simeq',\r\n        '\\\\Bumpeq', '\\\\bumpeq', '\\\\doteq', '\\\\Doteq',\r\n        '\\\\fallingdotseq', '\\\\risingdotseq', '\\\\coloneq', '\\\\eqcirc', '\\\\circeq',\r\n        '\\\\triangleq', '\\\\between',\r\n    ],\r\n\r\n    '!=': [\r\n        '\\\\neq', '\\\\ncong',    '',\r\n        '\\\\nsim',\r\n    ],\r\n\r\n    '<': [\r\n        '\\\\leq', '\\\\leqq', '\\\\lneqq', '\\\\ll', '\\\\nless', '\\\\nleq',\r\n        '\\\\precsim', '\\\\lesssim', '\\\\lessgtr', '\\\\prec', '\\\\preccurlyeq', '\\\\lessdot',\r\n        '\\\\nprec',\r\n    ],\r\n\r\n    '>': [\r\n        '\\\\geq', '\\\\geqq', '\\\\gneqq', '\\\\gg', '\\\\ngtr', '\\\\ngeq',\r\n        '\\\\succsim', '\\\\gtrsim', '\\\\gtrless', '\\\\succ', '\\\\succcurlyeq', '\\\\gtrdot',\r\n        '\\\\nsucc'\r\n     ],\r\n\r\n    'set': [\r\n        '\\\\in', '\\\\owns',\r\n        '\\\\subset', '\\\\nsubset', '\\\\supset', '\\\\nsupset'\r\n    ],\r\n\r\n    '!set': [\r\n        '\\\\notin', '\\\\backepsilon'\r\n    ],\r\n\r\n    'subset': [],\r\n    'supset': [],\r\n\r\n    'infinity': ['\\\\aleph_0', '\\\\aleph_1', '\\\\omega', '\\\\mathfrak{m}'],\r\n\r\n\r\n    'numeric-pi': ['\\\\prod', '\\\\theta', '\\\\rho',\r\n        '\\\\sin', '\\\\cos', '\\\\tan'\r\n    ],\r\n\r\n\r\n    'ee': [\r\n            '\\\\times 10^{#?}',\r\n            '\\\\ln', '\\\\ln_{10}', '\\\\log'\r\n        ],\r\n\r\n    '^':  ['_{#?}'],\r\n\r\n    // Integrals\r\n    'int': [\r\n            {latex:'\\\\int_{#?}^{#?}', classes:'small'},\r\n            {latex:'\\\\int', classes:'small'},\r\n            {latex:'\\\\smallint', classes:'small'},\r\n            {latex:'\\\\iint', classes:'small'},\r\n            {latex:'\\\\iiint', classes:'small'},\r\n            {latex:'\\\\oint', classes:'small'},\r\n            {latex: '\\\\dfrac{\\\\rd}{\\\\rd x}',  classes:'small'},\r\n            {latex:'\\\\frac{\\\\partial}{\\\\partial x}', classes:'small'},\r\n\r\n            '\\\\capitalDifferentialD', '\\\\rd',  '\\\\partial',\r\n    ],\r\n\r\n    'nabla': ['\\\\nabla\\\\times', '\\\\nabla\\\\cdot', '\\\\nabla^{2}'],\r\n\r\n    '!':    ['!!', '\\\\Gamma', '\\\\Pi'],\r\n    'accents': ['\\\\bar{#@}', '\\\\vec{#@}', '\\\\hat{#@}', '\\\\check{#@}',\r\n        '\\\\dot{#@}', '\\\\ddot{#@}', '\\\\mathring{#@}', '\\\\breve{#@}',\r\n        '\\\\acute{#@}', '\\\\tilde{#@}', '\\\\grave{#@}'],\r\n    // 'absnorm': [{latex:'\\\\lVert #@ \\\\rVert', aside:'norm'},\r\n    //     {latex:'\\\\lvert #@ \\\\rvert', aside:'determinant'},\r\n    //     {latex:'\\\\begin{cardinality} #@ \\\\end{cardinality}', aside:'cardinality'},\r\n    //     {latex:'\\\\lvert #@ \\\\rvert', aside:'length'},\r\n    //     {latex:'\\\\lvert #@ \\\\rvert', aside:'order'},\r\n\r\n    // ],\r\n    'A':        [{latex:'\\\\aleph', aside:'aleph'},\r\n                {latex:'\\\\forall', aside:'for all'},\r\n    ],\r\n    'a':        [{latex:'\\\\aleph', aside:'aleph'},\r\n                {latex:'\\\\forall', aside:'for all'},\r\n    ],\r\n    'b':        [{latex:'\\\\beth', aside:'beth'}],\r\n    'B':        [{latex:'\\\\beth', aside:'beth'}],\r\n    'c':        [{latex:'\\\\C', aside:'set of complex numbers'}],\r\n    'd':        [{latex:'\\\\daleth', aside:'daleth'}],\r\n    'D':        [{latex:'\\\\daleth', aside:'daleth'}],\r\n    'e':        [{latex:'\\\\exponentialE', aside:'exponential e'},\r\n                {latex:'\\\\exists', aside:'there is'},\r\n                {latex:'\\\\nexists', aside:'there isn’t'},\r\n    ],\r\n    'g':        [{latex:'\\\\gimel', aside:'gimel'}],\r\n    'G':        [{latex:'\\\\gimel', aside:'gimel'}],\r\n    'h':        [{latex:'\\\\hbar',  aside:'h bar'},\r\n                    {latex: '\\\\hslash', aside:'h slash'}\r\n    ],\r\n    'i':        [{latex:'\\\\imaginaryI', aside:'imaginary i'}],\r\n    'j':        [{latex:'\\\\imaginaryJ', aside:'imaginary j'}],\r\n    'l':        [{latex:'\\\\ell', aside:'ell'}],\r\n    'n':        [{latex:'\\\\N', aside:'set of natural numbers'}],\r\n    'p':        [{latex:'\\\\P', aside:'set of primes'}],\r\n    'q':        [{latex:'\\\\Q', aside:'set of rational numbers'}],\r\n    'r':        [{latex:'\\\\R', aside:'set of real numbers'}],\r\n    'z':        [{latex:'\\\\Z', aside:'set of integers'}],\r\n\r\n    'x-var': ['y', 'z', 't', 'r',\r\n            {latex:'f(#?)', classes:'small'}, {latex:'g(#?)', classes:'small'}, 'x^2', 'x^n',\r\n            'x_n', 'x_{n+1}', 'x_i', 'x_{i+1}'],\r\n    'n-var': ['i', 'j', 'p', 'k', 'a', 'u'],\r\n    'ii': ['\\\\Re', '\\\\Im', '\\\\imaginaryJ', '\\\\Vert #0 \\\\Vert'],\r\n\r\n    'logic': [\r\n        {latex:'\\\\exists', aside:'there is'},\r\n        {latex:'\\\\nexists', aside:'there isn’t'},\r\n\r\n        {latex:'\\\\ni', aside:'such that'},\r\n        {latex:'\\\\Colon', aside:'such that'},\r\n\r\n        {latex:'\\\\implies', aside:'implies'},\r\n        {latex:'\\\\impliedby', aside:'implied by'},\r\n\r\n        {latex:'\\\\iff', aside:'if and only if'},\r\n\r\n\r\n        {latex:'\\\\land', aside:'and'},\r\n        {latex:'\\\\lor', aside:'or'},\r\n        {latex:'\\\\oplus', aside:'xor'},\r\n        {latex:'\\\\lnot', aside:'not'},\r\n\r\n        {latex:'\\\\downarrow', aside:'nor'},\r\n        {latex:'\\\\uparrow', aside:'nand'},\r\n\r\n        {latex:'\\\\curlywedge', aside:'nor'},\r\n        {latex:'\\\\bar\\\\curlywedge', aside:'nand'},\r\n\r\n\r\n        // {latex:'\\\\barwedge', aside:'bar wedge'},\r\n        // {latex:'\\\\curlyvee', aside:'curly vee'},\r\n        // {latex:'\\\\veebar', aside:'vee bar'},\r\n\r\n        {latex:'\\\\therefore', aside:'therefore'},\r\n        {latex:'\\\\because', aside:'because'},\r\n\r\n        {latex:'^\\\\biconditional', aside:'biconditional'},\r\n\r\n        '\\\\leftrightarrow', '\\\\Leftrightarrow', '\\\\to',\r\n        '\\\\models', '\\\\vdash', '\\\\gets', '\\\\dashv',\r\n        '\\\\roundimplies'],\r\n\r\n    'set-operators':\r\n        ['\\\\cap', '\\\\cup', '\\\\setminus', '\\\\smallsetminus',\r\n        '\\\\complement'],\r\n\r\n    'set-relations': [\r\n        '\\\\in', '\\\\notin', '\\\\ni', '\\\\owns', '\\\\subset', '\\\\supset',\r\n        '\\\\subseteq', '\\\\supseteq', '\\\\subsetneq', '\\\\supsetneq',\r\n        '\\\\varsubsetneq', '\\\\subsetneqq', '\\\\nsubset', '\\\\nsupset',\r\n        '\\\\nsubseteq', '\\\\nsupseteq'\r\n    ],\r\n\r\n    'space': [\r\n        {latex: '\\\\char\"203A\\\\!\\\\char\"2039', insert: '\\\\!', aside:'negative thin space<br>⁻³⧸₁₈ em'},\r\n        {latex: '\\\\unicode{\"203A}\\\\,\\\\unicode{\"2039}', insert: '\\\\,', aside:'thin space<br>³⧸₁₈ em'},\r\n        {latex: '\\\\unicode{\"203A}\\\\:\\\\unicode{\"2039}', insert: '\\\\:', aside:'medium space<br>⁴⧸₁₈ em'},\r\n        {latex: '\\\\unicode{\"203A}\\\\;\\\\unicode{\"2039}', insert: '\\\\;', aside:'thick space<br>⁵⧸₁₈ em'},\r\n        {latex: '\\\\unicode{\"203A}\\\\ \\\\unicode{\"2039}', insert: '\\\\ ', aside:'⅓ em'},\r\n        {latex: '\\\\unicode{\"203A}\\\\enspace\\\\unicode{\"2039}', insert: '\\\\enspace', aside:'½ em'},\r\n        {latex: '\\\\unicode{\"203A}\\\\quad\\\\unicode{\"2039}', insert: '\\\\quad', aside:'1 em'},\r\n        {latex: '\\\\unicode{\"203A}\\\\qquad\\\\unicode{\"2039}', insert: '\\\\qquad', aside:'2 em'}\r\n    ],\r\n\r\n    // @todo could also delete to end\r\n    'delete': [{label: '<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>',\r\n                command: '\"deleteAll\"' }],\r\n\r\n    // @todo Tab: could turn on speech, visible keyboard...\r\n    '->|': []\r\n\r\n};\r\nlet ALT_KEYS = {\r\n    // 自定义alt key长按按钮\r\n    'key0': [ // 正负号\r\n        '\\\\div', '\\\\times', '\\\\ne', '\\\\approx', '\\\\backsim'\r\n    ],\r\n    'key1': [ // 分数\r\n        '\\\\frac{1}{2}', '\\\\frac{1}{3}', '\\\\frac{2}{3}', '\\\\frac{1}{4}', '\\\\frac{\\\\sqrt{2}}{2}', '\\\\frac{\\\\sqrt{3}}{2}'\r\n    ],\r\n    'key2': [ // 括号\r\n        '\\\\left[ {#2} \\\\right]', '\\\\left|{#2}\\\\right|', '\\\\left( {#2} \\\\right)'\r\n    ],\r\n    'key3': [ // 度\r\n        '^\\\\prime', '^\\\\prime^\\\\prime', '\\\\parallel',\r\n        '\\\\bot', '\\\\angle', '\\\\overset\\\\frown{#2}'\r\n    ],\r\n    'key4': [ // 根号\r\n        '\\\\sqrt{2}', '\\\\sqrt[3]', '\\\\sqrt{5}', '\\\\sqrt{7}',\r\n        '2\\\\sqrt{2}', '\\\\sqrt{3}', '2\\\\sqrt{3}'\r\n    ],\r\n    'key5': [ // sin\r\n        'cos', 'tan', '\\\\alpha', '\\\\beta', '\\\\theta'\r\n    ],\r\n    'key6': [ // 指数\r\n        'x^2', 'y^2', 'a^2', 'm^2', '10^{#2}', 'x^3'\r\n    ],\r\n    'key7': [ // 字母\r\n        'y', 'z', 'a', 'b', 'c', 'm', 'n', 'k'\r\n    ],\r\n    'key8': [ // 字母\r\n        '一', '二', '三', '四', '上', '下', '和', '且'\r\n    ],\r\n};\r\n\r\nconst LAYERS = {\r\n    'math': `\r\n        <div class='rows'>\r\n            <ul>\r\n                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>\r\n                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>\r\n                <li class='separator w5'></li>\r\n                <row name='numpad-1'/>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap tex' data-key='ee' data-alt-keys='ee'>e</li>\r\n                <li class='keycap tex' data-key='ii' data-alt-keys='ii'>i</li>\r\n                <li class='keycap tex' data-latex='\\\\pi' data-alt-keys='numeric-pi'></li>\r\n            </ul>\r\n            <ul>\r\n                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>\r\n                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>\r\n                <li class='separator w5'></li>\r\n                <row name='numpad-2'/>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap tex' data-alt-keys='x2' data-insert='#@^{2}'><span><i>x</i>&thinsp;²</span></li>\r\n                <li class='keycap tex' data-alt-keys='^' data-insert='#@^{#?}'><span><i>x</i><sup>&thinsp;<small>&#x2b1a;</small></sup></span></li>\r\n                <li class='keycap tex' data-alt-keys='sqrt' data-insert='\\\\sqrt{#0}' data-latex='\\\\sqrt{#0}'></li>\r\n            </ul>\r\n            <ul>\r\n                <li class='keycap tex' data-alt-keys='(' >(</li>\r\n                <li class='keycap tex' data-alt-keys=')' >)</li>\r\n                <li class='separator w5'></li>\r\n                <row name='numpad-3'/>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap tex small' data-alt-keys='int' data-latex='\\\\int_0^\\\\infty'><span></span></li>\r\n                <li class='keycap tex' data-latex='\\\\forall' data-alt-keys='logic' ></li>\r\n                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\r\n            </ul>\r\n            <ul>\r\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'></span></li>\r\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span></li>\r\n                <li class='separator w5'></li>\r\n                <row name='numpad-4'/>\r\n                <li class='separator w5'></li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>\r\n    `,\r\n    'lower-roman': `\r\n        <div class='rows'>\r\n            <ul>\r\n                <row name='numpad-1' class='if-wide'/>\r\n                <row name='lower-1' shift-layer='upper-roman'/>\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-2' class='if-wide'/>\r\n                <row name='lower-2'  shift-layer='upper-roman''/>\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-3' class='if-wide'/>\r\n                <row name='lower-3'  shift-layer='upper-roman''/>\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-4' class='if-wide'/>\r\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;≠</li>\r\n                <li class='keycap' data-alt-keys=','>,</li>\r\n                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'upper-roman': `\r\n        <div class='rows'>\r\n            <ul>\r\n                <row name='numpad-1' class='if-wide'/>\r\n                <row name='upper-1'  shift-layer='lower-roman'/>\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-2' class='if-wide'/>\r\n                <row name='upper-2' shift-layer='lower-roman'/>\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-3' class='if-wide'/>\r\n                <row name='upper-3' shift-layer='lower-roman'/>\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-4' class='if-wide'/>\r\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;≠</li>\r\n                <li class='keycap' data-alt-keys='.'>;</li>\r\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'symbols': `\r\n        <div class='rows'>\r\n            <ul>\r\n                <row name='numpad-1' class='if-wide'/>\r\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\\\lbrace '>{</li>\r\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\\\rbrace '>}</li>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap tex' data-alt-keys='set' data-insert='\\\\in '>&#x2208;</li>\r\n                <li class='keycap tex' data-alt-keys='!set' data-insert='\\\\notin '>&#x2209;</li>\r\n                <li class='keycap tex' data-insert='\\\\Re '>&#x211c;<aside>Real</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Im '>&#x2111;<aside>Imaginary</aside></li>\r\n                <li class='keycap w15' data-insert='\\\\ulcorner#0\\\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>\r\n                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\\\nabla '>&#x2207;<aside>nabla</aside></li>\r\n                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\\\infty '>&#x221e;</li>\r\n\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-2' class='if-wide'/>\r\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\\\lbrack '>[</li>\r\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\\\rbrack '>]</li>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap tex' data-alt-keys='subset' data-insert='\\\\subset '>&#x2282;</li>\r\n                <li class='keycap tex' data-alt-keys='supset' data-insert='\\\\supset '>&#x2283;</li>\r\n                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>\r\n                <li class='keycap' data-insert='^{\\\\prime} '><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>\r\n                <li class='keycap w15' data-insert='\\\\llcorner#0\\\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\emptyset '>&#x2205;<aside>empty set</aside></li>\r\n\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-3' class='if-wide'/>\r\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\\\langle '>&#x27e8;</li>\r\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\\\rangle '>&#x27e9;</li>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap tex' data-insert='\\\\subseteq '>&#x2286;</li>\r\n                <li class='keycap tex' data-insert='\\\\supseteq '>&#x2287;</li>\r\n                <li class='keycap tex' data-alt-keys='accents' data-insert='\\\\vec{#@}' data-latex='\\\\vec{#?}' data-aside='vector'></li>\r\n                <li class='keycap tex' data-alt-keys='accents' data-insert='\\\\bar{#@}' data-latex='\\\\bar{#?}' data-aside='bar'></li>\r\n                <li class='keycap tex' data-alt-keys='absnorm' data-insert='\\\\lvert #@ \\\\rvert ' data-latex='\\\\lvert #? \\\\rvert' data-aside='abs'></li>\r\n                <li class='keycap tex' data-insert='\\\\ast '>&#x2217;<aside>asterisk</aside></li>\r\n\r\n                <li class='action font-glyph bottom right w15'\r\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\r\n                    data-shifted-command='\"deleteAll\"'\r\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\r\n                >&#x232b;</li>\r\n            </ul>\r\n            <ul>\r\n                <row name='numpad-4' class='if-wide'/>\r\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-roman'>abc</li>\r\n                <li class='keycap tex' data-insert='\\\\cdot '>&#x22c5;<aside>centered dot</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\colon '>:<aside>colon</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\circ '>&#x2218;<aside>circle</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\approx '>&#x2248;<aside>approx.</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\ne '>&#x2260;</li>\r\n                <li class='keycap tex' data-insert='\\\\pm '>&#x00b1;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'lower-greek': `\r\n        <div class='rows'>\r\n            <ul><li class='keycap tex' data-insert='\\\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\epsilon '><i>&#x03f5;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\rho '><i>&rho;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\tau '><i>&tau;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\upsilon '><i>&upsilon;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\theta '><i>&theta;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\iota '><i>&iota;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\omicron '>&omicron;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\pi '><i>&pi;</i></li>\r\n            </ul>\r\n            <ul><li class='keycap tex' data-insert='\\\\alpha ' data-shifted='&Alpha;' data-shifted-command='[\"insert\",\"{\\\\\\\\char\\\\\"391}\"]'><i>&alpha;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\sigma '><i>&sigma;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\delta '><i>&delta;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\phi '><i>&#x03d5;</i></i></li>\r\n                <li class='keycap tex' data-insert='\\\\gamma '><i>&gamma;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\eta '><i>&eta;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\xi '><i>&xi;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\kappa '><i>&kappa;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\lambda '><i>&lambda;</i></li>\r\n            </ul>\r\n            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'>&#x21e7;</li>\r\n                <li class='keycap tex' data-insert='\\\\zeta '><i>&zeta;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\chi '><i>&chi;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\psi '><i>&psi;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\omega '><i>&omega;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\beta '><i>&beta;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\nu '><i>&nu;</i></li>\r\n                <li class='keycap tex' data-insert='\\\\mu '><i>&mu;</i></li>\r\n                <li class='action font-glyph bottom right w15'\r\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\r\n                    data-shifted-command='\"deleteAll\"'\r\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\r\n                >&#x232b;</li>\r\n            </ul>\r\n            <ul>\r\n                <li class='keycap ' data-key=' '>&nbsp;</li>\r\n                <li class='keycap'>,</li>\r\n                <li class='keycap tex' data-insert='\\\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>\r\n                <li class='keycap tex' data-insert='\\\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'upper-greek': `\r\n        <div class='rows'>\r\n            <ul><li class='keycap tex' data-insert='\\\\Phi '>&Phi;<aside>phi</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Sigma '>&Sigma;<aside>sigma</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"0190}'>&#x0190;<aside>epsilon</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"3A1}'>&#x3A1;<aside>rho</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"3A4}'>&#x3A4;<aside>tau</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Theta '>&Theta;<aside>theta</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"399}'>&Iota;<aside>iota</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"39F}'>&#x039F;<aside>omicron</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Pi '>&Pi;<aside>pi</aside></li></ul>\r\n            <ul><li class='keycap tex' data-insert='{\\\\char\"391}'>&#x391;<aside>alpha</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Sigma '>&Sigma;<aside>sigma</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Delta '>&Delta;<aside>delta</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Phi '>&#x03a6;<aside>phi</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Gamma '>&Gamma;<aside>gamma</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"397}'>&Eta;<aside>eta</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Xi '>&Xi;<aside>xi</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"39A}'>&Kappa;<aside>kappa</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>\r\n            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'>&#x21e7;</li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"396}'>&Zeta;<aside>zeta</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"3A7}'>&Chi;<aside>chi</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Psi '>&Psi;<aside>psi</aside></li>\r\n                <li class='keycap tex' data-insert='\\\\Omega '>&Omega;<aside>omega</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"392}'>&Beta;<aside>beta</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"39D}'>&Nu;<aside>nu</aside></li>\r\n                <li class='keycap tex' data-insert='{\\\\char\"39C}'>&Mu;<aside>mu</aside></li>\r\n                <li class='action font-glyph bottom right w15' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\r\n            <ul>\r\n                <li class='separator w10'>&nbsp;</li>\r\n                <li class='keycap'>.</li>\r\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'lower-command': `\r\n        <div class='rows'>\r\n            <ul><row name='lower-1' class='tt' shift-layer='upper-command'/></ul>\r\n            <ul><row name='lower-2' class='tt' shift-layer='upper-command'/></ul>\r\n            <ul><row name='lower-3' class='tt' shift-layer='upper-command'/></ul>\r\n            <ul>\r\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'>01#</li>\r\n                <li class='keycap tt' data-shifted='[' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"[\"]'>{</li>\r\n                <li class='keycap tt' data-shifted=']' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"]\"]'>}</li>\r\n                <li class='keycap tt' data-shifted='(' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"(\"]'>^</li>\r\n                <li class='keycap tt' data-shifted=')' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \")\"]'>_</li>\r\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'upper-command': `\r\n        <div class='rows'>\r\n            <ul><row name='upper-1' class='tt' shift-layer='lower-command'/></ul>\r\n            <ul><row name='upper-2' class='tt' shift-layer='lower-command'/></ul>\r\n            <ul><row name='upper-3' class='tt' shift-layer='lower-command'/></ul>\r\n            <ul>\r\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'01#</li>\r\n                <li class='keycap tt'>[</li>\r\n                <li class='keycap tt'>]</li>\r\n                <li class='keycap tt'>(</li>\r\n                <li class='keycap tt'>)</li>\r\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'symbols-command': `\r\n        <div class='rows'>\r\n            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>\r\n            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>\r\n            <ul>\r\n                <li class='keycap tt'>\\\\</li>\r\n                <li class='keycap tt'>|</li>\r\n                <li class='keycap tt'>/</li>\r\n                <li class='keycap tt'>\\`</li>\r\n                <li class='keycap tt'>;</li>\r\n                <li class='keycap tt'>:</li>\r\n                <li class='keycap tt'>?</li>\r\n                <li class='keycap tt'>'</li>\r\n                <li class='keycap tt'>\"</li>\r\n                <li class='action font-glyph bottom right'\r\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\r\n                    data-shifted-command='\"deleteAll\"'\r\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\r\n                >&#x232b;</li>\r\n            </ul>\r\n            <ul>\r\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-command'>abc</li>\r\n                <li class='keycap tt'>&lt;</li>\r\n                <li class='keycap tt'>&gt;</li>\r\n                <li class='keycap tt'>~</li>\r\n                <li class='keycap tt'>,</li>\r\n                <li class='keycap tt'>.</li>\r\n                <li class='keycap' data-key=' '>&nbsp;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'functions': `\r\n        <div class='rows'>\r\n            <ul><li class='separator'></li>\r\n                <li class='fnbutton' data-insert='\\\\sin'></li>\r\n                <li class='fnbutton' data-insert='\\\\sin^{-1}'></li>\r\n                <li class='fnbutton' data-insert='\\\\ln'></li>\r\n                <li class='fnbutton' data-insert='\\\\exponentialE^{#?}'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\operatorname{lcm}(#?)' data-latex='\\\\operatorname{lcm}()'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\operatorname{ceil}(#?)' data-latex='\\\\operatorname{ceil}()'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\lim_{n\\\\to\\\\infty}'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\int'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\operatorname{abs}(#?)' data-latex='\\\\operatorname{abs}()'></li>\r\n            </ul>\r\n            <ul><li class='separator'></li>\r\n                <li class='fnbutton' data-insert='\\\\cos'></li>\r\n                <li class='fnbutton' data-insert='\\\\cos^{-1}'></li>\r\n                <li class='fnbutton' data-insert='\\\\ln_{10}'></li>\r\n                <li class='fnbutton' data-insert='10^{#?}'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\operatorname{gcd}(#?)' data-latex='\\\\operatorname{gcd}()'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\operatorname{floor}(#?)' data-latex='\\\\operatorname{floor}()'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\sum_{n\\\\mathop=0}^{\\\\infty}'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\int_{0}^{\\\\infty}'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\operatorname{sign}(#?)' data-latex='\\\\operatorname{sign}()'></li>\r\n            </ul>\r\n            <ul><li class='separator'></li>\r\n                <li class='fnbutton' data-insert='\\\\tan'></li>\r\n                <li class='fnbutton' data-insert='\\\\tan^{-1}'></li>\r\n                <li class='fnbutton' data-insert='\\\\log_{#?}'></li>\r\n                <li class='fnbutton' data-insert='\\\\sqrt[#?]{#0}'></li>\r\n                <li class='bigfnbutton' data-insert='#0 \\\\mod' data-latex='\\\\mod'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\operatorname{round}(#?) ' data-latex='\\\\operatorname{round}()'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\prod_{n\\\\mathop=0}^{\\\\infty}' data-latex='{\\\\tiny \\\\prod_{n=0}^{\\\\infty}}'></li>\r\n                <li class='bigfnbutton' data-insert='\\\\frac{\\\\differentialD #0}{\\\\differentialD x}'></li>\r\n                <li class='action font-glyph bottom right' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\r\n            <ul><li class='separator'></li>\r\n                <li class='fnbutton'>(</li>\r\n                <li class='fnbutton'>)</li>\r\n                <li class='fnbutton' data-insert='^{#?} ' data-latex='x^{#?} '></li>\r\n                <li class='fnbutton' data-insert='_{#?} ' data-latex='x_{#?} '></li>\r\n                <li class='keycap w20 ' data-key=' '>&nbsp;</li>\r\n                <arrows/>\r\n            </ul>\r\n        </div>`,\r\n    'style': `\r\n        <div class='rows'>\r\n            <ul>\r\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'></span></li>\r\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span></li>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size3\"}]' data-latex='\\\\scriptsize\\\\text{small}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size5\"}]' data-latex='\\\\scriptsize\\\\text{normal}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size9\"}]' data-latex='\\\\huge\\\\text{big}'></li>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap' data-latex='\\\\langle' data-command='[\"insert\", \"\\\\\\\\langle\", {\"smartFence\":true}]'></li>\r\n            </ul>\r\n            <ul>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"l\"}]' data-latex='\\\\fontseries{l}\\\\text{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"m\"}]' data-latex='\\\\fontseries{m}\\\\text{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"b\"}]' data-latex='\\\\fontseries{b}\\\\text{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"bx\"}]' data-latex='\\\\fontseries{bx}\\\\text{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"sb\"}]' data-latex='\\\\fontseries{sb}\\\\text{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"c\"}]' data-latex='\\\\fontseries{c}\\\\text{Ab}'></li>\r\n            </ul>\r\n            <ul>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"up\"}]' data-latex='\\\\textup{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"it\"}]' data-latex='\\\\textit{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex='\\\\textsl{Ab}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex='\\\\textsc{Ab}'></li>\r\n                <li class='separator w5'></li>\r\n                <li class='keycap' data-insert='\\\\emph{#?} ' data-latex='\\\\text{\\\\emph{emph}}'></li>\r\n            </ul>\r\n            <ul>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex='\\\\textrm{Az}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex='\\\\texttt{Az}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex='\\\\textsf{Az}'></li>\r\n\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex='\\\\mathbb{AZ}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex='\\\\mathscr{AZ}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex='\\\\mathcal{A1}'></li>\r\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex='\\\\mathfrak{Az}'></li>\r\n            </ul>\r\n        </div>`,\r\n}\r\n\r\nfunction latexToMarkup(latex, arg, mf) {\r\n    // Since we don't have preceding atoms, we'll interpret #@ as a placeholder\r\n    latex = latex.replace(/(^|[^\\\\])#@/g, '$1#?');\r\n\r\n    const parse = ParserModule.parseTokens(Lexer.tokenize(latex), 'math',\r\n        arg, mf.config.macros);\r\n    const spans = MathAtom.decompose({\r\n            mathstyle: 'displaystyle',\r\n            macros: mf.config.macros\r\n        }, parse);\r\n\r\n    const base = Span.makeSpan(spans, 'ML__base');\r\n\r\n    const topStrut = Span.makeSpan('', 'ML__strut');\r\n    topStrut.setStyle('height', base.height, 'em');\r\n    const bottomStrut = Span.makeSpan('', 'ML__strut--bottom');\r\n    bottomStrut.setStyle('height', base.height + base.depth, 'em');\r\n    bottomStrut.setStyle('vertical-align', -base.depth, 'em');\r\n    const wrapper = Span.makeSpan([topStrut, bottomStrut, base], 'ML__mathlive');\r\n\r\n    return wrapper.toMarkup();\r\n}\r\n\r\n\r\n/**\r\n * Return a markup string for the keyboard toolbar for the specified layer.\r\n * @private\r\n */\r\nfunction makeKeyboardToolbar(mf, keyboardIDs, currentKeyboard) {\r\n    // The left hand side of the toolbar has a list of all the available keyboards\r\n    let result = \"<div class='left'>\";\r\n    const keyboardList = keyboardIDs.replace(/\\s+/g, ' ').split(' ');\r\n    if (keyboardList.length > 1) {\r\n        const keyboards = Object.assign({}, KEYBOARDS, mf.config.customVirtualKeyboards || {});\r\n\r\n        for (const keyboard of keyboardList) {\r\n            if (!keyboards[keyboard]) {\r\n                console.error('Unknown virtual keyboard \"' + keyboard + '\"');\r\n                break;\r\n            }\r\n            result += '<div class=\\'';\r\n            if (keyboard === currentKeyboard) {\r\n                result += 'selected ';\r\n            } else {\r\n                if (keyboards[keyboard].command) {\r\n                    result += 'action ';\r\n                } else {\r\n                    result += 'layer-switch ';\r\n                }\r\n            }\r\n\r\n            result += (keyboards[keyboard].classes || '') + \"'\";\r\n\r\n            if (keyboards[keyboard].tooltip) {\r\n                result += \"data-tooltip='\" + l10n(keyboards[keyboard].tooltip) + \"' \";\r\n                result += \"data-placement='top' data-delay='1s'\";\r\n            }\r\n\r\n            if (keyboard !== currentKeyboard) {\r\n                if (keyboards[keyboard].command) {\r\n                    result += \"data-command='\\\"\" + keyboards[keyboard].command + \"\\\"'\";\r\n                }\r\n\r\n                if (keyboards[keyboard].layer) {\r\n                    result += \"data-layer='\" + keyboards[keyboard].layer + \"'\";\r\n                }\r\n\r\n            }\r\n            result += '>' + keyboards[keyboard].label + '</div>';\r\n        }\r\n    }\r\n    result += '</div>';\r\n\r\n    // The right hand side of the toolbar, with the copy/undo/redo commands\r\n    // onclick=\"x=body.getElementsByClassName('ML__keyboard');for(i=0;i<x.length;i++){x[i].classList.remove('is-visible')};\"\r\n    // <span style=\"padding: 2px 5px; background: #fe990025 !important;border-radius:6px;font-size:12px\">黄键可长按</span>\r\n    result += `\r\n        <div class='right'>\r\n            <div style=\"display:flex;align-items:center;margin-top:2px\">\r\n                <span style=\"width:22px;height:14px; background: #F7EAB9 !important;border-radius:2px;font-size:12px;margin-right:1px\"></span>\r\n                <span>可长按</span>\r\n            </div>\r\n            <div\r\n                class='action'\r\n                data-command='\"changeType\"'\r\n                data-tooltip=\"改变输入方式\"\r\n                style=\"display:flex;align-items:center;margin-top:2px\"\r\n            >\r\n                <span\r\n                    style=\"width: 21px;padding-bottom:3px\">\r\n                    <svg class=\"icon\" style=\"font-size:24px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\">\r\n                    <path d=\"M996.35241 885.76h-166.0416v110.592a27.6992 27.6992 0 0 1-27.6992 27.648h-27.648a27.6992 27.6992 0 0 1-27.6992-27.648V885.76h-166.0416a27.6992 27.6992 0 0 1-27.648-27.6992v-193.792a27.6992 27.6992 0 0 1 27.648-27.6992H747.52041v-110.6944a27.6992 27.6992 0 0 1 27.6992-27.648h27.648a27.6992 27.6992 0 0 1 27.6992 27.648v110.6944h165.7856a27.6992 27.6992 0 0 1 27.648 27.6992v193.6896a27.6992 27.6992 0 0 1-27.648 27.6992z m-332.0832-166.0416a27.6992 27.6992 0 0 0-27.6992 27.648v27.6992a27.6992 27.6992 0 0 0 27.6992 27.648H747.52041v-83.0976z m276.48 27.648a27.6992 27.6992 0 0 0-27.6992-27.648h-82.7392v82.9952h82.9952a27.6992 27.6992 0 0 0 27.6992-27.648V747.52zM403.09801 308.6848l105.472 217.1904H299.11081l103.9872-217.1904z m288.8192 272.5376h-64.9216L440.73001 198.144v-0.4096a29.696 29.696 0 0 0-1.7408-2.6624 40.96 40.96 0 0 0-21.1456-19.456h-0.6144a40.96 40.96 0 0 0-15.36-2.6624c-1.1264 0-2.2528 0.512-3.5328 0.6144a37.6832 37.6832 0 0 0-11.1104 2.048c-0.512 0-0.768 0.6144-1.28 0.768s-0.3584 0.3584-0.6144 0.3584a40.2432 40.2432 0 0 0-21.248 22.1184v0.3584l-211.8144 442.1632a41.5232 41.5232 0 0 0 77.2096 30.72l43.2128-90.2144h225.28v332.0832H110.69481A110.6432 110.6432 0 0 1 0.00041 803.0208V110.6944A110.6432 110.6432 0 0 1 110.69481 0h581.2224a110.6432 110.6432 0 0 1 110.6944 110.6944v332.0832h-110.6944v138.24z\" p-id=\"8927\"></path>\r\n                </span>\r\n                <span>中文</span>\r\n            </div>\r\n            <div\r\n                class='action'\r\n                data-command='\"turnOffBox\"'\r\n                data-tooltip=\"收起所有公式键盘\"\r\n                style=\"display:flex;align-items:center;margin-top:2px\"\r\n            >\r\n                <span\r\n                    style=\"width: 21px; padding-bottom:3px\">\r\n                    <svg class=\"icon\" style=\"font-size:24px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\r\n                    <path d=\"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z\"/></svg>\r\n                </span>\r\n                <span>收起</span>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n    // result += `\r\n    //     <div class='right'>\r\n    //         <div class='action'\r\n    //             data-command='\"copyToClipboard\"'\r\n    //             data-tooltip='${l10n('tooltip.copy to clipboard')}' data-placement='top' data-delay='1s'>\r\n    //             <svg><use xlink:href='#svg-copy' /></svg>\r\n    //         </div>\r\n    //         <div\r\n    //             class='action'\r\n    //             data-command='\"turnOffBox\"'\r\n    //             data-tooltip=\"收起所有公式键盘\"\r\n    //         >\r\n    //             <span\r\n    //                 style=\"width: 21px;\">\r\n    //                 <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\r\n    //                 <path d=\"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z\"/></svg>\r\n    //             </span>\r\n    //         </div>\r\n    //         <div\r\n    //             class='action'\r\n    //             data-command='\"changeType\"'\r\n    //             data-tooltip=\"改变输入方式\"\r\n    //             style=\"margin:2px !important\"\r\n    //         >\r\n    //             <span\r\n    //                 style=\"width: 21px;\">\r\n    //                 <svg class=\"icon\" style=\"font-size:30px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\">\r\n    //                 <path d=\"M996.35241 885.76h-166.0416v110.592a27.6992 27.6992 0 0 1-27.6992 27.648h-27.648a27.6992 27.6992 0 0 1-27.6992-27.648V885.76h-166.0416a27.6992 27.6992 0 0 1-27.648-27.6992v-193.792a27.6992 27.6992 0 0 1 27.648-27.6992H747.52041v-110.6944a27.6992 27.6992 0 0 1 27.6992-27.648h27.648a27.6992 27.6992 0 0 1 27.6992 27.648v110.6944h165.7856a27.6992 27.6992 0 0 1 27.648 27.6992v193.6896a27.6992 27.6992 0 0 1-27.648 27.6992z m-332.0832-166.0416a27.6992 27.6992 0 0 0-27.6992 27.648v27.6992a27.6992 27.6992 0 0 0 27.6992 27.648H747.52041v-83.0976z m276.48 27.648a27.6992 27.6992 0 0 0-27.6992-27.648h-82.7392v82.9952h82.9952a27.6992 27.6992 0 0 0 27.6992-27.648V747.52zM403.09801 308.6848l105.472 217.1904H299.11081l103.9872-217.1904z m288.8192 272.5376h-64.9216L440.73001 198.144v-0.4096a29.696 29.696 0 0 0-1.7408-2.6624 40.96 40.96 0 0 0-21.1456-19.456h-0.6144a40.96 40.96 0 0 0-15.36-2.6624c-1.1264 0-2.2528 0.512-3.5328 0.6144a37.6832 37.6832 0 0 0-11.1104 2.048c-0.512 0-0.768 0.6144-1.28 0.768s-0.3584 0.3584-0.6144 0.3584a40.2432 40.2432 0 0 0-21.248 22.1184v0.3584l-211.8144 442.1632a41.5232 41.5232 0 0 0 77.2096 30.72l43.2128-90.2144h225.28v332.0832H110.69481A110.6432 110.6432 0 0 1 0.00041 803.0208V110.6944A110.6432 110.6432 0 0 1 110.69481 0h581.2224a110.6432 110.6432 0 0 1 110.6944 110.6944v332.0832h-110.6944v138.24z\" p-id=\"8927\"></path>\r\n    //             </span>\r\n    //         </div>\r\n    //         <div class='action disabled'\r\n    //             data-command='\"undo\"'\r\n    //             data-tooltip='${l10n('tooltip.undo')}' data-placement='top' data-delay='1s'>\r\n    //             <svg><use xlink:href='#svg-undo' /></svg>\r\n    //         </div>\r\n    //         <div class='action disabled'\r\n    //             data-command='\"redo\"'\r\n    //             data-tooltip='${l10n('tooltip.redo')}' data-placement='top' data-delay='1s'>\r\n    //             <svg><use xlink:href='#svg-redo' /></svg>\r\n    //         </div>\r\n    //     </div>\r\n    // `;\r\n\r\n    return \"<div class='keyboard-toolbar' role='toolbar'>\" + result + \"</div>\";\r\n}\r\n\r\n\r\nfunction makeKeycap(mf, elList, chainedCommand) {\r\n    for (let i = 0; i < elList.length; ++i) {\r\n        const el = elList[i];\r\n        // Display\r\n        if (el.getAttribute('data-latex')) {\r\n            el.innerHTML = latexToMarkup(el.getAttribute('data-latex').replace(/&quot;/g, '\"'),\r\n                    {'?':'{\\\\color{#555}{\\\\tiny \\\\char\"2B1A}}'}, mf);\r\n        } else if (el.innerHTML === '' && el.getAttribute('data-insert')) {\r\n            el.innerHTML = latexToMarkup(el.getAttribute('data-insert').replace(/&quot;/g, '\"'),\r\n                    {'?':'{\\\\color{#555}{\\\\tiny \\\\char\"2B1A}}'}, mf);\r\n        } else if (el.getAttribute('data-content')) {\r\n            el.innerHTML = el.getAttribute('data-content').replace(/&quot;/g, '\"');\r\n        }\r\n        if (el.getAttribute('data-aside')) {\r\n            el.innerHTML += '<aside>' + el.getAttribute('data-aside').replace(/&quot;/g, '\"') + '</aside>';\r\n        }\r\n        if (el.getAttribute('data-classes')) {\r\n            el.classList.add(el.getAttribute('data-classes'));\r\n        }\r\n\r\n        let key = el.getAttribute('data-insert');\r\n        if (key) key = key.replace(/&quot;/g, '\"');\r\n        if (key && SHIFTED_KEYS[key]) {\r\n            el.setAttribute('data-shifted', SHIFTED_KEYS[key].label);\r\n            el.setAttribute('data-shifted-command',\r\n                JSON.stringify(['insertAndUnshiftKeyboardLayer', SHIFTED_KEYS[key].insert]));\r\n        }\r\n\r\n        // Commands\r\n        let handlers;\r\n        if (el.getAttribute('data-command')) {\r\n            handlers = JSON.parse(el.getAttribute('data-command'));\r\n        } else if (el.getAttribute('data-insert')) {\r\n            handlers = ['insert', el.getAttribute('data-insert'),\r\n                {focus:true, feedback:true, mode:'math', format:'auto', resetStyle:true}];\r\n        } else if (el.getAttribute('data-latex')) {\r\n            handlers = ['insert', el.getAttribute('data-latex'),\r\n                {focus:true, feedback:true, mode:'math', format:'auto', resetStyle:true}];\r\n        } else {\r\n            handlers = ['typedText', el.getAttribute('data-key') || el.textContent,\r\n                {focus:true, feedback:true, simulateKeystroke:true}];\r\n        }\r\n        if (chainedCommand) {\r\n            handlers = [chainedCommand, handlers];\r\n        }\r\n        if (el.getAttribute('data-alt-keys')) {\r\n            const altKeys = ALT_KEYS[el.getAttribute('data-alt-keys')];\r\n            if (altKeys) {\r\n                handlers = {\r\n                    default: handlers,\r\n                    pressAndHoldStart: ['showAlternateKeys', el.getAttribute('data-alt-keys'), altKeys],\r\n                    pressAndHoldEnd: 'hideAlternateKeys'\r\n                }\r\n            } else {\r\n                console.warn('Unknown alt key set: \"' + el.getAttribute('data-alt-keys'));\r\n            }\r\n        }\r\n\r\n        mf._attachButtonHandlers(el, handlers);\r\n\r\n    }\r\n}\r\n\r\n/**\r\n * Expand the shortcut tags (e.g. <row>) inside a layer.\r\n * @param {object} mf\r\n * @param {string} layer\r\n * @private\r\n */\r\nfunction expandLayerMarkup(mf, layer) {\r\n    const ROWS = {\r\n        // First row should be 10 key wide\r\n        // Second row should be 10 key wide\r\n        // Third row should be 8.5 key wide\r\n        // One row should have ^ (shift key) which is 1.5 key wide\r\n        // One row should have ~ (delete key) which is .5 or 1.5 key wide\r\n        'qwerty': {\r\n                'lower-1': 'qwertyuiop',\r\n                'lower-2': ' asdfghjkl ',\r\n                'lower-3': '^zxcvbnm~',\r\n                'upper-1': 'QWERTYUIOP',\r\n                'upper-2': ' ASDFGHJKL ',\r\n                'upper-3': '^ZXCVBNM~',\r\n                'numpad-1': '789/',\r\n                'numpad-2': '456*',\r\n                'numpad-3': '123-',\r\n                'numpad-4': '0.=+',\r\n        },\r\n        'azerty': {\r\n                'lower-1': 'azertyuiop',\r\n                'lower-2': 'qsdfghjklm',\r\n                'lower-3': '^ wxcvbn ~',\r\n                'upper-1': 'AZERTYUIOP',\r\n                'upper-2': 'QSDFGHJKLM',\r\n                'upper-3': '^ WXCVBN ~'\r\n        },\r\n        'qwertz': {\r\n                'lower-1': 'qwertzuiop',\r\n                'lower-2': ' asdfghjkl ',\r\n                'lower-3': '^yxcvbnm~',\r\n                'upper-1': 'QWERTZUIOP',\r\n                'upper-2': ' ASDFGHJKL',\r\n                'upper-3': '^YXCVBNM~'\r\n        },\r\n        'dvorak': {\r\n                'lower-1': '^  pyfgcrl ',\r\n                'lower-2': 'aoeuidhtns',\r\n                'lower-3': 'qjkxbmwvz~',\r\n                'upper-1': '^  PYFGCRL ',\r\n                'upper-2': 'AOEUIDHTNS',\r\n                'upper-3': 'QJKXBMWVZ~'\r\n        },\r\n        'colemak': {\r\n                'lower-1': ' qwfpgjluy ',\r\n                'lower-2': 'arstdhneio',\r\n                'lower-3': '^zxcvbkm~',\r\n                'upper-1': ' QWFPGNLUY ',\r\n                'upper-2': 'ARSTDHNEIO',\r\n                'upper-3': '^ZXCVBKM~'\r\n        },\r\n\r\n\r\n    }\r\n    const layout = ROWS[mf.config.virtualKeyboardLayout] ?\r\n        ROWS[mf.config.virtualKeyboardLayout] : ROWS['qwerty'];\r\n\r\n    let result = layer;\r\n    let row;\r\n\r\n    result = result.replace(/<arrows\\/>/g, `\r\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToPreviousChar\"]'\r\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-left\" /></svg>'\r\n            data-shifted-command='[\"performWithFeedback\",\"extendToPreviousChar\"]'>\r\n            <svg><use xlink:href='#svg-arrow-left' /></svg>\r\n        </li>\r\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextChar\"]'\r\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-right\" /></svg>'\r\n            data-shifted-command='[\"performWithFeedback\",\"extendToNextChar\"]'>\r\n            <svg><use xlink:href='#svg-arrow-right' /></svg>\r\n        </li>\r\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextPlaceholder\"]'>\r\n        <svg><use xlink:href='#svg-tab' /></svg></li>`);\r\n\r\n\r\n    let m = result.match(/(<row\\s+)(.*)((?:<\\/row|\\/)>)/);\r\n    while (m) {\r\n        row = '';\r\n        const attributesArray = m[2].match(/[a-zA-Z][a-zA-Z0-9-]*=(['\"])(.*?)\\1/g);\r\n        const attributes = {};\r\n        for (const attribute of attributesArray) {\r\n            const m2 = attribute.match(/([a-zA-Z][a-zA-Z0-9-]*)=(['\"])(.*?)\\2/);\r\n            attributes[m2[1]] = m2[3];\r\n        }\r\n\r\n\r\n        let keys = layout[attributes['name']];\r\n        if (!keys) keys = ROWS['qwerty'][attributes['name']];\r\n        if (!keys) {\r\n            console.warn('Unknown roman keyboard row: ' + attributes['name']);\r\n        } else {\r\n            for (const c of keys) {\r\n                let cls = attributes['class'] || '';\r\n                if (cls) cls = ' ' + cls;\r\n                if (c === '~') {\r\n                    row += `<li class='action font-glyph bottom right `;\r\n                    row += keys.length -\r\n                        ((keys.match(/ /g) || []).length / 2) === 10 ? 'w10' : 'w15';\r\n                    row += `' data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\r\n                        data-shifted-command='\"deleteAll\"'\r\n                        data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\r\n                        >&#x232b;</li>`;\r\n\r\n                } else if (c === ' ') {\r\n                    // Separator\r\n                    row += \"<li class='separator w5'></li>\";\r\n                } else if (c === '^') {\r\n                    // Shift key\r\n                    row += `<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='` +\r\n                        attributes['shift-layer'] + `'>&#x21e7;</li>`;\r\n                } else if (c === '/') {\r\n                    row += \"<li class='keycap\" + cls + \"' data-alt-keys='/' data-insert='\\\\frac{#0}{#?}'>&divide;</li>\";\r\n                } else if (c === '*') {\r\n                    row += \"<li class='keycap\" + cls + \"' data-alt-keys='*' data-insert='\\\\times '>&times;</li>\";\r\n                } else if (c === '-') {\r\n                    row += \"<li class='keycap\" + cls + \"' data-alt-keys='*' data-key='-' data-alt-keys='-'>&#x2212;</li>\";\r\n                } else if (/tt/.test(cls)) {\r\n                    row += \"<li class='keycap\" + cls + \"' data-alt-keys='\" + c + \"'\" +\r\n                    ` data-command='[\"typedText\",\"` + c + `\",{\"commandMode\":true, \"focus\":true, \"feedback\":true}]'` +\r\n                    \">\" + c + \"</li>\"\r\n                } else {\r\n                    row += \"<li class='keycap\" + cls + \"' data-alt-keys='\" + c + \"'>\" + c + \"</li>\"\r\n                }\r\n            }\r\n\r\n        }\r\n        result = result.replace(new RegExp(m[1] + m[2] + m[3]), row);\r\n\r\n        m = result.match(/(<row\\s+)(.*)((?:<\\/row|\\/)>)/);\r\n    }\r\n\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Construct a virtual keyboard element based on the config options in the\r\n * mathfield and an optional theme.\r\n * @param {object} mf\r\n * @param {string} theme\r\n * @result {} A DOM element\r\n * @private\r\n */\r\nfunction make(mf, theme) {\r\n    const svgIcons =\r\n        `<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display: none;\">\r\n\r\n            <symbol id=\"svg-command\" viewBox=\"0 0 640 512\">\r\n                <path d=\"M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z\"/>\r\n            </symbol>\r\n\r\n            <symbol id=\"svg-undo\" viewBox=\"0 0 512 512\">\r\n                <path d=\"M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-redo\" viewBox=\"0 0 512 512\">\r\n                <path d=\"M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-arrow-left\" viewBox=\"0 0 192 512\">\r\n                <path d=\"M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-arrow-right\" viewBox=\"0 0 192 512\">\r\n                    <path d=\"M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-tab\" viewBox=\"0 0 448 512\">\r\n                    <path d=\"M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-copy\" viewBox=\"0 0 448 512\">\r\n                <path d=\"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-angle-double-right\" viewBox=\"0 0 320 512\">\r\n                <path d=\"M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-angle-double-left\" viewBox=\"0 0 320 512\">\r\n                <path d=\"M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z\"/>\r\n            </symbol>\r\n            <symbol id=\"svg-trash\" viewBox=\"0 0 448 512\">\r\n                <path d=\"M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z\"/>\r\n            </symbol>\r\n        </svg>\r\n        `;\r\n            // <symbol id=\"svg-wikipedia\" viewBox=\"0 0 640 512\">\r\n            //         <path d=\"M640 51.2l-.3 12.2c-28.1.8-45 15.8-55.8 40.3-25 57.8-103.3 240-155.3 358.6H415l-81.9-193.1c-32.5 63.6-68.3 130-99.2 193.1-.3.3-15 0-15-.3C172 352.3 122.8 243.4 75.8 133.4 64.4 106.7 26.4 63.4.2 63.7c0-3.1-.3-10-.3-14.2h161.9v13.9c-19.2 1.1-52.8 13.3-43.3 34.2 21.9 49.7 103.6 240.3 125.6 288.6 15-29.7 57.8-109.2 75.3-142.8-13.9-28.3-58.6-133.9-72.8-160-9.7-17.8-36.1-19.4-55.8-19.7V49.8l142.5.3v13.1c-19.4.6-38.1 7.8-29.4 26.1 18.9 40 30.6 68.1 48.1 104.7 5.6-10.8 34.7-69.4 48.1-100.8 8.9-20.6-3.9-28.6-38.6-29.4.3-3.6 0-10.3.3-13.6 44.4-.3 111.1-.3 123.1-.6v13.6c-22.5.8-45.8 12.8-58.1 31.7l-59.2 122.8c6.4 16.1 63.3 142.8 69.2 156.7L559.2 91.8c-8.6-23.1-36.4-28.1-47.2-28.3V49.6l127.8 1.1.2.5z\"/>\r\n            // </symbol>\r\n            // <symbol id=\"svg-link\" viewBox=\"0 0 512 512\">\r\n            //         <path d=\"M301.148 394.702l-79.2 79.19c-50.778 50.799-133.037 50.824-183.84 0-50.799-50.778-50.824-133.037 0-183.84l79.19-79.2a132.833 132.833 0 0 1 3.532-3.403c7.55-7.005 19.795-2.004 20.208 8.286.193 4.807.598 9.607 1.216 14.384.481 3.717-.746 7.447-3.397 10.096-16.48 16.469-75.142 75.128-75.3 75.286-36.738 36.759-36.731 96.188 0 132.94 36.759 36.738 96.188 36.731 132.94 0l79.2-79.2.36-.36c36.301-36.672 36.14-96.07-.37-132.58-8.214-8.214-17.577-14.58-27.585-19.109-4.566-2.066-7.426-6.667-7.134-11.67a62.197 62.197 0 0 1 2.826-15.259c2.103-6.601 9.531-9.961 15.919-7.28 15.073 6.324 29.187 15.62 41.435 27.868 50.688 50.689 50.679 133.17 0 183.851zm-90.296-93.554c12.248 12.248 26.362 21.544 41.435 27.868 6.388 2.68 13.816-.68 15.919-7.28a62.197 62.197 0 0 0 2.826-15.259c.292-5.003-2.569-9.604-7.134-11.67-10.008-4.528-19.371-10.894-27.585-19.109-36.51-36.51-36.671-95.908-.37-132.58l.36-.36 79.2-79.2c36.752-36.731 96.181-36.738 132.94 0 36.731 36.752 36.738 96.181 0 132.94-.157.157-58.819 58.817-75.3 75.286-2.651 2.65-3.878 6.379-3.397 10.096a163.156 163.156 0 0 1 1.216 14.384c.413 10.291 12.659 15.291 20.208 8.286a131.324 131.324 0 0 0 3.532-3.403l79.19-79.2c50.824-50.803 50.799-133.062 0-183.84-50.802-50.824-133.062-50.799-183.84 0l-79.2 79.19c-50.679 50.682-50.688 133.163 0 183.851z\"/>\r\n            // </symbol>\r\n            //     <symbol id=\"svg-external-link\" viewBox=\"0 0 448 512\">\r\n            //     <path d=\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm16 400c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V80c0-8.822 7.178-16 16-16h352c8.822 0 16 7.178 16 16v352zM99.515 374.828c-4.686-4.686-4.686-12.284 0-16.971l195.15-195.15-.707-.707-89.958.342c-6.627 0-12-5.373-12-12v-9.999c0-6.628 5.372-12 12-12L340 128c6.627 0 12 5.372 12 12l-.343 136c0 6.627-5.373 12-12 12h-9.999c-6.627 0-12-5.373-12-12l.342-89.958-.707-.707-195.15 195.15c-4.686 4.686-12.284 4.686-16.971 0l-5.657-5.657z\"/>\r\n            // </symbol>\r\n            // <symbol id=\"svg-external-link\" viewBox=\"0 0 512 512\">\r\n            //     <path d=\"M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-36 344h12V232h-12c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h48c6.627 0 12 5.373 12 12v140h12c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12h-72c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12zm36-240c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z\"/>\r\n            // </symbol>\r\n\r\n    let markup = svgIcons;\r\n\r\n    // Auto-populate the ALT_KEYS table\r\n    ALT_KEYS_BASE['foreground-color'] = [];\r\n    for (const color of Color.LINE_COLORS) {\r\n        ALT_KEYS_BASE['foreground-color'].push({\r\n            classes: 'small-button',\r\n            content: '<span style=\"border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid ' + color + '\"></span>',\r\n            command:'[\"applyStyle\",{\"color\":\"' + color + '\"}]'\r\n        });\r\n    }\r\n    ALT_KEYS_BASE['background-color'] = [];\r\n    for (const color of Color.AREA_COLORS) {\r\n        ALT_KEYS_BASE['background-color'].push({\r\n            classes: 'small-button',\r\n            content: '<span style=\"border-radius:50%;width:32px;height:32px; background:' + color + '\"></span>',\r\n            command:'[\"applyStyle\",{\"backgroundColor\":\"' + color + '\"}]'\r\n        });\r\n    }\r\n\r\n    // 合并ALT KEYS和默认值\r\n    ALT_KEYS = {...ALT_KEYS, ...ALT_KEYS_BASE};\r\n    Object.keys(ALT_KEYS).forEach(key => { ALT_KEYS[key] = ALT_KEYS[key].slice() });\r\n\r\n\r\n    const upperAlpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    const lowerAlpha = 'abcdefghijklmnopqrstuvwxyz';\r\n    const digits = '0123456789';\r\n    for (let i = 0; i < 26; i++) {\r\n        const key = upperAlpha[i];\r\n        if (!ALT_KEYS[key]) ALT_KEYS[key] = [];\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathbb{' + key + '}',\r\n                aside: 'blackboard',\r\n                insert: '\\\\mathbb{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathbf{' + key + '}',\r\n                aside: 'bold',\r\n                insert: '\\\\mathbf{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathsf{' + key + '}',\r\n                aside: 'sans',\r\n                insert: '\\\\mathsf{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathtt{' + key + '}',\r\n                aside: 'monospace',\r\n                insert: '\\\\mathtt{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathcal{' + key + '}',\r\n                aside: 'script',\r\n                insert: '\\\\mathcal{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathfrak{' + key + '}',\r\n                aside: 'fraktur',\r\n                insert: '\\\\mathfrak{' + key + '}'});\r\n\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathbb{' + lowerAlpha[i] + '}',\r\n                aside: 'blackboard',\r\n                insert: '\\\\mathbb{' + lowerAlpha[i] + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathbf{' + lowerAlpha[i] + '}',\r\n                aside: 'bold',\r\n                insert: '\\\\mathbf{' + lowerAlpha[i] + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathsf{' + lowerAlpha[i] + '}',\r\n                aside: 'sans',\r\n                insert: '\\\\mathsf{' + lowerAlpha[i] + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathcal{' + lowerAlpha[i] + '}',\r\n                aside: 'script',\r\n                insert: '\\\\mathcal{' + lowerAlpha[i] + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathfrak{' + lowerAlpha[i] + '}',\r\n                aside: 'fraktur',\r\n                insert: '\\\\mathfrak{' + lowerAlpha[i] + '}'});\r\n    }\r\n    for (let i = 0; i <= 26; i++) {\r\n        const key = lowerAlpha[i];\r\n        if (!ALT_KEYS[key]) ALT_KEYS[key] = [];\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathsf{' + key + '}',\r\n                aside: 'sans',\r\n                insert: '\\\\mathbb{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathbf{' + key + '}',\r\n                aside: 'bold',\r\n                insert: '\\\\mathbf{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathtt{' + key + '}',\r\n                aside: 'monospace',\r\n                insert: '\\\\mathtt{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathfrak{' + key + '}',\r\n                aside: 'fraktur',\r\n                insert: '\\\\mathfrak{' + key + '}'});\r\n    }\r\n    for (let i = 0; i < 10; i++) {\r\n        const key = digits[i];\r\n        if (!ALT_KEYS[key]) ALT_KEYS[key] = [];\r\n        // The mathbb font does not appear to include digits,\r\n        // although it's supposed to.\r\n        // ALT_KEYS[key].push({\r\n        //         latex: '\\\\underset{\\\\textsf{\\\\footnotesize blackboard}}{\\\\mathbb{' + key + '}}',\r\n        //         insert: '\\\\mathbb{' + key + '}}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathbf{' + key + '}',\r\n                aside: 'bold',\r\n                insert: '\\\\mathbf{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathsf{' + key + '}',\r\n                aside: 'sans',\r\n                insert: '\\\\mathsf{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathtt{' + key + '}',\r\n                aside: 'monospace',\r\n                insert: '\\\\mathtt{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathcal{' + key + '}',\r\n                aside: 'script',\r\n                insert: '\\\\mathcal{' + key + '}'});\r\n        ALT_KEYS[key].unshift({\r\n                latex: '\\\\mathfrak{' + key + '}',\r\n                aside: 'fraktur',\r\n                insert: '\\\\mathfrak{' + key + '}'});\r\n    }\r\n\r\n\r\n\r\n\r\n    let keyboardIDs = mf.config.virtualKeyboards;\r\n    if (!keyboardIDs) {\r\n        keyboardIDs = 'all';\r\n    }\r\n    keyboardIDs = keyboardIDs.replace(/\\ball\\b/i,\r\n        'numeric roman greek functions command')\r\n\r\n    const layers = Object.assign({}, LAYERS, mf.config.customVirtualKeyboardLayers || {});\r\n\r\n\r\n    const keyboards = Object.assign({}, KEYBOARDS, mf.config.customVirtualKeyboards || {});\r\n\r\n    const keyboardList = keyboardIDs.replace(/\\s+/g, ' ').split(' ');\r\n    for (const keyboard of keyboardList) {\r\n        if (!keyboards[keyboard]) {\r\n            console.error('Unknown virtual keyboard \"' + keyboard + '\"');\r\n            break;\r\n        }\r\n        // Add the default layer to the list of layers,\r\n        // and make sure the list of layers is uniquified.\r\n        let keyboardLayers = keyboards[keyboard].layers || [];\r\n        if (keyboards[keyboard].layer) {\r\n            keyboardLayers.push(keyboards[keyboard].layer);\r\n        }\r\n        keyboardLayers = Array.from(new Set(keyboardLayers));\r\n\r\n        for (const layer of keyboardLayers) {\r\n            if (!layers[layer]) {\r\n                console.error('Unknown virtual keyboard layer: \"' + layer + '\"');\r\n                break;\r\n            }\r\n\r\n            if (typeof layers[layer] === 'object') {\r\n                // Process JSON layer to web element based layer.\r\n\r\n                let tempLayer = ``;\r\n                if (layers[layer].styles) {\r\n                    tempLayer += `<style>${layers[layer].styles}</style>`\r\n                }\r\n\r\n                if (layers[layer].backdrop) {\r\n                    tempLayer += `<div class='${layers[layer].backdrop}'>`\r\n                }\r\n\r\n                if (layers[layer].container) {\r\n                    tempLayer += `<div class='${layers[layer].container}'>`\r\n                }\r\n\r\n                if (layers[layer].rows) {\r\n                    tempLayer += `<div class='rows'>`;\r\n                    for (const row of layers[layer].rows) {\r\n                        tempLayer += `<ul>`;\r\n                        for (const col of row) {\r\n                            tempLayer += `<li`;\r\n                            if (col.class) {\r\n                                tempLayer += ` class=\"${col.class}\"`;\r\n                            }\r\n                            if (col.key) {\r\n                                tempLayer += ` data-key=\"${col.key}\"`;\r\n                            }\r\n\r\n                            if (col.command) {\r\n                                if (typeof col.command === 'string') {\r\n                                    tempLayer += ` data-command='\"${col.command}\"'`;\r\n                                } else {\r\n                                    tempLayer += ` data-command='`;\r\n                                    tempLayer += JSON.stringify(col.command);\r\n                                    tempLayer += `'`;\r\n                                }\r\n                            }\r\n                            if (col.insert) {\r\n                                tempLayer += ` data-insert=\"${col.insert}\"`;\r\n                            }\r\n\r\n                            if (col.latex) {\r\n                                tempLayer += ` data-latex=\"${col.latex}\"`;\r\n                            }\r\n\r\n                            if (col.aside) {\r\n                                tempLayer += ` data-aside=\"${col.aside}\"`;\r\n                            }\r\n\r\n                            if (col.altKeys) {\r\n                                tempLayer += ` data-alt-keys=\"${col.altKeys}\"`;\r\n                            }\r\n\r\n                            if (col.shifted) {\r\n                                tempLayer += ` data-shifted=\"${col.shifted}\"`;\r\n                            }\r\n\r\n                            if (col.shiftedCommand) {\r\n                                tempLayer += ` data-shifted-command=\"${col.shiftedCommand}\"`;\r\n                            }\r\n\r\n                            tempLayer += `>${col.label ? col.label : ''}</li>`;\r\n                        }\r\n                        tempLayer += `</ul>`;\r\n                    }\r\n                    tempLayer += `</div>`;\r\n\r\n                    if (layers[layer].container) {\r\n                        tempLayer += `</div'>`\r\n                    }\r\n\r\n                    if (layers[layer].backdrop) {\r\n                        tempLayer += `</div'>`\r\n                    }\r\n                }\r\n                layers[layer] = tempLayer;\r\n            }\r\n\r\n            markup += `<div tabindex=\"-1\" class='keyboard-layer' data-layer='` + layer + `'>`;\r\n            markup += makeKeyboardToolbar(mf, keyboardIDs, keyboard);\r\n            const layerMarkup = typeof layers[layer] === 'function' ?\r\n                layers[layer]() : layers[layer];\r\n            // A layer can contain 'shortcuts' (i.e. <row> tags) that need to\r\n            // be expanded\r\n            markup += expandLayerMarkup(mf, layerMarkup);\r\n            markup += '</div>';\r\n        }\r\n    }\r\n\r\n    const result = document.createElement('div');\r\n    result.className = 'ML__keyboard';\r\n    if (theme) {\r\n        result.classList.add(theme);\r\n    } else if (mf.config.virtualKeyboardTheme) {\r\n        result.classList.add(mf.config.virtualKeyboardTheme);\r\n    } else if (/android|cros/i.test(navigator.userAgent)) {\r\n        result.classList.add('material');\r\n    }\r\n    result.innerHTML = markup;\r\n\r\n    // Attach the element handlers\r\n    makeKeycap(mf, result.querySelectorAll('.keycap, .action, .fnbutton, .bigfnbutton'));\r\n\r\n    const elList = result.getElementsByClassName('layer-switch');\r\n    for (let i = 0; i < elList.length; ++i) {\r\n        if (elList[i].classList.contains('shift')) {\r\n            // This is a potential press-and-hold layer switch\r\n            mf._attachButtonHandlers(elList[i], {\r\n                // When the modifier is initially pressed, we will shift the labels\r\n                // (if available)\r\n                pressed: ['shiftKeyboardLayer', 'shift'],\r\n\r\n                // If the key is released before a delay, we switch to the target layer\r\n                default: ['switchKeyboardLayer', elList[i].getAttribute('data-layer')],\r\n\r\n                // If the key is released after a longer delay, we restore the\r\n                // shifted labels\r\n                pressAndHoldEnd: 'unshiftKeyboardLayer',\r\n            });\r\n        } else {\r\n            // This is a simple layer switch\r\n            mf._attachButtonHandlers(elList[i], {\r\n                default: ['switchKeyboardLayer', elList[i].getAttribute('data-layer')]\r\n            });\r\n        }\r\n    }\r\n\r\n    // Select the first keyboard as the initial one.\r\n    const layerElements = result.getElementsByClassName('keyboard-layer');\r\n    Array.from(layerElements).forEach(x => {\r\n        x.addEventListener('mousedown', evt => {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        });\r\n        x.addEventListener('touchstart', evt => {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        });\r\n    });\r\n    layerElements[0].classList.add('is-visible');\r\n\r\n    // Listen to know when the mouse has been released without being\r\n    // captured to remove the alternate keys panel and the shifted state of the\r\n    // keyboard.\r\n    window.addEventListener('mouseup', function() {\r\n        mf.hideAlternateKeys_();\r\n        mf.unshiftKeyboardLayer_();\r\n    });\r\n    window.addEventListener('blur', function() {\r\n        mf.hideAlternateKeys_();\r\n        mf.unshiftKeyboardLayer_();\r\n    });\r\n    window.addEventListener('touchend', function() {\r\n        mf.hideAlternateKeys_();\r\n        mf.unshiftKeyboardLayer_();\r\n    });\r\n    window.addEventListener('touchcancel', function() {\r\n        mf.hideAlternateKeys_();\r\n        mf.unshiftKeyboardLayer_();\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\n\r\n\r\n\r\nexport default {\r\n    make,\r\n    makeKeycap\r\n}\r\n\r\n\r\n","const SPECIAL_IDENTIFIERS = {\r\n    '\\u2212':       '-',  // MINUS SIGN\r\n    '-':            '-',\r\n    '\\\\alpha':      'alpha',\r\n    '\\\\beta':       'beta',\r\n    '\\\\gamma':      'gamma',\r\n    '\\\\delta':      'delta',\r\n    '\\\\epsilon':    'epsilon',\r\n    '\\\\varepsilon': 'varepsilon',\r\n    '\\\\zeta':       'zeta',\r\n    '\\\\eta':        'eta',\r\n    '\\\\theta':      'theta',\r\n    '\\\\vartheta':   'vartheta',\r\n    '\\\\iota':       'iota',\r\n    '\\\\kappa':      'kappa',\r\n    '\\\\lambda':     'lambda',\r\n    '\\\\mu':         'mu',\r\n    '\\\\nu':         'nu',\r\n    '\\\\xi':         'xi',\r\n    '\\\\pi':         'pi',\r\n    '\\\\rho':        'rho',\r\n    '\\\\sigma':      'sigma',\r\n    '\\\\tau':        'tau',\r\n    '\\\\upsilon':    'upsilon',\r\n    '\\\\phi':        'phi',\r\n    '\\\\varphi':     'varphi',\r\n    '\\\\chi':        'chi',\r\n    '\\\\psi':        'psi',\r\n    '\\\\omega':      'omega',\r\n    '\\\\Gamma':      'Gamma',\r\n    '\\\\Delta':      'Delta',\r\n    '\\\\Theta':      'Theta',\r\n    '\\\\Lambda':     'Lambda',\r\n    '\\\\Xi':         'Xi',\r\n    '\\\\Pi':         'Pi',\r\n    '\\\\Sigma':      'Sigma',\r\n    '\\\\Phi':        'Phi',\r\n    '\\\\Psi':        'Psi',\r\n    '\\\\Omega':      'Omega',\r\n};\r\n\r\nconst SPECIAL_OPERATORS = {\r\n    '\\\\pm': '+-',\r\n    '\\\\times': 'xx',\r\n    '\\\\colon': ':',\r\n    '\\\\vert': '|',\r\n    '\\\\Vert': '||',\r\n    '\\\\mid': '|',\r\n    '\\\\lbrace': '{',\r\n    '\\\\rbrace': '}',\r\n    '\\\\langle': '(:',\r\n    '\\\\rangle': ':)',\r\n    // '\\\\lfloor': '\\u230a',\r\n    // '\\\\rfloor': '\\u230b',\r\n    // '\\\\lceil': '\\u2308',\r\n    // '\\\\rceil': '\\u2309',\r\n\r\n    // '\\\\vec': '&#x20d7;',\r\n    // '\\\\acute': '&#x00b4;',\r\n    // '\\\\grave': '&#x0060;',\r\n    // '\\\\dot': '&#x02d9;',\r\n    // '\\\\ddot': '&#x00a8;',\r\n    // '\\\\tilde': '&#x007e;',\r\n    // '\\\\bar': '&#x00af;',\r\n    // '\\\\breve': '&#x02d8;',\r\n    // '\\\\check': '&#x02c7;',\r\n    // '\\\\hat': '&#x005e;'\r\n};\r\n\r\nexport function toASCIIMath(atom, options){\r\n    if (!atom) return '';\r\n    if (Array.isArray(atom)) {\r\n        let result = '';\r\n        if (atom.length === 0) return '';\r\n        if (atom[0].type === 'first') atom.shift();\r\n        if (atom[0].mode === 'text') {\r\n            // Text mode... put it in (ASCII) quotes\r\n            let i = 0;\r\n            result = '\"';\r\n            while (atom[i] && atom[i].mode === 'text') {\r\n                result += atom[i].body;\r\n                i++;\r\n            }\r\n            result += '\"' + toASCIIMath(atom.slice(i), options);\r\n        } else {\r\n            let i = 0;\r\n            while (atom[i] && atom[i].mode === 'math') {\r\n                result += toASCIIMath(atom[i], options);\r\n                i++;\r\n            }\r\n            result += toASCIIMath(atom.slice(i), options);\r\n        }\r\n        return result.trim();\r\n    }\r\n\r\n    let result = '';\r\n    const command = atom.latex ? atom.latex.trim() : null;\r\n    let m;\r\n\r\n    switch(atom.type) {\r\n        case 'group':\r\n        case 'root':\r\n            result = toASCIIMath(atom.body, options);\r\n            break;\r\n\r\n        case 'array':\r\n            break;\r\n\r\n        case 'genfrac':\r\n            if (atom.leftDelim || atom.rightDelim) {\r\n                result += (atom.leftDelim === '.' || !atom.leftDelim) ? '{:' : atom.leftDelim;\r\n            }\r\n            if (atom.hasBarLine) {\r\n                result += '(';\r\n                result += toASCIIMath(atom.numer, options);\r\n                result += ')/(';\r\n                result += toASCIIMath(atom.denom, options);\r\n                result += ')';\r\n            } else {\r\n                // No bar line, i.e. \\choose, etc...\r\n                result += '(' + toASCIIMath(atom.numer, options) + '),';\r\n                result += '(' + toASCIIMath(atom.denom, options) + ')';\r\n            }\r\n            if (atom.leftDelim || atom.rightDelim) {\r\n                result += (atom.rightDelim === '.' || !atom.rightDelim) ? '{:' : atom.rightDelim;\r\n            }\r\n        break;\r\n\r\n        case 'surd':\r\n            if (atom.index) {\r\n                result += 'root(' + toASCIIMath(atom.index, options) + ')(' +\r\n                     toASCIIMath(atom.body, options) + ')';\r\n            } else {\r\n                result += 'sqrt(' + toASCIIMath(atom.body, options) + ')';\r\n            }\r\n            break;\r\n\r\n        case 'leftright':\r\n            result += (atom.leftDelim === '.' || !atom.leftDelim) ? '{:' : atom.leftDelim;\r\n            result += toASCIIMath(atom.body, options);\r\n            result += (atom.rightDelim === '.' || !atom.rightDelim) ? '{:' : atom.rightDelim;\r\n            break;\r\n\r\n        case 'sizeddelim':\r\n        case 'delim':\r\n            // result += '<mo separator=\"true\"' + makeID(atom.id, options) + '>' + (SPECIAL_OPERATORS[atom.delim] || atom.delim) + '</mo>';\r\n            break;\r\n\r\n\r\n        case 'accent':\r\n            break;\r\n\r\n        case 'line':\r\n        case 'overlap':\r\n            break;\r\n\r\n        case 'overunder':\r\n\r\n            break;\r\n\r\n        case 'mord':\r\n            // @todo, deal with some special identifiers: \\alpha, etc...\r\n            result = SPECIAL_IDENTIFIERS[command] || command ||\r\n                (typeof atom.body === 'string' ? atom.body : '');\r\n            if (result[0] === '\\\\') result += '';\r\n            m = command ? command.match(/[{]?\\\\char\"([0-9abcdefABCDEF]*)[}]?/) : null;\r\n            if (m) {\r\n                // It's a \\char command\r\n                result = String.fromCharCode(parseInt('0x' + m[1]))\r\n            } else if (result.length > 0 && result.charAt(0) === '\\\\') {\r\n                // atom is an identifier with no special handling. Use the\r\n                // Unicode value\r\n                if (typeof atom.body === 'string') {\r\n                    result = atom.body.charAt(0);\r\n                } else {\r\n                    result = atom.latex;\r\n                }\r\n            }\r\n            // result = '<mi' + variant + makeID(atom.id, options) + '>' + xmlEscape(result) + '</mi>';\r\n            break;\r\n\r\n        case 'mbin':\r\n        case 'mrel':\r\n        case 'textord':\r\n        case 'minner':\r\n            if (command && SPECIAL_IDENTIFIERS[command]) {\r\n                // Some 'textord' are actually identifiers. Check them here.\r\n                result = SPECIAL_IDENTIFIERS[command];\r\n            } else if (command && SPECIAL_OPERATORS[command]) {\r\n                result = SPECIAL_OPERATORS[command];\r\n            } else {\r\n                result = atom.body;\r\n            }\r\n            break;\r\n\r\n        case 'mopen':\r\n        case 'mclose':\r\n            result += atom.body;\r\n            break;\r\n\r\n        case 'mpunct':\r\n            result = SPECIAL_OPERATORS[command] || command;\r\n            break;\r\n\r\n        case 'mop':\r\n            if (atom.body !== '\\u200b') {\r\n                // Not ZERO-WIDTH\r\n                result = '';\r\n                if (command === '\\\\operatorname') {\r\n                    result += atom.body;\r\n                } else {\r\n                    result += atom.body || command;\r\n                }\r\n                result += ' ';\r\n            }\r\n            break;\r\n\r\n        case 'mathstyle':\r\n            break;\r\n\r\n        case 'box':\r\n            break;\r\n\r\n        case 'spacing':\r\n            break;\r\n\r\n        case 'enclose':\r\n            break;\r\n\r\n        case 'space':\r\n            result = ' '\r\n            break;\r\n\r\n    }\r\n    // Subscripts before superscripts (according to the ASCIIMath spec)\r\n    if (atom.subscript) {\r\n        result += '_';\r\n        const arg = toASCIIMath(atom.subscript, options);\r\n        if (arg.length > 1 && !/^(-)?\\d+(\\.\\d*)?$/.test(arg)) {\r\n            result += '(' + arg + ')'\r\n        } else {\r\n            result += arg;\r\n        }\r\n    }\r\n\r\n    if (atom.superscript) {\r\n        result += '^';\r\n        const arg = toASCIIMath(atom.superscript, options);\r\n        if (arg.length > 1 && !/^(-)?\\d+(\\.\\d*)?$/.test(arg)) {\r\n            result += '(' + arg + ')'\r\n        } else {\r\n            result += arg;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport default {\r\n    toASCIIMath\r\n}","/**\r\n *\r\n * This module outputs a formula to MathML.\r\n *\r\n * To use it, use the {@linkcode MathAtom#toMathML MathAtom.toMathML()}  method.\r\n *\r\n * @module addons/outputMathML\r\n * @private\r\n */\r\n\r\nimport MathAtom from '../core/mathAtom.js';\r\nimport Color from '../core/color.js';\r\n\r\n\r\nconst SPECIAL_OPERATORS = {\r\n    '\\\\pm': '&PlusMinus;',\r\n    '\\\\times': '&times;',\r\n    '\\\\colon': ':',\r\n    '\\\\vert': '|',\r\n    '\\\\Vert': '\\u2225',\r\n    '\\\\mid': '\\u2223',\r\n    '\\\\lbrace': '{',\r\n    '\\\\rbrace': '}',\r\n    '\\\\langle': '\\u27e8',\r\n    '\\\\rangle': '\\u27e9',\r\n    '\\\\lfloor': '\\u230a',\r\n    '\\\\rfloor': '\\u230b',\r\n    '\\\\lceil': '\\u2308',\r\n    '\\\\rceil': '\\u2309',\r\n\r\n    '\\\\vec': '&#x20d7;',\r\n    '\\\\acute': '&#x00b4;',\r\n    '\\\\grave': '&#x0060;',\r\n    '\\\\dot': '&#x02d9;',\r\n    '\\\\ddot': '&#x00a8;',\r\n    '\\\\tilde': '&#x007e;',\r\n    '\\\\bar': '&#x00af;',\r\n    '\\\\breve': '&#x02d8;',\r\n    '\\\\check': '&#x02c7;',\r\n    '\\\\hat': '&#x005e;'\r\n};\r\n\r\n\r\nfunction xmlEscape(str) {\r\n    return str\r\n        // .replace(/&/g, '&amp;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&#39;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;');\r\n}\r\n\r\nfunction makeID(id, options) {\r\n    if (!id || !options.generateID) return '';\r\n    // Note: the 'extid' attribute is recognized by SRE as an attribute\r\n    // to be passed to SSML as a <mark> tag.\r\n    return ' extid=\"' + id + '\"';\r\n}\r\n\r\n\r\nfunction scanIdentifier(stream, final, options) {\r\n    let result = false;\r\n    final = final || stream.atoms.length;\r\n    let mathML = '';\r\n    let body = '';\r\n    let superscript = -1;\r\n    let subscript = -1;\r\n    const atom = stream.atoms[stream.index];\r\n\r\n    if (stream.index < final &&\r\n        (atom.type === 'mord' || atom.type === 'textord') &&\r\n        '0123456789,.'.indexOf(atom.body) < 0) {\r\n        body = atom.toMathML(options);\r\n        if (atom.superscript) {\r\n            superscript = stream.index;\r\n        }\r\n        if (atom.subscript) {\r\n            subscript = stream.index;\r\n        }\r\n        stream.index += 1;\r\n    }\r\n\r\n    if (body.length > 0) {\r\n        result = true;\r\n\r\n        // If there are separate atoms for sub/sup, record them\r\n        if (isSuperscriptAtom(stream)) {\r\n            superscript = stream.index;\r\n            stream.index += 1;\r\n        }\r\n        if (isSubscriptAtom(stream)) {\r\n            subscript = stream.index;\r\n            stream.index += 1;\r\n        }\r\n\r\n        if (superscript >= 0 && subscript >= 0) {\r\n            mathML = '<msubsup>' + body;\r\n            mathML += toMathML(stream.atoms[subscript].subscript, 0, 0, options).mathML;\r\n            mathML += toMathML(stream.atoms[superscript].superscript, 0, 0, options).mathML;\r\n            mathML += '</msubsup>';\r\n        } else if (superscript >= 0) {\r\n            mathML = '<msup>' + body;\r\n            if (isSuperscriptAtom(stream)) {\r\n                // There's another superscript after this one. Maybe double-prime?\r\n                const sup = toMathML(stream.atoms[superscript].superscript, 0, 0, options).mathML;\r\n\r\n                const sup2 = toMathML(stream.atoms[superscript + 1].superscript, 0, 0, options).mathML;\r\n                if ((sup === '<mi>\\u2032</mi>' || sup === '<mi>&#x2032;</mi>') &&\r\n                    (sup2 === '<mi>\\u2032</mi>' || sup2 === '<mi>&#x2032;</mi>')) {\r\n                    mathML += '<mi>&#x2033;</mi>';\r\n                } else if (sup === '<mi>\\u2032</mi>' || sup === '<mi>&#x2032;</mi>') {\r\n                    mathML += '<mi>&#x2032;</mi>';\r\n                } else {\r\n                    mathML += sup;\r\n                }\r\n\r\n            } else {\r\n                mathML += toMathML(stream.atoms[superscript].superscript, 0, 0, options).mathML;\r\n            }\r\n            mathML += '</msup>';\r\n        } else if (subscript >= 0) {\r\n            mathML = '<msub>' + body;\r\n            mathML += toMathML(stream.atoms[subscript].subscript, 0, 0, options).mathML;\r\n            mathML += '</msub>';\r\n        } else {\r\n            mathML = body;\r\n        }\r\n\r\n        if ((stream.lastType === 'mi' ||\r\n            stream.lastType === 'mn' ||\r\n            stream.lastType === 'mtext' ||\r\n            stream.lastType === 'fence') &&\r\n            !/^<mo>(.*)<\\/mo>$/.test(mathML)) {\r\n            mathML = '<mo>&InvisibleTimes;</mo>' + mathML;\r\n        }\r\n\r\n        if (body.endsWith('>f</mi>') || body.endsWith('>g</mi>')) {\r\n            mathML += '<mo> &ApplyFunction; </mo>';\r\n            stream.lastType = 'applyfunction';\r\n        } else {\r\n            stream.lastType = /^<mo>(.*)<\\/mo>$/.test(mathML) ? 'mo' : 'mi';\r\n        }\r\n\r\n        stream.mathML += mathML;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Return true if the current atom is a standalone superscript atom\r\n * i.e. an atom with no content, except of a superscript.\r\n * Superscripts can be encoded either as an attribute on the last atom\r\n * or as a standalone, empty, atom following the one to which it applies.\r\n * @param {object} stream\r\n * @private\r\n */\r\nfunction isSuperscriptAtom(stream) {\r\n    return stream.index < stream.atoms.length &&\r\n        stream.atoms[stream.index].superscript &&\r\n        stream.atoms[stream.index].type === 'msubsup'\r\n}\r\n\r\n\r\n\r\nfunction isSubscriptAtom(stream) {\r\n    return stream.index < stream.atoms.length &&\r\n        stream.atoms[stream.index].subscript &&\r\n        stream.atoms[stream.index].type === 'msubsup'\r\n}\r\n\r\n\r\n\r\nfunction indexOfSuperscriptInNumber(stream) {\r\n\r\n    let result = -1;\r\n    let i = stream.index;\r\n    let done = false;\r\n    let found = false;\r\n    while (i < stream.atoms.length && !done && !found) {\r\n        done = stream.atoms[i].type !== 'mord' ||\r\n            '0123456789,.'.indexOf(stream.atoms[i].body) < 0;\r\n        found = !done && stream.atoms[i].superscript;\r\n        i++\r\n    }\r\n\r\n    if (found) {\r\n        result = i - 1;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n\r\nfunction parseSubsup(base, stream, options) {\r\n    let result = false;\r\n    let mathML = '';\r\n    let atom = stream.atoms[stream.index - 1];\r\n\r\n    if (!atom) return false;\r\n\r\n    if (!atom.superscript && !atom.subscript) {\r\n        if (isSuperscriptAtom(stream) || isSubscriptAtom(stream)) {\r\n            atom = stream.atoms[stream.index];\r\n            stream.index += 1;\r\n        }\r\n    }\r\n    if (!atom) return false;\r\n\r\n    if (atom.superscript && atom.subscript) {\r\n        mathML = '<msubsup>' + base;\r\n        mathML += toMathML(atom.subscript, 0, 0, options).mathML;\r\n        mathML += toMathML(atom.superscript, 0, 0, options).mathML;\r\n        mathML += '</msubsup>';\r\n    } else if (atom.superscript) {\r\n        mathML = '<msup>' + base;\r\n        mathML += toMathML(atom.superscript, 0, 0, options).mathML;\r\n        mathML += '</msup>';\r\n    } else if (atom.subscript) {\r\n        mathML = '<msub>' + base;\r\n        mathML += toMathML(atom.subscript, 0, 0, options).mathML;\r\n        mathML += '</msub>';\r\n    }\r\n\r\n    if (mathML.length > 0) {\r\n        result = true;\r\n        stream.mathML += mathML;\r\n        stream.lastType = '';\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nfunction scanText(stream, final, options) {\r\n    let result = false;\r\n    final = final || stream.atoms.length;\r\n    const initial = stream.index;\r\n    let mathML = '';\r\n    while (stream.index < final &&\r\n           stream.atoms[stream.index].mode === 'text'\r\n        ) {\r\n        mathML += stream.atoms[stream.index].body ? stream.atoms[stream.index].body : ' ';\r\n        stream.index += 1;\r\n    }\r\n\r\n    if (mathML.length > 0) {\r\n        result = true;\r\n        mathML = '<mtext' + makeID(stream.atoms[initial].id, options) + '>' + mathML + '</mtext>';\r\n\r\n        stream.mathML += mathML;\r\n        stream.lastType = 'mtext';\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction scanNumber(stream, final, options) {\r\n    let result = false;\r\n    final = final || stream.atoms.length;\r\n    const initial = stream.index;\r\n    let mathML = '';\r\n\r\n    let superscript = indexOfSuperscriptInNumber(stream);\r\n    if (superscript >= 0 && superscript < final) {\r\n        final = superscript;\r\n    }\r\n\r\n    while (stream.index < final &&\r\n        stream.atoms[stream.index].type === 'mord' &&\r\n        '0123456789,.'.indexOf(stream.atoms[stream.index].body) >= 0\r\n    ) {\r\n        mathML += stream.atoms[stream.index].body;\r\n        stream.index += 1;\r\n    }\r\n\r\n\r\n    if (mathML.length > 0) {\r\n        result = true;\r\n        mathML = '<mn' + makeID(stream.atoms[initial].id, options) + '>' + mathML + '</mn>';\r\n\r\n        if (superscript < 0 && isSuperscriptAtom(stream)) {\r\n            superscript = stream.index;\r\n            stream.index += 1;\r\n        }\r\n\r\n        if (superscript >= 0) {\r\n            mathML = '<msup>' + mathML;\r\n            mathML += toMathML(stream.atoms[superscript].superscript, 0, 0, options).mathML;\r\n            mathML += '</msup>';\r\n        }\r\n\r\n        stream.mathML += mathML;\r\n        stream.lastType = 'mn';\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction scanFence(stream, final, options) {\r\n    let result = false;\r\n    final = final || stream.atoms.length;\r\n    let mathML = '';\r\n    let lastType = '';\r\n\r\n    if (stream.index < final &&\r\n            stream.atoms[stream.index].type === 'mopen') {\r\n        let found = false;\r\n        let depth = 0;\r\n        const openIndex = stream.index;\r\n        let closeIndex = -1;\r\n        let index = openIndex + 1;\r\n        while (index < final && !found) {\r\n            if (stream.atoms[index].type === 'mopen') {\r\n                depth += 1;\r\n            } else if (stream.atoms[index].type === 'mclose') {\r\n                depth -= 1;\r\n            }\r\n            if (depth === -1) {\r\n                found = true;\r\n                closeIndex = index;\r\n            }\r\n            index += 1;\r\n        }\r\n        if (found) {\r\n            // TODO: could add attribute indicating it's a fence (fence=true)\r\n            mathML = '<mrow>';\r\n            mathML += toMo(stream.atoms[openIndex], options);\r\n\r\n            mathML += toMathML(stream.atoms, openIndex + 1, closeIndex, options).mathML;\r\n\r\n            // TODO: could add attribute indicating it's a fence (fence=true)\r\n            mathML += toMo(stream.atoms[closeIndex], options);\r\n            mathML += '</mrow>';\r\n\r\n            if (stream.lastType === 'mi' ||\r\n                stream.lastType === 'mn' ||\r\n                stream.lastType === 'mfrac' ||\r\n                stream.lastType === 'fence') {\r\n                mathML = '<mo>&InvisibleTimes;</mo>' + mathML;\r\n            }\r\n            stream.index = closeIndex + 1;\r\n\r\n            if (parseSubsup(mathML, stream, options)) {\r\n                result = true;\r\n                stream.lastType = '';\r\n                mathML = '';\r\n            }\r\n\r\n            lastType = 'fence';\r\n        }\r\n    }\r\n\r\n    if (mathML.length > 0) {\r\n        result = true;\r\n        stream.mathML += mathML;\r\n        stream.lastType = lastType;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction scanOperator(stream, final, options) {\r\n    let result = false;\r\n    final = final || stream.atoms.length;\r\n    let mathML = '';\r\n    let lastType = '';\r\n    const atom = stream.atoms[stream.index];\r\n\r\n    if (stream.index < final && (\r\n        atom.type === 'mbin' || atom.type === 'mrel')) {\r\n        mathML += stream.atoms[stream.index].toMathML(options);\r\n        stream.index += 1;\r\n        lastType = 'mo';\r\n    } else if (stream.index < final && atom.type === 'mop') {\r\n        // mathML += '<mrow>';\r\n\r\n        if ((atom.limits === 'limits') && (atom.superscript || atom.subscript)) {\r\n            // Operator with limits, e.g. \\sum\r\n            const op = toMo(atom, options);\r\n            if (atom.superscript && atom.subscript) {\r\n                // Both superscript and subscript\r\n                mathML += (atom.limits !== 'nolimits' ? '<munderover>' : '<msubsup>') + op;\r\n                mathML += toMathML(atom.subscript, 0, 0, options).mathML;\r\n                mathML += toMathML(atom.superscript, 0, 0, options).mathML;\r\n                mathML += (atom.limits !== 'nolimits' ? '</munderover>' : '</msubsup>');\r\n            } else if (atom.superscript) {\r\n                // Superscript only\r\n                mathML += (atom.limits !== 'nolimits' ? '<mover>' : '<msup>') + op;\r\n                mathML += toMathML(atom.superscript, 0, 0, options).mathML;\r\n                mathML += (atom.limits !== 'nolimits' ? '</mover>' : '</msup>');\r\n            } else {\r\n                // Subscript only\r\n                mathML += (atom.limits !== 'nolimits' ? '<munder>' : '<msub>') + op;\r\n                mathML += toMathML(atom.subscript, 0, 0, options).mathML;\r\n                mathML += (atom.limits !== 'nolimits' ? '</munder>' : '</msub>');\r\n            }\r\n            lastType = 'mo';\r\n\r\n        } else {\r\n            const atom = stream.atoms[stream.index];\r\n            const isUnit = atom.latex.indexOf('\\\\operatorname') === 0;\r\n            const op = isUnit ?\r\n                '<mi class=\"MathML-Unit\"' + makeID(atom.id, options) + '>' + toString(atom.body) + '</mi>' :\r\n                toMo(atom, options);\r\n            mathML += op;\r\n            stream.index += 1;\r\n            if (parseSubsup(mathML, stream, options)) {\r\n                result = true;\r\n                stream.lastType = '';\r\n                mathML = '';\r\n            }\r\n            stream.index -= 1;\r\n            if (!isUnit && !/^<mo>(.*)<\\/mo>$/.test(op)) {\r\n                mathML += '<mo>&#x2061;</mo>';      // APPLY FUNCTION\r\n                // mathML += scanArgument(stream);\r\n                lastType = 'applyfunction';\r\n            } else {\r\n                lastType = isUnit ? 'mi' : 'mo';\r\n            }\r\n        }\r\n        // mathML += '</mrow>';\r\n\r\n        if ((stream.lastType === 'mi' || stream.lastType === 'mn') &&\r\n            !/^<mo>(.*)<\\/mo>$/.test(mathML)) {\r\n            mathML = '<mo>&InvisibleTimes;</mo>' + mathML;\r\n        }\r\n        stream.index += 1;\r\n    }\r\n\r\n    if (mathML.length > 0) {\r\n        result = true;\r\n        stream.mathML += mathML;\r\n        stream.lastType = lastType;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Given an atom or an array of atoms, return their MathML representation as\r\n * a string.\r\n * @return {string}\r\n * @param {string|MathAtom|MathAtom[]} input\r\n * @param {number} initial index of the input to start conversion from\r\n * @param {number} final last index of the input to stop conversion to\r\n * @private\r\n */\r\nfunction toMathML(input, initial, final, options) {\r\n    const result = {\r\n        atoms: input,\r\n        index: initial || 0,\r\n        mathML: '',\r\n        lastType: ''\r\n    };\r\n    final = final || (input ? input.length : 0);\r\n\r\n    if (typeof input === 'number' || typeof input === 'boolean') {\r\n        result.mathML = input.toString();\r\n    } else if (typeof input === 'string') {\r\n        result.mathML = input;\r\n    } else if (input && typeof input.toMathML === 'function') {\r\n        result.mathML = input.toMathML(options);\r\n    } else if (Array.isArray(input)) {\r\n        let count = 0;\r\n\r\n        while (result.index < final) {\r\n            if (scanText(result, final, options) ||\r\n                scanNumber(result, final, options) ||\r\n                scanIdentifier(result, final, options) ||\r\n                scanOperator(result, final, options) ||\r\n                scanFence(result, final, options)) {\r\n                    count += 1;\r\n            } else if (result.index < final) {\r\n                let mathML = result.atoms[result.index].toMathML(options);\r\n                if (result.lastType === 'mn' && mathML.length > 0 &&\r\n                        result.atoms[result.index].type === 'genfrac') {\r\n                    // If this is a fraction preceded by a number (e.g. 2 1/2),\r\n                    // add an \"invisible plus\" (U+0264) character in front of it\r\n                    mathML = '<mo>&#x2064;</mo>' + mathML;\r\n                }\r\n                if (result.atoms[result.index].type === 'genfrac') {\r\n                    result.lastType = 'mfrac';\r\n                } else {\r\n                    result.lastType = '';\r\n                }\r\n                if (mathML.length > 0) {\r\n                    result.mathML += mathML;\r\n                    count += 1;\r\n                }\r\n                result.index += 1;\r\n            }\r\n        }\r\n\r\n        // If there are more than a single element, wrap them in a mrow tag.\r\n        if (count > 1) {\r\n            result.mathML = '<mrow>' + result.mathML + '</mrow>';\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction toMo(atom, options) {\r\n    let result = '';\r\n    const body = toString(atom.body);\r\n    if (body) {\r\n        result = '<mo' + makeID(atom.id, options) + '>' + body + '</mo>';\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction toString(atoms) {\r\n    if (!atoms) return '';\r\n    if (typeof atoms === 'string') return xmlEscape(atoms);\r\n    if (!Array.isArray(atoms) && typeof atoms.body === 'string') {\r\n        return xmlEscape(atoms.body);\r\n    }\r\n    let result = '';\r\n    for (const atom of atoms) {\r\n        if (typeof atom.body === 'string') {\r\n            result += atom.body;\r\n        }\r\n    }\r\n    return xmlEscape(result);\r\n}\r\n\r\n\r\n/**\r\n * Return a MathML fragment representation of a single atom\r\n *\r\n * @return {string}\r\n * @private\r\n */\r\nMathAtom.MathAtom.prototype.toMathML = function(options) {\r\n    const SPECIAL_IDENTIFIERS = {\r\n        '\\\\exponentialE': '&#x02147;',\r\n        '\\\\imaginaryI': '&#x2148;',\r\n        '\\\\differentialD': '&#x2146;',\r\n        '\\\\capitalDifferentialD': '&#x2145;',\r\n        '\\\\alpha': '&#x03b1;',\r\n        '\\\\pi': '&#x03c0;',\r\n        '\\\\infty' : '&#x221e;',\r\n        '\\\\forall' : '&#x2200;',\r\n        '\\\\nexists': '&#x2204;',\r\n        '\\\\exists': '&#x2203;',\r\n        '\\\\hbar': '\\u210f',\r\n        '\\\\cdotp': '\\u22c5',\r\n        '\\\\ldots': '\\u2026',\r\n        '\\\\cdots': '\\u22ef',\r\n        '\\\\ddots': '\\u22f1',\r\n        '\\\\vdots': '\\u22ee',\r\n        '\\\\ldotp': '\\u002e',\r\n                // TODO: include all the 'textord' that are identifiers, not operators.\r\n    };\r\n\r\n    const MATH_VARIANTS = {\r\n        'cal': 'script',\r\n        'frak': 'fraktur',\r\n        'bb': 'double-struck',\r\n        'scr': 'script',\r\n        'cmtt': 'monospace',\r\n        'cmss': 'sans-serif'\r\n    };\r\n    const SPACING = {\r\n        '\\\\!':          -3 / 18,\r\n        '\\\\ ':          6 / 18,\r\n        '\\\\,':          3 / 18,\r\n        '\\\\:':          4 / 18,\r\n        '\\\\;':          5 / 18,\r\n        '\\\\enspace':    .5,\r\n        '\\\\quad':       1,\r\n        '\\\\qquad':      2,\r\n        '\\\\enskip':    .5,\r\n    };\r\n\r\n    let result = '';\r\n    let sep = '';\r\n    let col, row, i;\r\n    let underscript, overscript, body;\r\n    let variant = MATH_VARIANTS[this.fontFamily || this.font] || '';\r\n    if (variant) {\r\n        variant = ' mathvariant=\"' + variant + '\"';\r\n    }\r\n\r\n    const command = this.latex ? this.latex.trim() : null;\r\n    if (this.mode === 'text') {\r\n        result = '<mi' + makeID(this.id, options) + '>' + this.body + '</mi>';\r\n    } else {\r\n        switch(this.type) {\r\n            case 'first':\r\n                break;  // nothing to do\r\n            case 'group':\r\n            case 'root':\r\n                result = toMathML(this.body, 0, 0, options).mathML;\r\n                break;\r\n    \r\n            case 'array':\r\n                if ((this.lFence && this.lFence !== '.') ||\r\n                    (this.rFence && this.rFence !== '.')) {\r\n                    result += '<mrow>';\r\n                    if ((this.lFence && this.lFence !== '.')) {\r\n                        result += '<mo>' + (SPECIAL_OPERATORS[this.lFence] || this.lFence) + '</mo>';\r\n                    }\r\n                }\r\n                result += '<mtable';\r\n                if (this.colFormat) {\r\n                    result += ' columnalign=\"';\r\n                    for (i = 0; i < this.colFormat.length; i++) {\r\n                        if (this.colFormat[i].align) {\r\n                            result += {l:'left', c:'center', r:'right'}[this.colFormat[i].align] + ' ';\r\n                        }\r\n                    }\r\n                    result += '\"';\r\n                }\r\n    \r\n                result += '>';\r\n                for (row = 0; row < this.array.length; row++) {\r\n                    result += '<mtr>';\r\n                    for (col = 0; col < this.array[row].length; col++) {\r\n                        result += '<mtd>' + toMathML(this.array[row][col], 0, 0, options).mathML + '</mtd>';\r\n                    }\r\n                    result += '</mtr>';\r\n                }\r\n    \r\n                result += '</mtable>';\r\n    \r\n                if ((this.lFence && this.lFence !== '.') ||\r\n                    (this.rFence && this.rFence !== '.')) {\r\n                    if ((this.rFence && this.rFence !== '.')) {\r\n                        result += '<mo>' + (SPECIAL_OPERATORS[this.lFence] || this.rFence) + '</mo>';\r\n                    }\r\n                    result += '</mrow>';\r\n                }\r\n                break;\r\n    \r\n            case 'genfrac':\r\n                if (this.leftDelim || this.rightDelim) {\r\n                    result += '<mrow>';\r\n                }\r\n                if (this.leftDelim && this.leftDelim !== '.') {\r\n                    result += '<mo' + makeID(this.id, options) + '>' + (SPECIAL_OPERATORS[this.leftDelim] || this.leftDelim) + '</mo>';\r\n                }\r\n                if (this.hasBarLine) {\r\n                    result += '<mfrac>';\r\n                    result += toMathML(this.numer, 0, 0, options).mathML || '<mi>&nbsp;</mi>';\r\n                    result += toMathML(this.denom, 0, 0, options).mathML || '<mi>&nbsp;</mi>';\r\n                    result += '</mfrac>';\r\n                } else {\r\n                    // No bar line, i.e. \\choose, etc...\r\n                    result += '<mtable' + makeID(this.id, options) + '>';\r\n                    result += '<mtr>' + toMathML(this.numer, 0, 0, options).mathML + '</mtr>';\r\n                    result += '<mtr>' + toMathML(this.denom, 0, 0, options).mathML + '</mtr>';\r\n                    result += '</mtable>';\r\n                }\r\n                if (this.rightDelim && this.rightDelim !== '.') {\r\n                    result += '<mo' + makeID(this.id, options) + '>' + (SPECIAL_OPERATORS[this.rightDelim] || this.rightDelim) + '</mo>';\r\n                }\r\n                if (this.leftDelim || this.rightDelim) {\r\n                    result += '</mrow>';\r\n                }\r\n            break;\r\n    \r\n            case 'surd':\r\n                if (this.index) {\r\n                    result += '<mroot' + makeID(this.id, options) + '>';\r\n                    result += toMathML(this.body, 0, 0, options).mathML;\r\n                    result += toMathML(this.index, 0, 0, options).mathML;\r\n                    result += '</mroot>';\r\n                } else {\r\n                    result += '<msqrt' + makeID(this.id, options) + '>';\r\n                    result += toMathML(this.body, 0, 0, options).mathML;\r\n                    result += '</msqrt>';\r\n                }\r\n                break;\r\n    \r\n            case 'leftright':\r\n                // TODO: could add fence=true attribute\r\n                result = '<mrow>';\r\n                if (this.leftDelim && this.leftDelim !== '.') {\r\n                    result += '<mo' + makeID(this.id, options) + '>' + (SPECIAL_OPERATORS[this.leftDelim] || this.leftDelim) + '</mo>';\r\n                }\r\n                if (this.body) result += toMathML(this.body, 0, 0, options).mathML;\r\n                if (this.rightDelim && this.rightDelim !== '.') {\r\n                    result += '<mo' + makeID(this.id, options) + '>' + (SPECIAL_OPERATORS[this.rightDelim] || this.rightDelim) + '</mo>';\r\n                }\r\n                result += '</mrow>';\r\n                break;\r\n    \r\n            case 'sizeddelim':\r\n            case 'delim':\r\n                result += '<mo separator=\"true\"' + makeID(this.id, options) + '>' + (SPECIAL_OPERATORS[this.delim] || this.delim) + '</mo>';\r\n                break;\r\n    \r\n    \r\n            case 'accent':\r\n                result += '<mover accent=\"true\"' + makeID(this.id, options) + '>';\r\n                result += toMathML(this.body, 0, 0, options).mathML;\r\n                result += '<mo>' + (SPECIAL_OPERATORS[command] || this.accent) + '</mo>';\r\n                result += '</mover>'\r\n                break;\r\n    \r\n            case 'line':\r\n            case 'overlap':\r\n                break;\r\n    \r\n            case 'overunder':\r\n                overscript = this.overscript;\r\n                underscript = this.underscript;\r\n                if (overscript && underscript) {\r\n                    body = this.body;\r\n                } else if (overscript) {\r\n                    body = this.body;\r\n                    if (this.body[0] && this.body[0].underscript) {\r\n                        underscript = this.body[0].underscript;\r\n                        body = this.body[0].body;\r\n                    } else if (this.body[0] && this.body[0].type === 'first' && this.body[1] && this.body[1].underscript) {\r\n                        underscript = this.body[1].underscript;\r\n                        body = this.body[1].body;\r\n                    }\r\n                } else if (underscript) {\r\n                    body = this.body;\r\n                    if (this.body[0] && this.body[0].overscript) {\r\n                        overscript = this.body[0].overscript;\r\n                        body = this.body[0].body;\r\n                    } else if (this.body[0] && this.body[0].type === 'first' && this.body[1] && this.body[1].overscript) {\r\n                        overscript = this.body[1].overscript;\r\n                        body = this.body[1].body;\r\n                    }\r\n                }\r\n    \r\n                if (overscript && underscript) {\r\n                    result += '<munderover' + variant + makeID(this.id, options) + '>' + toMathML(body, 0, 0, options).mathML;\r\n                    result += toMathML(underscript, 0, 0, options).mathML;\r\n                    result += toMathML(overscript, 0, 0, options).mathML;\r\n                    result += '</munderover>';\r\n                } else if (overscript) {\r\n                    result += '<mover' + variant + makeID(this.id, options) + '>' + toMathML(body, 0, 0, options).mathML;\r\n                    result += toMathML(overscript, 0, 0, options).mathML;\r\n                    result += '</mover>';\r\n                } else if (underscript) {\r\n                    result += '<munder' + variant + makeID(this.id, options) + '>' + toMathML(body, 0, 0, options).mathML;\r\n                    result += toMathML(underscript, 0, 0, options).mathML;\r\n                    result += '</munder>';\r\n                }\r\n                break;\r\n    \r\n            case 'placeholder':     // no real equivalent in MathML -- will generate a '?'qq\r\n            case 'mord': {\r\n                result = SPECIAL_IDENTIFIERS[command] || command || (typeof this.body === 'string' ? this.body : '');\r\n                const  m = command ? command.match(/[{]?\\\\char\"([0-9abcdefABCDEF]*)[}]?/) : null;\r\n                if (m) {\r\n                    // It's a \\char command\r\n                    result = '&#x' + m[1] + ';'\r\n                } else if (result.length > 0 && result.charAt(0) === '\\\\') {\r\n                    // This is an identifier with no special handling. Use the\r\n                    // Unicode value\r\n                    if (typeof this.body === 'string' && this.body.charCodeAt(0) > 255) {\r\n                        result = '&#x' + ('000000' +\r\n                            this.body.charCodeAt(0).toString(16)).substr(-4) + ';';\r\n                    } else if (typeof this.body === 'string') {\r\n                        result = this.body.charAt(0);\r\n                    } else {\r\n                        result = this.body;\r\n                    }\r\n                }\r\n                const tag = /\\d/.test(result) ? 'mn' : 'mi';\r\n                result = '<' + tag + variant + makeID(this.id, options) + '>' + xmlEscape(result) + '</' + tag + '>';\r\n                break;\r\n            }\r\n            case 'mbin':\r\n            case 'mrel':\r\n            case 'textord':\r\n            case 'minner':\r\n                if (command && SPECIAL_IDENTIFIERS[command]) {\r\n                    // Some 'textord' are actually identifiers. Check them here.\r\n                    result = '<mi' + makeID(this.id, options) + '>' + SPECIAL_IDENTIFIERS[command] + '</mi>';\r\n                } else if (command && SPECIAL_OPERATORS[command]) {\r\n                    result = '<mo' + makeID(this.id, options) + '>' + SPECIAL_OPERATORS[command] + '</mo>';\r\n                } else {\r\n                    result = toMo(this, options);\r\n                }\r\n                break;\r\n    \r\n            case 'mpunct':\r\n                result = '<mo separator=\"true\"' + makeID(this.id, options) + '>' + (SPECIAL_OPERATORS[command] || command) + '</mo>';\r\n                break;\r\n    \r\n            case 'mop':\r\n                if (this.body !== '\\u200b') {\r\n                    // Not ZERO-WIDTH\r\n                    result = '<mo' + makeID(this.id, options) + '>';\r\n                    if (command === '\\\\operatorname') {\r\n                        result += this.body;\r\n                    } else {\r\n                        result += command || this.body;\r\n                    }\r\n                    result += '</mo>';\r\n                }\r\n                break;\r\n    \r\n            case 'mathstyle':\r\n                // TODO: mathstyle is a switch. Need to figure out its scope to properly wrap it around a <mstyle> tag\r\n                // if (this.mathstyle === 'displaystyle') {\r\n                //     result += '<mstyle displaystyle=\"true\">';\r\n                //     result += '</mstyle>';\r\n                // } else {\r\n                //     result += '<mstyle displaystyle=\"false\">';\r\n                //     result += '</mstyle>';\r\n                // };\r\n                break;\r\n    \r\n            case 'box':\r\n                result = '<menclose notation=\"box\"';\r\n                if (this.backgroundcolor) {\r\n                    result += ' mathbackground=\"' + Color.stringToColor(this.backgroundcolor) + '\"';\r\n                }\r\n                result += makeID(this.id, options) + '>' + toMathML(this.body, 0, 0, options).mathML + '</menclose>';\r\n                break;\r\n    \r\n            case 'spacing':\r\n                result += '<mspace width=\"' + (SPACING[command] || 0) + 'em\"/>';\r\n                break;\r\n    \r\n            case 'enclose':\r\n                result = '<menclose notation=\"';\r\n                for (const notation in this.notation) {\r\n                    if (Object.prototype.hasOwnProperty.call(this.notation, notation) &&\r\n                        this.notation[notation]) {\r\n                        result += sep + notation;\r\n                        sep = ' ';\r\n                    }\r\n                }\r\n                result += makeID(this.id, options) + '\">' + toMathML(this.body, 0, 0, options).mathML + '</menclose>';\r\n                break;\r\n    \r\n            case 'space':\r\n                result += '&nbsp;'\r\n                break;\r\n            default:\r\n                console.log(\"In conversion to MathML, unknown type : \" + this.type);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nMathAtom.toMathML = function(atoms, options) {\r\n    return toMathML(atoms, 0, 0, options).mathML;\r\n}\r\n\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n}\r\n\r\n\r\n\r\n","/**\r\n * This module parses and outputs an Abstract Syntax Tree representing the\r\n * formula using the {@tutorial MATHJSON} format.\r\n *\r\n * To use it, use the {@linkcode MathAtom#toAST MathAtom.toAST()}  method.\r\n * @module addons/mathJson\r\n * @private\r\n */\r\n\r\nimport Lexer from '../core/lexer.js';\r\nimport MathAtom from '../core/mathAtom.js';\r\nimport ParserModule from '../core/parser.js';\r\nimport Definitions from '../core/definitions.js';\r\n\r\nconst CANONICAL_NAMES = {\r\n    // CONSTANTS\r\n    '\\\\imaginaryI':     '\\u2148',\r\n    '\\\\imaginaryJ':     '\\u2149',\r\n    '\\\\pi':             'π',\r\n    '\\\\exponentialE':   '\\u212f',\r\n\r\n    // ARITHMETIC\r\n    '﹢':               '+',        // SMALL PLUS SIGN\r\n    '＋':               '+',        // FULL WIDTH PLUS SIGN\r\n    '−':                '-',        // MINUS SIGN\r\n    '-':                '-',        // HYPHEN-MINUS\r\n    '﹣':               '-',        // SMALL HYPHEN-MINUS\r\n    '－':               '-',        // FULLWIDTH HYPHEN-MINUS\r\n    '\\\\times':          '*',\r\n    '\\\\cdot':           '*',\r\n    '⨉':                '*',        // N-ARY TIMES OPERATOR U+\r\n    '️✖':                '*',        // MULTIPLICATION SYMBOL\r\n    '️×':                '*',        // MULTIPLICATION SIGN\r\n    '.':                '*',\r\n    '÷':                '/',        // DIVISION SIGN\r\n    // '/':             '/',        // SOLIDUS\r\n    '⁄':                 '/',        // FRACTION SLASH\r\n    '／':                '/',        // FULLWIDTH SOLIDUS\r\n    '!':                'factorial',\r\n    '\\\\mp':             'minusplus', // MINUS-PLUS SIGN\r\n    '\\\\ne':             '!=',\r\n    '\\\\coloneq':        ':=',\r\n    '\\\\questeq':        '?=',\r\n    '\\\\approx':         'approx',\r\n    '\\\\cong':           'congruent',\r\n    '\\\\sim':            'similar',\r\n    '\\\\equiv':          'equiv',\r\n    '\\\\pm':             'plusminus',    // PLUS-MINUS SIGN\r\n\r\n    '\\\\land':           'and',\r\n    '\\\\wedge':          'and',\r\n    '\\\\lor':            'or',\r\n    '\\\\vee':            'or',\r\n    '\\\\oplus':          'xor',\r\n    '\\\\veebar':         'xor',\r\n    '\\\\lnot':           'not',\r\n    '\\\\neg':            'not',\r\n\r\n    '\\\\exists':         'exists',\r\n    '\\\\nexists':        '!exists',\r\n    '\\\\forall':         'forAll',\r\n    '\\\\backepsilon':    'suchThat',\r\n    '\\\\therefore':      'therefore',\r\n    '\\\\because':        'because',\r\n\r\n    '\\\\nabla':          'nabla',\r\n    '\\\\circ':           'circle',\r\n    // '\\\\oplus':       'oplus',\r\n    '\\\\ominus':         'ominus',\r\n    '\\\\odot':           'odot',\r\n    '\\\\otimes':         'otimes',\r\n\r\n    '\\\\zeta':           'Zeta',\r\n    '\\\\Gamma':          'Gamma',\r\n    '\\\\min':            'min',\r\n    '\\\\max':            'max',\r\n    '\\\\mod':            'mod',\r\n    '\\\\lim':            'lim',  // BIG OP\r\n    '\\\\sum':            'sum',\r\n    '\\\\prod':           'prod',\r\n    '\\\\int':            'integral',\r\n    '\\\\iint':           'integral2',\r\n    '\\\\iiint':          'integral3',\r\n\r\n    '\\\\Re':             'Re',\r\n    '\\\\gothicCapitalR': 'Re',\r\n    '\\\\Im':             'Im',\r\n    '\\\\gothicCapitalI': 'Im',\r\n\r\n    '\\\\binom':          'nCr',\r\n\r\n    '\\\\partial':        'partial',\r\n    '\\\\differentialD':  'differentialD',\r\n    '\\\\capitalDifferentialD': 'capitalDifferentialD',\r\n    '\\\\Finv':           'Finv',\r\n    '\\\\Game':           'Game',\r\n    '\\\\wp':             'wp',\r\n    '\\\\ast':            'ast',\r\n    '\\\\star':           'star',\r\n    '\\\\asymp':          'asymp',\r\n\r\n    // Function domain, limits\r\n    '\\\\to':             'to',       // Looks like \\rightarrow\r\n    '\\\\gets':           'gets',     // Looks like \\leftarrow\r\n\r\n    // Sets\r\n    '\\\\in':             'elementof',\r\n    '\\\\notin':          '!elementof',\r\n    '\\\\ni':             'ownedby',\r\n    '\\\\owns':           'ownedby',\r\n    '\\\\subset':         'subset',\r\n    '\\\\supset':         'superset',\r\n    '\\\\complement':     'complement',\r\n\r\n    // Logic\r\n    '\\\\rightarrow':     'shortLogicalImplies',\r\n    '\\\\leftarrow':      'shortLogicalImpliedBy',\r\n    '\\\\leftrightarrow': 'shortLogicalEquivalent',\r\n    '\\\\longrightarrow': 'logicalImplies',\r\n    '\\\\longleftarrow':  'logicalImpliedBy',\r\n    '\\\\longleftrightarrow': 'logicalEquivalent',\r\n\r\n    // Metalogic\r\n    '\\\\Rightarrow':     'shortImplies',\r\n    '\\\\Leftarrow':      'shortImpliedBy',\r\n    '\\\\Leftrightarrow': 'shortEquivalent',\r\n\r\n    '\\\\implies':        'implies',\r\n    '\\\\Longrightarrow': 'implies',\r\n    '\\\\impliedby':      'impliedBy',\r\n    '\\\\Longleftarrow':  'impliedBy',\r\n    '\\\\iff':            'equivalent',\r\n    '\\\\Longleftrightarrow': 'equivalent',\r\n\r\n}\r\n\r\n// The OP_NAME table maps a canonical name to a function name\r\nconst OP_NAME = {\r\n    '+':            'add',\r\n    '*':            'multiply',\r\n    '-':            'subtract',\r\n    '/':            'divide',\r\n    '=':            'equal',\r\n    ':=':           'assign',\r\n    '!=':           'ne',\r\n    '?=':           'questeq',\r\n    'approx':       'approx',\r\n    'congruent':    'congruent',\r\n    'similar':       'similar',\r\n    'equiv':        'equiv',\r\n    '<':            'lt',\r\n    '>':            'gt',\r\n    '<=':           'le',\r\n    '>=':           'ge',\r\n    '≤':            'le',\r\n    '≥':            'ge',\r\n    '>>':           'gg',\r\n    '<<':           'll',\r\n    '**':           'pow',\r\n    '++':           'increment',\r\n    '--':           'decrement',\r\n}\r\n\r\n\r\n// The FUNCTION_TEMPLATE table maps a canonical name to a LaTeX template\r\nconst FUNCTION_TEMPLATE = {\r\n    'equal':                    '%0 = %1',\r\n    'ne':                       '%0 \\\\ne %1',\r\n    'questeq':                  '%0 \\\\questeq %1',\r\n    'approx':                   '%0 \\\\approx %1',\r\n    'congruent':                '%0 \\\\cong %1',\r\n    'similar':                  '%0 \\\\sim %1',\r\n    'equiv':                    '%0 \\\\equiv %1',\r\n    'assign':                   '%0 := %1',\r\n    'lt':                       '%0 < %1',\r\n    'gt':                       '%0 > %1',\r\n    'le':                       '%0 \\\\le %1',\r\n    'ge':                       '%0 \\\\ge %1',\r\n\r\n    // TRIGONOMETRY\r\n    'sin':                      '\\\\sin%_%^ %0',\r\n    'cos':                      '\\\\cos%_%^ %0',\r\n    'tan':                      '\\\\tan%_%^ %0',\r\n    'cot':                      '\\\\cot%_%^ %0',\r\n    'sec':                      '\\\\sec%_%^ %0',\r\n    'csc':                      '\\\\csc%_%^ %0',\r\n\r\n    'sinh':                     '\\\\sinh %0',\r\n    'cosh':                     '\\\\cosh %0',\r\n    'tanh':                     '\\\\tanh %0',\r\n    'csch':                     '\\\\csch %0',\r\n    'sech':                     '\\\\sech %0',\r\n    'coth':                     '\\\\coth %0',\r\n\r\n    'arcsin':                   '\\\\arcsin %0',\r\n    'arccos':                   '\\\\arccos %0',\r\n    'arctan':                   '\\\\arctan %0',\r\n    'arccot':                   '\\\\arcctg %0',        // Check\r\n    'arcsec':                   '\\\\arcsec %0',\r\n    'arccsc':                   '\\\\arccsc %0',\r\n\r\n    'arsinh':                   '\\\\arsinh %0',\r\n    'arcosh':                   '\\\\arcosh %0',\r\n    'artanh':                   '\\\\artanh %0',\r\n    'arcsch':                   '\\\\arcsch %0',\r\n    'arsech':                   '\\\\arsech %0',\r\n    'arcoth':                   '\\\\arcoth %0',\r\n\r\n    // LOGARITHMS\r\n    'ln':                       '\\\\ln%_%^ %',     // Natural logarithm\r\n    'log':                      '\\\\log%_%^ %',    // General logarithm, e.g. log_10\r\n    'lg':                       '\\\\lg %',     // Common, base-10, logarithm\r\n    'lb':                       '\\\\lb %',     // Binary, base-2, logarithm\r\n\r\n    // Big operator\r\n    'sum':                      '\\\\sum%_%^ %0',\r\n    'prod':                     '\\\\prod%_%^ %0',\r\n\r\n    // OTHER\r\n    'Zeta':     '\\\\zeta%_%^ %', // Riemann Zeta function\r\n    'Gamma':    '\\\\Gamma %',    // Gamma function, such that Gamma(n) = (n - 1)!\r\n    'min':      '\\\\min%_%^ %',\r\n    'max':      '\\\\max%_%^ %',\r\n    'mod':      '\\\\mod%_%^ %',\r\n    'lim':      '\\\\lim%_%^ %',      // BIG OP\r\n    'binom':    '\\\\binom %',\r\n    'nabla':    '\\\\nabla %',\r\n    'curl':     '\\\\nabla\\\\times %0',\r\n    'div':      '\\\\nabla\\\\cdot %0',\r\n    'floor':    '\\\\lfloor %0 \\\\rfloor%_%^',\r\n    'ceil':     '\\\\lceil %0 \\\\rceil%_%^',\r\n    'abs':      '\\\\left| %0 \\\\right|%_%^',\r\n    'norm':     '\\\\lVert %0 \\\\rVert%_%^',\r\n    'ucorner':  '\\\\ulcorner %0 \\\\urcorner%_%^',\r\n    'lcorner':  '\\\\llcorner %0 \\\\lrcorner%_%^',\r\n    'angle':    '\\\\langle %0 \\\\rangle%_%^',\r\n    'group':    '\\\\lgroup %0 \\\\rgroup%_%^',\r\n    'moustache':'\\\\lmoustache %0 \\\\rmoustache%_%^',\r\n    'brace':    '\\\\lbrace %0 \\\\rbrace%_%^',\r\n    'sqrt[]':   '\\\\sqrt[%^]{%0}',       // Template used when there's an index\r\n    'sqrt':     '\\\\sqrt{%0}',\r\n    'lcm':      '\\\\operatorname{lcm}%',\r\n    'gcd':      '\\\\operatorname{gcd}%',\r\n    'erf':      '\\\\operatorname{erf}%',\r\n    'erfc':     '\\\\operatorname{erfc}%',\r\n    'randomReal': '\\\\operatorname{randomReal}%',\r\n    'randomInteger': '\\\\operatorname{randomInteger}%',\r\n\r\n\r\n    // Logic operators\r\n    'and':      '%0 \\\\land %1',\r\n    'or':       '%0 \\\\lor %1',\r\n    'xor':      '%0 \\\\oplus %1',\r\n    'not':      '%0 \\\\lnot %1',\r\n\r\n    // Other operators\r\n    'circle':   '%0 \\\\circ %1',\r\n    'ast':      '%0 \\\\ast %1',\r\n    'star':     '%0 \\\\star %1',\r\n    'asymp':    '%0 \\\\asymp %1',\r\n    '/':        '\\\\frac{%0}{%1}',\r\n    'Re':       '\\\\Re{%0}',\r\n    'Im':       '\\\\Im{%0}',\r\n    'factorial': '%0!',\r\n    'factorial2': '%0!!',\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// From www.w3.org/TR/MathML3/appendixc.html\r\n// The keys of OP_PRECEDENCE are \"canonical names\"\r\n// (the values of the CANONICAL_NAMES table above, e.g. \"?=\")\r\n// Those are different from the latex names (e.g. \\\\questeq)\r\n// and from the function names (e.g. \"questeq\")\r\nconst OP_PRECEDENCE = {\r\n    'degree':               880,\r\n    'nabla':                740,\r\n    'curl':                 740,    // not in MathML\r\n    'partial':              740,\r\n    'differentialD':        740,    // not in MathML\r\n    'capitalDifferentialD': 740,    // not in MathML\r\n\r\n    '**':                   720,    // not in MathML\r\n\r\n    'odot':                 710,\r\n\r\n    // Logical not\r\n    'not':                  680,\r\n\r\n    // Division\r\n    'div':                  660,    // division sign\r\n    'solidus':              660,\r\n    '/':                    660,\r\n\r\n    'setminus':             650,    // \\setminus, \\smallsetminus\r\n\r\n    '%':                    640,\r\n\r\n    'otimes':               410,\r\n\r\n    // Set operators\r\n    'union':                350,    // \\cup\r\n    'intersection':         350,    // \\cap\r\n\r\n    // Multiplication, division and modulo\r\n    '*':                    390,\r\n    'ast':                  390,\r\n    '.':                    390,\r\n\r\n    'oplus':                300,    // also logical XOR... @todo\r\n    'ominus':               300,\r\n\r\n    // Addition\r\n    '+':                    275,\r\n    '-':                    275,\r\n    '+-':                   275,    // \\pm\r\n    '-+':                   275,    // \\mp\r\n\r\n\r\n    // Most circled-ops are 265\r\n    'circle':               265,\r\n    'circledast':           265,\r\n    'circledcirc':          265,\r\n    'star':                 265,    // Different from ast\r\n\r\n\r\n    // Range\r\n    '..':                   263,    // Not in MathML\r\n\r\n    // Unit conversion\r\n    'to':                   262,    // Not in MathLM\r\n    'in':                   262,    // Not in MathML\r\n\r\n    '|':                    261,    // Not in MathML    (bind is the |_ operator)\r\n\r\n\r\n    // Relational\r\n    'congruent':            265,\r\n    'equiv':                260,    // MathML: \"identical to\"\r\n    '=':                    260,\r\n    '!=':                   255,\r\n    '?=':                   255,\r\n    'similar':              250,    // tilde operator in MathML\r\n\r\n    'approx':               247,\r\n    '<':                    245,\r\n    '>':                    243,\r\n    '>=':                   242,\r\n    '≥':                    242,\r\n    '<=':                   241,\r\n\r\n    // Set operator\r\n    'complement':           240,\r\n    'subset':               240,    // \\subset\r\n    'superset':             240,    // \\supset\r\n    // @todo and equality and neg operators\r\n    'elementof':            240,    // \\in\r\n    '!elementof':           240,    // \\notin\r\n    //\r\n    'exists':                230,\r\n    '!exists':               230,\r\n    'forall':                230,\r\n\r\n    // Logical operators\r\n    'and':              200,\r\n    'xor':              195,            // MathML had 190\r\n    'or':               190,\r\n    // Note: 'not' is 680\r\n\r\n    // center, low, diag, vert ellipsis         150\r\n\r\n    // Composition/sequence\r\n    'suchThat':              110,   // \\backepsilon\r\n    ':':                     100,\r\n    // '..':               100,\r\n    // '...':               100,\r\n\r\n    // Conditional (?:)\r\n\r\n\r\n    // Assignment\r\n    'assign':            80,\r\n    ':=':                80,       // MathML had 260 (same with U+2254 COLON EQUALS)\r\n\r\n    'therefore':                70,\r\n    'because':                70,\r\n\r\n    // Arrows\r\n    // Note: MathML had 270 for the arrows, but this\r\n    // would not work for (a = b => b = a)\r\n    // See also https://en.wikipedia.org/wiki/Logical_connective#Order_of_precedence\r\n    // for a suggested precedence (note that in this page lower precedence\r\n    // has the opposite meaning as what we use)\r\n    'shortLogicalImplies': 52,  // ->\r\n    'shortImplies':     51,     // =>\r\n    'logicalImplies':   50,     // -->\r\n    'implies':          49,     // ==>\r\n\r\n    'shortLogicalImpliedBy': 48,// <-\r\n    'shortImpliedBy':   47,     // <=\r\n    'logicalImpliedBy': 46,     // <--\r\n    'impliedBy':        45,     // <==\r\n\r\n    'shortLogicalEquivalent':44,// <->\r\n    'shortEquivalent':  43,     // <=>\r\n    'logicalEquivalent':42,     // <-->\r\n    'equivalent':       41,     // <==>\r\n\r\n\r\n    ',':                40,\r\n    ';':                30\r\n}\r\n\r\n\r\nfunction getArg(ast, index) {\r\n    return Array.isArray(ast.arg) ? ast.arg[index] : undefined;\r\n}\r\n\r\n\r\n/**\r\n * Given a canonical name, return its precedence\r\n * @param {string} canonicalName, for example \"and\"\r\n * @return {number}\r\n * @private\r\n */\r\nfunction getPrecedence(canonicalName) {\r\n    return canonicalName ? (OP_PRECEDENCE[canonicalName] || -1) : -1;\r\n}\r\n\r\nfunction getAssociativity(canonicalName) {\r\n    if (/=|=>/.test(canonicalName)) {\r\n        return 'right';\r\n    }\r\n    return 'left';\r\n}\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param {string} name function canonical name\r\n * @return {string}\r\n * @private\r\n */\r\nfunction getLatexTemplateForFunction(name) {\r\n    let result = FUNCTION_TEMPLATE[name];\r\n    if (!result) {\r\n        result = name.length > 1 ? '\\\\operatorname{' + name + '}%^%_ %' : (name + '%^%_ %');\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} name symbol name, e.g. \"alpha\"\r\n * @return {string}\r\n * @private\r\n */\r\nfunction getLatexForSymbol(name) {\r\n    let result = FUNCTION_TEMPLATE[name];\r\n    if (result) {\r\n        return result.replace('%1', '').replace('%0', '').replace('%', '');\r\n    }\r\n    if (name.length > 1) {\r\n        const info = Definitions.getInfo('\\\\' + name, 'math');\r\n        if (info &&\r\n            (!info.fontFamily || info.fontFamily === 'cmr' || info.fontFamily === 'ams')) {\r\n            result = '\\\\' + name;\r\n        }\r\n    }\r\n    if (!result) {\r\n        result = Definitions.unicodeStringToLatex('math', name);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\nfunction isFunction(canonicalName) {\r\n    if (canonicalName === 'f' || canonicalName === 'g') return true;\r\n\r\n    const t = FUNCTION_TEMPLATE[canonicalName];\r\n    if (!t) return false;\r\n\r\n    // A plain \"%\" is a placeholder for an argument list, indicating a function\r\n    if (/%[^01_^]?/.test(t)) return true;\r\n\r\n    return false;\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {string} latex, for example '\\\\times'\r\n * @return {string} the canonical name for the input, for example '*'\r\n * @private\r\n */\r\nfunction getCanonicalName(latex) {\r\n    latex = (latex || '').trim();\r\n    let result = CANONICAL_NAMES[latex];\r\n    if (!result) {\r\n        if (/^\\\\[^{}]+$/.test(latex)) {\r\n            const info = Definitions.getInfo(latex, 'math', {});\r\n            if (info) {\r\n                result = info.value || latex.slice(1);\r\n            } else {\r\n                result = latex.slice(1);\r\n            }\r\n        } else {\r\n            result = latex;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Return the operator precedence of the atom\r\n * or -1 if not an operator\r\n * @param {object} atom\r\n * @return {number}\r\n * @private\r\n */\r\nfunction opPrec(atom) {\r\n    if (!atom) return null;\r\n    const name = getCanonicalName(getString(atom));\r\n    const result = [getPrecedence(name), getAssociativity(name)];\r\n    if (result[0] <= 0) return null\r\n    return result;\r\n}\r\n\r\nfunction isOperator(atom) {\r\n    return opPrec(atom) !== null;\r\n}\r\n\r\n\r\nconst DELIM_FUNCTION = {\r\n    '\\\\lfloor\\\\rfloor':         'floor',\r\n    '\\\\lceil\\\\rceil':           'ceil',\r\n    '\\\\vert\\\\vert':             'abs',\r\n    '\\\\lvert\\\\rvert':           'abs',\r\n    '||':                       'abs',\r\n    '\\\\Vert\\\\Vert':             'norm',\r\n    '\\\\lVert\\\\rVert':           'norm',\r\n    '\\\\ulcorner\\\\urcorner':     'ucorner',\r\n    '\\\\llcorner\\\\lrcorner':     'lcorner',\r\n    '\\\\langle\\\\rangle':         'angle',\r\n    '\\\\lgroup\\\\rgroup':         'group',\r\n    '\\\\lmoustache\\\\rmoustache': 'moustache',\r\n    '\\\\lbrace\\\\rbrace':         'brace'\r\n}\r\n\r\nconst POSTFIX_FUNCTION = {\r\n    '!':                    'factorial',\r\n    '\\\\dag':                'dagger',\r\n    '\\\\dagger':             'dagger',\r\n    '\\\\ddagger':            'dagger2',\r\n    '\\\\maltese':            'maltese',\r\n    '\\\\backprime':          'backprime',\r\n    '\\\\backdoubleprime':    'backprime2',\r\n    '\\\\prime':              'prime',\r\n    '\\\\doubleprime':        'prime2',\r\n    '\\\\$':                  '$',\r\n    '\\\\%':                  '%',\r\n    '\\\\_':                  '_',\r\n    '\\\\degree':             'degree'\r\n}\r\n\r\nconst ASSOCIATIVE_FUNCTION = {\r\n    '+':                    'add',\r\n    '-':                    'add',      // Subtraction is add(), but it's\r\n                                        // handled specifically so that the\r\n                                        // argument is negated\r\n    '*':                    'multiply',\r\n\r\n    '=':                    'equal',\r\n\r\n    ',':                    'list',\r\n    ';':                    'list2',\r\n\r\n    'and':                  'and',\r\n    'or':                   'or',\r\n    'xor':                  'xor',\r\n    'union':                'union',\r\n    // shortLogicalEquivalent and logicalEquivalent map to the same function\r\n    // they mean the same thing, but have a difference precedence.\r\n    'shortLogicalEquivalent': 'logicalEquivalent',   // logical equivalent, iff, biconditional logical connective\r\n    'logicalEquivalent':    'logicalEquivalent',     // same\r\n    // shortEquivalent and equivalent map to the same function\r\n    // they mean the same thing, but have a difference precedence.\r\n    'shortEquivalent':      'equivalent',      // metalogic equivalent\r\n    'equivalent':           'equivalent',      // same\r\n}\r\n\r\nconst SUPER_ASSOCIATIVE_FUNCTION = {\r\n    ',':                    'list',\r\n    ';':                    'list2'\r\n}\r\n\r\nfunction getString(atom) {\r\n    if (Array.isArray(atom)) {\r\n        let result = '';\r\n        for (const subAtom of atom) {\r\n            result += getString(subAtom);\r\n        }\r\n        return result;\r\n    }\r\n    if (atom.latex &&\r\n        !/^\\\\math(op|bin|rel|open|punct|ord|inner)/.test(atom.latex)) {\r\n        return atom.latex.trim();\r\n    }\r\n    if (atom.type === 'leftright') {\r\n        return '';\r\n    }\r\n    if (typeof atom.body === 'string') {\r\n        return atom.body;\r\n    }\r\n    if (Array.isArray(atom.body)) {\r\n        let result = '';\r\n        for (const subAtom of atom.body) {\r\n            result += getString(subAtom);\r\n        }\r\n        return result;\r\n    }\r\n    return '';\r\n}\r\n\r\n/**\r\n *\r\n * @param {object} expr - Abstract Syntax Tree object\r\n * @return {string} A string, the symbol, or undefined\r\n * @private\r\n */\r\nfunction asSymbol(node) {\r\n    return typeof node.sym === 'string' ? (getLatexForSymbol(node.sym) || node.sym) : '';\r\n}\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param {object} node - Abstract Syntax Tree node\r\n * @return {number} A JavaScript number, the value of the AST or NaN\r\n * @private\r\n * @private\r\n */\r\nfunction asMachineNumber(node) {\r\n    return parseFloat(node.num);\r\n}\r\n\r\nfunction isNumber(node) {\r\n    return typeof node === 'object' && typeof node.num !== 'undefined';\r\n}\r\n\r\nfunction numberRe(node) {\r\n    let result = 0;\r\n    if (isNumber(node)) {\r\n        if (typeof node.num === 'object') {\r\n            result = typeof node.num.re !== 'undefined' ? parseFloatToPrecision(node.num.re) : 0;\r\n        } else {\r\n            result = parseFloat(node.num);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction numberIm(node) {\r\n    let result = 0;\r\n    if (isNumber(node)) {\r\n        if (typeof node.num === 'object') {\r\n            result = typeof node.num.im !== 'undefined' ? parseFloatToPrecision(node.num.im) : 0;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nfunction isComplexWithRealAndImaginary(node) {\r\n    return numberRe(node) !== 0 && numberIm(node) !== 0;\r\n}\r\n\r\nfunction hasSup(node) {\r\n    return node && typeof node.sup !== 'undefined';\r\n}\r\n\r\nfunction hasSub(node) {\r\n    return node && typeof node.sub !== 'undefined';\r\n}\r\n\r\n/**\r\n * Return true if the current atom is of the specified type and value.\r\n * @param {object} expr\r\n * @param {string} type\r\n * @param {string} value\r\n * @private\r\n */\r\nfunction isAtom(expr, type, value) {\r\n    let result = false;\r\n    const atom = expr.atoms[expr.index];\r\n    if (atom && atom.type === type) {\r\n        if (value === undefined) {\r\n            result = true;\r\n        } else {\r\n            result = getString(atom) === value;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {string} functionName\r\n * @param {object} params\r\n * @private\r\n */\r\nfunction wrapFn(functionName, ...params) {\r\n    const result = { fn: functionName };\r\n    if (params) {\r\n        const args = [];\r\n        for (const arg of params) {\r\n            if (arg) args.push(arg);\r\n        }\r\n        if (args.length > 0) result.arg = args;\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction wrapNum(num) {\r\n    if (typeof num === 'number') {\r\n        return {num: num.toString() }\r\n    } else if (typeof num === 'string') {\r\n        return {num: num}\r\n    } else if (typeof num === 'object') {\r\n        // This is a complex number\r\n        console.assert(typeof num.re === 'string' || typeof num.im === 'string');\r\n        return {num: num};\r\n    }\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * Return the negative of the expression. Usually { fn:'negate', arg }\r\n * but for numbers, the negated number\r\n * @param {object} node\r\n * @private\r\n */\r\nfunction negate(node) {\r\n    if (isNumber(node)) {\r\n        const re = numberRe(node);\r\n        const im = numberIm(node);\r\n        if (im !== 0) {\r\n            if (re !== 0) {\r\n                node.num.re = (-re).toString();\r\n            }\r\n            node.num.im = (-im).toString();\r\n        } else {\r\n            node.num = (-re).toString();\r\n        }\r\n        return node;\r\n    }\r\n    return wrapFn('negate', node);\r\n}\r\n\r\nfunction nextIsSupsub(expr) {\r\n    const atom = expr.atoms[expr.index + 1];\r\n    return atom && atom.type === 'msubsup';\r\n}\r\n\r\n/**\r\n * Parse for a possible sup/sub attached directly to the current atom\r\n * or to a following 'msubsup' atom.\r\n * After the call, the index points to the next atom to process.\r\n * @param {object} expr\r\n * @private\r\n */\r\nfunction parseSupsub(expr, options) {\r\n    let atom = expr.atoms[expr.index];\r\n\r\n    // Is there a supsub directly on this atom?\r\n    if (atom && (typeof atom.superscript !== 'undefined' || typeof atom.subscript !== 'undefined')) {\r\n        // Move to the following atom\r\n        expr.index += 1;\r\n    } else {\r\n        atom = null;\r\n    }\r\n\r\n    // If this atom didn't have a sup/sub,\r\n    // is the following atom a subsup atom?\r\n    if (!atom) {\r\n        atom = expr.atoms[expr.index + 1];\r\n        if (!atom || atom.type !== 'msubsup' || !(atom.superscript || atom.subscript)) {\r\n            atom = null;\r\n        } else {\r\n            // Yes. Skip the current atom and the supsub\r\n            expr.index += 2;\r\n        }\r\n    }\r\n\r\n    if (atom) {\r\n        if (typeof atom.subscript !== 'undefined') {\r\n            expr.ast.sub = parse(atom.subscript, options);\r\n        }\r\n        if (typeof atom.superscript !== 'undefined') {\r\n            if (atom.type === 'msubsup') {\r\n                if (/['\\u2032]|\\\\prime/.test(getString(atom.superscript))) {\r\n                    expr.index += 1;\r\n                    atom = expr.atoms[expr.index + 1];\r\n                    if (atom && atom.type === 'msubsup' && /['\\u2032]|\\\\prime/.test(getString(atom.superscript))) {\r\n                        expr.ast.sup = {sym: '\\u2033'}; // DOUBLE-PRIME\r\n                    } else {\r\n                        expr.ast.sup = {sym: '\\u2032'}; // PRIME\r\n                        expr.index -= 1;\r\n                    }\r\n                } else if (/['\\u2033]|\\\\doubleprime/.test(getString(atom.superscript))) {\r\n                    expr.ast.sup = {sym: '\\u2033'}; // DOUBLE-PRIME\r\n                } else if (expr.ast) {\r\n                    expr.ast.sup = parse(atom.superscript, options);\r\n                }\r\n            } else {\r\n                expr.ast.sup = parse(atom.superscript, options);\r\n            }\r\n        }\r\n    } else {\r\n        // Didn't find a supsup either on this atom and there was no 'msubsup'\r\n        // Time to move on to the next atom.\r\n        expr.index += 1;\r\n    }\r\n\r\n    return expr;\r\n}\r\n\r\n\r\n/**\r\n * Parse postfix operators, such as \"!\" (factorial)\r\n * @private\r\n */\r\nfunction parsePostfix(expr, options) {\r\n    const lhs = expr.ast;\r\n    if (nextIsDigraph(expr, '!!')) {\r\n        expr.index += 1;\r\n        expr.ast = wrapFn('factorial2', lhs);\r\n        expr = parseSupsub(expr, options);\r\n        expr = parsePostfix(expr, options);\r\n        return expr;\r\n    }\r\n    if (nextIsDigraph(expr, '++')) {\r\n        expr.index += 1;\r\n        expr.ast = wrapFn('increment', lhs);\r\n        expr = parseSupsub(expr, options);\r\n        expr = parsePostfix(expr, options);\r\n        return expr;\r\n    }\r\n    if (nextIsDigraph(expr, '--')) {\r\n        expr.index += 1;\r\n        expr.ast = wrapFn('decrement', lhs);\r\n        expr = parseSupsub(expr, options);\r\n        expr = parsePostfix(expr, options);\r\n        return expr;\r\n    }\r\n    const atom = expr.atoms[expr.index];\r\n    if (atom && atom.latex && POSTFIX_FUNCTION[atom.latex.trim()]) {\r\n        expr.ast = wrapFn(POSTFIX_FUNCTION[atom.latex.trim()], lhs);\r\n        expr = parseSupsub(expr, options);\r\n        expr = parsePostfix(expr, options);\r\n    }\r\n    return expr;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Delimiters can be expressed:\r\n * - as a matching pair of regular characters: '(a)'\r\n * - a as 'leftright' expression: '\\left(a\\right)'\r\n * - as a matching pair of 'sizeddelim': '\\Bigl(a\\Bigr)\r\n *\r\n * Note that the '\\delim' command is only used for delimiters in the middle\r\n * of a \\left\\right pair and not to represent pair-matched delimiters.\r\n *\r\n * This function handles all three cases\r\n *\r\n * @private\r\n */\r\n function parseDelim(expr, ldelim, rdelim, options) {\r\n    expr.index = expr.index || 0;\r\n\r\n    if (expr.atoms.length === 0 || expr.index >= expr.atoms.length) {\r\n        expr.ast = undefined;\r\n        return expr;\r\n    }\r\n\r\n    const savedPrec = expr.minPrec;\r\n    expr.minPrec = 0;\r\n    let atom = expr.atoms[expr.index];\r\n\r\n    if (!ldelim) {\r\n        // If we didn't expect a specific delimiter, parse any delimiter\r\n        // and return it as a function application\r\n        let pairedDelim = true;\r\n        if (atom.type === 'mopen') {\r\n            ldelim = atom.latex.trim();\r\n            rdelim = Definitions.RIGHT_DELIM[ldelim];\r\n        } else if (atom.type === 'sizeddelim') {\r\n            ldelim = atom.delim;\r\n            rdelim = Definitions.RIGHT_DELIM[ldelim];\r\n        } else if (atom.type === 'leftright') {\r\n            pairedDelim = false;\r\n            ldelim = atom.leftDelim;\r\n            rdelim = atom.rightDelim;\r\n            // If we have an unclosed smart fence, assume the right delim is\r\n            // matching the left delim\r\n            if (rdelim === '?') rdelim = Definitions.RIGHT_DELIM[ldelim];\r\n        } else if (atom.type === 'textord') {\r\n            ldelim = atom.latex.trim();\r\n            rdelim = Definitions.RIGHT_DELIM[ldelim];\r\n        }\r\n        if (ldelim && rdelim) {\r\n            if (ldelim === '|' && rdelim === '|') {\r\n                // Check if this could be a ||x|| instead of |x|\r\n                const atom = expr.atoms[expr.index + 1];\r\n                if (atom && atom.type === 'textord' && atom.latex === '|') {\r\n                    // Yes, it's a ||x||\r\n                    ldelim = '\\\\lVert';\r\n                    rdelim = '\\\\rVert';\r\n                }\r\n            }\r\n            expr = parseDelim(expr, ldelim, rdelim);\r\n            if (expr) {\r\n                if (pairedDelim) expr.index += 1;\r\n                expr.ast = {\r\n                    fn: DELIM_FUNCTION[ldelim + rdelim] || (ldelim + rdelim),\r\n                    arg: [expr.ast]};\r\n                expr.minPrec = savedPrec;\r\n                return expr;\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    if (atom.type === 'mopen' && getString(atom) === ldelim) {\r\n        expr.index += 1;    // Skip the open delim\r\n        expr = parseExpression(expr, options);\r\n        atom = expr.atoms[expr.index];\r\n        if (atom && atom.type === 'mclose' && getString(atom) === rdelim) {\r\n            if (nextIsSupsub(expr)) {\r\n                // Wrap in a group if we have an upcoming superscript or subscript\r\n                expr.ast = {group: expr.ast};\r\n            }\r\n            expr = parseSupsub(expr, options);\r\n            expr = parsePostfix(expr, options);\r\n        } // TODO: else, syntax error?\r\n\r\n    } else if (atom.type === 'textord' && getString(atom) === ldelim) {\r\n            expr.index += 1;    // Skip the open delim\r\n            expr = parseExpression(expr, options);\r\n            atom = expr.atoms[expr.index];\r\n            if (atom && atom.type === 'textord' && getString(atom) === rdelim) {\r\n                expr.index += 1;\r\n                expr = parseSupsub(expr, options);\r\n                expr = parsePostfix(expr, options);\r\n            } // TODO: else, syntax error?\r\n\r\n    } else if (ldelim === '\\\\lVert' && atom.type === 'textord' && atom.latex === '|') {\r\n        atom = expr.atoms[expr.index + 1];\r\n        if (atom && atom.type === 'textord' && atom.latex === '|') {\r\n            // This is an opening ||\r\n            expr.index += 2;    // Skip the open delim\r\n            expr = parseExpression(expr, options);\r\n            atom = expr.atoms[expr.index];\r\n            const atom2 = expr.atoms[expr.index + 1];\r\n            if (atom && atom.type === 'textord' && atom.latex === '|' &&\r\n                atom2 && atom2.type === 'textord' && atom2.latex === '|') {\r\n                // This was a closing ||\r\n                expr.index += 2;\r\n                expr = parseSupsub(expr, options);\r\n                expr = parsePostfix(expr, options);\r\n            }\r\n        }\r\n\r\n    } else if (atom.type === 'sizeddelim' && atom.delim === ldelim) {\r\n        expr.index += 1;    // Skip the open delim\r\n        expr = parseExpression(expr, options);\r\n        atom = expr.atoms[expr.index];\r\n        if (atom && atom.type === 'sizeddelim' && atom.delim === rdelim) {\r\n            expr.index += 1;\r\n            expr = parseSupsub(expr, options);\r\n            expr = parsePostfix(expr, options);\r\n        } // TODO: else, syntax error?\r\n\r\n    } else if (atom.type === 'leftright' &&\r\n        atom.leftDelim === ldelim &&\r\n        (atom.rightDelim === '?' || atom.rightDelim === rdelim)) {\r\n        // This atom type includes the content of the parenthetical expression\r\n        // in its body\r\n        expr.ast = parse(atom.body, options);\r\n        if (nextIsSupsub(expr)) {\r\n            // Wrap in a group if we have an upcoming superscript or subscript\r\n            expr.ast = {group: expr.ast};\r\n        }\r\n        expr = parseSupsub(expr, options);\r\n        expr = parsePostfix(expr, options);\r\n\r\n    } else {\r\n        return undefined;\r\n    }\r\n\r\n    expr.minPrec = savedPrec;\r\n    return expr;\r\n}\r\n\r\n\r\nfunction nextIsDigraph(expr, digraph) {\r\n    expr.index = expr.index || 0;\r\n\r\n    if (expr.atoms.length <= 1 || expr.index >= expr.atoms.length - 1) {\r\n        return false;\r\n    }\r\n\r\n    return digraph === getString(expr.atoms[expr.index]) +\r\n        getString(expr.atoms[expr.index + 1]);\r\n}\r\n\r\n/**\r\n * Some symbols are made up of two consecutive characters.\r\n * Handle them here. Return undefined if not a digraph.\r\n * TODO: other digraphs:\r\n * :=\r\n * ++\r\n * **\r\n * =:\r\n * °C U+2103\r\n * °F U+2109\r\n * @private\r\n *\r\n*/\r\nfunction parseDigraph(expr) {\r\n    expr.index = expr.index || 0;\r\n\r\n    if (expr.atoms.length <= 1 || expr.index >= expr.atoms.length - 1) {\r\n        return undefined;\r\n    }\r\n\r\n    if (isAtom(expr, 'textord', '\\\\nabla')) {\r\n        expr.index += 1;\r\n        if (isAtom(expr, 'mbin', '\\\\times')) {\r\n            expr.index += 1;\r\n            expr.ast = 'curl';   // divergence\r\n            return expr;\r\n        } else if (isAtom(expr, 'mbin', '\\\\cdot')) {\r\n            expr.index += 1;\r\n            expr.ast = 'div';\r\n            return expr;\r\n        }\r\n        expr.index -= 1;\r\n    } else {\r\n        const digraph = expr.atoms[expr.index].latex +\r\n            expr.atoms[expr.index + 1].latex;\r\n        const result = /^(>=|<=|>>|<<|:=|!=|\\*\\*|\\+\\+|--)$/.test(digraph) ? digraph : '';\r\n        if (result) {\r\n            expr.index += 1;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\n\r\nfunction parsePrimary(expr, options) {\r\n\r\n    // <primary> := ('-'|'+) <primary> | <number> |\r\n    //              '(' <expression> ')' | <symbol> | <text> (<expression>)\r\n\r\n     expr.index = expr.index || 0;\r\n     expr.ast = undefined;\r\n\r\n    if (expr.atoms.length === 0 || expr.index >= expr.atoms.length) {\r\n        return expr;\r\n    }\r\n\r\n    let atom = expr.atoms[expr.index];\r\n    if (atom.mode === 'text') {\r\n        let text = '';\r\n        while (expr.atoms[expr.index] && expr.atoms[expr.index].mode === 'text') {\r\n            text += expr.atoms[expr.index].body;\r\n            expr.index += 1;\r\n        }\r\n        expr.ast = {'text': text};\r\n        return expr;\r\n    }\r\n\r\n    const val = getCanonicalName(getString(atom));\r\n    \r\n    const digraph = parseDigraph(expr);\r\n    if (digraph) {\r\n        expr.ast = wrapFn(expr.ast, parsePrimary(expr, options).ast);\r\n\r\n    } else if (atom.type === 'root') {\r\n        expr.index = 0;\r\n        expr.atoms = atom.body;\r\n        return parsePrimary(expr, options);\r\n\r\n    } else if (atom.type === 'mbin' && val === '-') {\r\n        // Prefix - sign\r\n        expr.index += 1;  // Skip the '-' symbol\r\n        expr = parsePrimary(expr, options);\r\n        expr.ast = negate(expr.ast);\r\n\r\n    } else if (atom.type === 'mbin' && val === '+') {\r\n        // Prefix + sign\r\n        expr.index += 1;  // Skip the '+' symbol\r\n        expr = parsePrimary(expr, options);\r\n        expr.ast = wrapFn('add', expr.ast);\r\n\r\n    } else if (atom.type === 'mord' && /^[0-9.]$/.test(atom.latex)) {\r\n        // Looks like a number\r\n        let num = '';\r\n        let done = false;\r\n        let pat = /^[0-9.eEdD]$/;\r\n        while (expr.index < expr.atoms.length && !done && (isAtom(expr, 'spacing') ||\r\n                (\r\n                    (\r\n                        isAtom(expr, 'mord') ||\r\n                        isAtom(expr, 'mpunct', ',') ||\r\n                        isAtom(expr, 'mbin')\r\n                    ) &&\r\n                        pat.test(expr.atoms[expr.index].latex)\r\n                    )\r\n                )\r\n            ) {\r\n            if (expr.atoms[expr.index].type === 'spacing') {\r\n                expr.index += 1;\r\n            } else if (typeof expr.atoms[expr.index].superscript !== 'undefined' ||\r\n                typeof expr.atoms[expr.index].subscript !== 'undefined') {\r\n                done = true;\r\n            } else {\r\n                let digit = expr.atoms[expr.index].latex;\r\n                if (digit === 'd' || digit === 'D') {\r\n                    digit = 'e';\r\n                    pat = /^[0-9+-.]$/;\r\n                } else if (digit === 'e' || digit === 'E') {\r\n                    if (nextIsSupsub(expr)) {\r\n                        digit = '';\r\n                        expr.index -= 1;\r\n                        done = true;\r\n                    } else {\r\n                        digit = 'E';\r\n                        pat = /^[0-9+-.]$/\r\n                    }\r\n                } else if (pat === /^[0-9+-.]$/) {\r\n                    pat = /^[0-9]$/;\r\n                }\r\n                num += digit === ',' ? '' : digit;\r\n                expr.index += 1;\r\n            }\r\n        }\r\n        expr.ast = num ? wrapNum(num) : undefined;\r\n\r\n        // This was a number. Is it followed by a fraction, e.g. 2 1/2\r\n        atom = expr.atoms[expr.index];\r\n        if (atom && atom.type === 'genfrac' && !isNaN(expr.ast.num)) {\r\n            // Add an invisible plus, i.e. 2 1/2 = 2 + 1/2\r\n            const lhs = expr.ast;\r\n            expr = parsePrimary(expr, options);\r\n            expr.ast = wrapFn('add', lhs, expr.ast);\r\n        }\r\n        if (atom && atom.type === 'group' && atom.latex && atom.latex.startsWith('\\\\nicefrac')) {\r\n            // \\nicefrac macro, add an invisible plus\r\n            const lhs = expr.ast;\r\n            expr = parsePrimary(expr, options);\r\n            expr.ast = wrapFn('add', lhs, expr.ast);\r\n        }\r\n        if (atom && atom.type === 'msubsup') {\r\n            expr = parseSupsub(expr, options);\r\n        }\r\n        expr = parsePostfix(expr, options);\r\n\r\n    } else if (atom.type === 'genfrac' || atom.type === 'surd') {\r\n        // A fraction or a square/cube root\r\n        expr.ast = atom.toAST(options);\r\n        expr = parseSupsub(expr, options);\r\n        expr = parsePostfix(expr, options);\r\n\r\n    } else if (atom.type === 'mord' || atom.type === 'mbin') {\r\n        // A 'mord' but not a number: either an identifier ('x') or\r\n        // a function ('\\\\Zeta')\r\n        if (isFunction(val) && !isOperator(atom)) {\r\n            // A function\r\n            expr.ast = { fn: val };\r\n            expr = parseSupsub(expr, options);\r\n\r\n            const fn = expr.ast;\r\n            const arg = parsePrimary(expr, options).ast;\r\n            if (arg && /^(list0|list|list2)$/.test(arg.fn)) {\r\n                fn.arg = arg.arg;\r\n            } else if (arg) {\r\n                fn.arg = [arg]\r\n            }\r\n            expr.ast = fn;\r\n        } else {\r\n            // An identifier\r\n            expr.ast = atom.toAST(options);\r\n            if (expr.ast.sym === 'ⅈ') {\r\n                // It's 'i', the imaginary unit\r\n                expr.ast = wrapNum({im: \"1\"});\r\n            }\r\n            expr = parseSupsub(expr);\r\n        }\r\n        expr = parsePostfix(expr, options);\r\n\r\n    } else if (atom.type === 'textord') {\r\n        // Note that 'textord' can also be operators, and are handled as such\r\n        // in parseExpression()\r\n        if (!isOperator(atom)) {\r\n            // This doesn't look like a textord operator\r\n            if (!Definitions.RIGHT_DELIM[atom.latex ? atom.latex.trim() : atom.body]) {\r\n                // Not an operator, not a fence, it's a symbol or a function\r\n                if (isFunction(val)) {\r\n                    // It's a function\r\n                    expr.ast = { fn: val };\r\n                    expr = parseSupsub(expr, options);\r\n\r\n                    const fn = expr.ast;\r\n                    expr.index += 1;  // Skip the function name\r\n                    fn.arg = [parsePrimary(expr, options).ast];\r\n                    expr.ast = fn;\r\n\r\n                    expr = parsePostfix(expr, options);\r\n\r\n                } else {\r\n                    // It was a symbol...\r\n                    expr.ast = atom.toAST(options);\r\n                    if (typeof atom.superscript === 'undefined') {\r\n                        expr.index += 1;\r\n                    }\r\n                    expr = parseSupsub(expr, options);\r\n                    expr = parsePostfix(expr, options);\r\n                }\r\n            }\r\n        }\r\n\r\n    } else if (atom.type === 'mop') {\r\n        // Could be a function or an operator.\r\n        if ((/^\\\\(mathop|operatorname|operatorname\\*)/.test(atom.latex) || isFunction(val)) &&\r\n            !isOperator(atom)) {\r\n\r\n            expr.ast = { fn: /^\\\\(mathop|operatorname|operatorname\\*)/.test(atom.latex) ? atom.body : val};\r\n            expr = parseSupsub(expr, options);\r\n\r\n            if (hasSup(expr.ast)) {\r\n                // There was an exponent with the function.\r\n                // This may be an inverse function\r\n                const INVERSE_FUNCTION = {\r\n                    'sin' : 'arcsin',\r\n                    'cos':  'arccos',\r\n                    'tan':  'arctan',\r\n                    'cot':  'arccot',\r\n                    'sec':  'arcsec',\r\n                    'csc':  'arccsc',\r\n                    'sinh': 'arsinh',\r\n                    'cosh': 'arcosh',\r\n                    'tanh': 'artanh',\r\n                    'csch': 'arcsch',\r\n                    'sech': 'arsech',\r\n                    'coth': 'arcoth'\r\n                };\r\n                if (asMachineNumber(expr.ast.sup) === -1 && INVERSE_FUNCTION[val]) {\r\n                    expr.ast = wrapFn(INVERSE_FUNCTION[val], parsePrimary(expr, options).ast);\r\n                } else {\r\n                    // Keep the exponent, add the argument\r\n                    const fn = expr.ast;\r\n                    fn.arg = [parsePrimary(expr, options).ast];\r\n                    expr.ast = fn;\r\n                }\r\n\r\n            } else {\r\n                const fn = expr.ast;\r\n                const arg = parsePrimary(expr, options).ast;\r\n                if (arg && /^(list0|list|list2)$/.test(arg.fn)) {\r\n                    fn.arg = arg.arg;\r\n                } else if (arg) {\r\n                    fn.arg = [arg]\r\n                }\r\n\r\n                expr.ast = fn;\r\n            }\r\n        }\r\n    } else if (atom.type === 'array') {\r\n       expr.index += 1;\r\n       expr.ast = atom.toAST(options);\r\n\r\n    } else if (atom.type === 'group') {\r\n        expr.index += 1;\r\n        expr.ast = atom.toAST(options);\r\n\r\n    } else if (atom.type === 'mclose') {\r\n        return expr;\r\n\r\n    } else if (atom.type === 'error') {\r\n        expr.index += 1;\r\n        expr.ast = { error: atom.latex };\r\n        return expr;\r\n    }\r\n\r\n\r\n    if (expr.ast === undefined) {\r\n        // Parse either a group of paren, and return their content as the result\r\n        // or a pair of delimiters, and return them as a function applied\r\n        // to their content, i.e. \"|x|\" -> {fn: \"||\", arg: \"x\"}\r\n        const delim = parseDelim(expr, '(', ')', options) || parseDelim(expr, null, null, options);\r\n        if (delim) {\r\n            expr = delim;\r\n        } else if (!isOperator(atom)) {\r\n            // This is not an operator (if it is, it may be an operator\r\n            // dealing with an empty lhs. It's possible.\r\n            // Couldn't interpret the expression. Output an error.\r\n            if (atom.type === 'placeholder') {\r\n                // Default value for a placeholder is 0\r\n                // (except for the denominator of a 'genfrac')\r\n                expr.ast = wrapNum(0);\r\n            } else {\r\n                expr.ast = {text: '?'};\r\n                expr.ast.error = 'Unexpected token ' + \"'\" + atom.type + \"'\";\r\n                if (atom.latex) {\r\n                    expr.ast.latex = atom.latex;\r\n                } else if (atom.body && atom.toLatex) {\r\n                    expr.ast.latex = atom.toLatex();\r\n                }\r\n            }\r\n            expr.index += 1;    // Skip the unexpected token, and attempt to continue\r\n        }\r\n    }\r\n\r\n    atom = expr.atoms[expr.index];\r\n    if (atom && (atom.type === 'mord' ||\r\n            atom.type === 'surd' ||\r\n            atom.type === 'mop' ||\r\n            atom.type === 'mopen' ||\r\n            atom.type === 'sizeddelim' ||\r\n            atom.type === 'leftright')) {\r\n        if (atom.type === 'sizeddelim') {\r\n            for (const d in Definitions.RIGHT_DELIM) {\r\n                if (atom.delim === Definitions.RIGHT_DELIM[d]) {\r\n                    // This is (most likely) a closing delim, exit.\r\n                    // There are ambiguous cases, for example |x|y|z|.\r\n                    expr.index += 1;\r\n                    return expr;\r\n                }\r\n            }\r\n        }\r\n        if ((atom.type === 'mord' || atom.type === 'textord' || atom.type === 'mop') &&\r\n             isOperator(atom)) {\r\n            // It's actually an operator\r\n            return expr;\r\n        }\r\n        const lhs = expr.ast;\r\n        expr.ast = {};\r\n        expr = parsePrimary(expr, options);\r\n        if (expr && expr.ast && lhs) {\r\n            if (isFunction(lhs.fn) &&\r\n                typeof lhs.arg === 'undefined' ||\r\n                (Array.isArray(lhs.arg) && lhs.arg.length === 0)) {\r\n                // A function with no arguments followed by a list ->\r\n                // the list becomes the argument to the function\r\n                if (expr.ast.fn === 'list2' || expr.ast.fn === 'list') {\r\n                    expr.ast = wrapFn(lhs.fn, expr.ast.arg);\r\n                } else {\r\n                    // A function \"f(x)\" or \"√x\" followed by something else:\r\n                    // implicit multiply\r\n                    expr.ast = wrapFn('multiply', lhs, expr.ast);\r\n                }\r\n            } else {\r\n                // Invisible times, e.g. '2x'\r\n                if (expr.ast.fn === 'multiply') {\r\n                    expr.ast.arg.unshift(lhs);\r\n                } else if (numberIm(lhs) === 0 && numberRe(lhs) !== 0 &&\r\n                    numberIm(expr.ast) === 1 && numberRe(expr.ast) === 0) {\r\n                    // Imaginary number, i.e. \"3i\"\r\n                    expr.ast = wrapNum({im: numberRe(lhs).toString()});\r\n                } else {\r\n                    expr.ast = wrapFn('multiply', lhs, expr.ast);\r\n                }\r\n            }\r\n        } else {\r\n            expr.ast = lhs;\r\n        }\r\n    }\r\n\r\n    return expr;\r\n}\r\n\r\n/**\r\n * Given an atom or an array of atoms, return their AST representation as\r\n * an object.\r\n * @param {object} expr An expressions, including expr.atoms, expr.index,\r\n * expr.minPrec the minimum precedence that this parser should parse\r\n * before returning; expr.lhs (optional); expr.ast, the resulting AST.\r\n * @return {object} the expr object, updated\r\n * @private\r\n */\r\nfunction parseExpression(expr, options) {\r\n    expr.index = expr.index || 0;\r\n    expr.ast = undefined;\r\n    if (expr.atoms.length === 0 || expr.index >= expr.atoms.length) return expr;\r\n    expr.minPrec = expr.minPrec || 0;\r\n\r\n    let lhs = parsePrimary(expr, options).ast;\r\n\r\n    let done = false;\r\n    const minPrec = expr.minPrec;\r\n    while (!done) {\r\n        const atom = expr.atoms[expr.index];\r\n        const digraph = parseDigraph(expr);\r\n        done = !atom || atom.mode === 'text' || (!digraph && !isOperator(atom));\r\n        let prec, assoc;\r\n        if (!done) {\r\n            [prec, assoc] = digraph ?\r\n                [getPrecedence(digraph), getAssociativity(digraph)] :\r\n                opPrec(atom);\r\n            done = prec < minPrec\r\n        }\r\n        if (!done) {\r\n            const opName = digraph || getCanonicalName(getString(atom));\r\n            if (assoc === 'left') {\r\n                expr.minPrec = prec + 1;\r\n            } else {\r\n                expr.minPrec = prec;\r\n            }\r\n            expr.index += 1;\r\n            if (opName === '|') {\r\n                if (typeof atom.subscript !== 'undefined' ||\r\n                    (expr.atoms[expr.index] &&\r\n                    typeof expr.atoms[expr.index].subscript !== 'undefined' &&\r\n                    expr.atoms[expr.index].type === 'msubsup')\r\n                        ) {\r\n                    // Bind is a special function. It doesn't have a rhs, and\r\n                    // its argument is a subscript.\r\n                    expr.ast = {};\r\n                    const sub_arg = parseSupsub(expr, options).ast.sub;\r\n                    lhs = wrapFn('bind', lhs);\r\n                    if (sub_arg && sub_arg.fn === 'equal' && lhs.arg) {\r\n                        // This is a subscript of the form \"x=...\"\r\n                        lhs.arg.push(getArg(sub_arg, 0));\r\n                        lhs.arg.push(getArg(sub_arg, 1));\r\n                    } else if (sub_arg && lhs.arg && (sub_arg.fn === 'list' || sub_arg.fn === 'list2')) {\r\n                        // Form: \"x=0;n=3;z=5\"\r\n                        let currentSym = {sym: \"x\"};\r\n                        for (let i = 0; i < sub_arg.arg.length; i++) {\r\n                            if (sub_arg.arg[i].fn === 'equal') {\r\n                                currentSym = getArg(sub_arg.arg[i], 0);\r\n                                lhs.arg.push(currentSym);\r\n                                lhs.arg.push(getArg(sub_arg.arg[i], 1));\r\n                            } else {\r\n                                lhs.arg.push(currentSym);\r\n                                lhs.arg.push(sub_arg.arg[i]);\r\n                            }\r\n                        }\r\n                    } else if (sub_arg) {\r\n                        // Default identifier if none provided\r\n                        lhs.arg.push({sym: \"x\"});\r\n                        lhs.arg.push(sub_arg);\r\n                    }\r\n                } else {\r\n                    // That was a \"|\", but not with a subscript after, so\r\n                    // it's the end of the expression, might be a right fence.\r\n                    done = true;\r\n                }\r\n\r\n            } else {\r\n                const rhs = parseExpression(expr, options).ast;\r\n\r\n                // Some operators (',' and ';' for example) convert into a function\r\n                // even if there's only two arguments. They're super associative...\r\n                let fn = SUPER_ASSOCIATIVE_FUNCTION[opName];\r\n                if (fn && lhs && lhs.fn !== fn) {\r\n                    // Only promote them if the lhs is not already the same function.\r\n                    // If it is, we'll combine it below.\r\n                    lhs = wrapFn(fn, lhs);\r\n                }\r\n\r\n                // Promote subtraction to an addition\r\n                if (opName === '-') {\r\n                    if (lhs && lhs.arg && lhs.fn === 'add') {\r\n                        // add(x,y) - z -> add(x, y, -z)\r\n                        if (rhs !== undefined) lhs.arg.push(negate(rhs));\r\n                    } else if (lhs && lhs.fn === 'subtract') {\r\n                        // x-y - z      -> add(x, -y, -z)\r\n                        lhs = wrapFn('add', getArg(lhs, 0), negate(getArg(lhs, 1)), negate(rhs));\r\n                    } else if (isNumber(lhs) &&  !hasSup(lhs) &&\r\n                        isNumber(rhs) && !hasSup(rhs) &&\r\n                        (typeof rhs.num.re === 'undefined' || rhs.num.re === '0') &&\r\n                        typeof rhs.num.im !== 'undefined') {\r\n                        lhs = {num: {\r\n                            re: lhs.num,\r\n                            im: (-parseFloat(rhs.num.im)).toString()\r\n                        }};\r\n                    } else {\r\n                        lhs = wrapFn('subtract', lhs, rhs);\r\n                    }\r\n                } else {\r\n                    // Is there a function (e.g. 'add') implementing the\r\n                    // associative version of this operator (e.g. '+')?\r\n                    fn = ASSOCIATIVE_FUNCTION[opName];\r\n                    if (fn === 'add' && lhs && lhs.fn === 'subtract') {\r\n                        // subtract(x, y) + z -> add(x, -y, z)\r\n                        lhs = wrapFn('add', getArg(lhs, 0), negate(getArg(lhs, 1)), rhs);\r\n                    } else if (fn && lhs && lhs.fn === fn && !hasSup(lhs)) {\r\n                        // add(x,y) + z -> add(x, y, z)\r\n                        if (typeof rhs !== 'undefined') {\r\n                            if (rhs.fn === fn && !hasSup(rhs) && rhs.arg) {\r\n                                // add(x, y) = add (a, b)\r\n                                lhs.arg = [...lhs.arg, ...rhs.arg];\r\n                            } else if (lhs.arg) {\r\n                                lhs.arg.push(rhs);\r\n                            }\r\n                        }\r\n                    } else if (fn && rhs && rhs.arg && rhs.fn === fn) {\r\n                        // x =    y = z -> equal(x, y, z)\r\n                        rhs.arg.unshift(lhs);\r\n                        lhs = rhs;\r\n                    } else if (fn === 'multiply' &&\r\n                        isNumber(lhs) && !hasSup(lhs) &&\r\n                        rhs && asMachineNumber(rhs) === 10 && isNumber(rhs.sup)){\r\n                        // n * 10^m\r\n                        lhs = wrapNum(asMachineNumber(lhs) * Math.pow(10, asMachineNumber(rhs.sup)));\r\n                    } else if ((fn === 'add') &&\r\n                        isNumber(lhs) && !hasSup(lhs) &&\r\n                        rhs && numberIm(rhs) !== 0 && !hasSup(rhs)) {\r\n                            lhs = {num: {\r\n                                re: lhs.num,\r\n                                im: rhs.num.im\r\n                            }};\r\n                    } else {\r\n                        lhs = wrapFn(fn || OP_NAME[opName] || opName, lhs, rhs);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    expr.ast = lhs;\r\n    return expr;\r\n}\r\n\r\n\r\n/**\r\n * Return a string escaped as necessary to comply with the JSON format\r\n * @param {string} s\r\n * @return {string}\r\n * @private\r\n */\r\nfunction escapeText(s) {\r\n    return s\r\n    .replace(/[\\\\]/g, '\\\\\\\\')\r\n    .replace(/[\"]/g, '\\\\\"')\r\n    .replace(/[\\b]/g, \"\\\\b\")\r\n    .replace(/[\\f]/g, \"\\\\f\")\r\n    .replace(/[\\n]/g, \"\\\\n\")\r\n    .replace(/[\\r]/g, \"\\\\r\")\r\n    .replace(/[\\t]/g, \"\\\\t\");\r\n}\r\n\r\n/**\r\n * Return an AST representation of a single atom\r\n *\r\n * @return {object}\r\n * @method MathAtom#toAST\r\n * @private\r\n */\r\nMathAtom.MathAtom.prototype.toAST = function(options) {\r\n    const MATH_VARIANTS = {\r\n        'bb':       'double-struck',\r\n        'cal':      'script',\r\n        'scr':      'script',\r\n        'frak':     'fraktur',\r\n        'cmrss':    'sans-serif',\r\n        'cmrtt':    'monospace'\r\n    };\r\n    // TODO: See https://www.w3.org/TR/MathML2/chapter6.html#chars.letter-like-tables\r\n\r\n    let result = {};\r\n    let sym = '';\r\n    let m;\r\n    let lhs, rhs;\r\n    let variant = MATH_VARIANTS[this.baseFontFamily || this.fontFamily];\r\n    let variantSym;\r\n\r\n    let style = '';\r\n    if (this.fontSeries === 'b') style += 'bold';\r\n    if (this.fontShape === 'it') style += 'italic';\r\n\r\n    const command = this.latex ? this.latex.trim() : null;\r\n    switch(this.type) {\r\n        case 'root':\r\n        case 'group':\r\n            // Macros appear as group as well. Handle some of them.\r\n            if (this.latex && this.latex.startsWith('\\\\nicefrac')) {\r\n                m = this.latex.slice(9).match(/({.*}|[^}])({.*}|[^}])/);\r\n                if (m) {\r\n                    if (m[1].length === 1) {\r\n                        lhs = m[1];\r\n                    } else {\r\n                        lhs = m[1].substr(1, m[1].length - 2);\r\n                    }\r\n                    lhs = ParserModule.parseTokens(Lexer.tokenize(lhs),\r\n                        'math', null, options.macros);\r\n\r\n                    if (m[2].length === 1) {\r\n                        rhs = m[2];\r\n                    } else {\r\n                        rhs = m[2].substr(1, m[2].length - 2);\r\n                    }\r\n                    rhs = ParserModule.parseTokens(Lexer.tokenize(rhs),\r\n                        'math', null, options.macros);\r\n\r\n                    result = wrapFn('divide', parse(lhs, options), parse(rhs, options));\r\n                } else {\r\n                    result.fn = 'divide';\r\n                }\r\n            } else {\r\n                result.group = parse(this.body, options);\r\n            }\r\n            break;\r\n\r\n        case 'genfrac':\r\n            // If there's no denominator, or a placeholder, use \"1\" as the value\r\n            result = wrapFn('divide',\r\n                parse(this.numer, options),\r\n                this.denom && this.denom[0] && this.denom[0].type === 'placeholder' ?\r\n                    wrapNum(1) : parse(this.denom, options));\r\n            break;\r\n\r\n        case 'surd':\r\n            if (this.index) {\r\n                result = wrapFn('pow',\r\n                    parse(this.body, options),\r\n                    wrapFn('divide', 1, parse(this.index, options)));\r\n            } else {\r\n                result = wrapFn('sqrt', parse(this.body, options));\r\n            }\r\n            break;\r\n\r\n        case 'rule':\r\n            break;\r\n\r\n        case 'line':\r\n        case 'overlap':\r\n        case 'accent':\r\n            break;\r\n\r\n        case 'overunder':\r\n            break;\r\n\r\n        case 'mord':\r\n        case 'textord':\r\n        case 'mbin':\r\n            // Check to see if it's a \\char command\r\n            m = !command ? undefined : command.match(/[{]?\\\\char\"([0-9abcdefABCDEF]*)[}]?/);\r\n            if (m) {\r\n                sym = String.fromCodePoint(parseInt(m[1], 16));\r\n            } else {\r\n                sym = getCanonicalName(getString(this));\r\n                if (sym.length > 0 && sym.charAt(0) === '\\\\') {\r\n                    // This is an identifier with no special handling.\r\n                    // Use the Unicode value if outside ASCII range\r\n                    if (typeof this.body === 'string') {\r\n                        // TODO: consider making this an option?\r\n                        // if (this.body.charCodeAt(0) > 255) {\r\n                        //     sym = '&#x' + ('000000' +\r\n                        //         this.body.charCodeAt(0).toString(16)).substr(-4) + ';';\r\n                        // } else {\r\n                            sym = this.body;\r\n                        // }\r\n                    }\r\n                }\r\n            }\r\n            variantSym = escapeText(\r\n                Definitions.mathVariantToUnicode(sym, variant, style)\r\n                );\r\n            if (variantSym !== sym) {\r\n                // If there's a specific Unicode character matching this one\r\n                // no need to record a variant.\r\n                result = {sym: variantSym};\r\n                variant = 'normal';\r\n            } else {\r\n                result = {sym: sym};\r\n            }\r\n            break;\r\n\r\n        // case 'mpunct':\r\n        //     result = '<mo separator=\"true\">' + command + '</mo>';\r\n        //     break;\r\n\r\n        case 'minner':\r\n            break;\r\n\r\n        case 'mop':\r\n            break;\r\n\r\n        case 'box':\r\n            result = parse(this.body, options);\r\n            break;\r\n\r\n        case 'enclose':\r\n            // result = '<menclose notation=\"';\r\n            // for (const notation in this.notation) {\r\n            //     if (Object.prototype.hasOwnProperty.call(this.notation, notation) &&\r\n            //         this.notation[notation]) {\r\n            //         result += sep + notation;\r\n            //         sep = ' ';\r\n            //     }\r\n            // }\r\n            // result += '\">' + toAST(this.body).mathML + '</menclose>';\r\n            break;\r\n\r\n        case 'array':\r\n            if (this.env.name === 'cardinality') {\r\n                result = wrapFn('card', parse(this.array, options));\r\n\r\n            } else if (/array|matrix|pmatrix|bmatrix/.test(this.env.name)) {\r\n                result = { fn: 'array', args: [] };\r\n                for (const row of this.array) {\r\n                    result.args.push(row.map(cell => parse(cell, options)));\r\n                }\r\n\r\n            } else if (this.env.name === 'cases') {\r\n                result = { fn: 'cases', args: [] };\r\n                for (const row of this.array) {\r\n                    if (row[0]) {\r\n                        const statement = [];\r\n                        statement.push(parse(row[0], options));\r\n                        let condition = parse(row[1], options);\r\n                        if (condition) {\r\n                            if (condition.fn === 'text' && condition.arg) {\r\n                                if (/^(if|when|for)$/i.test(condition.arg[0].trim() )) {\r\n                                    condition = condition.arg.filter(\r\n                                        x => typeof x !== 'string')\r\n;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        statement.push(condition || {});\r\n                        result.args.push(statement);\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n\r\n        case 'spacing':\r\n        case 'space':\r\n        case 'mathstyle':\r\n            break;\r\n        default:\r\n            result = undefined;\r\n            console.warn('Unhandled atom \"' + this.type + '\" in \"' + (this.latex || this.body) + '\"');\r\n    }\r\n\r\n    if (result && variant && variant !== 'normal') {\r\n        result.variant = variant;\r\n    }\r\n\r\n    if (result && typeof this.cssClass === 'string') {\r\n        result.class = this.cssClass;\r\n    }\r\n    if (result && typeof this.cssId === 'string') {\r\n        result.id = this.cssId;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\nfunction filterPresentationAtoms(atoms) {\r\n    if (!atoms) return [];\r\n    let result;\r\n    if (Array.isArray(atoms)) {\r\n        result = [];\r\n        for (const atom of atoms) {\r\n            const filter = filterPresentationAtoms(atom);\r\n            result = result.concat(filter);\r\n        }\r\n    } else {\r\n        if (atoms.type === 'spacing') {\r\n            return [];\r\n        } else if (atoms.type === 'first' || atoms.type === 'box') {\r\n            result = filterPresentationAtoms(atoms.body);\r\n        } else {\r\n            if (atoms.body && Array.isArray(atoms.body)) {\r\n                atoms.body = filterPresentationAtoms(atoms.body);\r\n            }\r\n            if (atoms.superscript && Array.isArray(atoms.superscript)) {\r\n                atoms.superscript = filterPresentationAtoms(atoms.superscript);\r\n            }\r\n            if (atoms.subscript && Array.isArray(atoms.subscript)) {\r\n                atoms.subscript = filterPresentationAtoms(atoms.subscript);\r\n            }\r\n            if (atoms.index && Array.isArray(atoms.index)) {\r\n                atoms.index = filterPresentationAtoms(atoms.index);\r\n            }\r\n            if (atoms.denom && Array.isArray(atoms.denom)) {\r\n                atoms.denom = filterPresentationAtoms(atoms.denom);\r\n            }\r\n            if (atoms.numer && Array.isArray(atoms.numer)) {\r\n                atoms.numer = filterPresentationAtoms(atoms.numer);\r\n            }\r\n            if (atoms.array && Array.isArray(atoms.array)) {\r\n                atoms.array = atoms.array.map(row => row.map(cell =>\r\n                    filterPresentationAtoms(cell)));\r\n            }\r\n            result = [atoms];\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Parse a sequence of text zone and math zones:\r\n * <sentence> := ((<text>) <expression>)+\r\n * @param {object} expr\r\n * @return  {object}\r\n * @private\r\n */\r\nfunction parseSentence(expr, options) {\r\n    expr.index = expr.index || 0;\r\n    expr.ast = undefined;\r\n\r\n    const zones = [];\r\n    // Iterate while we have atoms to look at\r\n    while (expr.atoms[expr.index]) {\r\n        if (expr.atoms[expr.index].mode === 'text') {\r\n            // Text mode atom...\r\n            let text = '';\r\n            while (expr.atoms[expr.index] && expr.atoms[expr.index].mode === 'text') {\r\n                text += expr.atoms[expr.index].body;\r\n                expr.index += 1;\r\n            }\r\n            zones.push(text);\r\n        } else {\r\n            const z = parseExpression(expr, options).ast;\r\n            // Something went wrong in parsing the expression...\r\n            if (!z) return undefined;\r\n            zones.push(z);\r\n        }\r\n    }\r\n\r\n    if (zones.length > 1) {\r\n        return wrapFn('text', ...zones);\r\n    }\r\n\r\n    return zones[0] || undefined;\r\n}\r\n\r\n/**\r\n * @param {Atoms[]} atoms\r\n * @return  {object}\r\n * @private\r\n */\r\nfunction parse(atoms, options) {\r\n    return parseSentence({atoms: filterPresentationAtoms(atoms)}, options);\r\n}\r\n\r\n\r\nMathAtom.toAST = function(atoms, options) {\r\n    return parse(atoms, options);\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} fence - The fence to wrap around the arguments\r\n * @return {string} - A string wrapped in the fence\r\n * @private\r\n */\r\nfunction wrapFence(fence) {\r\n    const args = Array.prototype.slice.call(arguments);\r\n    args.shift();\r\n    fence = fence || '.. ';\r\n    let result = '';\r\n    if (args.length > 0) {\r\n        if (fence[0] !== '.') result += fence[0];\r\n        let sep = '';\r\n        for (const arg of args) {\r\n            result += sep + arg;\r\n            sep = fence[2];\r\n        }\r\n        if (fence[1] !== '.') result += fence[1];\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * Return a formatted mantissa:\r\n * 1234567 -> 123 456 7...\r\n * 1233333 -> 12(3)\r\n * @param {string} m\r\n * @param {Object.<string, any>} config\r\n * @private\r\n */\r\nfunction formatMantissa(m, config) {\r\n    const originalLength = m.length;\r\n    // The last digit may have been rounded, if it exceeds the precison,\r\n    // which could throw off the\r\n    // repeating pattern detection. Ignore   it.\r\n    m = m.substr(0, config.precision - 2);\r\n\r\n    for (let i = 0; i < m.length - 16; i++) {\r\n        // Offset is the part of the mantissa that is not repeating\r\n        const offset = m.substr(0, i);\r\n        // Try to find a repeating pattern of length j\r\n        for (let j = 0; j < 17; j++) {\r\n            const cycle = m.substr(i, j + 1);\r\n            const times = Math.floor((m.length - offset.length) / cycle.length);\r\n            if (times > 1) {\r\n                if ((offset + cycle.repeat(times + 1)).startsWith(m)) {\r\n                    // We've found a repeating pattern!\r\n                    if (cycle === '0') {\r\n                        return offset.replace(/(\\d{3})/g, '$1' + config.groupSeparator);\r\n                    }\r\n                    return offset.replace(/(\\d{3})/g, '$1' + config.groupSeparator) +\r\n                        config.beginRepeatingDigits +\r\n                        cycle.replace(/(\\d{3})/g, '$1' + config.groupSeparator) +\r\n                        config.endRepeatingDigits;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (originalLength !== m.length) {\r\n        m += '\\\\ldots';\r\n    }\r\n    return  m.replace(/(\\d{3})/g, '$1' + config.groupSeparator);\r\n}\r\n\r\nfunction parseFloatToPrecision(num) {\r\n    return parseFloat(parseFloat(num).toPrecision(15))\r\n}\r\n\r\n /**\r\n *\r\n * @param {string|number} num - A number, represented as a string (e.g. \"-12.45\"\r\n *  particularly useful for arbitrary precision numbers) or a number (-12.45)\r\n * @return {string} A LaTeX representation of the AST\r\n * @private\r\n */\r\nfunction numberAsLatex(num, config) {\r\n    let result = '';\r\n\r\n    if (typeof config.precision === 'number') {\r\n        if (typeof num === 'number') {\r\n            num = parseFloatToPrecision(num);\r\n        } else {\r\n            let sign = '';\r\n            let exponent = '';\r\n            if (num[0] === '-') {\r\n                sign = '-';\r\n                num = num.substr(1);\r\n            } else if (num[0] === '+') {\r\n                num = num.substr(1);\r\n            }\r\n            if (num.indexOf('.') >= 0) {\r\n                const m = num.match(/(\\d*).(\\d*)([e|E]([-+]?[0-9]*))?/);\r\n                const base = m[1];\r\n                const mantissa = m[2].substring(0,\r\n                    Math.min(config.precision - base.length, m[2].length));\r\n                exponent = m[4] || '';\r\n\r\n                if (base === '0') {\r\n                    let p = 0;  // Index of the first non-zero digit after the decimal\r\n                    while (mantissa[p] === '0' && p < mantissa.length) {\r\n                        p += 1;\r\n                    }\r\n                    let r = '';\r\n                    if (p <= 4) {\r\n                        r = '0' + config.decimalMarker;\r\n                        r += mantissa.substr(0, p);\r\n                        r += formatMantissa(num.substr(r.length), config);\r\n                    } else if (p + 1 >= config.precision) {\r\n                        r = '0';\r\n                        sign = '';\r\n                    } else {\r\n                        r = num[p];\r\n                        const f = formatMantissa(num.substr(p + 1), config);\r\n                        if (f) {\r\n                            r += config.decimalMarker + f;\r\n                        }\r\n                    }\r\n                    if (r !== '0') {\r\n                        if (num.length - 1 > config.precision && !r.endsWith('}') && !r.endsWith('\\\\ldots')) {\r\n                            r += '\\\\ldots';\r\n                        }\r\n                        if (p > 4) {\r\n                            r += config.exponentProduct;\r\n                            if (config.exponentMarker) {\r\n                                r += config.exponentMarker + (1 - p).toString();\r\n                            } else {\r\n                                r += '10^{' + (1 - p).toString() + '}';\r\n                            }\r\n                        }\r\n                    }\r\n                    num = r;\r\n                } else {\r\n                    num = base.replace(/\\B(?=(\\d{3})+(?!\\d))/g, config.groupSeparator);\r\n                    const f = formatMantissa(mantissa, config);\r\n                    if (f) {\r\n                        num += config.decimalMarker + f;\r\n                        // if (num.length - 1 > config.precision && !num.endsWith('}') && !num.endsWith('\\\\ldots')) {\r\n                        //     num += '\\\\ldots';\r\n                        // }\r\n                    }\r\n                }\r\n            } else if (num.length > config.precision) {\r\n                const len = num.length;\r\n                let r = num[0];\r\n                const f = formatMantissa(num.substr(2), config);\r\n                if (f) {\r\n                    r += config.decimalMarker + f;\r\n                    if (r[r.length - 1] !== '}') {\r\n                        r += '\\\\ldots';\r\n                    }\r\n                }\r\n                if (r !== '1') {\r\n                    r += config.exponentProduct;\r\n                } else {\r\n                    r = '';\r\n                }\r\n                if (config.exponentMarker) {\r\n                    r += config.exponentMarker + (len - 2).toString();\r\n                } else {\r\n                    r += '10^{' + (len - 2).toString() + '}';\r\n                }\r\n                num = r;\r\n            } else {\r\n                num = num.replace(/\\B(?=(\\d{3})+(?!\\d))/g, config.groupSeparator);\r\n            }\r\n\r\n            if (exponent) {\r\n                // There is an exponent...\r\n                if (config.exponentMarker) {\r\n                    exponent = config.exponentMarker + exponent;\r\n                } else {\r\n                    exponent = config.exponentProduct + ' 10^{' + exponent + '}';\r\n                }\r\n            }\r\n\r\n\r\n            return sign + num + exponent;\r\n        }\r\n    }\r\n    if (config.scientificNotation === 'engineering') {\r\n        // Ensure the exponent is a multiple of 3\r\n        if (num === 0) {\r\n            result = '0';\r\n        } else {\r\n            const y = Math.abs(num);\r\n            let exponent = Math.round(Math.log10(y));\r\n            exponent = exponent - exponent % 3;\r\n            if (y < 1000) exponent = 0;\r\n            let mantissa = y / Math.pow(10, exponent);\r\n            const m = mantissa.toString().match(/^(.*)\\.(.*)$/);\r\n            if (m && m[1] && m[2]) {\r\n                mantissa = m[1] + config.decimalMarker + m[2];\r\n            }\r\n            if (config.groupSeparator) {\r\n                mantissa = formatMantissa(mantissa.toExponential(), config);\r\n            }\r\n            if (exponent === 0) {\r\n                exponent = '';\r\n            } else if (config.exponentMarker) {\r\n                exponent = config.exponentMarker + exponent;\r\n            } else {\r\n                exponent = config.exponentProduct + ' 10^{' + exponent + '}';\r\n            }\r\n            result = (num < 0 ? '-' : '') + mantissa + exponent;\r\n        }\r\n    } else {\r\n        const valString = typeof num === 'string' ? num : num.toString();\r\n        let m = valString.match(/^(.*)[e|E]([-+]?[0-9]*)$/i);\r\n        let base, exponent, mantissa;\r\n        base = valString;\r\n        mantissa = '';\r\n        if (m && m[1] && m[2]) {\r\n            // There is an exponent...\r\n            base = m[1];\r\n            if (config.exponentMarker) {\r\n                exponent = config.exponentMarker + m[2];\r\n            } else {\r\n                exponent = config.exponentProduct + ' 10^{' + m[2] + '}';\r\n            }\r\n        }\r\n        m = base.match(/^(.*)\\.(.*)$/);\r\n        if (m && m[1] && m[2]) {\r\n            base = m[1];\r\n            mantissa = m[2];\r\n        }\r\n        if (config.groupSeparator) {\r\n            base = base.replace(/\\B(?=(\\d{3})+(?!\\d))/g, config.groupSeparator);\r\n            mantissa = formatMantissa(mantissa, config);\r\n        }\r\n        if (mantissa) mantissa = config.decimalMarker + mantissa;\r\n        result = base + mantissa + (exponent || '');\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n\r\n /**\r\n *\r\n * @param {object} ast - Abstract Syntax Tree object (in canonical form)\r\n * @return {string} A LaTeX representation of the AST\r\n * @private\r\n */\r\nfunction asLatex(ast, options) {\r\n    const config = Object.assign({\r\n        precision:              14,\r\n        decimalMarker:          '.',\r\n        groupSeparator:         '\\\\, ',\r\n        product:                '\\\\cdot ',   // \\\\times, \\\\,\r\n        exponentProduct:        '\\\\cdot ',\r\n        exponentMarker:         '',\r\n        arcSeparator:           '\\\\,',\r\n        scientificNotation:     'auto', // 'engineering', 'auto', 'on'\r\n        beginRepeatingDigits:   '\\\\overline{',\r\n        endRepeatingDigits:     '}',\r\n    }, options);\r\n\r\n    let result = '';\r\n\r\n    if (ast === undefined) return '';\r\n    if (typeof ast === 'string') {\r\n        ast = JSON.parse(ast);\r\n    }\r\n\r\n    if (ast.latex) {\r\n        // If ast.latex key is present, use it to render the element\r\n        result = ast.latex;\r\n\r\n    } else if (isNumber(ast)) {\r\n        const val = asMachineNumber(ast);\r\n        if (val === -Infinity) {\r\n            result = '-\\\\infty ';\r\n        } else if (val === Infinity) {\r\n            result = '\\\\infty ';\r\n        } else if (typeof ast.num === 'object' && (typeof ast.num.re === 'string' || typeof ast.num.im === 'string')) {\r\n            const re = numberRe(ast);\r\n            const im = numberIm(ast);\r\n            if (isNaN(re) || isNaN(im)) {\r\n                result = '\\\\text{NaN}';\r\n            } else if (Math.abs(im) <= Number.EPSILON && Math.abs(re) <= Number.EPSILON) {\r\n                result = '0';\r\n            } else {\r\n                if (Math.abs(re) > Number.EPSILON) {\r\n                    result = numberAsLatex(re, config);\r\n                }\r\n                if (Math.abs(im) > Number.EPSILON) {\r\n                    if (Math.abs(re) > Number.EPSILON) {\r\n                        result += im > 0 ? '+' : '';\r\n                    }\r\n                    result += (Math.abs(im) !== 1 ?\r\n                        numberAsLatex(im, config) : '') + '\\\\imaginaryI ';\r\n                }\r\n            }\r\n        } else if (isNaN(val)) {\r\n            result = '\\\\text{NaN}';\r\n        } else {\r\n            result = numberAsLatex(ast.num, config);\r\n        }\r\n        if (hasSup(ast)) result += '^{' + asLatex(ast.sup, config) + '}';\r\n        if (hasSub(ast)) result += '_{' + asLatex(ast.sub, config) + '}';\r\n    \r\n    } else if (ast.group) {\r\n        result = asLatex(ast.group, config);\r\n        if (!isNumber(ast.group) && !asSymbol(ast.group)) {\r\n            result = wrapFence(ast.fence || '(),', result);\r\n        } else if (numberIm(ast.group) !== 0) {\r\n            result = wrapFence(ast.fence || '(),', result);\r\n        }\r\n        if (hasSup(ast)) result += '^{' + asLatex(ast.sup, config) + '}';\r\n        if (hasSub(ast)) result += '_{' + asLatex(ast.sub, config) + '}';\r\n\r\n    } else if (ast.fn) {\r\n        if (ast.fn === 'bind') {\r\n            result = asLatex(getArg(ast, 0), config) + '|_{';\r\n            if (ast.arg && ast.arg.length === 2) {\r\n                result += asLatex(getArg(ast, 1));\r\n            } else {\r\n                let sep = '';\r\n                for (let i = 1; i < ast.arg.length; i += 2) {\r\n                    result += sep +\r\n                        asLatex(getArg(ast, i)) +\r\n                        ' = ' +\r\n                        asLatex(getArg(ast, i + 1));\r\n                    sep = ', ';\r\n                }\r\n            }\r\n            result += '}';\r\n\r\n        } else if (ast.fn === 'divide') {\r\n            result = '\\\\frac{' + asLatex(getArg(ast, 0), config) + '}{' + asLatex(getArg(ast, 1), config) + '}';\r\n\r\n        } else if (ast.fn === 'negate') {\r\n            result = '-' + asLatex(getArg(ast, 0), config);\r\n\r\n        } else if (ast.fn === 'subtract') {\r\n            result = asLatex(getArg(ast, 0), config) + ' - ' + asLatex(getArg(ast, 1), config);\r\n\r\n        } else if ((ast.fn === 'add' || ast.fn === 'multiply') &&\r\n            Array.isArray(ast.arg)) {\r\n            const a = [];\r\n            for (const exp of ast.arg) {\r\n                if (exp.fn === 'add' || exp.fn === 'subtract') {\r\n                    a.push(wrapFence('() ', asLatex(exp, config)));\r\n                } else if (isComplexWithRealAndImaginary(exp)) {\r\n                    // Complex numbers that have both a real and imaginary part\r\n                    // should be wrapped in parentheses\r\n                    a.push(wrapFence('() ', asLatex(exp, config)));\r\n                } else if (hasSup(ast) && !(numberIm(exp) === 0 || numberIm(exp) === 1)) {\r\n                    // Wrap with parentheses if there's an exponent\r\n                    // and the imaginary part is neither 0 nor 1\r\n                    a.push(wrapFence('() ', asLatex(exp, config)));\r\n                } else {\r\n                    a.push(asLatex(exp, config));\r\n                }\r\n            }\r\n            if (ast.fn === 'multiply') {\r\n                if (ast.arg && ast.arg.length === 2 &&\r\n                    (isNumber(ast.arg[0]) || ast.arg[0].fn === 'divide') &&\r\n                    (!isNumber(ast.arg[1]) || (numberRe(ast.arg[1]) === 0 && numberIm(ast.arg[1]) === 1))\r\n                ) {\r\n                    // Invisible times:\r\n                    // (number or fraction) * not a number\r\n                    // or (number or fraction) * imaginary unit\r\n                    result = a[0] + a[1];\r\n                } else {\r\n                    result = a.join(' \\\\times ');\r\n                }\r\n            } else {\r\n                // Addition (and subtraction)\r\n                if (ast.arg && ast.arg.length === 1) {\r\n                    if (ast.arg[0].fn === 'negate' ||\r\n                        (isNumber(ast.arg[0]) && asMachineNumber(ast.arg[0]) < 0)) {\r\n                        // a[0] has a negative sign\r\n                        result = a[0];\r\n                    } else {\r\n                        // Single non-negative element, add a '+' in front\r\n                        result = '+' + a[0];\r\n                    }\r\n                } else {\r\n                    result = a[0];\r\n                    for (let i = 1; i < ast.arg.length; i++) {\r\n                        if (ast.arg[i].fn === 'negate' ||\r\n                            (isNumber(ast.arg[i]) && asMachineNumber(ast.arg[i]) < 0)) {\r\n                            // a[i] already has a negative sign, so we can do an\r\n                            // implicit add\r\n                            result += a[i];\r\n                        } else {\r\n                            result += ' + ' + a[i];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else if (ast.fn === 'list' || ast.fn === 'list2') {\r\n            const a = [];\r\n            for (const exp of ast.arg) {\r\n                a.push(asLatex(exp, config));\r\n            }\r\n\r\n            result = a.join(ast.fn === 'list2' ? '; ' : ', ');\r\n        } else if (ast.fn === 'pow' && Array.isArray(ast.arg) && ast.arg.length >= 2) {\r\n            result = asLatex(getArg(ast, 0), config);\r\n            if (!isNumber(getArg(ast, 0)) && !asSymbol(getArg(ast, 0))) {\r\n                result = wrapFence(ast.fence || '(),', result);\r\n            }\r\n\r\n            result += '^{' + asLatex(getArg(ast, 1), config) + '}';\r\n        } else if (ast.fn === 'equal' && ast.arg && ast.arg.length > 2) {\r\n            result = ast.arg.map(x => asLatex(x, config)).join(' = ');\r\n\r\n        } else {\r\n            const fn = getLatexTemplateForFunction(ast.fn);\r\n            result = fn;\r\n            let argstring = '';\r\n            const parenRequired = /%(?![01_^])/.test(fn) && Array.isArray(ast.arg) && ast.arg.length > 1;\r\n            if (parenRequired) {\r\n                // Parenthesis are required if argument list is longer than 1\r\n                result += wrapFence(ast.fence || '(),',\r\n                    ...ast.arg.map(x => asLatex(x, config)));\r\n\r\n            } else if (Array.isArray(ast.arg) && ast.arg.length > 0) {\r\n                // The parenthesis may be optional...\r\n                const arg0 = asLatex(getArg(ast, 0), config);\r\n                const arg1 = asLatex(getArg(ast, 1), config);\r\n                const argsn = [...ast.arg];\r\n                if (/%0/.test(fn)) {\r\n                    result = result.replace('%0', arg0);\r\n                    argsn.shift();\r\n                }\r\n                if (/%1/.test(fn)) {\r\n                    result = result.replace('%1', arg1);\r\n                    argsn.shift();\r\n                }\r\n\r\n                if (argsn.length > 0) {\r\n                    argstring = wrapFence(ast.fence || '(),',\r\n                        ...argsn.map(x => asLatex(x, config)));\r\n                }\r\n            } else {\r\n                // Empty argument list\r\n                argstring = wrapFence(ast.fence || '(),', '');\r\n            }\r\n\r\n            if (hasSup(ast)) {\r\n                result = result.replace('%^','^{' + asLatex(ast.sup, config) + '}');\r\n            } else {\r\n                result = result.replace('%^','');\r\n            }\r\n            if (hasSub(ast)) {\r\n                result = result.replace('%_','_{' + asLatex(ast.sub, config) + '}');\r\n            } else {\r\n                result = result.replace('%_','');\r\n            }\r\n\r\n            // Insert the arguments in the function template (%)\r\n            result = result.replace(/%(?![01_^])/, argstring);\r\n            // If there are any placeholders left, remove them\r\n            result = result.replace('%0', '').replace('%1', '');\r\n        }\r\n\r\n    } else if (typeof ast.sym === 'string') {\r\n        result = asSymbol(ast);\r\n        // Is it a Unicode value?\r\n        let m = result.match(/^&#x([0-9a-f]+);$/i);\r\n        if (m && m[1]) {\r\n            result = String.fromCodePoint(parseInt(m[1], 16));\r\n        } else {\r\n            m = result.match(/^&#([0-9]+);$/i);\r\n            if (m && m[1]) {\r\n                result = String.fromCodePoint(parseInt(m[1]));\r\n            }\r\n        }\r\n\r\n        // Is there a variant info attached to it?\r\n        if (typeof ast.variant === 'string') {\r\n            const MATH_VARIANTS = {\r\n                'normal':           'mathrm',\r\n                'double-struck':    'mathbb',\r\n                'bold':             'mathbf',\r\n                // 'script': 'mathcal',\r\n                'fraktur':          'mathfrak',\r\n                'script':           'mathscr',\r\n                'sans-serif':       'mathsf',\r\n                'monospace':        'mathtt'\r\n            };\r\n            result = '\\\\' + MATH_VARIANTS[ast.variant] +\r\n                '{' + result + '}';\r\n        }\r\n        if (hasSup(ast)) result += '^{' + asLatex(ast.sup, config) + '}';\r\n        if (hasSub(ast)) result += '_{' + asLatex(ast.sub, config) + '}';\r\n\r\n    } else if (typeof ast.text === 'string') {\r\n        result = '\\\\text{' + ast.text + '}';\r\n\r\n    }\r\n\r\n    // If there was an error attached to this node,\r\n    // display it on a red background\r\n    if (typeof ast.error === 'string') {\r\n        result = '\\\\bbox[#F56165]{' + result + '}';\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n// Export the public interface for this module\r\nexport default {\r\n    asLatex,\r\n    asMachineNumber,\r\n    isNumber,\r\n    asSymbol,\r\n}\r\n\r\n\r\n\r\n","import MathAtom from '../core/mathAtom.js';\r\nimport Popover from '../editor/editor-popover.js';\r\nimport '../core/definitions.js';\r\n\r\n// Markup\r\n// Two common flavor of markups: SSML and 'mac'. The latter is only available\r\n// when using the native TTS synthesizer on Mac OS.\r\n// Use SSML in the production rules below. The markup will either be striped\r\n// off or replaced with the 'mac' markup as necessary.\r\n//\r\n// SSML                                             Mac\r\n// ----                                             ----\r\n// <emphasis>WORD</emphasis>                        [[emph +]]WORD\r\n// <break time=\"150ms\"/>                            [[slc 150]]\r\n// <say-as interpret-as=\"character\">A</say-as>      [[char LTRL] A [[char NORM]]\r\n\r\n// https://developer.apple.com/library/content/documentation/UserExperience/Conceptual/SpeechSynthesisProgrammingGuide/FineTuning/FineTuning.html#//apple_ref/doc/uid/TP40004365-CH5-SW3\r\n\r\n// https://pdfs.semanticscholar.org/8887/25b82b8dbb45dd4dd69b36a65f092864adb0.pdf\r\n\r\n// \"<audio src='non_existing_file.au'>File could not be played.</audio>\"\r\n\r\n// \"I am now <prosody rate='+0.06'>speaking 6% faster.</prosody>\"\r\n\r\n\r\n\r\nconst PRONUNCIATION = {\r\n    '\\\\alpha':      'alpha ',\r\n    '\\\\mu':         'mew ',\r\n    '\\\\sigma':      'sigma ',\r\n    '\\\\pi':         'pie ',\r\n    '\\\\imaginaryI': 'eye ',\r\n\r\n    '\\\\sum':        'Summation ',\r\n    '\\\\prod':       'Product ',\r\n\r\n    'a':            '<phoneme alphabet=\"ipa\" ph=\"eɪ\">a</phoneme>',\r\n    'A':            'capital <phoneme alphabet=\"ipa\" ph=\"eɪ\">A</phoneme>',\r\n    '+':            'plus ',\r\n    '-':            'minus ',\r\n    ';':            '<break time=\"150ms\"/> semi-colon <break time=\"150ms\"/>',\r\n    ',':            '<break time=\"150ms\"/> comma  <break time=\"150ms\"/>',\r\n    '|':            '<break time=\"150ms\"/>Vertical bar<break time=\"150ms\"/>',\r\n    '(':            '<break time=\"150ms\"/>Open paren. <break time=\"150ms\"/>',\r\n    ')':            '<break time=\"150ms\"/> Close paren. <break time=\"150ms\"/>',\r\n    '=':            'equals ',\r\n    '<':            'is less than ',\r\n    '\\\\lt':         'is less than ',\r\n    '<=':           'is less than or equal to ',\r\n    '\\\\le':         'is less than or equal to ',\r\n    '\\\\gt':         'is greater than ',\r\n    '>':            'is greater than ',\r\n    '\\\\ge':         'is greater than or equal to ',\r\n    '\\\\geq':        'is greater than or equal to ',\r\n    '\\\\leq':        'is less than or equal to ',\r\n    '!':            'factorial ',\r\n    '\\\\sin':        'sine ',\r\n    '\\\\cos':        'cosine ',\r\n    '\\u200b':       '',\r\n    '\\u2212':       'minus ',\r\n    ':':            '<break time=\"150ms\"/> such that <break time=\"200ms\"/> ',\r\n    '\\\\colon':      '<break time=\"150ms\"/> such that <break time=\"200ms\"/> ',\r\n    '\\\\hbar':       'etch bar ',\r\n    '\\\\iff':        '<break time=\"200ms\"/>if, and only if, <break time=\"200ms\"/>',\r\n    '\\\\Longleftrightarrow': '<break time=\"200ms\"/>if, and only if, <break time=\"200ms\"/>',\r\n    '\\\\land':       'and ',\r\n    '\\\\lor':        'or ',\r\n    '\\\\neg':        'not ',\r\n    '\\\\div':        'divided by ',\r\n\r\n    '\\\\forall':     'for all ',\r\n    '\\\\exists':     'there exists ',\r\n    '\\\\nexists':    'there does not exists ',\r\n\r\n    '\\\\in':         'element of ',\r\n\r\n    '\\\\N':          'the set <break time=\"150ms\"/><say-as interpret-as=\"character\">n</say-as>',\r\n    '\\\\C':          'the set <break time=\"150ms\"/><say-as interpret-as=\"character\">c</say-as>',\r\n    '\\\\Z':          'the set <break time=\"150ms\"/><say-as interpret-as=\"character\">z</say-as>',\r\n    '\\\\Q':          'the set <break time=\"150ms\"/><say-as interpret-as=\"character\">q</say-as>',\r\n\r\n    '\\\\infty':      'infinity ',\r\n\r\n    '\\\\nabla':      'nabla ',\r\n\r\n    '\\\\partial':    'partial derivative of ',\r\n\r\n    '\\\\cdots':      'dot dot dot ',\r\n\r\n    '\\\\Rightarrow': 'implies ',\r\n\r\n    '\\\\lbrace':\t\t'<break time=\"150ms\"/>open brace<break time=\"150ms\"/>',\r\n    '\\\\{':\t\t    '<break time=\"150ms\"/>open brace<break time=\"150ms\"/>',\r\n    '\\\\rbrace':\t\t'<break time=\"150ms\"/>close brace<break time=\"150ms\"/>',\r\n    '\\\\}':\t\t    '<break time=\"150ms\"/>close brace<break time=\"150ms\"/>',\r\n    '\\\\langle':\t\t'<break time=\"150ms\"/>left angle bracket<break time=\"150ms\"/>',\r\n    '\\\\rangle':\t\t'<break time=\"150ms\"/>right angle bracket<break time=\"150ms\"/>',\r\n    '\\\\lfloor':\t\t'<break time=\"150ms\"/>open floor<break time=\"150ms\"/>',\r\n    '\\\\rfloor':\t\t'<break time=\"150ms\"/>close floor<break time=\"150ms\"/>',\r\n    '\\\\lceil':\t\t'<break time=\"150ms\"/>open ceiling<break time=\"150ms\"/>',\r\n    '\\\\rceil':\t\t'<break time=\"150ms\"/>close ceiling<break time=\"150ms\"/>',\r\n    '\\\\vert':\t\t'<break time=\"150ms\"/>vertical bar<break time=\"150ms\"/>',\r\n    '\\\\mvert':\t\t'<break time=\"150ms\"/>divides<break time=\"150ms\"/>',\r\n    '\\\\lvert':\t\t'<break time=\"150ms\"/>left vertical bar<break time=\"150ms\"/>',\r\n    '\\\\rvert':\t\t'<break time=\"150ms\"/>right vertical bar<break time=\"150ms\"/>',\r\n    // '\\\\lbrack':\t\t'left bracket',\r\n    // '\\\\rbrack':\t\t'right bracket',\r\n    '\\\\lbrack':     '<break time=\"150ms\"/> open square bracket <break time=\"150ms\"/>',\r\n    '\\\\rbrack':     '<break time=\"150ms\"/> close square bracket <break time=\"150ms\"/>',\r\n\r\n    // need to add code to detect singluar/plural. Until then spoken as plural since that is vastly more common\r\n    // note: need to worry about intervening &InvisibleTimes;.\r\n    // note: need to also do this when in numerator of fraction and number preceeds fraction\r\n    // note: need to do this for <msup>\r\n    'mm':           'millimeters',\r\n    'cm':           'centimeters',\r\n    'km':           'kilometers',\r\n    'kg':           'kilograms',\r\n}\r\n\r\n\r\nfunction getSpokenName(latex) {\r\n    let result = Popover.NOTES[latex];\r\n    if (!result && latex.charAt(0) === '\\\\') {\r\n        result = ' ' + latex.replace('\\\\', '') + ' ';\r\n    }\r\n\r\n    // If we got more than one result (from NOTES),\r\n    // pick the first one.\r\n    if (Array.isArray(result)) {\r\n        result = result[0];\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\nfunction platform(p) {\r\n    let result = 'other';\r\n    if (navigator && navigator.platform && navigator.userAgent) {\r\n        if (/^(mac)/i.test(navigator.platform)) {\r\n            result = 'mac';\r\n        } else if (/^(win)/i.test(navigator.platform)) {\r\n            result = 'win';\r\n        } else if (/(android)/i.test(navigator.userAgent)) {\r\n            result = 'android';\r\n        } else if (/(iphone)/i.test(navigator.userAgent) ||\r\n                    /(ipod)/i.test(navigator.userAgent) ||\r\n                    /(ipad)/i.test(navigator.userAgent)) {\r\n            result = 'ios';\r\n        } else if (/\\bCrOS\\b/i.test(navigator.userAgent)) {\r\n            result = 'chromeos';\r\n        }\r\n    }\r\n\r\n    return result === p ? p : '!' + p;\r\n}\r\n\r\n\r\nfunction isAtomic(mathlist) {\r\n    let count = 0;\r\n    if (mathlist && Array.isArray(mathlist)) {\r\n        for (const atom of mathlist) {\r\n            if (atom.type !== 'first') {\r\n                count += 1;\r\n            }\r\n        }\r\n    }\r\n    return count === 1;\r\n}\r\n\r\nfunction atomicID(mathlist) {\r\n    if (mathlist && Array.isArray(mathlist)) {\r\n        for (const atom of mathlist) {\r\n            if (atom.type !== 'first' && atom.id) {\r\n                return atom.id.toString();\r\n            }\r\n        }\r\n    }\r\n    return '';\r\n}\r\n\r\nfunction atomicValue(mathlist) {\r\n    let result = '';\r\n    if (mathlist && Array.isArray(mathlist)) {\r\n        for (const atom of mathlist) {\r\n            if (atom.type !== 'first' && typeof atom.body === 'string') {\r\n                result += atom.body;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nMathAtom.toSpeakableFragment = function(atom, options) {\r\n    function letter(c) {\r\n        let result = '';\r\n        if (!options.textToSpeechMarkup) {\r\n            if (/[a-z]/.test(c)) {\r\n                result += \" '\" + c.toUpperCase() + \"'\";\r\n            } else if (/[A-Z]/.test(c)) {\r\n                result += \" 'capital \" + c.toUpperCase() + \"'\";\r\n            } else {\r\n                result += c;\r\n            }\r\n        } else {\r\n            if (/[a-z]/.test(c)) {\r\n                result += ' <say-as interpret-as=\"character\">' + c + '</say-as>';\r\n            } else if (/[A-Z]/.test(c)) {\r\n                result += 'capital ' + c.toLowerCase() + '';\r\n            } else {\r\n                result += c;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function emph(s) {\r\n        return '<emphasis>' + s + '</emphasis>';\r\n    }\r\n\r\n    if (!atom) return '';\r\n\r\n    let result = '';\r\n\r\n    if (atom.id && options.speechMode === 'math') {\r\n        result += '<mark name=\"' + atom.id.toString() + '\"/>';\r\n    }\r\n\r\n    if (Array.isArray(atom)) {\r\n        let isInDigitRun = false;             // need to group sequence of digits\r\n        for (let i = 0; i < atom.length; i++) {\r\n            if (i < atom.length - 2 &&\r\n                atom[i].type === 'mopen' &&\r\n                atom[i + 2].type === 'mclose' &&\r\n                atom[i + 1].type === 'mord') {\r\n                result += ' of ';\r\n                result += emph(MathAtom.toSpeakableFragment(atom[i + 1], options));\r\n                i += 2;\r\n            // '.' and ',' should only be allowed if prev/next entry is a digit\r\n            // However, if that isn't the case, this still works because 'toSpeakableFragment' is called in either case.\r\n        } else if (atom[i].mode === 'text') {\r\n            result += atom[i].body ? atom[i].body : ' ';\r\n        } else if (atom[i].type === 'mord' && /[0123456789,.]/.test(atom[i].body)) {\r\n            if (isInDigitRun) {\r\n                    result += atom[i].body;\r\n                } else {\r\n                    isInDigitRun = true;\r\n                    result += MathAtom.toSpeakableFragment(atom[i], options);\r\n                }\r\n            } else {\r\n                isInDigitRun = false\r\n                result += MathAtom.toSpeakableFragment(atom[i], options);\r\n            }\r\n        }\r\n    } else if (atom.mode === 'text') {\r\n        result = atom.body;\r\n    } else {\r\n        let numer = '';\r\n        let denom = '';\r\n        let body = '';\r\n        let supsubHandled = false;\r\n        switch(atom.type) {\r\n            case 'group':\r\n            case 'root':\r\n                result += MathAtom.toSpeakableFragment(atom.body, options);\r\n                break;\r\n\r\n            case 'genfrac':\r\n                numer = MathAtom.toSpeakableFragment(atom.numer, options);\r\n                denom = MathAtom.toSpeakableFragment(atom.denom, options);\r\n                if (isAtomic(atom.numer) && isAtomic(atom.denom)) {\r\n                    const COMMON_FRACTIONS = {\r\n                        '1/2':      ' half ',\r\n                        '1/3':      ' one third ',\r\n                        '2/3':      ' two third',\r\n                        '1/4':      ' one quarter ',\r\n                        '3/4':      ' three quarter ',\r\n                        '1/5':      ' one fifth ',\r\n                        '2/5':      ' two fifths ',\r\n                        '3/5':      ' three fifths ',\r\n                        '4/5':      ' four fifths ',\r\n                        '1/6':      ' one sixth ',\r\n                        '5/6':      ' five sixths ',\r\n                        '1/8':      ' one eight ',\r\n                        '3/8':      ' three eights ',\r\n                        '5/8':      ' five eights ',\r\n                        '7/8':      ' seven eights ',\r\n                        '1/9':      ' one ninth ',\r\n                        '2/9':      ' two ninths ',\r\n                        '4/9':      ' four ninths ',\r\n                        '5/9':      ' five ninths ',\r\n                        '7/9':      ' seven ninths ',\r\n                        '8/9':      ' eight ninths ',\r\n                        // '1/10':     ' one tenth ',\r\n                        // '1/12':     ' one twelfth ',\r\n                        // 'x/2':     ' <say-as interpret-as=\"character\">X</say-as> over 2',\r\n                    };\r\n                    const commonFraction = COMMON_FRACTIONS[\r\n                        atomicValue(atom.numer) + '/' + atomicValue(atom.denom)];\r\n                    if (commonFraction) {\r\n                        result = commonFraction;\r\n                    } else {\r\n                        result += numer + ' over ' + denom;\r\n                    }\r\n                } else {\r\n                    result += ' the fraction <break time=\"150ms\"/>' + numer + ', over <break time=\"150ms\"/>' + denom + '.<break time=\"150ms\"/> End fraction.<break time=\"150ms\"/>';\r\n                }\r\n\r\n                break;\r\n            case 'surd':\r\n                body = MathAtom.toSpeakableFragment(atom.body, options);\r\n\r\n                if (!atom.index) {\r\n                    if (isAtomic(atom.body)) {\r\n                        result += ' the square root of ' + body + ' , ';\r\n                    } else {\r\n                        result += ' the square root of <break time=\"200ms\"/>' + body + '. <break time=\"200ms\"/> End square root';\r\n                    }\r\n                } else {\r\n                    let index = MathAtom.toSpeakableFragment(atom.index, options);\r\n                    index = index.trim();\r\n                    const index2 = index.replace(/<mark([^/]*)\\/>/g, '')\r\n                    if (index2 === '3') {\r\n                        result += ' the cube root of <break time=\"200ms\"/>' + body + '. <break time=\"200ms\"/> End cube root';\r\n                    } else if (index2 === 'n') {\r\n                        result += ' the nth root of <break time=\"200ms\"/>' + body + '. <break time=\"200ms\"/> End root';\r\n                    } else {\r\n                        result += ' the root with index: <break time=\"200ms\"/>' + index + ', of <break time=\"200ms\"/>' + body + '. <break time=\"200ms\"/> End root';\r\n                    }\r\n                }\r\n                break;\r\n            case 'accent':\r\n                break;\r\n            case 'leftright':\r\n                result += PRONUNCIATION[atom.leftDelim] || atom.leftDelim;\r\n                result += MathAtom.toSpeakableFragment(atom.body, options);\r\n                result += PRONUNCIATION[atom.rightDelim] || atom.rightDelim;\r\n                break;\r\n            case 'line':\r\n                // @todo\r\n                break;\r\n            case 'rule':\r\n                // @todo\r\n                break;\r\n            case 'overunder':\r\n                // @todo\r\n                break;\r\n            case 'overlap':\r\n                // @todo\r\n                break;\r\n            case 'placeholder':\r\n                result += 'placeholder ' + atom.body;\r\n                break;\r\n            case 'delim':\r\n            case 'sizeddelim':\r\n            case 'mord':\r\n            case 'minner':\r\n            case 'mbin':\r\n            case 'mrel':\r\n            case 'mpunct':\r\n            case 'mopen':\r\n            case 'mclose':\r\n            case 'textord':\r\n            {\r\n                const command = atom.latex ? atom.latex.trim() : '' ;\r\n                if (command === '\\\\mathbin' || command === '\\\\mathrel' ||\r\n                    command === '\\\\mathopen' || command === '\\\\mathclose' ||\r\n                    command === '\\\\mathpunct' || command === '\\\\mathord' ||\r\n                    command === '\\\\mathinner') {\r\n                    result = MathAtom.toSpeakableFragment(atom.body, options);\r\n                    break;\r\n                }\r\n\r\n                let atomValue = atom.body;\r\n                let latexValue = atom.latex;\r\n                if (atom.type === 'delim' || atom.type === 'sizeddelim') {\r\n                    atomValue = latexValue = atom.delim;\r\n                }\r\n                if (options.speechMode === 'text') {\r\n                    result += atomValue;\r\n                } else {\r\n                    if (atom.type === 'mbin') {\r\n                        result += '<break time=\"150ms\"/>';\r\n                    }\r\n\r\n                    if (atomValue) {\r\n                        const value = PRONUNCIATION[atomValue] ||\r\n                            (latexValue ? PRONUNCIATION[latexValue.trim()] : '');\r\n                        if (value) {\r\n                            result += ' ' + value;\r\n                        } else {\r\n                            const spokenName = latexValue ?\r\n                                getSpokenName(latexValue.trim()) : '';\r\n\r\n                            result += spokenName ? spokenName : letter(atomValue);\r\n                        }\r\n                    } else {\r\n                        result += MathAtom.toSpeakableFragment(atom.body, options);\r\n                    }\r\n                    if (atom.type === 'mbin') {\r\n                        result += '<break time=\"150ms\"/>';\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case 'mop':\r\n            // @todo\r\n                if (atom.body !== '\\u200b') {\r\n                    // Not ZERO-WIDTH\r\n                    const trimLatex = atom.latex ? atom.latex.trim() : '' ;\r\n                    if (trimLatex === '\\\\sum') {\r\n                        if (atom.superscript && atom.subscript) {\r\n                            let sup = MathAtom.toSpeakableFragment(atom.superscript, options);\r\n                            sup = sup.trim();\r\n                            let sub = MathAtom.toSpeakableFragment(atom.subscript, options);\r\n                            sub = sub.trim();\r\n                            result += ' the summation from <break time=\"200ms\"/>' + sub + '<break time=\"200ms\"/> to  <break time=\"200ms\"/>' + sup + '<break time=\"200ms\"/> of <break time=\"150ms\"/>';\r\n                            supsubHandled = true;\r\n                    } else if (atom.subscript) {\r\n                            let sub = MathAtom.toSpeakableFragment(atom.subscript, options);\r\n                            sub = sub.trim();\r\n                            result += ' the summation from <break time=\"200ms\"/>' + sub + '<break time=\"200ms\"/> of <break time=\"150ms\"/>';\r\n                            supsubHandled = true;\r\n                        } else {\r\n                            result += ' the summation of';\r\n                        }\r\n                    } else if (trimLatex === '\\\\prod') {\r\n                        if (atom.superscript && atom.subscript) {\r\n                            let sup = MathAtom.toSpeakableFragment(atom.superscript, options);\r\n                            sup = sup.trim();\r\n                            let sub = MathAtom.toSpeakableFragment(atom.subscript, options);\r\n                            sub = sub.trim();\r\n                            result += ' the product from <break time=\"200ms\"/>' + sub + '<break time=\"200ms\"/> to <break time=\"200ms\"/>' + sup + '<break time=\"200ms\"/> of <break time=\"150ms\"/>';\r\n                            supsubHandled = true;\r\n                        } else if (atom.subscript) {\r\n                            let sub = MathAtom.toSpeakableFragment(atom.subscript, options);\r\n                            sub = sub.trim();\r\n                            result += ' the product from <break time=\"200ms\"/>' + sub + '<break time=\"200ms\"/> of <break time=\"150ms\"/>';\r\n                            supsubHandled = true;\r\n                        } else {\r\n                            result += ' the product  of ';\r\n                        }\r\n                    } else if (trimLatex === '\\\\int') {\r\n                        if (atom.superscript && atom.subscript) {\r\n                            let sup = MathAtom.toSpeakableFragment(atom.superscript, options);\r\n                            sup = sup.trim();\r\n                            let sub = MathAtom.toSpeakableFragment(atom.subscript, options);\r\n                            sub = sub.trim();\r\n                            result += ' the integral from <break time=\"200ms\"/>' + emph(sub) + '<break time=\"200ms\"/> to <break time=\"200ms\"/>' + emph(sup) + ' <break time=\"200ms\"/> of ';\r\n                            supsubHandled = true;\r\n                        } else {\r\n                            result += ' the integral of <break time=\"200ms\"/> ';\r\n                        }\r\n                    } else if (typeof atom.body === 'string') {\r\n                        const value = PRONUNCIATION[atom.body] ||\r\n                            PRONUNCIATION[atom.latex.trim()];\r\n                        if (value) {\r\n                            result += value;\r\n                        } else {\r\n                            result += ' ' + atom.body;\r\n                        }\r\n                    } else if (atom.latex && atom.latex.length > 0) {\r\n                        if (atom.latex[0] === '\\\\') {\r\n                            result += ' ' + atom.latex.substr(1);\r\n                        } else {\r\n                            result += ' ' + atom.latex;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'enclose':\r\n                body = MathAtom.toSpeakableFragment(atom.body, options);\r\n\r\n                if (isAtomic(atom.body)) {\r\n                    result += ' crossed out ' + body + ' , ';\r\n                } else {\r\n                    result += ' crossed out ' + body + '. End cross out';\r\n                }\r\n                break;\r\n\r\n            case 'space':\r\n            case 'spacing':\r\n            case 'mathstyle':\r\n            case 'box':\r\n                // @todo\r\n                break;\r\n\r\n        }\r\n        if (!supsubHandled && atom.superscript) {\r\n\r\n            let sup = MathAtom.toSpeakableFragment(atom.superscript, options);\r\n            sup = sup.trim();\r\n            const sup2 = sup.replace(/<[^>]*>/g, '');\r\n            if (isAtomic(atom.superscript)) {\r\n                if (options.speechMode === 'math') {\r\n                    const id = atomicID(atom.superscript);\r\n                    if (id) {\r\n                        result += '<mark name=\"' + id + '\"/>';\r\n                    }\r\n                }\r\n                if (sup2 === '\\u2032') {\r\n                    result += ' prime ';\r\n                } else if (sup2 === '2') {\r\n                    result += ' squared ';\r\n                } else if (sup2 === '3') {\r\n                    result += ' cubed ';\r\n                } else if (isNaN(parseInt(sup2))) {\r\n                    result += ' to the ' + sup + '; ';\r\n                } else {\r\n                    result += ' to the <say-as interpret-as=\"ordinal\">' + sup2 + '</say-as> power; ';\r\n                }\r\n            } else {\r\n                if (isNaN(parseInt(sup2))) {\r\n                    result += ' raised to the ' + sup + '; ';\r\n                } else {\r\n                    result += ' raised to the <say-as interpret-as=\"ordinal\">' + sup2 + '</say-as> power; ';\r\n                }\r\n            }\r\n        }\r\n        if (!supsubHandled && atom.subscript) {\r\n            let sub = MathAtom.toSpeakableFragment(atom.subscript, options);\r\n            sub = sub.trim();\r\n            if (isAtomic(atom.subscript)) {\r\n                result += ' sub ' + sub;\r\n            } else {\r\n                result += ' subscript ' + sub + '. End subscript. ';\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return result;\r\n}\r\n\r\n\r\n/**\r\n * @param {MathAtom[]}  atoms The atoms to represent as speakable text.\r\n * If omitted, `this` is used.\r\n * @param {Object.<string, any>} speechOptions\r\n * @private\r\n*/\r\nMathAtom.toSpeakableText = function(atoms, speechOptions) {\r\n    const options = speechOptions ? JSON.parse(JSON.stringify(speechOptions)) : {\r\n        textToSpeechMarkup: '',     // no markup\r\n        textToSpeechRules: 'mathlive'\r\n    };\r\n    options.speechMode = 'math';\r\n\r\n    if (window.sre && options.textToSpeechRules === 'sre') {\r\n        options.generateID = true;\r\n        const mathML = MathAtom.toMathML(atoms, options);\r\n        if (mathML) {\r\n            if (options.textToSpeechMarkup) {\r\n                options.textToSpeechRulesOptions = options.textToSpeechRulesOptions || {};\r\n                options.textToSpeechRulesOptions.markup = options.textToSpeechMarkup;\r\n                if (options.textToSpeechRulesOptions.markup === 'ssml') {\r\n                    options.textToSpeechRulesOptions.markup = 'ssml_step';\r\n                }\r\n                options.textToSpeechRulesOptions.rate = options.speechEngineRate;\r\n            }\r\n            if (options.textToSpeechRulesOptions) {\r\n                window.sre.System.getInstance().setupEngine(options.textToSpeechRulesOptions);\r\n            }\r\n            return window.sre.System.getInstance().toSpeech(mathML);\r\n        }\r\n        return '';\r\n    }\r\n\r\n    let result = MathAtom.toSpeakableFragment(atoms, options);\r\n\r\n    if (options.textToSpeechMarkup === 'ssml') {\r\n        let prosody = '';\r\n        if (options.speechEngineRate) {\r\n            prosody = '<prosody rate=\"' + options.speechEngineRate + '\">'\r\n        }\r\n        result = `<?xml version=\"1.0\"?><speak version=\"1.1\" xmlns=\"http://www.w3.org/2001/10/synthesis\" xml:lang=\"en-US\">` +\r\n        '<amazon:auto-breaths>' +\r\n        prosody +\r\n        '<p><s>' +\r\n        result +\r\n        '</s></p>' +\r\n        (prosody ? '</prosody>' : '') +\r\n        '</amazon:auto-breaths>' +\r\n        '</speak>';\r\n    } else if (options.textToSpeechMarkup === 'mac' && platform('mac') === 'mac') {\r\n        // Convert SSML to Mac markup\r\n        result = result.replace(/<mark([^/]*)\\/>/g, '')\r\n            .replace(/<emphasis>/g, '[[emph+]]')\r\n            .replace(/<\\/emphasis>/g, '')\r\n            .replace(/<break time=\"([0-9]*)ms\"\\/>/g, '[[slc $1]]')\r\n            .replace(/<say-as[^>]*>/g, '')\r\n            .replace(/<\\/say-as>/g, '');\r\n    } else {\r\n        // If no markup was requested, or 'mac' markup, but we're not on a mac,\r\n        // remove any that we may have\r\n        // Strip out the SSML markup\r\n        result = result.replace(/<[^>]*>/g, '')\r\n                .replace(/\\s{2,}/g, ' ');\r\n    }\r\n    return result;\r\n\r\n}\r\n\r\n// Export the public interface for this module\r\nexport default {}\r\n\r\n","/**\r\n *\r\n * See {@linkcode MathField}\r\n * @module editor/mathfield\r\n * @private\r\n */\r\nimport Definitions from '../core/definitions.js';\r\nimport MathAtom from '../core/mathAtom.js';\r\nimport Lexer from '../core/lexer.js';\r\nimport ParserModule from '../core/parser.js';\r\nimport Span from '../core/span.js';\r\nimport EditableMathlist from './editor-editableMathlist.js';\r\nimport MathPath from './editor-mathpath.js';\r\nimport Keyboard from './editor-keyboard.js';\r\nimport Undo from './editor-undo.js';\r\nimport Shortcuts from './editor-shortcuts.js';\r\nimport Popover from './editor-popover.js';\r\nimport VirtualKeyboard from './editor-virtualKeyboard.js';\r\nimport GraphemeSplitter from '../core/grapheme-splitter.js';\r\nimport { toASCIIMath } from './outputASCIIMath.js';\r\nimport { l10n } from './l10n.js';\r\nimport '../addons/outputLatex.js';\r\nimport '../addons/outputMathML.js';\r\nimport '../addons/mathJson.js';\r\nimport '../addons/outputSpokenText.js';\r\n\r\n/*\r\n    Note:\r\n    The OutputLatex, OutputMathML, mathJson and OutputSpokenText  modules are required,\r\n    even though they are not referenced directly.\r\n\r\n    They modify the MathAtom class, adding toLatex(), toAST(), toMathML() and\r\n    toSpeakableText() respectively.\r\n*/\r\n\r\n/* The default eslint parser, espree, does not parse the \"declare type\" correctly.\r\n   Could use a different parser (babel-eslint), but to avoid bringing in another\r\n   dependency, just turn off linting for this line */\r\n/* eslint-disable */\r\n/**\r\n * @typedef {function} MathFieldCallback\r\n * @param {MathField} mathfield\r\n * @return {void}\r\n * @global\r\n */\r\n/* eslint-enable */\r\n\r\n/**\r\n @typedef MathFieldConfig\r\n @type {Object}\r\n @property {string} locale?\r\n @property {object<string, string>} strings?\r\n @property {number} horizontalSpacingScale?\r\n @property {string} namespace?\r\n @property {function} substituteTextArea?\r\n @property {\"math\" | \"text\"} defaultMode?\r\n @property {MathFieldCallback} onFocus?\r\n @property {MathFieldCallback} onBlur?\r\n @property {function} onKeystroke?\r\n @property {function} onAnnounce?\r\n @property {boolean} overrideDefaultInlineShortcuts?\r\n @property {object<string, string>} inlineShortcuts?\r\n @property {number} inlineShortcutTimeout?\r\n @property {object<string, string>} macros?\r\n @property {boolean} smartFence?\r\n @property {boolean} smartSuperscript?\r\n @property {number} scriptDepth?\r\n @property {boolean} removeExtraneousParentheses?\r\n @property {boolean} ignoreSpacebarInMathMode?\r\n @property {string} virtualKeyboardToggleGlyph?\r\n @property {\"manual\" | \"onfocus\" | \"off\" } virtualKeyboardMode?\r\n @property {\"all\" | \"numeric\" | \"roman\" | \"greek\" | \"functions\" | \"command\" | string} virtualKeyboards?\r\n @property {\"qwerty\" | \"azerty\" | \"qwertz\" | \"dvorak\" | \"colemak\"} virtualKeyboardRomanLayout?\r\n @property {object<string, string>} customVirtualKeyboardLayers?\r\n @property {object<string, object>} customVirtualKeyboards?\r\n @property {\"material\" | \"apple\" | \"\"} virtualKeyboardTheme?\r\n @property {boolean} keypressVibration?\r\n @property {string} keypressSound?\r\n @property {string} plonkSound?\r\n @property {\"mathlive\" | \"sre\"} textToSpeechRules?\r\n @property {\"ssml\" | \"mac\"} textToSpeechMarkup?\r\n @property {object} textToSpeechRulesOptions?\r\n @property {\"local\" | \"amazon\"} speechEngine?\r\n @property {string} speechEngineVoice?\r\n @property {string} speechEngineRate?\r\n @property {function} onMoveOutOf?\r\n @property {function} onTabOutOf?\r\n @property {MathFieldCallback} onContentWillChange?\r\n @property {MathFieldCallback} onContentDidChange?\r\n @property {MathFieldCallback} onSelectionWillChange?\r\n @property {MathFieldCallback} onSelectionDidChange?\r\n @property {function} onUndoStateWillChange?\r\n @property {function} onUndoStateDidChange?\r\n @property {function} onModeChange?\r\n @property {function} onVirtualKeyboardToggle?\r\n @property {function} onReadAloudStatus?\r\n @property {function} handleSpeak?\r\n @property {function} handleReadAloud?\r\n @global\r\n */\r\n\r\n\r\nconst HAPTIC_FEEDBACK_DURATION = 3 // in ms\r\nconst AUDIO_FEEDBACK_VOLUME = 0.5 // from 0.0 to 1.0\r\nlet changeType = null\r\n\r\nfunction on(el, selectors, listener, options) {\r\n    selectors = selectors.split(' ');\r\n    for (const sel of selectors) {\r\n        const m = sel.match(/(.*):(.*)/);\r\n        if (m) {\r\n            const options2 = options || {};\r\n            if (m[2] === 'active') {\r\n                options2.passive = false;\r\n            } else {\r\n                options2[m[2]] = true;\r\n            }\r\n            el.addEventListener(m[1], listener, options2);\r\n        } else {\r\n            el.addEventListener(sel, listener, options);\r\n        }\r\n    }\r\n}\r\n\r\nfunction off(el, selectors, listener, options) {\r\n    selectors = selectors.split(' ');\r\n    for (const sel of selectors) {\r\n        const m = sel.match(/(.*):(.*)/);\r\n        if (m) {\r\n            const options2 = options || {};\r\n            if (m[2] === 'active') {\r\n                options2.passive = false;\r\n            } else {\r\n                options2[m[2]] = true;\r\n            }\r\n            el.removeEventListener(m[1], listener, options2);\r\n        } else {\r\n            el.removeEventListener(sel, listener, options);\r\n        }\r\n    }\r\n}\r\n\r\nfunction getSharedElement(id, cls) {\r\n    let result = document.getElementById(id);\r\n    if (result) {\r\n        result.setAttribute('data-refcount',\r\n            parseInt(result.getAttribute('data-refcount')) + 1);\r\n    } else {\r\n        result = document.createElement('div');\r\n        result.setAttribute('aria-hidden', 'true');\r\n        result.setAttribute('data-refcount', '1');\r\n        result.className = cls;\r\n        result.id = id;\r\n        document.body.appendChild(result);\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction releaseSharedElement(el) {\r\n    if (!el) return null;\r\n    const refcount = parseInt(el.getAttribute('data-refcount'));\r\n    if (!refcount || refcount === 1) {\r\n        el.remove();\r\n    } else {\r\n        el.setAttribute('data-refcount', refcount - 1);\r\n    }\r\n    return el;\r\n}\r\n\r\n/**\r\n * Checks if the argument is a valid Mathfield.\r\n * After a Mathfield has been destroyed (for example by calling revertToOriginalContent()\r\n * the Mathfield is no longer valid. However, there may be some pending\r\n * operations invoked via requestAnimationFrame() for example, that would\r\n * need to ensure the mathfield is still valid by the time they're executed.\r\n * @private\r\n */\r\nexport function isValidMathfield(mf) {\r\n    return mf.element && mf.element.mathfield === mf;\r\n}\r\n\r\n/**\r\n * Validate a style specification object\r\n * @param {object} style\r\n * @private\r\n */\r\nfunction validateStyle(style) {\r\n    const result = {};\r\n    if (typeof style.mode === 'string') {\r\n        result.mode = style.mode.toLowerCase();\r\n        console.assert(result.mode === 'math' || result.mode === 'text' || result.mode === 'command');\r\n    }\r\n\r\n    if (typeof style.color === 'string') {\r\n        result.color = style.color;\r\n    }\r\n\r\n    if (typeof style.backgroundColor === 'string') {\r\n        result.backgroundColor = style.backgroundColor;\r\n    }\r\n\r\n    if (typeof style.fontFamily === 'string') {\r\n        result.fontFamily = style.fontFamily;\r\n    }\r\n\r\n    if (typeof style.series === 'string') {\r\n        result.fontSeries = style.series;\r\n    }\r\n    if (typeof style.fontSeries === 'string') {\r\n        result.fontSeries = style.fontSeries.toLowerCase();\r\n    }\r\n    if (result.fontSeries) {\r\n        result.fontSeries = {\r\n            \"bold\": 'b',\r\n            \"medium\": 'm',\r\n            \"normal\": 'mn',\r\n        }[result.fontSeries] || result.fontSeries;\r\n    }\r\n\r\n    if (typeof style.shape === 'string') {\r\n        result.fontShape = style.shape;\r\n    }\r\n    if (typeof style.fontShape === 'string') {\r\n        result.fontShape = style.fontShape.toLowerCase();\r\n    }\r\n    if (result.fontShape) {\r\n        result.fontShape = {\r\n            \"italic\": 'it',\r\n            \"up\": 'n',\r\n            \"upright\": 'n',\r\n            \"normal\": 'n',\r\n        }[result.fontShape] || result.fontShape;\r\n    }\r\n\r\n    if (typeof style.size === 'string') {\r\n        result.fontSize = style.size;\r\n    } else if (typeof style.size === 'number') {\r\n        result.fontSize = 'size' + Math.min(0, Math.max(10, style.size));\r\n    }\r\n    if (typeof style.fontSize === 'string') {\r\n        result.fontSize = style.fontSize.toLowerCase();\r\n    }\r\n    if (result.fontSize) {\r\n        result.fontSize = {\r\n            'tiny': 'size1',\r\n            'scriptsize': 'size2',\r\n            'footnotesize': 'size3',\r\n            'small': 'size4',\r\n            'normal': 'size5',\r\n            'normalsize': 'size5',\r\n            'large': 'size6',\r\n            'Large': 'size7',\r\n            'LARGE': 'size8',\r\n            'huge': 'size9',\r\n            'Huge': 'size10'\r\n        }[result.fontSize] || result.fontSize;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n/*\r\n     * **Note**\r\n     * - Method names that begin with `$` are public.\r\n     * - Method names that _begin with_ an underbar `_` are private and meant\r\n     * to be used only by the implementation of the class.\r\n     * - Method names that _end with_ an underbar `_` are selectors. They can\r\n     * be invoked by calling [`MathField.$perform()`]{@link MathField#$perform}. Note\r\n     * that the selector name does not include the underbar.\r\n     *\r\n     * For example:\r\n     * ```\r\n     *    mf.$perform('selectAll');\r\n     * ```\r\n*/\r\n\r\n/**\r\n *\r\n * @property {HTMLElement} element - The DOM element this mathfield is attached to.\r\n * @property {Object.<string, any>} config - A set of key/value pairs that can\r\n * be used to customize the behavior of the mathfield\r\n * @property {string} id - A unique ID identifying this mathfield\r\n * @property {boolean} keystrokeCaptionVisible - True if the keystroke caption\r\n * panel is visible\r\n * @property {boolean} virtualKeyboardVisible - True if the virtual keyboard is\r\n * visible\r\n * @property {string} keystrokeBuffer The last few keystrokes, to look out\r\n * for inline shortcuts\r\n * @property {object[]} keystrokeBufferStates The saved state for each of the\r\n * past keystrokes\r\n * @class MathField\r\n * @global\r\n */\r\nclass MathField {\r\n/**\r\n     * To create a mathfield, you would typically use {@linkcode module:MathLive#makeMathField MathLive.makeMathField()}\r\n     * instead of invoking directly this constructor.\r\n     *\r\n     *\r\n     * @param {HTMLElement} element - The DOM element that this mathfield is attached to.\r\n     * Note that `element.mathfield` is this object.\r\n     * @param {MathFieldConfig} config - See {@tutorial CONFIG} for details\r\n     * @method MathField#constructor\r\n     * @param {boolean} longPressed\r\n     * @private\r\n*/\r\n  constructor (element, config, changeType) {\r\n    // Setup default config options\r\n    this.$setConfig(config || {})\r\n    this.element = element\r\n    element.mathfield = this\r\n    // Save existing content\r\n    this.longPressed = false\r\n\r\n    this.originalContent = element.innerHTML\r\n\r\n    let elementText = this.element.textContent\r\n    // 标记\r\n    if (changeType !== undefined) {\r\n      elementText = this.$latex()\r\n      this.$focus()\r\n    }\r\n    if (elementText) {\r\n      elementText = elementText.trim()\r\n    }\r\n    console.log(element.textContent)\r\n    // Additional elements used for UI.\r\n    // They are retrieved in order a bit later, so they need to be kept in sync\r\n    // 1.0/ The field, where the math equation will be displayed\r\n    // 1.1/ The virtual keyboard toggle\r\n    // 2/ The popover panel which displays info in command mode\r\n    // 3/ The keystroke caption panel (option+shift+K)\r\n    // 4/ The virtual keyboard\r\n    // 5.0/ The area to stick MathML for screen reading larger exprs (not used right now)\r\n    //      The for the area is that focus would bounce their and then back triggering the\r\n    //         screen reader to read it\r\n    // 5.1/ The aria-live region for announcements\r\n    let markup = ''\r\n    if (!this.config.substituteTextArea) {\r\n      if (/android|ipad|ipod|iphone/i.test(navigator.userAgent)) {\r\n        // On Android or iOS, don't use a textarea, which has the side effect of\r\n        // bringing up the OS virtual keyboard\r\n        if (changeType === 'text') {\r\n          markup += '<span class=\"ML__textarea\">' +\r\n                '<textarea class=\"ML__textarea__textarea\" autocapitalize=\"off\" autocomplete=\"off\" ' +\r\n                'autocorrect=\"off\" spellcheck=\"false\" aria-hidden=\"true\" tabindex=\"0\" >' +\r\n                '</textarea>' +\r\n            '</span>'\r\n        } else {\r\n          markup += `<span class='ML__textarea'>\r\n                <span class='ML__textarea__textarea'\r\n                    tabindex=\"0\" role=\"textbox\"\r\n                    style='display:inline-block;height:1px;width:1px' >\r\n                </span>\r\n            </span>`\r\n        }\r\n        // markup += `<span class='ML__textarea'>\r\n        //     <span class='ML__textarea__textarea'\r\n        //         tabindex=\"0\" role=\"textbox\"\r\n        //         style='display:inline-block;height:1px;width:1px' >\r\n        //     </span>\r\n        // </span>`;\r\n      } else {\r\n        markup += '<span class=\"ML__textarea\">' +\r\n            '<textarea class=\"ML__textarea__textarea\" autocapitalize=\"off\" autocomplete=\"off\" ' +\r\n            'autocorrect=\"off\" spellcheck=\"false\" aria-hidden=\"true\" tabindex=\"0\">' +\r\n            '</textarea>' +\r\n            '</span>'\r\n      }\r\n    } else {\r\n        if (typeof this.config.substituteTextArea === 'string') {\r\n            markup += this.config.substituteTextArea\r\n        } else {\r\n            // We don't really need this one, but we keep it here so that the\r\n            // indexes below remain the same whether a substituteTextArea is\r\n            // provided or not.\r\n            markup += '<span></span>'\r\n        }\r\n    }\r\n    markup += '<span class=\"ML__fieldcontainer\">' +\r\n        '<span class=\"ML__fieldcontainer__field\"></span>';\r\n    // If no value is specified for the virtualKeyboardMode, use\r\n    // `onfocus` on touch-capable devices and `off` otherwise.\r\n    \r\n    if (!this.config.virtualKeyboardMode) {\r\n        this.config.virtualKeyboardMode =\r\n            (window.matchMedia && window.matchMedia(\"(any-pointer: coarse)\").matches) ? 'onfocus' : 'off';\r\n    }\r\n    // Only display the virtual keyboard toggle if the virtual keyboard mode is\r\n    // 'manual'\r\n    // if (this.config.virtualKeyboardMode === 'manual' && changeType == 'text') {\r\n    if (changeType == 'text') {\r\n        markup += `<button class=\"ML__virtual-keyboard-toggle\" data-tooltip=\"汉字输入\">`;\r\n        // data-tooltip='Toggle Virtual Keyboard'\r\n        if (this.config.virtualKeyboardToggleGlyph) {\r\n            markup += this.config.virtualKeyboardToggleGlyph;\r\n        } else {\r\n            // <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><path d=\"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z\"/></svg>\r\n            markup += `<span style=\"width:32px;height:32px;display:flex;justify-content:center;align-items:center\">\r\n            <svg class='icon' style=\"font-size:22px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1050 1000\"><path d=\"M810 101.7c61.8 0 112 50.2 112 112V811c0 61.8-50.2 112-112 112H212.7c-61.8 0-112-50.2-112-112V213.7c0-61.8 50.2-112 112-112H810m0-37.3H212.7c-82.5 0-149.3 66.9-149.3 149.3V811c0 82.5 66.9 149.3 149.3 149.3H810c82.5 0 149.3-66.9 149.3-149.3V213.7c0-82.4-66.8-149.3-149.3-149.3z\" fill=\"#333333\" p-id=\"8715\"></path><path d=\"M483.4 166.3h55.2v134.3h267.8v350.6h-53.7v-47H538.6v254.4h-55.2V604.2H270v47h-53.7V300.5h267.1V166.3zM270 551.9h213.4V352.8H270v199.1z m268.6 0h214.1V352.8H538.6v199.1z\" fill=\"#333333\" p-id=\"8716\"></path></svg>\r\n            </span>`;\r\n        }\r\n        markup += '</button>';\r\n    } else {\r\n        // markup += '<span ></span>';\r\n        markup += `<div class=\"ML__virtual-keyboard-toggle\" data-tooltip=\"公式输入\">\r\n        <span style='width:32px;height:32px;display:flex;justify-content:center;align-items:center'>\r\n            <svg class='icon' style=\"font-size:22px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1050 1000\"><path d=\"M955.74 34.14a34.16 34.16 0 0 1 34.12 34.12v887.48a34.16 34.16 0 0 1-34.12 34.12H68.26a34.16 34.16 0 0 1-34.12-34.12V68.26a34.16 34.16 0 0 1 34.12-34.12h887.48m0-34.14H68.26A68.26 68.26 0 0 0 0 68.26v887.48A68.26 68.26 0 0 0 68.26 1024h887.48A68.26 68.26 0 0 0 1024 955.74V68.26A68.26 68.26 0 0 0 955.74 0z\" fill=\"\" p-id=\"6126\"></path><path d=\"M328.18 513.02l62.8 6.84-11.6 31.38H518v54.62a253.7 253.7 0 0 1-64.84 107.86q49.8 22.56 79.86 38.24l-34.82 51.88q-38.92-22.52-95.56-49.16-66.24 43.02-169.3 70.32l-31.42-55.3q76.44-18.42 131.76-45.06-32-13.64-89.42-36.18 26-43 44.36-79.18H217.6v-58h96.92z m-108.56-190.48h129.04V196.96H408v125.58h118.78v56.68H408v3.42q51.2 21.18 110.6 52.56l-34.12 51.2Q436 447.5 408 429.74v76.46h-59.34v-115.38q-33.44 73.74-112.66 129.04l-32-52.58q70.34-40.26 101.72-88h-86zM280.4 210a644.74 644.74 0 0 1 41.6 81.14l-50.5 23.22q-21.14-51.18-45.06-86.7z m177.48 399.36h-103.76a581.56 581.56 0 0 1-30.72 54q38.9 13.68 68.26 25.26 44.34-34.26 66.22-79.34z m67.6-378.2a471.62 471.62 0 0 1-51.88 85.34l-47.8-25.28a516.16 516.16 0 0 0 48.48-84.64z m66.22 249.16q-18.46 43.02-34.14 68.96l-40.96-50.6Q574 386 594.42 195.58l63.58 10.92q-7.52 56.68-13.66 88.74h173.38v62.12h-38.98q-6.16 166.6-60 283.32 51.88 84 120.16 129.02l-37.56 54.62q-64.86-47.1-114-124.26a468 468 0 0 1-121.52 128.36l-34.12-55.3a373.8 373.8 0 0 0 121.5-133.8q-35.56-70.28-61.5-159.08z m39.58-122.88l-8.18 30.74q23.88 105.12 59.38 184.32 32-90.8 36.18-215.06z\" fill=\"\" p-id=\"6127\"></path></svg>\r\n        </span>\r\n        </div>`;\r\n\r\n        // markup += `<button class=\"ML__virtual-keyboard-toggle\" data-tooltip=\"${l10n('tooltip.toggle virtual keyboard')}\">\r\n        //     <span style=\"width: 21px; margin-top: 4px;\">\r\n        //         <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\r\n        //             <path d=\"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z\"/>\r\n        //         </svg>\r\n        //     </span>\r\n        // </button>`;\r\n    }\r\n    markup += '</span>';\r\n    markup += `\r\n    <div class=\"sr-only\">\r\n        <span aria-live=\"assertive\" aria-atomic=\"true\"></span>\r\n        <span></span>\r\n    </div>\r\n`;\r\n    this.element.innerHTML = markup;\r\n    let iChild = 0; // index of child -- used to make changes below easier\r\n    if (typeof this.config.substituteTextArea === 'function') {\r\n        this.textarea = this.config.substituteTextArea();\r\n    } else {\r\n        this.textarea = this.element.children[iChild++].firstElementChild;\r\n    }\r\n    this.field = this.element.children[iChild].children[0];\r\n    // Listen to 'wheel' events to scroll (horizontally) the field when it overflows\r\n    this.field.addEventListener('wheel', ev => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        let wheelDelta = typeof ev.deltaX === 'undefined' ? ev.detail : -ev.deltaX;\r\n        if (!isFinite(wheelDelta)) { wheelDelta = ev.wheelDelta / 10; }\r\n        this.field.scroll({\r\n            top: 0,\r\n            left: this.field.scrollLeft - wheelDelta * 5\r\n        });\r\n    }, { passive: false });\r\n    this.virtualKeyboardToggleDOMNode = this.element.children[iChild++].children[1];\r\n    if (changeType == 'text') {\r\n        this._attachButtonHandlers(this.virtualKeyboardToggleDOMNode, {\r\n            default: 'changeKeyboard',\r\n            alt: 'changeKeyboard',\r\n            shift: 'changeKeyboard'\r\n        });\r\n    } else {\r\n        this._attachButtonHandlers(this.virtualKeyboardToggleDOMNode, {\r\n            default: 'toggleVirtualKeyboard',\r\n            alt: 'toggleVirtualKeyboardAlt',\r\n            shift: 'toggleVirtualKeyboardShift'\r\n        });\r\n    }\r\n    this.ariaLiveText = this.element.children[iChild].children[0];\r\n    this.accessibleNode = this.element.children[iChild++].children[1];\r\n    // Some panels are shared amongst instances of mathfield\r\n    // (there's a single instance in the document)\r\n    this.popover = getSharedElement('mathlive-popover-panel', 'ML__popover');\r\n    this.keystrokeCaption = getSharedElement('mathlive-keystroke-caption-panel', 'ML__keystroke-caption');\r\n    // The keystroke caption panel and the command bar are\r\n    // initially hidden\r\n    this.keystrokeCaptionVisible = false;\r\n    this.virtualKeyboardVisible = false;\r\n    this.keystrokeBuffer = '';\r\n    this.keystrokeBufferStates = [];\r\n    this.keystrokeBufferResetTimer = null;\r\n    // This index indicates which of the suggestions available to\r\n    // display in the popover panel\r\n    this.suggestionIndex = 0;\r\n    // The input mode (text, math, command)\r\n    // While mathlist.anchorMode() represent the mode of the current selection,\r\n    // this.mode is the mode chosen by the user. It indicates the mode the\r\n    // next character typed will be interpreted in.\r\n    // It is often identical to mathlist.anchorMode() since changing the selection\r\n    // changes the mode, but sometimes it is not, for example when a user\r\n    // enters a mode changing command.\r\n    this.mode = config.defaultMode || 'math';\r\n    this.smartModeSuppressed = false;\r\n    // Current style (color, weight, italic, etc...)\r\n    // Reflects the style to be applied on next insertion, if any\r\n    this.style = {};\r\n    // Focus/blur state\r\n    this.blurred = true;\r\n    on(this.element, 'focus', this);\r\n    on(this.element, 'blur', this);\r\n    // Capture clipboard events\r\n    on(this.textarea, 'cut', this);\r\n    on(this.textarea, 'copy', this);\r\n    on(this.textarea, 'paste', this);\r\n    // Delegate keyboard events\r\n    Keyboard.delegateKeyboardEvents(this.textarea, {\r\n        container: this.element,\r\n        allowDeadKey: () => this.mode === 'text',\r\n        typedText: this._onTypedText.bind(this),\r\n        paste: this._onPaste.bind(this),\r\n        keystroke: this._onKeystroke.bind(this),\r\n        focus: this._onFocus.bind(this),\r\n        blur: this._onBlur.bind(this),\r\n    });\r\n    // Delegate mouse and touch events\r\n    if (window.PointerEvent) {\r\n        // Use modern pointer events if available\r\n        on(this.field, 'pointerdown', this);\r\n    } else {\r\n        on(this.field, 'touchstart:active mousedown', this);\r\n    }\r\n    // Request notification for when the window is resized (\r\n    // or the device switched from portrait to landscape) to adjust\r\n    // the UI (popover, etc...)\r\n    on(window, 'resize', this);\r\n    // Override some handlers in the config\r\n    const localConfig = { ...config };\r\n    localConfig.onSelectionDidChange =\r\n        MathField.prototype._onSelectionDidChange.bind(this);\r\n    localConfig.onContentDidChange =\r\n        MathField.prototype._onContentDidChange.bind(this);\r\n    localConfig.onAnnounce = this.config.onAnnounce;\r\n    localConfig.macros = this.config.macros;\r\n    localConfig.removeExtraneousParentheses = this.config.removeExtraneousParentheses;\r\n    this.mathlist = new EditableMathlist.EditableMathlist(localConfig, this);\r\n    // Prepare to manage undo/redo\r\n    this.undoManager = new Undo.UndoManager(this.mathlist);\r\n    // If there was some content in the element, use it for the initial\r\n    // value of the mathfield\r\n    if (elementText.length > 0) {\r\n        this.$latex(elementText);\r\n    }\r\n    // Now start recording potentially undoable actions\r\n    this.undoManager.startRecording();\r\n    this.undoManager.snapshot(this.config);\r\n    if (changeType) {\r\n        this.$focus()\r\n    }\r\n}\r\n/*\r\n     * handleEvent is a function invoked when an event is registered with an\r\n     * object instead ( see `addEventListener()` in `on()`)\r\n     * The name is defined by addEventListener() and cannot be changed.\r\n     * This pattern is used to be able to release bound event handlers,\r\n     * (event handlers that need access to `this`) as the bind() function\r\n     * would create a new function that would have to be kept track off\r\n     * to be able to properly remove the event handler later.\r\n     */\r\n    handleEvent(evt) {\r\n        switch (evt.type) {\r\n            case 'focus':\r\n                this._onFocus(evt);\r\n                break;\r\n            case 'blur':\r\n                this._onBlur(evt);\r\n                break;\r\n            case 'touchstart':\r\n                this._onPointerDown(evt);\r\n                break;\r\n            case 'mousedown':\r\n                this._onPointerDown(evt);\r\n                break;\r\n            case 'pointerdown':\r\n                this._onPointerDown(evt);\r\n                break;\r\n            case 'resize': {\r\n                if (this._resizeTimer) { window.cancelAnimationFrame(this._resizeTimer); }\r\n                this._resizeTimer = window.requestAnimationFrame(() => isValidMathfield(this) &&  this._onResize());\r\n                break;\r\n            }\r\n            case 'cut':\r\n                this._onCut(evt);\r\n                break;\r\n            case 'copy':\r\n                this._onCopy(evt);\r\n                break;\r\n            case 'paste':\r\n                this._onPaste(evt);\r\n                break;\r\n            default: console.warn('Unexpected event type', evt.type);\r\n        }\r\n    }\r\n    /**\r\n     * Reverts this mathfield to its original content.\r\n     *\r\n     * After this method has been\r\n     * called, no other methods can be called on the object.\r\n     *\r\n     * To turn the\r\n     * element back into a mathfield, call `MathLive.makeMathField()` on the\r\n     * element again to get a new mathfield object.\r\n     *\r\n     * @method MathField#$revertToOriginalContent\r\n     */\r\n    $revertToOriginalContent() {\r\n        this.element.innerHTML = this.originalContent;\r\n        this.element.mathfield = null;\r\n        delete this.accessibleNode;\r\n        delete this.ariaLiveText;\r\n        delete this.field;\r\n        off(this.textarea, 'cut', this);\r\n        off(this.textarea, 'copy', this);\r\n        off(this.textarea, 'paste', this);\r\n        this.textarea.remove();\r\n        delete this.textarea;\r\n        this.virtualKeyboardToggleDOMNode.remove();\r\n        delete this.virtualKeyboardToggleDOMNode;\r\n        delete releaseSharedElement(this.popover);\r\n        delete releaseSharedElement(this.keystrokeCaption);\r\n        delete releaseSharedElement(this.virtualKeyboard);\r\n        delete releaseSharedElement(document.getElementById('mathlive-alternate-keys-panel'));\r\n        off(this.element, 'pointerdown', this);\r\n        off(this.element, 'touchstart:active mousedown', this);\r\n        off(this.element, 'focus', this);\r\n        off(this.element, 'blur', this);\r\n        off(window, 'resize', this);\r\n        delete this.element;\r\n    }\r\n    _resetKeystrokeBuffer() {\r\n        this.keystrokeBuffer = '';\r\n        this.keystrokeBufferStates = [];\r\n        clearTimeout(this.keystrokeBufferResetTimer);\r\n    }\r\n    /**\r\n     * Return the (x,y) client coordinates of the caret\r\n     *\r\n     * @method MathField#_getCaretPosition\r\n     * @private\r\n     */\r\n    _getCaretPosition() {\r\n        const caret = _findElementWithCaret(this.field);\r\n        if (caret) {\r\n            const bounds = caret.getBoundingClientRect();\r\n            const position = {\r\n                x: bounds.right,\r\n                y: bounds.bottom,\r\n                height: bounds.height,\r\n            };\r\n            return position;\r\n        }\r\n        return null;\r\n    }\r\n    _getSelectionBounds() {\r\n        const selectedNodes = this.field.querySelectorAll('.ML__selected');\r\n        if (selectedNodes && selectedNodes.length > 0) {\r\n            const selectionRect = { top: Infinity, bottom: -Infinity, left: Infinity, right: -Infinity };\r\n            // Calculate the union of the bounds of all the selected spans\r\n            selectedNodes.forEach(node => {\r\n                const bounds = node.getBoundingClientRect();\r\n                if (bounds.left < selectionRect.left) { selectionRect.left = bounds.left; }\r\n                if (bounds.right > selectionRect.right) { selectionRect.right = bounds.right; }\r\n                if (bounds.bottom > selectionRect.bottom) { selectionRect.bottom = bounds.bottom; }\r\n                if (bounds.top < selectionRect.top) { selectionRect.top = bounds.top; }\r\n            });\r\n            const fieldRect = this.field.getBoundingClientRect();\r\n            const w = selectionRect.right - selectionRect.left;\r\n            const h = selectionRect.bottom - selectionRect.top;\r\n            selectionRect.left = Math.ceil(selectionRect.left - fieldRect.left + this.field.scrollLeft);\r\n            selectionRect.right = selectionRect.left + w;\r\n            selectionRect.top = Math.ceil(selectionRect.top - fieldRect.top);\r\n            selectionRect.bottom = selectionRect.top + h;\r\n            return selectionRect;\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * @param {number} x\r\n     * @param {number} y\r\n     * @param {object} options\r\n     * @param {boolean} options.bias  if 0, the midpoint of the bounding box\r\n     * is considered to return the sibling. If <0, the left sibling is\r\n     * favored, if >0, the right sibling\r\n     * @private\r\n     */\r\n    _pathFromPoint(x, y, options) {\r\n        options = options || {};\r\n        options.bias = options.bias || 0;\r\n        let result;\r\n        // Try to find the deepest element that is near the point that was\r\n        // clicked on (the point could be outside of the element)\r\n        const nearest = nearestElementFromPoint(this.field, x, y);\r\n        const el = nearest.element;\r\n        const id = el ? el.getAttribute('data-atom-id') : null;\r\n        if (id) {\r\n            // Let's find the atom that has a matching ID with the element that\r\n            // was clicked on (or near)\r\n            const paths = this.mathlist.filter(function (_path, atom) {\r\n                // If the atom allows children to be selected, match only if\r\n                // the ID of  the atom matches the one we're looking for.\r\n                if (!atom.captureSelection) {\r\n                    return atom.id === id;\r\n                }\r\n                // If the atom does not allow children to be selected\r\n                // (captureSelection === true), the element matches if any of\r\n                // its children has an ID that matches.\r\n                return atom.filter(childAtom => childAtom.id === id).length > 0;\r\n            });\r\n            if (paths && paths.length > 0) {\r\n                // (There should be exactly one atom that matches this ID...)\r\n                // Set the result to the path to this atom\r\n                result = MathPath.pathFromString(paths[0]).path;\r\n                if (options.bias === 0) {\r\n                    // If the point clicked is to the left of the vertical midline,\r\n                    // adjust the path to *before* the atom (i.e. after the\r\n                    // preceding atom)\r\n                    const bounds = el.getBoundingClientRect();\r\n                    if (x < bounds.left + bounds.width / 2 && !el.classList.contains('ML__placeholder')) {\r\n                        result[result.length - 1].offset =\r\n                            Math.max(0, result[result.length - 1].offset - 1);\r\n                    }\r\n                } else if (options.bias < 0) {\r\n                    result[result.length - 1].offset =\r\n                        Math.min(this.mathlist.siblings().length - 1, Math.max(0, result[result.length - 1].offset + options.bias));\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    _onPointerDown(evt) {\r\n        const that = this;\r\n        let anchor;\r\n        let trackingPointer = false;\r\n        let trackingWords = false;\r\n        let dirty = false;\r\n        // If a mouse button other than the main one was pressed, return\r\n        // console.log(evt.buttons);\r\n        if (evt.buttons !== 1 && evt.buttons !== 0) { return; } // 解决火狐浏览器触摸事件失效的问题，1的时候为主按钮，0是火狐的触摸事件\r\n        function endPointerTracking(evt) {\r\n            if (window.PointerEvent) {\r\n                off(that.field, 'pointermove', onPointerMove);\r\n                off(that.field, 'pointerend pointerleave pointercancel', endPointerTracking);\r\n                // off(window, 'pointermove', onPointerMove);\r\n                // off(window, 'pointerup blur', endPointerTracking);\r\n                that.field.releasePointerCapture(evt.pointerId);\r\n            } else {\r\n                off(that.field, 'touchmove', onPointerMove);\r\n                off(that.field, 'touchend touchleave', endPointerTracking);\r\n                off(window, 'mousemove', onPointerMove);\r\n                off(window, 'mouseup blur', endPointerTracking);\r\n            }\r\n            trackingPointer = false;\r\n            clearInterval(scrollInterval);\r\n            that.element.querySelectorAll('.ML__scroller').forEach(x => x.parentNode.removeChild(x));\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        }\r\n        let scrollLeft = false;\r\n        let scrollRight = false;\r\n        const scrollInterval = setInterval(() => {\r\n            if (scrollLeft) {\r\n                that.field.scroll({ top: 0, left: that.field.scrollLeft - 16 });\r\n            } else if (scrollRight) {\r\n                that.field.scroll({ top: 0, left: that.field.scrollLeft + 16 });\r\n            }\r\n        }, 32);\r\n        function onPointerMove(evt) {\r\n            const x = evt.touches ? evt.touches[0].clientX : evt.clientX;\r\n            const y = evt.touches ? evt.touches[0].clientY : evt.clientY;\r\n            // Ignore events that are within small spatial and temporal bounds\r\n            // of the pointer down\r\n            const hysteresis = evt.pointerType === 'touch' ? 20 : 5;\r\n            if (Date.now() < anchorTime + 500 &&\r\n                Math.abs(anchorX - x) < hysteresis && Math.abs(anchorY - y) < hysteresis) {\r\n                evt.preventDefault();\r\n                evt.stopPropagation();\r\n                return;\r\n            }\r\n            const fieldBounds = that.field.getBoundingClientRect();\r\n            scrollRight = x > fieldBounds.right;\r\n            scrollLeft = x < fieldBounds.left;\r\n            let actualAnchor = anchor;\r\n            if (window.PointerEvent) {\r\n                if (!evt.isPrimary) {\r\n                    actualAnchor = that._pathFromPoint(evt.clientX, evt.clientY, { bias: 0 });\r\n                }\r\n            } else {\r\n                if (evt.touches && evt.touches.length === 2) {\r\n                    actualAnchor = that._pathFromPoint(evt.touches[1].clientX, evt.touches[1].clientY, { bias: 0 });\r\n                }\r\n            }\r\n            const focus = that._pathFromPoint(x, y, { bias: x <= anchorX ? (x === anchorX ? 0 : -1) : +1 });\r\n            if (focus && that.mathlist.setRange(actualAnchor, focus, { extendToWordBoundary: trackingWords })) {\r\n                // Re-render if the range has actually changed\r\n                that._requestUpdate();\r\n            }\r\n            // Prevent synthetic mouseMove event when this is a touch event\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        }\r\n        const anchorX = evt.touches ? evt.touches[0].clientX : evt.clientX;\r\n        const anchorY = evt.touches ? evt.touches[0].clientY : evt.clientY;\r\n        const anchorTime = Date.now();\r\n        // Calculate the tap count\r\n        if (lastTap && Math.abs(lastTap.x - anchorX) < 5 &&\r\n            Math.abs(lastTap.y - anchorY) < 5 &&\r\n            Date.now() < lastTap.time + 500) {\r\n            tapCount += 1;\r\n            lastTap.time = anchorTime;\r\n        } else {\r\n            lastTap = {\r\n                x: anchorX,\r\n                y: anchorY,\r\n                time: anchorTime\r\n            };\r\n            tapCount = 1;\r\n        }\r\n        const bounds = this.field.getBoundingClientRect();\r\n\r\n        if (anchorX >= bounds.left && anchorX <= bounds.right &&\r\n            anchorY >= bounds.top && anchorY <= bounds.bottom) {\r\n\r\n            // Focus the mathfield\r\n            if (!this.$hasFocus()) {\r\n                dirty = true;\r\n                if (this.textarea.focus) { this.textarea.focus(); }\r\n            }\r\n\r\n            // Clicking or tapping the field resets the keystroke buffer and\r\n            // smart mode\r\n            this._resetKeystrokeBuffer();\r\n            this.smartModeSuppressed = false;\r\n            anchor = this._pathFromPoint(anchorX, anchorY, { bias: 0 });\r\n            if (anchor) {\r\n                // Create divs to block out pointer tracking to the left and right of\r\n                // the mathfield (to avoid triggering the hover of the virtual\r\n                // keyboard toggle, for example)\r\n                let div = document.createElement('div');\r\n                div.className = 'ML__scroller';\r\n                this.element.appendChild(div);\r\n                div.style.left = (bounds.left - 200) + 'px';\r\n                div = document.createElement('div');\r\n                div.className = 'ML__scroller';\r\n                this.element.appendChild(div);\r\n                div.style.left = (bounds.right) + 'px';\r\n\r\n                if (evt.shiftKey) {\r\n                    // Extend the selection if the shift-key is down\r\n                    this.mathlist.setRange(this.mathlist.path, anchor);\r\n                    anchor = MathPath.clone(this.mathlist.path);\r\n                    anchor[anchor.length - 1].offset -= 1;\r\n                } else {\r\n                    this.mathlist.setPath(anchor, 0);\r\n                }\r\n\r\n                // The selection has changed, so we'll need to re-render\r\n                dirty = true;\r\n\r\n                // Reset any user-specified style\r\n                this.style = {};\r\n                // evt.detail contains the number of consecutive clicks\r\n                // for double-click, triple-click, etc...\r\n                // (note that evt.detail is not set when using pointerEvent)\r\n                if (evt.detail === 3 || tapCount > 2) {\r\n                    endPointerTracking(evt);\r\n                    if (evt.detail === 3 || tapCount === 3) {\r\n                        // This is a triple-click\r\n                        this.mathlist.selectAll_();\r\n                    }\r\n                } else if (!trackingPointer) {\r\n                    trackingPointer = true;\r\n                    if (window.PointerEvent) {\r\n                        on(that.field, 'pointermove', onPointerMove);\r\n                        on(that.field, 'pointerend pointercancel pointerup', endPointerTracking);\r\n                        that.field.setPointerCapture(evt.pointerId);\r\n                    } else {\r\n                        on(window, 'blur', endPointerTracking);\r\n                        if (evt.touches) {\r\n                            // To receive the subsequent touchmove/touch, need to\r\n                            // listen to this evt.target.\r\n                            // This was a touch event\r\n                            on(evt.target, 'touchmove', onPointerMove);\r\n                            on(evt.target, 'touchend', endPointerTracking);\r\n                        } else {\r\n                            on(window, 'mousemove', onPointerMove);\r\n                            on(window, 'mouseup', endPointerTracking);\r\n                        }\r\n                    }\r\n                    if (evt.detail === 2 || tapCount === 2) {\r\n                        // This is a double-click\r\n                        trackingWords = true;\r\n                        this.mathlist.selectGroup_();\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            lastTap = null;\r\n        }\r\n        if (dirty) { this._requestUpdate(); }\r\n        // Prevent the browser from handling, in particular when this is a\r\n        // touch event prevent the synthetic mouseDown event from being generated\r\n        evt.preventDefault();\r\n    }\r\n    _onSelectionDidChange() {\r\n        // Every atom before the new caret position is now committed\r\n        this.mathlist.commitCommandStringBeforeInsertionPoint();\r\n        // If the selection is not collapsed, put it in the textarea\r\n        // This will allow cut/copy to work.\r\n        let result = '';\r\n        this.mathlist.forEachSelected(atom => { result += atom.toLatex(); });\r\n        if (result) {\r\n            this.textarea.value = result;\r\n            // The textarea may be a span (on mobile, for example), so check that\r\n            // it has a select() before calling it.\r\n            if (this.$hasFocus() && this.textarea.select) {\r\n                this.textarea.select();\r\n            }\r\n        } else {\r\n            this.textarea.value = '';\r\n            this.textarea.setAttribute('aria-label', '');\r\n        }\r\n        // Update the mode\r\n        {\r\n            const previousMode = this.mode;\r\n            // 自动切换输入模式\r\n            // this.mode = this.mathlist.anchorMode() || this.config.defaultMode;\r\n            this.mode = this.config.defaultMode\r\n            if (this.mode !== previousMode && typeof this.config.onModeChange === 'function') {\r\n                this.config.onModeChange(this, this.mode);\r\n            }\r\n            if (previousMode === 'command' && this.mode !== 'command') {\r\n                Popover.hidePopover(this);\r\n                this.mathlist.removeCommandString();\r\n            }\r\n        }\r\n        // Defer the updating of the popover position: we'll need the tree to be\r\n        // re-rendered first to get an updated caret position\r\n        Popover.updatePopoverPosition(this, { deferred: true });\r\n        // Invoke client handlers, if provided.\r\n        if (typeof this.config.onSelectionDidChange === 'function') {\r\n            this.config.onSelectionDidChange(this);\r\n        }\r\n    }\r\n    _onContentDidChange() {\r\n        if (this.undoManager.canRedo()) {\r\n            this.element.classList.add('can-redo');\r\n        } else {\r\n            this.element.classList.remove('can-redo');\r\n        }\r\n        if (this.undoManager.canUndo()) {\r\n            this.element.classList.add('can-undo');\r\n        } else {\r\n            this.element.classList.remove('can-undo');\r\n        }\r\n        if (typeof this.config.onContentDidChange === 'function') {\r\n            this.config.onContentDidChange(this);\r\n        }\r\n    }\r\n    /* Returns the speech text of the next atom after the selection or\r\n     *   an 'end of' phrasing based on what structure we are at the end of\r\n     */\r\n    _nextAtomSpeechText(oldMathlist) {\r\n        function relation(parent, leaf) {\r\n            const EXPR_NAME = {\r\n                //    'array': 'should not happen',\r\n                'numer': 'numerator',\r\n                'denom': 'denominator',\r\n                'index': 'index',\r\n                'body': 'parent',\r\n                'subscript': 'subscript',\r\n                'superscript': 'superscript'\r\n            };\r\n            const PARENT_NAME = {\r\n                'enclose': 'cross out',\r\n                'leftright': 'fence',\r\n                'surd': 'square root',\r\n                'root': 'math field'\r\n            };\r\n            return (leaf.relation === 'body' ? PARENT_NAME[parent.type] : EXPR_NAME[leaf.relation]);\r\n        }\r\n        const oldPath = oldMathlist ? oldMathlist.path : [];\r\n        const path = this.mathlist.path;\r\n        const leaf = path[path.length - 1];\r\n        let result = '';\r\n        while (oldPath.length > path.length) {\r\n            result += 'out of ' + relation(oldMathlist.parent(), oldPath[oldPath.length - 1]) + '; ';\r\n            oldPath.pop();\r\n        }\r\n        if (!this.mathlist.isCollapsed()) {\r\n            return speakableText(this, '', this.mathlist.getSelectedAtoms());\r\n        }\r\n        // announce start of denominator, etc\r\n        const relationName = relation(this.mathlist.parent(), leaf);\r\n        if (leaf.offset === 0) {\r\n            result += (relationName ? 'start of ' + relationName : 'unknown') + ': ';\r\n        }\r\n        const atom = this.mathlist.sibling(Math.max(1, this.mathlist.extent));\r\n        if (atom) {\r\n            result += speakableText(this, '', atom);\r\n        } else if (leaf.offset !== 0) { // don't say both start and end\r\n            result += relationName ? 'end of ' + relationName : 'unknown';\r\n        }\r\n        return result;\r\n    }\r\n    _announce(command, mathlist, atoms) {\r\n        if (typeof this.config.onAnnounce === 'function') {\r\n            this.config.onAnnounce(this, command, mathlist, atoms);\r\n        }\r\n    }\r\n    _onFocus() {\r\n        // 聚焦事件\r\n        if (this.changeType === 'text') {\r\n            console.log('中文输入阻止聚焦');\r\n            if (this.config.onFocus) { this.config.onFocus(this); }\r\n            return\r\n        }\r\n\r\n        if (this.blurred) {\r\n            this.blurred = false;\r\n            // The textarea may be a span (on mobile, for example), so check that\r\n            // it has a focus() before calling it.\r\n            if (this.textarea.focus) { this.textarea.focus(); }\r\n            if (this.config.virtualKeyboardMode === 'onfocus') {\r\n                this.showVirtualKeyboard_();\r\n            }\r\n            Popover.updatePopoverPosition(this);\r\n            if (this.config.onFocus) { this.config.onFocus(this); }\r\n            this._requestUpdate();\r\n        }\r\n    }\r\n    _onBlur() {\r\n        if (this.longPressed) {\r\n            // 阻止长按脱焦事件\r\n            return\r\n        }\r\n        if (!this.blurred) {\r\n            this.blurred = true;\r\n            this.ariaLiveText.textContent = '';\r\n            if (this.config.virtualKeyboardMode === 'onfocus') {\r\n                this.hideVirtualKeyboard_();\r\n            }\r\n            this.complete_({ discard: true });\r\n            this._requestUpdate();\r\n            if (this.config.onBlur) { this.config.onBlur(this); }\r\n        } else {\r\n            console.log('中文环境下的脱焦事件');\r\n            if (this.config.onBlur) { this.config.onBlur(this); }\r\n        }\r\n    }\r\n    _onResize() {\r\n        this.element.classList.remove('ML__isNarrowWidth', 'ML__isWideWidth', 'ML__isExtendedWidth');\r\n        if (window.innerWidth >= 1024) {\r\n            this.element.classList.add('ML__isExtendedWidth');\r\n        } else if (window.innerWidth >= 768) {\r\n            this.element.classList.add('ML__isWideWidth');\r\n        } else {\r\n            this.element.classList.add('ML__isNarrowWidth');\r\n        }\r\n        Popover.updatePopoverPosition(this);\r\n    }\r\n    toggleKeystrokeCaption_() {\r\n        this.keystrokeCaptionVisible = !this.keystrokeCaptionVisible;\r\n        this.keystrokeCaption.innerHTML = '';\r\n        if (!this.keystrokeCaptionVisible) {\r\n            this.keystrokeCaption.style.visibility = 'hidden';\r\n        }\r\n    }\r\n    _showKeystroke(keystroke) {\r\n        const vb = this.keystrokeCaption;\r\n        if (vb && this.keystrokeCaptionVisible) {\r\n            const bounds = this.element.getBoundingClientRect();\r\n            vb.style.left = bounds.left + 'px';\r\n            vb.style.top = (bounds.top - 64) + 'px';\r\n            vb.innerHTML = '<span>' +\r\n                (Shortcuts.stringify(keystroke) || keystroke) +\r\n                '</span>' + vb.innerHTML;\r\n            vb.style.visibility = 'visible';\r\n            setTimeout(function () {\r\n                if (vb.childNodes.length > 0) {\r\n                    vb.removeChild(vb.childNodes[vb.childNodes.length - 1]);\r\n                }\r\n                if (vb.childNodes.length === 0) {\r\n                    vb.style.visibility = 'hidden';\r\n                }\r\n            }, 3000);\r\n        }\r\n    }\r\n    /**\r\n     * Performs a command defined by a selector.\r\n     *\r\n     *\r\n#### Moving the insertion point\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"moveToNextChar\"` | |\r\n| `\"moveToPreviousChar\"` | |\r\n| `\"moveUp\"` | |\r\n| `\"moveDown\"` | |\r\n| `\"moveToNextPlaceholder\"` | |\r\n| `\"moveToPreviousPlaceholder\"` | |\r\n| `\"moveToNextWord\"` | |\r\n| `\"moveToPreviousWord\"` | |\r\n| `\"moveToGroupStart\"` | |\r\n| `\"moveToGroupEnd\"` | |\r\n| `\"moveToMathFieldStart\"` | |\r\n| `\"moveToMathFieldEnd\"` | |\r\n| `\"moveToSuperscript\"` | |\r\n| `\"moveToSubscript\"` | |\r\n| `\"moveToOpposite\"` | |\r\n| `\"moveBeforeParent\"` | |\r\n| `\"moveAfterParent\"` | |\r\n\r\n\r\n#### Selection\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"selectGroup\"` | Select all the atoms in the current group, that is all the siblings.<br> When the selection is in a numerator, the group is the numerator.<br>When the selection is a superscript or subscript, the group is the supsub.|\r\n| `\"selectAll\"` | Select all the atoms in the mathfield|\r\n\r\n\r\n#### Extending the selection\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"extendToNextChar\"` | |\r\n| `\"extendToPreviousChar\"` | |\r\n| `\"extendToNextWord\"` | |\r\n| `\"extendToPreviousWord\"` | |\r\n| `\"extendUp\"` | |\r\n| `\"extendDown\"` | |\r\n| `\"extendToNextBoundary\"` | |\r\n| `\"extendToPreviousBoundary\"` | |\r\n| `\"extendToGroupStart\"` | |\r\n| `\"extendToGroupEnd\"` | |\r\n| `\"extendToMathFieldStart\"` | |\r\n| `\"extendToMathFieldEnd\"` | |\r\n\r\n\r\n#### Editing / deleting\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"deleteAll\"` | Delete everything in the field |\r\n| `\"delete\"` | Delete the current selection |\r\n| `\"deleteNextChar\"` | |\r\n| `\"deletePreviousChar\"` | |\r\n| `\"deleteNextWord\"` | |\r\n| `\"deletePreviousWord\"` | |\r\n| `\"deleteToGroupStart\"` | |\r\n| `\"deleteToGroupEnd\"` | |\r\n| `\"deleteToMathFieldEnd\"` | |\r\n| `\"transpose\"` | |\r\n\r\n\r\n#### Editing a matrix\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"addRowAfter\"` | |\r\n| `\"addRowBefore\"` | |\r\n| `\"addColumnAfter\"` | |\r\n| `\"addColumnBefore\"` | |\r\n\r\n\r\n#### Other editing commands\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"scrollIntoView\"` | |\r\n| `\"scrollToStart\"` | |\r\n| `\"switchMode\"` | |\r\n| `\"complete\"` | |\r\n| `\"nextSuggestion\"` | |\r\n| `\"previousSuggestion\"` | |\r\n| `\"toggleKeystrokeCaption\"` | |\r\n| `\"applyStyle\"` | |\r\n\r\n\r\n#### Clipboard\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"undo\"` | |\r\n| `\"redo\"` | |\r\n| `\"copyToClipboard\"` | |\r\n| `\"cutToClipboard\"` | |\r\n| `\"pasteFromClipboard\"` | |\r\n\r\n\r\n#### Virtual Keyboard\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"toggleVirtualKeyboard\"` | |\r\n| `\"showVirtualKeyboard\"` | |\r\n| `\"hideVirtualKeyboard\"` | |\r\n| `\"toggleVirtualKeyboardAlt\"` | |\r\n| `\"toggleVirtualKeyboardShift\"` | |\r\n| `\"showAlternateKeys\"` | |\r\n| `\"hideAlternateKeys\"` | |\r\n| `\"performAlternateKeys\"` | |\r\n| `\"switchKeyboardLayer\"` | |\r\n| `\"shiftKeyboardLayer\"` | |\r\n| `\"unshiftKeyboardLayer\"` | |\r\n| `\"insertAndUnshiftKeyboardLayer\"` | |\r\n| `\"performWithFeedback\"` | |\r\n\r\n\r\n#### Speech\r\n\r\n| Name                 | Description               |\r\n| --------------------- | ------------------------- |\r\n| `\"speak\"` | speaks the amount specified by the first parameter. |\r\n     *\r\n     * @param {string|string[]} command - A selector, or an array whose first element\r\n     * is a selector, and whose subsequent elements are arguments to the selector.\r\n     *\r\n     * Note that selectors do not include a final \"_\". They can be passed either\r\n     * in camelCase or kebab-case.\r\n     *\r\n     * ```javascript\r\n     * mf.$perform('selectAll');\r\n     * mf.$perform('select-all');\r\n     * ```\r\n     * In the above example, both calls invoke the same selector.\r\n     *\r\n     *\r\n     * @method MathField#$perform\r\n     */\r\n    $perform(command) {\r\n        if (!command) { return false; }\r\n        let handled = false;\r\n        let selector;\r\n        let args = [];\r\n        let dirty = false;\r\n        if (Array.isArray(command)) {\r\n            selector = command[0];\r\n            args = command.slice(1);\r\n        } else {\r\n            selector = command;\r\n        }\r\n        // Convert kebab case (like-this) to camel case (likeThis).\r\n        selector = selector.replace(/-\\w/g, (m) => m[1].toUpperCase());\r\n        selector += '_';\r\n        if (typeof this.mathlist[selector] === 'function') {\r\n            if (/^(delete|transpose|add)/.test(selector)) {\r\n                this._resetKeystrokeBuffer();\r\n            }\r\n            if (/^(delete|transpose|add)/.test(selector) && this.mode !== 'command') {\r\n                // Update the undo state to account for the current selection\r\n                this.undoManager.pop();\r\n                this.undoManager.snapshot(this.config);\r\n            }\r\n            this.mathlist[selector](...args);\r\n            if (/^(delete|transpose|add)/.test(selector) && this.mode !== 'command') {\r\n                this.undoManager.snapshot(this.config);\r\n            }\r\n            if (/^(delete)/.test(selector) && this.mode === 'command') {\r\n                const command = this.mathlist.extractCommandStringAroundInsertionPoint();\r\n                const suggestions = Definitions.suggest(command);\r\n                if (suggestions.length === 0) {\r\n                    Popover.hidePopover(this);\r\n                } else {\r\n                    Popover.showPopoverWithLatex(this, suggestions[0].match, suggestions.length > 1);\r\n                }\r\n            }\r\n            dirty = true;\r\n            handled = true;\r\n        } else if (typeof this[selector] === 'function') {\r\n            dirty = this[selector](...args);\r\n            handled = true;\r\n        }\r\n        // If the command changed the selection so that it is no longer\r\n        // collapsed, or if it was an editing command, reset the inline\r\n        // shortcut buffer and the user style\r\n        if (!this.mathlist.isCollapsed() || /^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(selector)) {\r\n            this._resetKeystrokeBuffer();\r\n            this.style = {};\r\n        }\r\n        // Render the mathlist\r\n        if (dirty) { this._requestUpdate(); }\r\n        return handled;\r\n    }\r\n    /**\r\n     * Perform a command, but:\r\n     * * focus the mathfield\r\n     * * provide haptic and audio feedback\r\n     * This is used by the virtual keyboard when command keys (delete, arrows, etc..)\r\n     * are pressed.\r\n     * @param {string} command\r\n     * @private\r\n     */\r\n    performWithFeedback_(command) {\r\n        console.log(command, 'command');\r\n        \r\n        this.$focus();\r\n        if (this.config.keypressVibration && navigator.vibrate) {\r\n            navigator.vibrate(HAPTIC_FEEDBACK_DURATION);\r\n        }\r\n        // Convert kebab case to camel case.\r\n        command = command.replace(/-\\w/g, (m) => m[1].toUpperCase());\r\n        if (command === 'moveToNextPlaceholder' ||\r\n            command === 'moveToPreviousPlaceholder' ||\r\n            command === 'complete') {\r\n            if (this.returnKeypressSound) {\r\n                this.returnKeypressSound.load();\r\n                this.returnKeypressSound.play().catch(err => console.warn(err));\r\n            } else if (this.keypressSound) {\r\n                this.keypressSound.load();\r\n                this.keypressSound.play().catch(err => console.warn(err));\r\n            }\r\n        } else if (command === 'deletePreviousChar' ||\r\n            command === 'deleteNextChar' ||\r\n            command === 'deletePreviousWord' ||\r\n            command === 'deleteNextWord' ||\r\n            command === 'deleteToGroupStart' ||\r\n            command === 'deleteToGroupEnd' ||\r\n            command === 'deleteToMathFieldStart' ||\r\n            command === 'deleteToMathFieldEnd') {\r\n            if (this.deleteKeypressSound) {\r\n                this.deleteKeypressSound.load();\r\n                this.deleteKeypressSound.play().catch(err => console.warn(err));\r\n            } else if (this.keypressSound) {\r\n                this.keypressSound.load();\r\n                this.keypressSound.play().catch(err => console.warn(err));\r\n            }\r\n        } else if (this.keypressSound) {\r\n            this.keypressSound.load();\r\n            this.keypressSound.play().catch(err => console.warn(err));\r\n        }\r\n        return this.$perform(command);\r\n    }\r\n    /**\r\n     * Convert the atoms before the anchor to 'text' mode\r\n     * @param {number} count - how many atoms back to look at\r\n     * @param {function} until - callback to indicate when to stop\r\n     * @private\r\n     */\r\n    convertLastAtomsToText_(count, until) {\r\n        if (typeof count === 'function') {\r\n            until = count;\r\n            count = Infinity;\r\n        }\r\n        if (count === undefined) { count = Infinity; }\r\n        let i = 0;\r\n        let done = false;\r\n        this.mathlist.contentWillChange();\r\n        while (!done) {\r\n            const atom = this.mathlist.sibling(i);\r\n            done = count === 0 || !atom || atom.mode !== 'math' ||\r\n                !(/mord|textord|mpunct/.test(atom.type) ||\r\n                    (atom.type === 'mop' && /[a-zA-Z]+/.test(atom.body))) ||\r\n                atom.superscript || atom.subscript ||\r\n                (until && !until(atom));\r\n            if (!done) {\r\n                atom.applyStyle({ mode: 'text' });\r\n                atom.latex = atom.body;\r\n            }\r\n            i -= 1;\r\n            count -= 1;\r\n        }\r\n        this.mathlist.contentDidChange();\r\n    }\r\n    /**\r\n     * Convert the atoms before the anchor to 'math' mode 'mord'\r\n     * @param {number} count - how many atoms back to look at\r\n     * @param {function} until - callback to indicate when to stop\r\n     * @private\r\n     */\r\n    convertLastAtomsToMath_(count, until) {\r\n        if (typeof count === 'function') {\r\n            until = count;\r\n            count = Infinity;\r\n        }\r\n        if (count === undefined) { count = Infinity; }\r\n        this.mathlist.contentWillChange();\r\n        let i = 0;\r\n        let done = false;\r\n        while (!done) {\r\n            const atom = this.mathlist.sibling(i);\r\n            done = count === 0 || !atom || atom.mode !== 'text' ||\r\n                atom.body === ' ' ||\r\n                (until && !until(atom));\r\n            if (!done) {\r\n                atom.applyStyle({ mode: 'math', type: 'mord' });\r\n            }\r\n            i -= 1;\r\n            count -= 1;\r\n        }\r\n        this.removeIsolatedSpace_();\r\n        this.mathlist.contentDidChange();\r\n    }\r\n    /**\r\n     * Going backwards from the anchor, if a text zone consisting of a single\r\n     * space character is found (i.e. it is surrounded by math zone),\r\n     * remove it.\r\n     * @private\r\n     */\r\n    removeIsolatedSpace_() {\r\n        let i = 0;\r\n        while (this.mathlist.sibling(i) && this.mathlist.sibling(i).mode === 'math') {\r\n            i -= 1;\r\n        }\r\n        // If the atom before the last one converted is a\r\n        // text mode space, preceded by a math mode atom,\r\n        // remove the space\r\n        if (this.mathlist.sibling(i) &&\r\n            this.mathlist.sibling(i).mode === 'text' &&\r\n            this.mathlist.sibling(i).body === ' ' && (!this.mathlist.sibling(i - 1) ||\r\n                this.mathlist.sibling(i - 1).mode === 'math')) {\r\n            this.mathlist.contentWillChange();\r\n            this.mathlist.siblings().splice(i - 1, 1);\r\n            this.mathlist.contentDidChange();\r\n            // We need to adjust the selection after doing some surgery on the atoms list\r\n            // But we don't want to receive selection notification changes\r\n            // which could have a side effect of changing the mode :(\r\n            const save = this.mathlist.suppressChangeNotifications;\r\n            this.mathlist.suppressChangeNotifications = true;\r\n            this.mathlist.setSelection(this.mathlist.anchorOffset() - 1);\r\n            this.mathlist.suppressChangeNotifications = save;\r\n        }\r\n    }\r\n    /**\r\n     * Return the characters before anchor that could potentially be turned\r\n     * into text mode.\r\n     * This excludes things like 'mop' (e.g. \\sin)\r\n     * @return {string}\r\n     * @method MathField#getTextBeforeAnchor_\r\n     * @private\r\n     */\r\n    getTextBeforeAnchor_() {\r\n        // Going backwards, accumulate\r\n        let result = '';\r\n        let i = 0;\r\n        let done = false;\r\n        while (!done) {\r\n            const atom = this.mathlist.sibling(i);\r\n            done = !(atom &&\r\n                ((atom.mode === 'text' && !atom.type) ||\r\n                    (atom.mode === 'math' && /mord|textord|mpunct/.test(atom.type))));\r\n            if (!done) {\r\n                result = atom.body + result;\r\n            }\r\n            i -= 1;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Consider whether to switch mode give the content before the anchor\r\n     * and the character being input\r\n     *\r\n     * @param {string} keystroke\r\n     * @param {Event} evt - a Event corresponding to the keystroke\r\n     * @method MathField#smartMode_\r\n     * @return {boolean} true if the mode should change\r\n     * @private\r\n     */\r\n    smartMode_(keystroke, evt) {\r\n        if (this.smartModeSuppressed) { return false; }\r\n        if (this.mathlist.endOffset() < this.mathlist.siblings().length - 1) { return false; }\r\n        if (!evt || evt.ctrlKey || evt.metaKey) { return false; }\r\n        const c = Keyboard.eventToChar(evt);\r\n        if (c.length > 1) { return false; } // Backspace, Left, etc...\r\n        if (!this.mathlist.isCollapsed()) {\r\n            // There is a selection\r\n            if (this.mode === 'text') {\r\n                if (/[/_^]/.test(c)) { return true; }\r\n            }\r\n            return false;\r\n        }\r\n        const context = this.getTextBeforeAnchor_() + c;\r\n        if (this.mode === 'text') {\r\n            // We're in text mode. Should we switch to math?\r\n            if (keystroke === 'Esc' || /[/\\\\]/.test(c)) {\r\n                // If this is a command for a fraction,\r\n                // or the '\\' command mode key\r\n                // switch to 'math'\r\n                return true;\r\n            }\r\n            if (/[\\^_]/.test(c)) {\r\n                // If this is a superscript or subscript\r\n                // switch to 'math'\r\n                if (/(^|\\s)[a-zA-Z][^_]$/.test(context)) {\r\n                    // If left hand context is a single letter,\r\n                    // convert it to math\r\n                    this.convertLastAtomsToMath_(1);\r\n                }\r\n                return true;\r\n            }\r\n            // If this is a closing matching fence\r\n            // switch to 'math' mode\r\n            const lFence = { ')': '(', '}': '{', ']': '[' }[c];\r\n            if (lFence && this.mathlist.parent() &&\r\n                this.mathlist.parent().type === 'leftright' &&\r\n                this.mathlist.parent().leftDelim === lFence) {\r\n                return true;\r\n            }\r\n            if (/(^|[^a-zA-Z])(a|I)[ ]$/.test(context)) {\r\n                // Single letters that are valid words in the current language\r\n                // Do nothing. @todo: localization\r\n                return false;\r\n            }\r\n            if (/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(c)) {\r\n                // A currency symbol.\r\n                // Switch to math mode\r\n                return true;\r\n            }\r\n            if (/(^|[^a-zA-Z'’])[a-zA-Z][ ]$/.test(context)) {\r\n                // An isolated letter, followed by a space:\r\n                // Convert the letter to math, stay in text mode.\r\n                this.convertLastAtomsToMath_(1);\r\n                return false;\r\n            }\r\n            if (/[^0-9]\\.[^0-9\\s]$/.test(context)) {\r\n                // A period followed by something other than space or a digit\r\n                // and not preceded by a digit.\r\n                // We thought this was a text period, but turns out it's not\r\n                // Turn it into a \\cdot\r\n                this.convertLastAtomsToMath_(1);\r\n                const atom = this.mathlist.sibling(0);\r\n                atom.body = '⋅'; // centered dot\r\n                atom.autoFontFamily = 'cmr';\r\n                atom.latex = '\\\\cdot';\r\n                return true;\r\n            }\r\n            if (/(^|\\s)[a-zA-Z][^a-zA-Z]$/.test(context)) {\r\n                // Single letter (x), followed by a non-letter (>, =...)\r\n                this.convertLastAtomsToMath_(1);\r\n                return true;\r\n            }\r\n            if (/\\.[0-9]$/.test(context)) {\r\n                // If the new character is a digit,\r\n                // and it was preceded by a dot (which may have been converted\r\n                // to text)\r\n                // turn the dot back into 'math'\r\n                this.convertLastAtomsToMath_(1);\r\n                return true;\r\n            }\r\n            if (/[(][0-9+\\-.]$/.test(context)) {\r\n                // An open paren followed by a number\r\n                // Turn the paren back to math and switch.\r\n                this.convertLastAtomsToMath_(1);\r\n                return true;\r\n            }\r\n            if (/[(][a-z][,;]$/.test(context)) {\r\n                // An open paren followed by a single letter, then a \",\" or \";\"\r\n                // Turn the paren back and letter to math and switch.\r\n                this.convertLastAtomsToMath_(2);\r\n                return true;\r\n            }\r\n            // The tests above can look behind and change what had previously\r\n            // been entered. Now, let's just look at the typed character.\r\n            if (/[0-9+\\-=><*|]$/.test(c)) {\r\n                // If this new character looks like a number,\r\n                // or a relational operator (=, <, >)\r\n                // or a \"*\" or \"|\"\r\n                // (note that <=, >=, etc... are handled separately as shortcuts)\r\n                // switch to 'math'\r\n                this.removeIsolatedSpace_();\r\n                return true;\r\n            }\r\n        } else {\r\n            // We're in math mode. Should we switch to text?\r\n            if (keystroke === 'Spacebar') {\r\n                this.convertLastAtomsToText_(a => /[a-z][:,;.]$/.test(a.body));\r\n                return true;\r\n            }\r\n            if (/[a-zA-Z]{3,}$/.test(context) && !/(dxd|abc|xyz|uvw)$/.test(context)) {\r\n                // A sequence of three characters\r\n                // (except for some exceptions)\r\n                // Convert them to text.\r\n                this.convertLastAtomsToText_(a => /[a-zA-Z:,;.]/.test(a.body));\r\n                return true;\r\n            }\r\n            if (/(^|\\W)(if|If)$/i.test(context)) {\r\n                // @todo localization\r\n                this.convertLastAtomsToText_(1);\r\n                return true;\r\n            }\r\n            if (/(\\u0393|\\u0394|\\u0398|\\u039b|\\u039E|\\u03A0|\\u03A3|\\u03a5|\\u03a6|\\u03a8|\\u03a9|[\\u03b1-\\u03c9]|\\u03d1|\\u03d5|\\u03d6|\\u03f1|\\u03f5){3,}$/u.test(context) &&\r\n                !/(αβγ)$/.test(context)) {\r\n                // A sequence of three *greek* characters\r\n                // (except for one exception)\r\n                // Convert them to text.\r\n                this.convertLastAtomsToText_(a => /(:|,|;|.|\\u0393|\\u0394|\\u0398|\\u039b|\\u039E|\\u03A0|\\u03A3|\\u03a5|\\u03a6|\\u03a8|\\u03a9|[\\u03b1-\\u03c9]|\\u03d1|\\u03d5|\\u03d6|\\u03f1|\\u03f5)/u.test(a.body));\r\n                return true;\r\n            }\r\n            if (/\\?|\\./.test(c)) {\r\n                // If the last character is a period or question mark,\r\n                // turn it to 'text'\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @param {string} keystroke\r\n     * @param {Event} [evt] - An Event corresponding to the keystroke.\r\n     * @method MathField#_onKeystroke\r\n     * @private\r\n     */\r\n    _onKeystroke(keystroke, evt) {\r\n        // 1. Display the keystroke in the keystroke panel (if visible)\r\n        this._showKeystroke(keystroke);\r\n        // 2. Reset the timer for the keystroke buffer reset\r\n        clearTimeout(this.keystrokeBufferResetTimer);\r\n        // 3. Give a chance to the custom keystroke handler to intercept the event\r\n        if (this.config.onKeystroke && !this.config.onKeystroke(this, keystroke, evt)) {\r\n            if (evt && evt.preventDefault) {\r\n                evt.preventDefault();\r\n                evt.stopPropagation();\r\n            }\r\n            return false;\r\n        }\r\n        // 4. Let's try to find a matching shortcut or command\r\n        let shortcut;\r\n        let stateIndex;\r\n        let selector;\r\n        let resetKeystrokeBuffer = false;\r\n        // 4.1 Check if the keystroke, prefixed with the previously typed keystrokes,\r\n        // would match a long shortcut (i.e. '~~')\r\n        // Ignore the key if command or control is pressed (it may be a shortcut,\r\n        // see 4.3)\r\n        if (this.mode !== 'command' && (!evt || (!evt.ctrlKey && !evt.metaKey))) {\r\n            const c = Keyboard.eventToChar(evt);\r\n            // The Backspace key will be handled as a delete command later (5.4)\r\n            // const c = Keyboard.eventToChar(evt);\r\n            if (c !== 'Backspace') {\r\n                if (!c || c.length > 1) {\r\n                    // It was a non-alpha character (PageUp, End, etc...)\r\n                    this._resetKeystrokeBuffer();\r\n                } else {\r\n                    // Find the longest substring that matches a shortcut\r\n                    const candidate = this.keystrokeBuffer + c;\r\n                    let i = 0;\r\n                    while (!shortcut && i < candidate.length) {\r\n                        let siblings;\r\n                        if (this.keystrokeBufferStates[i]) {\r\n                            const mathlist = new EditableMathlist.EditableMathlist();\r\n                            mathlist.root = MathAtom.makeRoot('math', ParserModule.parseTokens(Lexer.tokenize(this.keystrokeBufferStates[i].latex), this.config.default, null, this.config.macros));\r\n                            mathlist.setPath(this.keystrokeBufferStates[i].selection);\r\n                            siblings = mathlist.siblings();\r\n                        } else {\r\n                            siblings = this.mathlist.siblings();\r\n                        }\r\n                        shortcut = Shortcuts.forString(this.mode, siblings, candidate.slice(i), this.config);\r\n                        i += 1;\r\n                    }\r\n                    stateIndex = i - 1;\r\n                    this.keystrokeBuffer += c;\r\n                    this.keystrokeBufferStates.push(this.undoManager.save());\r\n                    if (Shortcuts.startsWithString(candidate, this.config).length <= 1) {\r\n                        resetKeystrokeBuffer = true;\r\n                    } else {\r\n                        if (this.config.inlineShortcutTimeout) {\r\n                            // Set a timer to reset the shortcut buffer\r\n                            this.keystrokeBufferResetTimer = setTimeout(() => {\r\n                                this._resetKeystrokeBuffer();\r\n                            }, this.config.inlineShortcutTimeout);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // 4.2. Should we switch mode?\r\n        // Need to check this before determing if there's a valid shortcut\r\n        // since if we switch to math mode, we may want to apply the shortcut\r\n        // e.g. \"slope = rise/run\"\r\n        if (this.config.smartMode) {\r\n            const previousMode = this.mode;\r\n            if (shortcut) {\r\n                // If we found a shortcut (e.g. \"alpha\"),\r\n                // switch to math mode and insert it\r\n                this.mode = 'math';\r\n            } else if (this.smartMode_(keystroke, evt)) {\r\n                this.mode = { 'math': 'text', 'text': 'math' }[this.mode];\r\n                selector = '';\r\n            }\r\n            \r\n            // Notify of mode change\r\n            if (this.mode !== previousMode && typeof this.config.onModeChange === 'function') {\r\n                this.config.onModeChange(this, this.mode);\r\n            }\r\n        }\r\n        // 4.3 Check if this matches a keystroke shortcut\r\n        // Need to check this **after** checking for inline shortcuts because\r\n        // shift+backquote is a keystroke that inserts \"\\~\"\", but \"~~\" is a\r\n        // shortcut for \"\\approx\" and needs to have priority over shift+backquote\r\n        if (!shortcut && !selector) {\r\n            selector = Shortcuts.selectorForKeystroke(this.mode, keystroke);\r\n        }\r\n        // No shortcut :( We're done.\r\n        if (!shortcut && !selector) { return true; }\r\n        // 5. Perform the action matching this shortcut\r\n        // 5.1 Remove any error indicator (wavy underline) on the current command\r\n        // sequence (if there are any)\r\n        this.mathlist.decorateCommandStringAroundInsertionPoint(false);\r\n        // 5.2 If we have a `moveAfterParent` selector (usually triggered with\r\n        // `spacebar), and we're at the end of a smart fence, close the fence with\r\n        // an empty (.) right delimiter\r\n        const parent = this.mathlist.parent();\r\n        if (selector === 'moveAfterParent' && parent &&\r\n            parent.type === 'leftright' &&\r\n            this.mathlist.endOffset() === this.mathlist.siblings().length - 1 &&\r\n            this.config.smartFence &&\r\n            this.mathlist._insertSmartFence('.')) {\r\n            // Pressing the space bar (moveAfterParent selector) when at the end\r\n            // of a potential smartfence will close it as a semi-open fence\r\n            selector = '';\r\n            this._requestUpdate(); // Re-render the closed smartfence\r\n        }\r\n        // 5.3 If this is the Spacebar and we're just before or right after\r\n        // a text zone, insert the space inside the text zone\r\n        if (this.mode === 'math' && keystroke === 'Spacebar' && !shortcut) {\r\n            const nextSibling = this.mathlist.sibling(1);\r\n            const previousSibling = this.mathlist.sibling(-1);\r\n            if ((nextSibling && nextSibling.mode === 'text') ||\r\n                (previousSibling && previousSibling.mode === 'text')) {\r\n                this.mathlist.insert(' ', { mode: 'text' });\r\n            }\r\n        }\r\n        // 5.4 If there's a selector, perform it.\r\n        if ((selector && !this.$perform(selector)) || shortcut) {\r\n            // // 6.5 insert the shortcut\r\n            if (shortcut) {\r\n                // If the shortcut is a mandatory escape sequence (\\}, etc...)\r\n                // don't make it undoable, this would result in syntactically incorrect\r\n                // formulas\r\n                if (!/^(\\\\{|\\\\}|\\\\[|\\\\]|\\\\@|\\\\#|\\\\$|\\\\%|\\\\^|\\\\_|\\\\backslash)$/.test(shortcut)) {\r\n                    // To enable the substitution to be undoable,\r\n                    // insert the character before applying the substitution\r\n                    const style = { ...this.mathlist.anchorStyle(), ...this.style };\r\n                    this.mathlist.insert(Keyboard.eventToChar(evt), {\r\n                        suppressChangeNotifications: true,\r\n                        mode: this.mode,\r\n                        style: style\r\n                    });\r\n                    const saveMode = this.mode;\r\n                    // Create a snapshot with the inserted character\r\n                    this.undoManager.snapshotAndCoalesce(this.config);\r\n                    // Revert to the state before the beginning of the shortcut\r\n                    // (restore doesn't change the undo stack)\r\n                    this.undoManager.restore(this.keystrokeBufferStates[stateIndex], { ...this.config, suppressChangeNotifications: true });\r\n                    this.mode = saveMode;\r\n                }\r\n                this.mathlist.contentWillChange();\r\n                const save = this.mathlist.suppressChangeNotifications;\r\n                this.mathlist.suppressChangeNotifications = true;\r\n                // Insert the substitute, possibly as a smart fence\r\n                const style = { ...this.mathlist.anchorStyle(), ...this.style };\r\n                this.mathlist.insert(shortcut, {\r\n                    format: 'latex',\r\n                    mode: this.mode,\r\n                    style: style,\r\n                    smartFence: true\r\n                });\r\n                // Check if as a result of the substitution there is now an isolated\r\n                // (text mode) space (surrounded by math). In which case, remove it.\r\n                this.removeIsolatedSpace_();\r\n                // Switch (back) to text mode if the shortcut ended with a space\r\n                if (shortcut.endsWith(' ')) {\r\n                    this.mode = 'text';\r\n                    this.mathlist.insert(' ', { mode: 'text', style: style });\r\n                }\r\n                this.mathlist.suppressChangeNotifications = save;\r\n                this.mathlist.contentDidChange();\r\n                this.undoManager.snapshot(this.config);\r\n                this._requestUpdate();\r\n                this._announce('replacement');\r\n                // If we're done with the shortcuts (found a unique one), reset it.\r\n                if (resetKeystrokeBuffer) {\r\n                    this._resetKeystrokeBuffer();\r\n                }\r\n            }\r\n        }\r\n        // 6. Make sure the insertion point is scrolled into view\r\n        this.scrollIntoView();\r\n        // 7. Keystroke has been handled, if it wasn't caught in the default\r\n        // case, so prevent propagation\r\n        if (evt && evt.preventDefault) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * This handler is invoked when text has been typed, pasted in or input with\r\n     * an input method. As a result, `text` can be a sequence of characters to\r\n     * be inserted.\r\n     * @param {string} text\r\n     * @param {object} options\r\n     * @param {boolean} options.focus - If true, the mathfield will be focused\r\n     * @param {boolean} options.feedback - If true, provide audio and haptic feedback\r\n     * @param {boolean} options.simulateKeystroke - If true, generate some synthetic\r\n     * keystrokes (useful to trigger inline shortcuts, for example)\r\n     * @param {boolean} options.commandMode - If true, switch to command mode if\r\n     * necessary, then insert text\r\n     * @private\r\n     */\r\n    _onTypedText(text, options) {\r\n        options = options || {};\r\n        // Focus, then provide audio and haptic feedback\r\n        if (options.focus) { this.$focus(); }\r\n        if (options.feedback) {\r\n            if (this.config.keypressVibration && navigator.vibrate) {\r\n                navigator.vibrate(HAPTIC_FEEDBACK_DURATION);\r\n            }\r\n            if (this.keypressSound) {\r\n                this.keypressSound.load();\r\n                this.keypressSound.play().catch(err => console.warn(err));\r\n            }\r\n        }\r\n        if (options.commandMode && this.mode !== 'command') {\r\n            this.switchMode_('command');\r\n        }\r\n        // Remove any error indicator on the current command sequence\r\n        // (if there is one)\r\n        this.mathlist.decorateCommandStringAroundInsertionPoint(false);\r\n        if (options.simulateKeystroke) {\r\n            // for (const c of text) {\r\n            const c = text.charAt(0);\r\n            const ev = Keyboard.charToEvent(c);\r\n            if (!this.$keystroke(Keyboard.keyboardEventToString(ev), ev)) { return; }\r\n            // }\r\n        }\r\n        // Insert the specified text at the current insertion point.\r\n        // If the selection is not collapsed, the content will be deleted first.\r\n        let popoverText = '';\r\n        let displayArrows = false;\r\n        if (this.pasteInProgress) {\r\n            this.pasteInProgress = false;\r\n            // This call was made in response to a paste event.\r\n            // Interpret `text` as a 'smart' expression (could be LaTeX, could be\r\n            // UnicodeMath)\r\n            this.mathlist.insert(text, {\r\n                smartFence: this.config.smartFence,\r\n                mode: 'math'\r\n            });\r\n        } else {\r\n            const style = { ...this.mathlist.anchorStyle(), ...this.style };\r\n            // Decompose the string into an array of graphemes.\r\n            // This is necessary to correctly process what is displayed as a single\r\n            // glyph (a grapheme) but which is composed of multiple Unicode\r\n            // codepoints. This is the case in particular for some emojis, such as\r\n            // those with a skin tone modifier, the country flags emojis or\r\n            // compound emojis such as the professional emojis, including the\r\n            // David Bowie emoji: 👨🏻‍🎤\r\n            const graphemes = GraphemeSplitter.splitGraphemes(text);\r\n            for (const c of graphemes) {\r\n                if (this.mode === 'command') {\r\n                    this.mathlist.removeSuggestion();\r\n                    this.suggestionIndex = 0;\r\n                    const command = this.mathlist.extractCommandStringAroundInsertionPoint();\r\n                    const suggestions = Definitions.suggest(command + c);\r\n                    displayArrows = suggestions.length > 1;\r\n                    if (suggestions.length === 0) {\r\n                        this.mathlist.insert(c, { mode: 'command' });\r\n                        if (/^\\\\[a-zA-Z\\\\*]+$/.test(command + c)) {\r\n                            // This looks like a command name, but not a known one\r\n                            this.mathlist.decorateCommandStringAroundInsertionPoint(true);\r\n                        }\r\n                        Popover.hidePopover(this);\r\n                    } else {\r\n                        this.mathlist.insert(c, { mode: 'command' });\r\n                        if (suggestions[0].match !== command + c) {\r\n                            this.mathlist.insertSuggestion(suggestions[0].match, -suggestions[0].match.length + command.length + 1);\r\n                        }\r\n                        popoverText = suggestions[0].match;\r\n                    }\r\n                } else if (this.mode === 'math') {\r\n                    // Some characters are mapped to commands. Handle them here.\r\n                    // This is important to handle synthetic text input and\r\n                    // non-US keyboards, on which, fop example, the '^' key is\r\n                    // not mapped to  'Shift-Digit6'.\r\n                    const selector = {\r\n                        '^': 'moveToSuperscript',\r\n                        '_': 'moveToSubscript',\r\n                        ' ': 'moveAfterParent'\r\n                    }[c];\r\n                    if (selector) {\r\n                        if (selector === 'moveToSuperscript') {\r\n                            if (this._superscriptDepth() >= this.config.scriptDepth[1]) {\r\n                                this._announce('plonk');\r\n                                return;\r\n                            }\r\n                        } else if (selector === 'moveToSubscript') {\r\n                            if (this._subscriptDepth() >= this.config.scriptDepth[0]) {\r\n                                this._announce('plonk');\r\n                                return;\r\n                            }\r\n                        }\r\n                        this.$perform(selector);\r\n                    } else {\r\n                        if (this.config.smartSuperscript &&\r\n                            this.mathlist.relation() === 'superscript' &&\r\n                            /[0-9]/.test(c) &&\r\n                            this.mathlist.siblings().filter(x => x.type !== 'first').length === 0) {\r\n                            // We are inserting a digit into an empty superscript\r\n                            // If smartSuperscript is on, insert the digit, and\r\n                            // exit the superscript.\r\n                            this.mathlist.insert(c, { mode: 'math', style: style });\r\n                            this.mathlist.moveAfterParent_();\r\n                        } else {\r\n                            this.mathlist.insert(c, {\r\n                                mode: 'math',\r\n                                style: style,\r\n                                smartFence: this.config.smartFence\r\n                            });\r\n                        }\r\n                    }\r\n                } else if (this.mode === 'text') {\r\n                    this.mathlist.insert(c, { mode: 'text', style: style });\r\n                }\r\n            }\r\n        }\r\n        if (this.mode !== 'command') {\r\n            this.undoManager.snapshotAndCoalesce(this.config);\r\n        }\r\n        // Render the mathlist\r\n        this._requestUpdate();\r\n        // Make sure the insertion point is visible\r\n        this.scrollIntoView();\r\n        // Since the location of the popover depends on the position of the caret\r\n        // only show the popover after the formula has been rendered and the\r\n        // position of the caret calculated\r\n        Popover.showPopoverWithLatex(this, popoverText, displayArrows);\r\n    }\r\n    /*\r\n     * Return a hash (32-bit integer) representing the content of the mathfield\r\n     * (but not the selection state)\r\n     */\r\n    _hash() {\r\n        let result = 0;\r\n        const str = this.mathlist.root.toLatex(false);\r\n        for (let i = 0; i < str.length; i++) {\r\n            result = result * 31 + str.charCodeAt(i);\r\n            result = result | 0; // Force it to a 32-bit number\r\n        }\r\n        return Math.abs(result);\r\n    }\r\n    _requestUpdate() {\r\n        if (!this.dirty) {\r\n            this.dirty = true;\r\n            requestAnimationFrame(_ => isValidMathfield(this) && this._render());\r\n        }\r\n    }\r\n    /**\r\n     * Lay-out the mathfield and generate the DOM.\r\n     *\r\n     * This is usually done automatically, but if the font-size, or other geometric\r\n     * attributes are modified, outside of MathLive, this function may need to be\r\n     * called explicitly.\r\n     *\r\n     * @method MathField#render\r\n     * @private\r\n     */\r\n    _render(renderOptions) {\r\n        renderOptions = renderOptions || {};\r\n        this.dirty = false;\r\n        //\r\n        // 1. Stop and reset read aloud state\r\n        //\r\n        if (!window.mathlive) { window.mathlive = {}; }\r\n        //\r\n        // 2. Validate selection\r\n        //\r\n        if (!this.mathlist.anchor()) {\r\n            console.warn('Invalid selection, resetting it. ' + MathPath.pathToString(this.mathlist.path));\r\n            this.mathlist.path = [{ relation: 'body', offset: 0 }];\r\n        }\r\n        //\r\n        // 3. Update selection state and blinking cursor (caret)\r\n        //\r\n        this.mathlist.forEach(a => {\r\n            a.caret = '';\r\n            a.isSelected = false;\r\n        });\r\n        const hasFocus = this.$hasFocus();\r\n        if (this.mathlist.isCollapsed()) {\r\n            this.mathlist.anchor().caret = hasFocus ? this.mode : '';\r\n        } else {\r\n            this.mathlist.forEachSelected(a => { a.isSelected = true; });\r\n        }\r\n        //\r\n        // 4. Create spans corresponding to the updated mathlist\r\n        //\r\n        const spans = MathAtom.decompose({\r\n            mathstyle: 'displaystyle',\r\n            generateID: {\r\n                // Using the hash as a seed for the ID\r\n                // keeps the IDs the same until the content of the field changes.\r\n                seed: this._hash(),\r\n                // The `groupNumbers` flag indicates that extra spans should be generated\r\n                // to represent group of atoms, for example, a span to group\r\n                // consecutive digits to represent a number.\r\n                groupNumbers: renderOptions.forHighlighting,\r\n            },\r\n            macros: this.config.macros\r\n        }, this.mathlist.root);\r\n        //\r\n        // 5. Construct struts around the spans\r\n        //\r\n        const base = Span.makeSpan(spans, 'ML__base');\r\n        base.attributes = {\r\n            // Sometimes Google Translate kicks in an attempts to 'translate' math\r\n            // This doesn't work very well, so turn off translate\r\n            'translate': 'no',\r\n            // Hint to screen readers to not attempt to read this span\r\n            // They should use instead the 'aria-label' below.\r\n            'aria-hidden': 'true'\r\n        };\r\n        const topStrut = Span.makeSpan('', 'ML__strut');\r\n        topStrut.setStyle('height', base.height, 'em');\r\n        const struts = [topStrut];\r\n        if (base.depth !== 0) {\r\n            const bottomStrut = Span.makeSpan('', 'ML__strut--bottom');\r\n            bottomStrut.setStyle('height', base.height + base.depth, 'em');\r\n            bottomStrut.setStyle('vertical-align', -base.depth, 'em');\r\n            struts.push(bottomStrut);\r\n        }\r\n        struts.push(base);\r\n        const wrapper = Span.makeSpan(struts, 'ML__mathlive');\r\n        //\r\n        // 6. Generate markup and accessible node\r\n        //\r\n        this.field.innerHTML = wrapper.toMarkup(0, this.config.horizontalSpacingScale);\r\n        this.field.classList.toggle('ML__focused', hasFocus);\r\n        // Probably want to generate content on the fly depending on what to speak\r\n        this.accessibleNode.innerHTML =\r\n            \"<math xmlns='http://www.w3.org/1998/Math/MathML'>\" +\r\n            MathAtom.toMathML(this.mathlist.root, this.config) +\r\n            \"</math>\";\r\n        //this.ariaLiveText.textContent = \"\";\r\n        //\r\n        // 7. Calculate selection rectangle\r\n        //\r\n        const selectionRect = this._getSelectionBounds();\r\n        if (selectionRect) {\r\n            const selectionElement = document.createElement('div');\r\n            selectionElement.classList.add('ML__selection');\r\n            selectionElement.style.position = 'absolute';\r\n            selectionElement.style.left = selectionRect.left + 'px';\r\n            selectionElement.style.top = selectionRect.top + 'px';\r\n            selectionElement.style.width = Math.ceil(selectionRect.right - selectionRect.left) + 'px';\r\n            selectionElement.style.height = Math.ceil(selectionRect.bottom - selectionRect.top - 1) + 'px';\r\n            this.field.insertBefore(selectionElement, this.field.childNodes[0]);\r\n        }\r\n    }\r\n    _onPaste() {\r\n        // Make note we're in the process of pasting. The subsequent call to\r\n        // onTypedText() will take care of interpreting the clipboard content\r\n        this.pasteInProgress = true;\r\n        return true;\r\n    }\r\n    _onCut() {\r\n        // Clearing the selection will have the side effect of clearing the\r\n        // content of the textarea. However, the textarea value is what will\r\n        // be copied to the clipboard, so defer the clearing of the selection\r\n        // to later, after the cut operation has been handled.\r\n        setTimeout(function () {\r\n            this.$clearSelection();\r\n            this._requestUpdate();\r\n        }.bind(this), 0);\r\n        return true;\r\n    }\r\n    _onCopy(e) {\r\n        if (this.mathlist.isCollapsed()) {\r\n            e.clipboardData.setData('text/plain', this.$text('latex-expanded'));\r\n            e.clipboardData.setData('application/json', this.$text('json'));\r\n            e.clipboardData.setData('application/xml', this.$text('mathML'));\r\n        } else {\r\n            e.clipboardData.setData('text/plain', this.$selectedText('latex-expanded'));\r\n            e.clipboardData.setData('application/json', this.$selectedText('json'));\r\n            e.clipboardData.setData('application/xml', this.$selectedText('mathML'));\r\n        }\r\n        // Prevent the current document selection from being written to the clipboard.\r\n        e.preventDefault();\r\n    }\r\n    formatMathlist(root, format) {\r\n        // console.log(format);\r\n        // // format = 'mathML'\r\n        // console.log(format);\r\n\r\n        format = format || 'latex';\r\n        let result = '';\r\n        if (format === 'latex' || format === 'latex-expanded') {\r\n            result = root.toLatex(format === 'latex-expanded');\r\n        } else if (format === 'mathML') {\r\n            result = root.toMathML(this.config);\r\n        } else if (format === 'spoken') {\r\n            result = MathAtom.toSpeakableText(root, this.config);\r\n        } else if (format === 'spoken-text') {\r\n            const saveTextToSpeechMarkup = this.config.textToSpeechMarkup;\r\n            this.config.textToSpeechMarkup = '';\r\n            result = MathAtom.toSpeakableText(root, this.config);\r\n            this.config.textToSpeechMarkup = saveTextToSpeechMarkup;\r\n        } else if (format === 'spoken-ssml' || format === 'spoken-ssml-withHighlighting') {\r\n            const saveTextToSpeechMarkup = this.config.textToSpeechMarkup;\r\n            const saveGenerateID = this.config.generateID;\r\n            this.config.textToSpeechMarkup = 'ssml';\r\n            if (format === 'spoken-ssml-withHighlighting') {\r\n                this.config.generateID = true;\r\n            }\r\n            result = MathAtom.toSpeakableText(root, this.config);\r\n            this.config.textToSpeechMarkup = saveTextToSpeechMarkup;\r\n            this.config.generateID = saveGenerateID;\r\n        } else if (format === 'json') {\r\n            const json = MathAtom.toAST(root, this.config);\r\n            result = JSON.stringify(json);\r\n        } else if (format === 'ASCIIMath') {\r\n            result = toASCIIMath(root, this.config);\r\n        } else {\r\n            console.warn('Unknown format :', format);\r\n        }\r\n        return result;\r\n    }\r\n    //\r\n    // PUBLIC API\r\n    //\r\n\r\n    /**\r\n     * Returns a textual representation of the mathfield.\r\n     *\r\n     * @param {string} [format] - The format of the result.\r\n     *\r\n| Format              | Description             |\r\n| :------------------ | :---------------------- |\r\n| `\"latex\"`             |LaTeX rendering of the content, with LaTeX macros not expanded|\r\n| `\"latex-expanded\"`    |All macros are recursively expanded to their definition|\r\n| `\"json\"`              | A MathJSON abstract syntax tree, as an object literal formated as a JSON string (see {@tutorial MATHJSON})|\r\n| `\"spoken\"`            |Spoken text rendering, using the default format defined in config, which could be either text or SSML markup.|\r\n| `\"spoken-text\"`       |A plain spoken text rendering of the content.|\r\n| `\"spoken-ssml\"`       |A SSML (Speech Synthesis Markup Language) version of the content, which can be used with some text-to-speech engines such as AWS|\r\n| `\"spoken-ssml-withHighlighting\"`|Like `\"spoken-ssml\"` but with additional annotations necessary for synchronized higlighting (read aloud)|\r\n| `\"mathML\"`            | A string of MathML markup|\r\n     *\r\n     * **Default** = `\"latex\"`\r\n     * @return {string}\r\n     * @category Accessing the Content\r\n     * @method MathField#$text\r\n     */\r\n    $text(format) {\r\n        return this.formatMathlist(this.mathlist.root, format);\r\n    }\r\n    /**\r\n     * Returns a textual representation of the selection in the mathfield.\r\n     *\r\n     * @param {string} [format] - The format of the result.\r\n     *\r\n| Format              | Description             |\r\n| :------------------ | :---------------------- |\r\n| `\"latex\"`             |LaTeX rendering of the content, with LaTeX macros not expanded|\r\n| `\"latex-expanded\"`    |All macros are recursively expanded to their definition|\r\n| `\"json\"`              | A MathJSON abstract syntax tree, as an object literal formated as a JSON string (see {@tutorial MATHJSON})|\r\n| `\"spoken\"`            |Spoken text rendering, using the default format defined in config, which could be either text or SSML markup.|\r\n| `\"spoken-text\"`       |A plain spoken text rendering of the content.|\r\n| `\"spoken-ssml\"`       |A SSML (Speech Synthesis Markup Language) version of the content, which can be used with some text-to-speech engines such as AWS|\r\n| `\"spoken-ssml-withHighlighting\"`|Like `\"spoken-ssml\"` but with additional annotations necessary for synchronized higlighting (read aloud)|\r\n| `\"mathML\"`            | A string of MathML markup|\r\n     *\r\n     * **Default** = `\"latex\"`\r\n     * @return {string}\r\n     * @category Accessing the Content\r\n     * @method MathField#$selectedText\r\n     */\r\n    $selectedText(format) {\r\n        const atoms = this.mathlist.getSelectedAtoms();\r\n        if (!atoms) { return ''; }\r\n        const root = MathAtom.makeRoot('math', atoms);\r\n        return this.formatMathlist(root, format);\r\n    }\r\n    /**\r\n     * Checks if the selection is collapsed.\r\n     *\r\n     * @return {boolean} True if the length of the selection is 0, that is, if it is a single\r\n     * insertion point.\r\n     * @category Selection\r\n     * @method MathField#$selectionIsCollapsed\r\n     */\r\n    $selectionIsCollapsed() {\r\n        return this.mathlist.isCollapsed();\r\n    }\r\n    /**\r\n     * Returns the depth of the selection group.\r\n     *\r\n     * If the selection is at the root level, returns 0.\r\n     *\r\n     * If the selection is a portion of the numerator of a fraction\r\n     * which is at the root level, return 1. Note that in that case, the numerator\r\n     * would be the \"selection group\".\r\n     *\r\n     * @return {number}\r\n     * @category Selection\r\n     * @method MathField#$selectionDepth\r\n     */\r\n    $selectionDepth() {\r\n        return this.mathlist.path.length;\r\n    }\r\n    _superscriptDepth() {\r\n        let result = 0;\r\n        let i = 0;\r\n        let atom = this.mathlist.ancestor(i);\r\n        let wasSuperscript = false;\r\n        while (atom) {\r\n            if (atom.superscript || atom.subscript) {\r\n                result += 1;\r\n            }\r\n            if (atom.superscript) {\r\n                wasSuperscript = true;\r\n            } else if (atom.subscript) {\r\n                wasSuperscript = false;\r\n            }\r\n            i += 1;\r\n            atom = this.mathlist.ancestor(i);\r\n        }\r\n        return wasSuperscript ? result : 0;\r\n    }\r\n    _subscriptDepth() {\r\n        let result = 0;\r\n        let i = 0;\r\n        let atom = this.mathlist.ancestor(i);\r\n        let wasSubscript = false;\r\n        while (atom) {\r\n            if (atom.superscript || atom.subscript) {\r\n                result += 1;\r\n            }\r\n            if (atom.superscript) {\r\n                wasSubscript = false;\r\n            } else if (atom.subscript) {\r\n                wasSubscript = true;\r\n            }\r\n            i += 1;\r\n            atom = this.mathlist.ancestor(i);\r\n        }\r\n        return wasSubscript ? result : 0;\r\n    }\r\n    /**\r\n     * Checks if the selection starts at the beginning of the selection group.\r\n     *\r\n     * @return {boolean}\r\n     * @category Selection\r\n     * @method MathField#$selectionAtStart\r\n     */\r\n    $selectionAtStart() {\r\n        return this.mathlist.startOffset() === 0;\r\n    }\r\n    /**\r\n     * Checks if the selection extends to the end of the selection group.\r\n     *\r\n     * @return {boolean}\r\n     * @category Selection\r\n     * @method MathField#$selectionAtEnd\r\n     */\r\n    $selectionAtEnd() {\r\n        return this.mathlist.endOffset() >= this.mathlist.siblings().length - 1;\r\n    }\r\n    /*\r\n     *  True if the entire group is selected\r\n     * */\r\n    groupIsSelected() {\r\n        return this.mathlist.startOffset() === 0 &&\r\n            this.mathlist.endOffset() >= this.mathlist.siblings().length - 1;\r\n    }\r\n    /**\r\n     * Sets or gets the content of the mathfield.\r\n     *\r\n     * If `text` is not empty, sets the content of the mathfield to the\r\n     * text interpreted as a LaTeX expression.\r\n     *\r\n     * If `text` is empty (or omitted), return the content of the mathfield as a\r\n     * LaTeX expression.\r\n     * @param {string} [text]\r\n     *\r\n     * @param {Object.<string, any>} [options]\r\n     * @param {boolean} [options.suppressChangeNotifications] - If true, the\r\n     * handlers for the contentWillChange and contentDidChange notifications will\r\n     * not be invoked. **Default** = `false`.\r\n     *\r\n     * @return {string}\r\n     * @category Accessing the Content\r\n     * @method MathField#$latex\r\n     */\r\n    $latex(text, options) {\r\n        if (text) {\r\n            const oldValue = this.mathlist.root.toLatex();\r\n            if (text !== oldValue) {\r\n                options = options || {};\r\n                this.mathlist.insert(text, Object.assign({}, this.config, {\r\n                    insertionMode: 'replaceAll',\r\n                    selectionMode: 'after',\r\n                    format: 'latex',\r\n                    mode: 'math',\r\n                    suppressChangeNotifications: options.suppressChangeNotifications\r\n                }));\r\n                this.undoManager.snapshot(this.config);\r\n                this._requestUpdate();\r\n            }\r\n            return text;\r\n        }\r\n        // Return the content as LaTeX\r\n        return this.mathlist.root.toLatex();\r\n    }\r\n    /**\r\n     * Return the DOM element associated with this mathfield.\r\n     *\r\n     * Note that `this.$el().mathfield === this`\r\n     *\r\n     * @return {HTMLElement}\r\n     * @method MathField#$el\r\n     */\r\n    $el() {\r\n        return this.element;\r\n    }\r\n    undo() {\r\n        this.complete_();\r\n        // Undo to the previous state\r\n        this.undoManager.undo(this.config);\r\n        return true;\r\n    }\r\n    redo() {\r\n        this.complete_();\r\n        this.undoManager.redo(this.config);\r\n        return true;\r\n    }\r\n    scrollIntoView() {\r\n        // If a render is pending, do it now to make sure we have correct layout\r\n        // and caret position\r\n        if (this.dirty) {\r\n            this._render();\r\n        }\r\n        let pos = this._getCaretPosition();\r\n        const fieldBounds = this.field.getBoundingClientRect();\r\n        if (!pos) {\r\n            const selectionBounds = this._getSelectionBounds();\r\n            if (selectionBounds) {\r\n                pos = {\r\n                    x: selectionBounds.right + fieldBounds.left - this.field.scrollLeft,\r\n                    y: selectionBounds.top + fieldBounds.top - this.field.scrollTop\r\n                };\r\n            }\r\n        }\r\n        if (pos) {\r\n            const x = pos.x - window.scrollX;\r\n            if (x < fieldBounds.left) {\r\n                this.field.scroll({\r\n                    top: 0,\r\n                    left: x - fieldBounds.left + this.field.scrollLeft - 20,\r\n                    behavior: 'smooth'\r\n                });\r\n            } else if (x > fieldBounds.right) {\r\n                this.field.scroll({\r\n                    top: 0,\r\n                    left: x - fieldBounds.right + this.field.scrollLeft + 20,\r\n                    behavior: 'smooth'\r\n                });\r\n            }\r\n        }\r\n    }\r\n    scrollToStart() {\r\n        this.field.scroll(0, 0);\r\n    }\r\n    scrollToEnd() {\r\n        const fieldBounds = this.field.getBoundingClientRect();\r\n        this.field.scroll(fieldBounds.left - window.scrollX, 0);\r\n    }\r\n    /**\r\n     *\r\n     * @method MathField#enterCommandMode_\r\n     * @private\r\n     */\r\n    enterCommandMode_() {\r\n        this.switchMode_('command');\r\n    }\r\n    copyToClipboard_() {\r\n        this.$focus();\r\n        // If the selection is empty, select the entire field before\r\n        // copying it.\r\n        if (this.mathlist.isCollapsed()) {\r\n            this.$select();\r\n        }\r\n        document.execCommand('copy');\r\n        return false;\r\n    }\r\n    turnOffBox_() {\r\n        this.$focus();\r\n        // 关闭键盘方法\r\n        this.hideVirtualKeyboard_()\r\n        let x = document.body.getElementsByClassName('ML__keyboard')\r\n        for (let i=0; i<x.length; i++) {\r\n            x[i].classList.remove('is-visible')\r\n        }\r\n        return false\r\n    }\r\n    changeType_() {\r\n        this.$focus()\r\n        if (this.changeType == 'text') {\r\n            this.changeType = 'math'\r\n            this.toggleVirtualKeyboard_()\r\n        } else {\r\n            this.changeType = 'text'\r\n            this.hideVirtualKeyboard_()\r\n            // this.toggleVirtualKeyboard_()\r\n        }\r\n        this.constructor(this.element, this.config, this.changeType)\r\n        return false\r\n    }\r\n    cutToClipboard_() {\r\n        this.$focus();\r\n        document.execCommand('cut');\r\n        return true;\r\n    }\r\n    pasteFromClipboard_() {\r\n        this.$focus();\r\n        document.execCommand('paste');\r\n        return true;\r\n    }\r\n    /**\r\n     * Inserts a block of text at the current insertion point.\r\n     *\r\n     * This method can be called explicitly or invoked as a selector with {@linkcode MathField#$perform $perform(\"insert\")}\r\n     * .\r\n     *\r\n     * After the insertion, the selection will be set according to the `selectionMode`.\r\n     *\r\n     * @param {string} s - The text to be inserted\r\n     *\r\n     * @param {Object.<string, any>} [options]\r\n     *\r\n     * @param {\"replaceSelection\"|\"replaceAll\"|\"insertBefore\"|\"insertAfter\"} options.insertionMode -\r\n     *\r\n| <!-- -->    | <!-- -->    |\r\n| :---------- | :---------- |\r\n|`\"replaceSelection\"`| (default)|\r\n|`\"replaceAll\"`| |\r\n|`\"insertBefore\"`| |\r\n|`\"insertAfter\"`| |\r\n     *\r\n     * @param {'placeholder' | 'after' | 'before' | 'item'} options.selectionMode - Describes where the selection\r\n     * will be after the insertion:\r\n     *\r\n| <!-- -->    | <!-- -->    |\r\n| :---------- | :---------- |\r\n|`\"placeholder\"`| The selection will be the first available placeholder in the text that has been inserted (default)|\r\n|`\"after\"`| The selection will be an insertion point after the inserted text|\r\n|`\"before\"`| The selection will be an insertion point before the inserted text|\r\n|`\"item\"`| The inserted text will be selected|\r\n     *\r\n     * @param {'auto' | 'latex'} options.format - The format of the string `s`:\r\n     *\r\n| <!-- -->    | <!-- -->    |\r\n|:------------|:------------|\r\n|`\"auto\"`| The string is Latex fragment or command) (default)|\r\n|`\"latex\"`| The string is a Latex fragment|\r\n     *\r\n     * @param {boolean} options.focus - If true, the mathfield will be focused after\r\n     * the insertion\r\n     *\r\n     * @param {boolean} options.feedback - If true, provide audio and haptic feedback\r\n     *\r\n     * @param {\"text\" | \"math\" | \"\"} options.mode - If empty, the current mode\r\n     * is used (default)\r\n     *\r\n     * @param {boolean} options.resetStyle - If true, the style after the insertion\r\n     * is the same as the style before. If false, the style after the\r\n     * insertion is the style of the last inserted atom.\r\n     *\r\n     * @category Changing the Content\r\n     * @method MathField#$insert\r\n     */\r\n    $insert(s, options) {\r\n        if (typeof s === 'string' && s.length > 0) {\r\n            options = options || {};\r\n            if (options.focus) { this.$focus(); }\r\n            if (options.feedback) {\r\n                if (this.config.keypressVibration && navigator.vibrate) {\r\n                    navigator.vibrate(HAPTIC_FEEDBACK_DURATION);\r\n                }\r\n                if (this.keypressSound) {\r\n                    this.keypressSound.load();\r\n                    this.keypressSound.play();\r\n                }\r\n            }\r\n            if (s === '\\\\\\\\') {\r\n                // This string is interpreted as an \"insert row after\" command\r\n                this.mathlist.addRowAfter_();\r\n            } else if (s === '&') {\r\n                this.mathlist.addColumnAfter_();\r\n            } else {\r\n                const savedStyle = this.style;\r\n                this.mathlist.insert(s, {\r\n                    mode: this.mode,\r\n                    style: this.mathlist.anchorStyle(),\r\n                    ...options\r\n                });\r\n                if (options.resetStyle) {\r\n                    this.style = savedStyle;\r\n                }\r\n            }\r\n            this.undoManager.snapshot(this.config);\r\n            this._requestUpdate();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    switchMode_(mode, prefix, suffix) {\r\n        this._resetKeystrokeBuffer();\r\n        // Suppress (temporarily) smart mode if switching to/from text or math\r\n        // This prevents switching to/from command mode from supressing smart mode.\r\n        this.smartModeSuppressed = /text|math/.test(this.mode) && /text|math/.test(mode);\r\n        if (prefix) {\r\n            this.$insert(prefix, {\r\n                format: 'latex',\r\n                mode: { 'math': 'text', 'text': 'math' }[mode]\r\n            });\r\n        }\r\n        // Remove any error indicator on the current command sequence (if there is one)\r\n        this.mathlist.decorateCommandStringAroundInsertionPoint(false);\r\n        if (mode === 'command') {\r\n            this.mathlist.removeSuggestion();\r\n            Popover.hidePopover(this);\r\n            this.suggestionIndex = 0;\r\n            // Switch to the command mode keyboard layer\r\n            if (this.virtualKeyboardVisible) {\r\n                this.switchKeyboardLayer_('lower-command');\r\n            }\r\n            this.mathlist.insert('\\u001b', { mode: 'math' });\r\n        } else {\r\n            this.mode = mode;\r\n        }\r\n        if (suffix) {\r\n            this.$insert(suffix, {\r\n                format: 'latex',\r\n                mode: mode\r\n            });\r\n        }\r\n        // Notify of mode change\r\n        if (typeof this.config.onModeChange === 'function') {\r\n            this.config.onModeChange(this, this.mode);\r\n        }\r\n        this._requestUpdate();\r\n    }\r\n    /**\r\n     * When in command mode, insert the select command and return to math mode\r\n     * If escape is true, the command is discared.\r\n     * @param {object} options\r\n     * @param {boolean} options.discard if true, the command is discarded and the\r\n     * mode switched back to math\r\n     * @param {boolean} options.acceptSuggestion if true, accept the suggestion to\r\n     * complete the command. Otherwise, only use what has been entered so far.\r\n     * @method MathField#complete_\r\n     * @private\r\n     */\r\n    complete_(options) {\r\n        options = options || {};\r\n        Popover.hidePopover(this);\r\n        if (options.discard) {\r\n            this.mathlist.spliceCommandStringAroundInsertionPoint(null);\r\n            this.switchMode_('math');\r\n            return true;\r\n        }\r\n        const command = this.mathlist.extractCommandStringAroundInsertionPoint(!options.acceptSuggestion);\r\n        if (command) {\r\n            if (command === '\\\\(' || command === '\\\\)') {\r\n                this.mathlist.spliceCommandStringAroundInsertionPoint([]);\r\n                this.mathlist.insert(command.slice(1), { mode: this.mode });\r\n            } else {\r\n                // We'll assume we want to insert in math mode\r\n                // (commands are only available in math mode)\r\n                const mode = 'math';\r\n                if (Definitions.commandAllowed(mode, command)) {\r\n                    const mathlist = ParserModule.parseTokens(Lexer.tokenize(command), mode, null, this.config.macros);\r\n                    this.mathlist.spliceCommandStringAroundInsertionPoint(mathlist);\r\n                } else {\r\n                    // This wasn't a simple function or symbol.\r\n                    // Interpret the input as LaTeX code\r\n                    const mathlist = ParserModule.parseTokens(Lexer.tokenize(command), mode, null, this.config.macros);\r\n                    if (mathlist) {\r\n                        this.mathlist.spliceCommandStringAroundInsertionPoint(mathlist);\r\n                    } else {\r\n                        this.mathlist.decorateCommandStringAroundInsertionPoint(true);\r\n                    }\r\n                }\r\n            }\r\n            this.undoManager.snapshot(this.config);\r\n            this._announce('replacement');\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    _updateSuggestion() {\r\n        this.mathlist.positionInsertionPointAfterCommitedCommand();\r\n        this.mathlist.removeSuggestion();\r\n        const command = this.mathlist.extractCommandStringAroundInsertionPoint();\r\n        const suggestions = Definitions.suggest(command);\r\n        if (suggestions.length === 0) {\r\n            Popover.hidePopover(this);\r\n            this.mathlist.decorateCommandStringAroundInsertionPoint(true);\r\n        } else {\r\n            const index = this.suggestionIndex % suggestions.length;\r\n            const l = command.length - suggestions[index].match.length;\r\n            if (l !== 0) {\r\n                this.mathlist.insertSuggestion(suggestions[index].match, l);\r\n            }\r\n            Popover.showPopoverWithLatex(this, suggestions[index].match, suggestions.length > 1);\r\n        }\r\n        this._requestUpdate();\r\n    }\r\n    nextSuggestion_() {\r\n        this.suggestionIndex += 1;\r\n        // The modulo of the suggestionIndex is used to determine which suggestion\r\n        // to display, so no need to worry about rolling over.\r\n        this._updateSuggestion();\r\n        return false;\r\n    }\r\n    previousSuggestion_() {\r\n        this.suggestionIndex -= 1;\r\n        if (this.suggestionIndex < 0) {\r\n            // We're rolling over\r\n            // Get the list of suggestions, so we can know how many there are\r\n            // Not very efficient, but simple.\r\n            this.mathlist.removeSuggestion();\r\n            const command = this.mathlist.extractCommandStringAroundInsertionPoint();\r\n            const suggestions = Definitions.suggest(command);\r\n            this.suggestionIndex = suggestions.length - 1;\r\n        }\r\n        this._updateSuggestion();\r\n        return false;\r\n    }\r\n    /**\r\n     * Attach event handlers to an element so that it will react by executing\r\n     * a command when pressed.\r\n     * `\"command\"` can be:\r\n     * - a string, a single selector\r\n     * - an array, whose first element is a selector followed by one or more arguments.\r\n     * - an object, with the following keys:\r\n     *    * 'default': command performed on up, with a down + up sequence with no\r\n     *      delay between down and up\r\n     *    * 'alt', 'shift', 'altshift' keys: command performed on up with\r\n     *      one of these modifiers pressed\r\n     *    * 'pressed': command performed on 'down'\r\n     *    * 'pressAndHoldStart': command performed after a tap/down followed by a\r\n     * delay (optional)\r\n     *    * 'pressAndHoldEnd': command performed on up, if there was a delay\r\n     *     between down and up, if absent, 'default' is performed\r\n     * The value of the keys specify which selector (string\r\n     * or array) to perform depending on the keyboard state when the button is\r\n     * pressed.\r\n     *\r\n     * The 'pressed' and 'active' classes will get added to\r\n     * the element, as the :hover and :active pseudo-classes are not reliable\r\n     * (at least on Chrome Android).\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @param {object|string} command\r\n     * @private\r\n     */\r\n\r\n    _attachButtonHandlers(el, command) {\r\n        const that = this;\r\n        if (typeof command === 'object' && (command.default || command.pressed)) {\r\n            // Attach the default (no modifiers pressed) command to the element\r\n            if (command.default) {\r\n                el.setAttribute('data-' + this.config.namespace + 'command', JSON.stringify(command.default));\r\n            }\r\n            if (command.alt) {\r\n                el.setAttribute('data-' + this.config.namespace + 'command-alt', JSON.stringify(command.alt));\r\n            }\r\n            if (command.altshift) {\r\n                el.setAttribute('data-' + this.config.namespace + 'command-altshift', JSON.stringify(command.altshift));\r\n            }\r\n            if (command.shift) {\r\n                el.setAttribute('data-' + this.config.namespace + 'command-shift', JSON.stringify(command.shift));\r\n            }\r\n            // .pressed: command to perform when the button is pressed (i.e.\r\n            // on mouse down/touch). Otherwise the command is performed when\r\n            // the button is released\r\n            if (command.pressed) {\r\n                el.setAttribute('data-' + this.config.namespace + 'command-pressed', JSON.stringify(command.pressed));\r\n            }\r\n            if (command.pressAndHoldStart) {\r\n                el.setAttribute('data-' + this.config.namespace + 'command-pressAndHoldStart', JSON.stringify(command.pressAndHoldStart));\r\n            }\r\n            if (command.pressAndHoldEnd) {\r\n                el.setAttribute('data-' + this.config.namespace + 'command-pressAndHoldEnd', JSON.stringify(command.pressAndHoldEnd));\r\n            }\r\n        } else {\r\n            // We need to turn the command into a string to attach it to the dataset\r\n            // associated with the button (the command could be an array made of a\r\n            // selector and one or more parameters)\r\n            el.setAttribute('data-' + this.config.namespace + 'command', JSON.stringify(command));\r\n        }\r\n        let pressHoldStart;\r\n        let pressHoldElement;\r\n        let touchID;\r\n        let syntheticTarget; // Target while touch move\r\n        let pressAndHoldTimer;\r\n        on(el, 'mousedown touchstart:passive', function (ev) {\r\n            // console.log(1111);\r\n            if (ev.type !== 'mousedown' || ev.buttons === 1 || ev.buttons === 0) {\r\n                // The primary button was pressed or the screen was tapped.\r\n                ev.stopPropagation();\r\n                if (ev.type !== 'touchstart') {\r\n                    console.log('xxxx', ev.type);\r\n                    ev.preventDefault();\r\n                }\r\n                // ev.preventDefault();\r\n                el.classList.add('pressed');\r\n                pressHoldStart = Date.now();\r\n                // Record the ID of the primary touch point for tracking on touchmove\r\n                if (ev.type === 'touchstart') { touchID = ev.changedTouches[0].identifier; }\r\n                // Parse the JSON to get the command (and its optional arguments)\r\n                // and perform it immediately\r\n                const command = el.getAttribute('data-' + that.config.namespace + 'command-pressed');\r\n                if (command) {\r\n                    that.$perform(JSON.parse(command));\r\n                }\r\n                // If there is a `press and hold start` command, perform it\r\n                // after a delay, if we're still pressed by then.\r\n                const pressAndHoldStartCommand = el.getAttribute('data-' + that.config.namespace + 'command-pressAndHoldStart');\r\n                if (pressAndHoldStartCommand) {\r\n                    pressHoldElement = el;\r\n                    if (pressAndHoldTimer) { clearTimeout(pressAndHoldTimer); }\r\n                    pressAndHoldTimer = window.setTimeout(function () {\r\n                        if (el.classList.contains('pressed')) {\r\n                            that.longPressed = true\r\n                            that.$perform(JSON.parse(pressAndHoldStartCommand));\r\n                        }\r\n                    }, 300);\r\n                }\r\n            }\r\n        });\r\n        on(el, 'mouseleave touchcancel', function () {\r\n            // console.log(4444,'停止');\r\n            el.classList.remove('pressed');\r\n            // let command = el.getAttribute('data-' + that.config.namespace +\r\n            //     'command-pressAndHoldEnd');\r\n            // const now = Date.now();\r\n            // if (command && now > pressHoldStart + 300) {\r\n            //     that.$perform(JSON.parse(command));\r\n            // }\r\n        });\r\n        on(el, 'touchmove:passive', function (ev) {\r\n            // console.log(555);\r\n            el.classList.remove('pressed');\r\n            \r\n            // Unlike with mouse tracking, touch tracking only sends events\r\n            // to the target that was originally tapped on. For consistency,\r\n            // we want to mimic the behavior of the mouse interaction by\r\n            // tracking the touch events and dispatching them to potential targets\r\n            if (ev && ev.preventDefault) {\r\n                try {\r\n                    ev.preventDefault();\r\n                } catch (error) {\r\n                    console.log('报错了', error);\r\n                }\r\n                \r\n            }\r\n            for (let i = 0; i < ev.changedTouches.length; i++) {\r\n                if (ev.changedTouches[i].identifier === touchID) {\r\n                    // Found a touch matching our primary/tracked touch\r\n                    const target = document.elementFromPoint(ev.changedTouches[i].clientX, ev.changedTouches[i].clientY);\r\n                    if (target !== syntheticTarget && syntheticTarget) {\r\n                        syntheticTarget.dispatchEvent(new MouseEvent('mouseleave'), { bubbles: true });\r\n                        syntheticTarget = null;\r\n                    }\r\n                    if (target) {\r\n                        syntheticTarget = target;\r\n                        target.dispatchEvent(new MouseEvent('mouseenter', { bubbles: true, buttons: 1 }));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        on(el, 'mouseenter', function (ev) {\r\n            // console.log(2222);\r\n            if (ev.buttons === 1 || ev.buttons === 0) {\r\n                el.classList.add('pressed');\r\n            }\r\n\r\n        });\r\n        on(el, 'mouseup touchend click', function (ev) {\r\n            // 触摸点击停止\r\n            // console.log('触摸点击停止', 3333);\r\n            that.longPressed = false\r\n            if (syntheticTarget) {\r\n                ev.stopPropagation();\r\n                ev.preventDefault();\r\n                const target = syntheticTarget;\r\n                syntheticTarget = null;\r\n                target.dispatchEvent(new MouseEvent('mouseup', { bubbles: true }));\r\n                return;\r\n            }\r\n            el.classList.remove('pressed');\r\n            el.classList.add('active');\r\n            if (ev.type === 'click' && ev.detail !== 0) {\r\n                // This is a click event triggered by a mouse interaction\r\n                // (and not a keyboard interaction)\r\n                // Ignore it, we'll handle the mouseup (or touchend) instead.\r\n                ev.stopPropagation();\r\n                ev.preventDefault();\r\n                return;\r\n            }\r\n            // Since we want the active state to be visible for a while,\r\n            // use a timer to remove it after a short delay\r\n            window.setTimeout(function () { el.classList.remove('active'); }, 150);\r\n            let command = el.getAttribute('data-' + that.config.namespace +\r\n                'command-pressAndHoldEnd');\r\n            const now = Date.now();\r\n            // If the button has not been pressed for very long or if we were\r\n            // not the button that started the press and hold, don't consider\r\n            // it a press-and-hold.\r\n            if (el !== pressHoldElement || now < pressHoldStart + 300) {\r\n                command = undefined;\r\n            }\r\n            if (!command && ev.altKey && ev.shiftKey) {\r\n                command = el.getAttribute('data-' + that.config.namespace +\r\n                    'command-altshift');\r\n            }\r\n            if (!command && ev.altKey) {\r\n                command = el.getAttribute('data-' + that.config.namespace +\r\n                    'command-alt');\r\n            }\r\n            if (!command && ev.shiftKey) {\r\n                command = el.getAttribute('data-' + that.config.namespace +\r\n                    'command-shift');\r\n            }\r\n            if (!command) {\r\n                command = el.getAttribute('data-' + that.config.namespace +\r\n                    'command');\r\n            }\r\n            if (command) {\r\n                // Parse the JSON to get the command (and its optional arguments)\r\n                // and perform it\r\n                that.$perform(JSON.parse(command));\r\n            }\r\n            ev.stopPropagation();\r\n            ev.preventDefault();\r\n        });\r\n    }\r\n    _makeButton(label, cls, ariaLabel, command) {\r\n        const button = document.createElement('span');\r\n        button.innerHTML = label;\r\n        if (cls) { button.classList.add([].slice.call(cls.split(' '))); }\r\n        if (ariaLabel) { button.setAttribute('aria-label', ariaLabel); }\r\n        this._attachButtonHandlers(button, command);\r\n        return button;\r\n    }\r\n    /*\r\n     * Alternate options are displayed when a key on the virtual keyboard is pressed\r\n     * and held.\r\n     *\r\n     */\r\n    showAlternateKeys_(keycap, altKeys) {\r\n        console.log('显示长按键盘');\r\n        const altContainer = getSharedElement('mathlive-alternate-keys-panel', 'ML__keyboard alternate-keys');\r\n        if (this.virtualKeyboard.classList.contains('material')) {\r\n            altContainer.classList.add('material');\r\n        }\r\n        if (altKeys.length >= 7) {\r\n            // Width 4\r\n            altContainer.style.width = '286px';\r\n        } else if (altKeys.length === 4 || altKeys.length === 2) {\r\n            // Width 2\r\n            altContainer.style.width = '146px';\r\n        } else if (altKeys.length === 1) {\r\n            // Width 1\r\n            altContainer.style.width = '86px';\r\n        } else {\r\n            // Width 3\r\n            altContainer.style.width = '146px';\r\n        }\r\n        // Reset container height\r\n        altContainer.style.height = 'auto';\r\n        let markup = '';\r\n        for (const altKey of altKeys) {\r\n            markup += '<li';\r\n            if (typeof altKey === 'string') {\r\n                markup += ' data-latex=\"' + altKey.replace(/\"/g, '&quot;') + '\"';\r\n            } else {\r\n                if (altKey.latex) {\r\n                    markup += ' data-latex=\"' + altKey.latex.replace(/\"/g, '&quot;') + '\"';\r\n                }\r\n                if (altKey.content) {\r\n                    markup += ' data-content=\"' + altKey.content.replace(/\"/g, '&quot;') + '\"';\r\n                }\r\n                if (altKey.insert) {\r\n                    markup += ' data-insert=\"' + altKey.insert.replace(/\"/g, '&quot;') + '\"';\r\n                }\r\n                if (altKey.command) {\r\n                    markup += \" data-command='\" + altKey.command.replace(/\"/g, '&quot;') + \"'\";\r\n                }\r\n                if (altKey.aside) {\r\n                    markup += ' data-aside=\"' + altKey.aside.replace(/\"/g, '&quot;') + '\"';\r\n                }\r\n                if (altKey.classes) {\r\n                    markup += ' data-classes=\"' + altKey.classes + '\"';\r\n                }\r\n            }\r\n            markup += '>';\r\n            markup += altKey.label || '';\r\n            markup += '</li>';\r\n        }\r\n        markup = '<ul>' + markup + '</ul>';\r\n        altContainer.innerHTML = markup;\r\n        VirtualKeyboard.makeKeycap(this, altContainer.getElementsByTagName('li'), 'performAlternateKeys');\r\n        const keycapEl = this.virtualKeyboard.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys=\"' + keycap + '\"]');\r\n        const position = keycapEl.getBoundingClientRect();\r\n        if (position) {\r\n            if (position.top - altContainer.clientHeight < 0) {\r\n                // altContainer.style.maxWidth = '320px';  // Up to six columns\r\n                altContainer.style.width = 'auto';\r\n                if (altKeys.length <= 6) {\r\n                    altContainer.style.height = '56px'; // 1 row\r\n                } else if (altKeys.length <= 12) {\r\n                    altContainer.style.height = '108px'; // 2 rows\r\n                } else {\r\n                    altContainer.style.height = '205px'; // 3 rows\r\n                }\r\n            }\r\n            const top = (position.top - altContainer.clientHeight + 50).toString() + 'px';\r\n            const left = Math.max(0, Math.min(window.innerWidth - altContainer.offsetWidth, ((position.left + position.right - altContainer.offsetWidth) / 2))) + 'px';\r\n            altContainer.style.transform = 'translate(' + left + ',' + top + ')';\r\n\r\n            altContainer.classList.add('is-visible');\r\n        }\r\n        return false;\r\n    }\r\n    hideAlternateKeys_() {\r\n        console.log('隐藏长按的键盘');\r\n        const altContainer = document.getElementById('mathlive-alternate-keys-panel');\r\n        if (altContainer) {\r\n            altContainer.classList.remove('is-visible');\r\n            altContainer.innerHTML = '';\r\n            delete releaseSharedElement(altContainer);\r\n        }\r\n        return false;\r\n    }\r\n    /*\r\n     * The command invoked when an alternate key is pressed.\r\n     * We need to hide the Alternate Keys panel, then perform the\r\n     * command.\r\n     */\r\n    performAlternateKeys_(command) {\r\n        this.hideAlternateKeys_();\r\n        return this.$perform(command);\r\n    }\r\n    switchKeyboardLayer_(layer) {\r\n        if (this.config.virtualKeyboardMode !== 'off') {\r\n            if (layer !== 'lower-command' && layer !== 'upper-command' && layer !== 'symbols-command') {\r\n                // If we switch to a non-command keyboard layer, first exit command mode.\r\n                this.complete_();\r\n            }\r\n            this.showVirtualKeyboard_();\r\n            // If the alternate keys panel was visible, hide it\r\n            this.hideAlternateKeys_();\r\n            // If we were in a temporarily shifted state (shift-key held down)\r\n            // restore our state before switching to a new layer.\r\n            this.unshiftKeyboardLayer_();\r\n            const layers = this.virtualKeyboard.getElementsByClassName('keyboard-layer');\r\n            // Search for the requested layer\r\n            let found = false;\r\n            for (let i = 0; i < layers.length; i++) {\r\n                if (layers[i].dataset.layer === layer) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n            // We did find the layer, switch to it.\r\n            // If we didn't find it, do nothing and keep the current layer\r\n            if (found) {\r\n                for (let i = 0; i < layers.length; i++) {\r\n                    if (layers[i].dataset.layer === layer) {\r\n                        layers[i].classList.add('is-visible');\r\n                    } else {\r\n                        layers[i].classList.remove('is-visible');\r\n                    }\r\n                }\r\n            }\r\n            this.$focus();\r\n        }\r\n        return true;\r\n    }\r\n    /*\r\n     * Temporarily change the labels and the command of the keys\r\n     * (for example when a modifier key is held down.)\r\n     */\r\n    shiftKeyboardLayer_() {\r\n        const keycaps = this.virtualKeyboard.querySelectorAll('div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action');\r\n        if (keycaps) {\r\n            for (let i = 0; i < keycaps.length; i++) {\r\n                const keycap = keycaps[i];\r\n                let shiftedContent = keycap.getAttribute('data-shifted');\r\n                if (shiftedContent || /^[a-z]$/.test(keycap.innerHTML)) {\r\n                    keycap.setAttribute('data-unshifted-content', keycap.innerHTML);\r\n                    if (!shiftedContent) {\r\n                        shiftedContent = keycap.innerHTML.toUpperCase();\r\n                    }\r\n                    keycap.innerHTML = shiftedContent;\r\n                    const command = keycap.getAttribute('data-' + this.config.namespace + 'command');\r\n                    if (command) {\r\n                        keycap.setAttribute('data-unshifted-command', command);\r\n                        const shiftedCommand = keycap.getAttribute('data-shifted-command');\r\n                        if (shiftedCommand) {\r\n                            keycap.setAttribute('data-' + this.config.namespace + 'command', shiftedCommand);\r\n                        } else {\r\n                            const commandObj = JSON.parse(command);\r\n                            if (Array.isArray(commandObj)) {\r\n                                commandObj[1] = commandObj[1].toUpperCase();\r\n                            }\r\n                            keycap.setAttribute('data-' + this.config.namespace + 'command', JSON.stringify(commandObj));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /*\r\n     * Restore the key labels and commands to the state before a modifier key\r\n     * was pressed.\r\n     *\r\n     */\r\n    unshiftKeyboardLayer_() {\r\n        const keycaps = this.virtualKeyboard.querySelectorAll('div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action');\r\n        if (keycaps) {\r\n            for (let i = 0; i < keycaps.length; i++) {\r\n                const keycap = keycaps[i];\r\n                const content = keycap.getAttribute('data-unshifted-content');\r\n                if (content) {\r\n                    keycap.innerHTML = content;\r\n                }\r\n                const command = keycap.getAttribute('data-unshifted-command');\r\n                if (command) {\r\n                    keycap.setAttribute('data-' + this.config.namespace + 'command', command);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    insertAndUnshiftKeyboardLayer_(c) {\r\n        this.$insert(c);\r\n        this.unshiftKeyboardLayer_();\r\n        return true;\r\n    }\r\n    /* Toggle the virtual keyboard, but switch to the alternate theme if available */\r\n    toggleVirtualKeyboardAlt_() {\r\n        let hadAltTheme = false;\r\n        if (this.virtualKeyboard) {\r\n            hadAltTheme = this.virtualKeyboard.classList.contains('material');\r\n            this.virtualKeyboard.remove();\r\n            delete this.virtualKeyboard;\r\n            this.virtualKeyboard = null;\r\n        }\r\n        this.showVirtualKeyboard_(hadAltTheme ? '' : 'material');\r\n        return false;\r\n    }\r\n    /* Toggle the virtual keyboard, but switch another keyboard layout */\r\n    toggleVirtualKeyboardShift_() {\r\n        this.config.virtualKeyboardLayout = {\r\n            'qwerty': 'azerty',\r\n            'azerty': 'qwertz',\r\n            'qwertz': 'dvorak',\r\n            'dvorak': 'colemak',\r\n            'colemak': 'qwerty'\r\n        }[this.config.virtualKeyboardLayout];\r\n        let layer = this.virtualKeyboard ?\r\n            this.virtualKeyboard.querySelector('div.keyboard-layer.is-visible') : null;\r\n        layer = layer ? layer.id : '';\r\n        if (this.virtualKeyboard) {\r\n            this.virtualKeyboard.remove();\r\n            delete this.virtualKeyboard;\r\n            this.virtualKeyboard = null;\r\n        }\r\n        this.showVirtualKeyboard_();\r\n        if (layer) { this.switchKeyboardLayer_(layer); }\r\n        return false;\r\n    }\r\n    showVirtualKeyboard_(theme) {\r\n        this.virtualKeyboardVisible = false;\r\n        this.toggleVirtualKeyboard_(theme);\r\n        return false;\r\n    }\r\n    hideVirtualKeyboard_() {\r\n        this.virtualKeyboardVisible = true;\r\n        this.toggleVirtualKeyboard_();\r\n        return false;\r\n    }\r\n    changeKeyboard_() {\r\n        this.changeType_()\r\n    }\r\n    toggleVirtualKeyboard_(theme) {\r\n        console.log('脱焦点击事件', this.virtualKeyboardVisible);\r\n        if (this.longPressed) {\r\n            // 如果在长按中，不操作键盘\r\n            console.log('长按，不允许关键盘');\r\n            return\r\n        }\r\n\r\n        if (!this.virtualKeyboardVisible) {\r\n            this.turnOffBox_()\r\n        }\r\n        // this.turnOffBox_()\r\n        this.virtualKeyboardVisible = !this.virtualKeyboardVisible;\r\n        if (this.virtualKeyboardVisible) {\r\n            if (this.virtualKeyboard) {\r\n                this.virtualKeyboard.classList.add('is-visible');\r\n            } else {\r\n                // Construct the virtual keyboard\r\n                this.virtualKeyboard = VirtualKeyboard.make(this, theme);\r\n                // Let's make sure that tapping on the keyboard focuses the field\r\n                on(this.virtualKeyboard, 'touchstart:passive mousedown', function () {\r\n                    that.$focus();\r\n                });\r\n                document.body.appendChild(this.virtualKeyboard);\r\n            }\r\n            // For the transition effect to work, the property has to be changed\r\n            // after the insertion in the DOM. Use setTimeout\r\n            const that = this;\r\n            window.setTimeout(function () { that.virtualKeyboard.classList.add('is-visible'); }, 1);\r\n        } else if (this.virtualKeyboard) {\r\n            this.virtualKeyboard.classList.remove('is-visible');\r\n        }\r\n        if (typeof this.config.onVirtualKeyboardToggle === 'function') {\r\n            this.config.onVirtualKeyboardToggle(this, this.virtualKeyboardVisible, this.virtualKeyboard);\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Updates the style (color, bold, italic, etc...) of the selection or sets\r\n     * the style to be applied to future input.\r\n     *\r\n     * If there is a selection, the style is applied to the selection\r\n     *\r\n     * If the selection already has this style, remove it. If the selection\r\n     * has the style partially applied (i.e. only some sections), remove it from\r\n     * those sections, and apply it to the entire selection.\r\n     *\r\n     * If there is no selection, the style will apply to the next character typed.\r\n     *\r\n     * @param {object} style  The style properties to be applied. All the\r\n     * properties are optional and they can be combined.\r\n     *\r\n     * @param {string} [style.mode] - Either `\"math\"`, `\"text\"` or `\"command\"`\r\n     *\r\n     * @param {string} [style.color] - The text/fill color, as a CSS RGB value or\r\n     * a string for some \"well-known\" colors, e.g. `\"red\"`, `\"#f00\"`, etc...\r\n     *\r\n     * @param {string} [style.backgroundColor] - The background color.\r\n     *\r\n     * @param {string} [style.fontFamily] - The font family used to render text.\r\n     *\r\n     * This value can the name of a locally available font, or a CSS font stack, e.g.\r\n     * `\"Avenir\"`, `\"Georgia, serif\"`, etc...\r\n     *\r\n     * This can also be one of the following TeX-specific values:\r\n     *\r\n| <!-- -->    | <!-- -->    |\r\n| :---------- | :---------- |\r\n|`\"cmr\"`| Computer Modern Roman, serif|\r\n|`\"cmss\"`| Computer Modern Sans-serif, latin characters only|\r\n|`\"cmtt\"`| Typewriter, slab, latin characters only|\r\n|`\"cal\"`| Calligraphic style, uppercase latin letters and digits only|\r\n|`\"frak\"`| Fraktur, gothic, uppercase, lowercase and digits|\r\n|`\"bb\"`| Blackboard bold, uppercase only|\r\n|`\"scr\"`| Script style, uppercase only|\r\n     *\r\n     * @param {string} [style.series] - The font 'series', i.e. weight and\r\n     * stretch.\r\n     *\r\n     * The following values can be combined, for example: `\"ebc\"`: extra-bold,\r\n     * condensed. Aside from `\"b\"`, these attributes may not have visible effect if the\r\n     * font family does not support this attribute:\r\n     *\r\n| <!-- -->    | <!-- -->    |\r\n| :---------- | :---------- |\r\n|`\"ul\"`| ultra-light weight|\r\n|`\"el\"`| extra-light|\r\n|`\"l\"`| light|\r\n|`\"sl\"`| semi-light|\r\n|`\"m\"`| medium (default)|\r\n|`\"sb\"`| semi-bold|\r\n|`\"b\"`| bold|\r\n|`\"eb\"`| extra-bold|\r\n|`\"ub\"`| ultra-bold|\r\n|`\"uc\"`| ultra-condensed|\r\n|`\"ec\"`| extra-condensed|\r\n|`\"c\"`| condensed|\r\n|`\"sc\"`| semi-condensed|\r\n|`\"n\"`| normal (default)|\r\n|`\"sx\"`| semi-expanded|\r\n|`\"x\"`| expanded|\r\n|`\"ex\"`| extra-expanded|\r\n|`\"ux\"`| ultra-expanded|\r\n     *\r\n     * @param {string} [style.shape] - The font \"shape\", i.e. italic or upright.\r\n     *\r\n| <!-- -->    | <!-- -->    |\r\n| :---------- | :---------- |\r\n|`\"auto\"`| italic or upright, depending on mode and letter (single letters are italic in math mode)|\r\n|`\"up\"`| upright|\r\n|`\"it\"`| italic|\r\n|`\"sl\"`| slanted or oblique (often the same as italic)|\r\n|`\"sc\"`| small caps|\r\n|`\"ol\"`| outline|\r\n     *\r\n     * @param {string} [style.size] - The font size:  `\"size1\"`...`\"size10\"`.\r\n     * '\"size5\"' is the default size\r\n     *\r\n     * @category Changing the Content\r\n     * @method MathField#$applyStyle\r\n     * */\r\n    $applyStyle(style) {\r\n        this._resetKeystrokeBuffer();\r\n        style = validateStyle(style);\r\n        if (style.mode) {\r\n            // There's a mode ('text', 'math', 'command') change\r\n            if (this.mathlist.isCollapsed()) {\r\n                // Nothing selected\r\n                this.switchMode_(style.mode);\r\n            } else {\r\n                // Convert the selection from one mode to another\r\n                const previousMode = this.mode;\r\n                const targetMode = (this.mathlist.anchorMode() || this.config.default) === 'math' ?\r\n                    'text' : 'math';\r\n                let convertedSelection = this.$selectedText('ASCIIMath');\r\n                if (targetMode === 'math' && /^\"[^\"]+\"$/.test(convertedSelection)) {\r\n                    convertedSelection = convertedSelection.slice(1, -1);\r\n                }\r\n                this.$insert(convertedSelection, {\r\n                    mode: targetMode,\r\n                    selectionMode: 'item',\r\n                    format: targetMode === 'text' ? 'text' : 'ASCIIMath'\r\n                });\r\n                this.mode = targetMode;\r\n                if (this.groupIsSelected()) {\r\n                    // The entire group was selected. Adjust parent mode if\r\n                    // appropriate\r\n                    const parent = this.mathlist.parent();\r\n                    if (parent && (parent.type === 'group' || parent.type === 'root')) {\r\n                        parent.mode = targetMode;\r\n                    }\r\n                }\r\n                // Notify of mode change\r\n                if (this.mode !== previousMode && typeof this.config.onModeChange === 'function') {\r\n                    this.config.onModeChange(this, this.mode);\r\n                }\r\n            }\r\n            delete style.mode;\r\n        }\r\n        if (this.mathlist.isCollapsed()) {\r\n            // No selection, let's update the 'current' style\r\n            if (this.style.fontSeries && style.fontSeries === this.style.fontSeries) {\r\n                style.fontSeries = 'auto';\r\n            }\r\n            if (style.fontShape && style.fontShape === this.style.fontShape) {\r\n                style.fontShape = 'auto';\r\n            }\r\n            if (style.color && style.color === this.style.color) {\r\n                style.color = 'none';\r\n            }\r\n            if (style.backgroundColor && style.backgroundColor === this.style.backgroundColor) {\r\n                style.backgroundColor = 'none';\r\n            }\r\n            if (style.fontSize && style.fontSize === this.style.fontSize) {\r\n                style.fontSize = 'auto';\r\n            }\r\n            this.style = { ...this.style, ...style };\r\n            // This style will be used the next time an atom is inserted\r\n        } else {\r\n            // Change the style of the selection\r\n            this.mathlist._applyStyle(style);\r\n            this.undoManager.snapshot(this.config);\r\n        }\r\n        return true;\r\n    }\r\n    $hasFocus() {\r\n        return document.hasFocus() && document.activeElement === this.textarea;\r\n    }\r\n    $focus() {\r\n        if (!this.$hasFocus()) {\r\n            // The textarea may be a span (on mobile, for example), so check that\r\n            // it has a focus() before calling it.\r\n            if (this.textarea.focus) { this.textarea.focus(); }\r\n            this._announce('line');\r\n        }\r\n    }\r\n    $blur() {\r\n        if (this.$hasFocus()) {\r\n            if (this.textarea.blur) {\r\n                this.textarea.blur();\r\n            }\r\n        }\r\n    }\r\n    $select() {\r\n        this.mathlist.selectAll_();\r\n    }\r\n    $clearSelection() {\r\n        this.mathlist.delete_();\r\n    }\r\n    /**\r\n     * @param {string} keys - A string representation of a key combination.\r\n     *\r\n     * For example `\"Alt-KeyU\"`.\r\n     *\r\n     * See [W3C UIEvents](https://www.w3.org/TR/uievents/#code-virtual-keyboards)\r\n     * for more information on the format of the descriptor.\r\n     *\r\n     * @param {Event?} [evt] - An event corresponding to the keystroke. Pass this\r\n     * event if the keystroke originated from a user interaction that produced it.\r\n     * If the keystroke is synthetic (for example, triggered in response to a\r\n     * click or other event not involving a keyboard), omit it.\r\n     * @return {boolean}\r\n     * @category Changing the Content\r\n     * @method MathField#$keystroke\r\n     */\r\n    $keystroke(keys, evt) {\r\n        // This is the public API, while onKeystroke is the\r\n        // internal handler\r\n        return this._onKeystroke(keys, evt);\r\n    }\r\n    /**\r\n     * Simulates a user typing the keys indicated by text.\r\n     *\r\n     * @param {string} text - A sequence of one or more characters.\r\n     * @category Changing the Content\r\n     * @method MathField#$typedText\r\n     */\r\n    $typedText(text) {\r\n        // This is the public API, while onTypedText is the\r\n        // internal handler\r\n        this._onTypedText(text);\r\n    }\r\n    /**\r\n     *\r\n     * @param {string} text\r\n     * @param {object} [options]\r\n     * @param {boolean} [options.focus] - If true, the mathfield will be focused.\r\n     * @param {boolean} [options.feedback] - If true, provide audio and haptic feedback.\r\n     * @param {boolean} [options.simulateKeystroke] - If true, generate some synthetic\r\n     * keystrokes (useful to trigger inline shortcuts, for example).\r\n     * @private\r\n     */\r\n    typedText_(text, options) {\r\n        return this._onTypedText(text, options);\r\n    }\r\n    /**\r\n     *\r\n     * Update the configuration options for this mathfield.\r\n     *\r\n     * @param {MathFieldConfig} config - See {@tutorial CONFIG Configuration Options} for details.\r\n     *\r\n     * @method MathField#$setConfig\r\n     */\r\n    $setConfig(conf) {\r\n        if (!this.config) {\r\n            this.config = {\r\n                smartFence: true,\r\n                smartSuperscript: true,\r\n                scriptDepth: [Infinity, Infinity],\r\n                removeExtraneousParentheses: true,\r\n                overrideDefaultInlineShortcuts: false,\r\n                virtualKeyboard: '',\r\n                virtualKeyboardLayout: 'qwerty',\r\n                namespace: '',\r\n            };\r\n        }\r\n        this.config = { ...this.config, ...conf };\r\n        if (this.config.scriptDepth !== undefined && !Array.isArray(this.config.scriptDepth)) {\r\n            const depth = parseInt(this.config.scriptDepth);\r\n            this.config.scriptDepth = [depth, depth];\r\n        }\r\n        if (typeof this.config.removeExtraneousParentheses === 'undefined') {\r\n            this.config.removeExtraneousParentheses = true;\r\n        }\r\n        this.config.onAnnounce = conf.onAnnounce || _onAnnounce;\r\n        this.config.macros = Object.assign({}, Definitions.MACROS, this.config.macros);\r\n        // Validate the namespace (used for `data-` attributes)\r\n        if (!/^[a-z]*[-]?$/.test(this.config.namespace)) {\r\n            throw Error('options.namespace must be a string of lowercase characters only');\r\n        }\r\n        if (!/-$/.test(this.config.namespace)) {\r\n            this.config.namespace += '-';\r\n        }\r\n        // Localization strings override (or localizations for new locales)\r\n        l10n.locale = this.config.locale || l10n.locale;\r\n        l10n.merge(this.config.strings);\r\n        this.config.virtualKeyboardLayout = conf.virtualKeyboardLayout || {\r\n            'fr': 'azerty',\r\n            'be': 'azerty',\r\n            'al': 'qwertz',\r\n            'ba': 'qwertz',\r\n            'cz': 'qwertz',\r\n            'de': 'qwertz',\r\n            'hu': 'qwertz',\r\n            'sk': 'qwertz',\r\n            'ch': 'qwertz',\r\n        }[l10n.locale.substring(0, 2)] || 'qwerty';\r\n        // Possible keypress sound feedback\r\n        this.keypressSound = undefined;\r\n        this.spacebarKeypressSound = undefined;\r\n        this.returnKeypressSound = undefined;\r\n        this.deleteKeypressSound = undefined;\r\n        if (this.config.keypressSound) {\r\n            if (typeof this.config.keypressSound === 'string') {\r\n                this.keypressSound = new Audio();\r\n                this.keypressSound.preload = 'none';\r\n                this.keypressSound.src = this.config.keypressSound;\r\n                this.keypressSound.volume = AUDIO_FEEDBACK_VOLUME;\r\n                this.spacebarKeypressSound = this.keypressSound;\r\n                this.returnKeypressSound = this.keypressSound;\r\n                this.deleteKeypressSound = this.keypressSound;\r\n            } else {\r\n                console.assert(this.config.keypressSound.default);\r\n                this.keypressSound = new Audio();\r\n                this.keypressSound.preload = 'none';\r\n                this.keypressSound.src = this.config.keypressSound.default;\r\n                this.keypressSound.volume = AUDIO_FEEDBACK_VOLUME;\r\n                this.spacebarKeypressSound = this.keypressSound;\r\n                this.returnKeypressSound = this.keypressSound;\r\n                this.deleteKeypressSound = this.keypressSound;\r\n                if (this.config.keypressSound.spacebar) {\r\n                    this.spacebarKeypressSound = new Audio();\r\n                    this.spacebarKeypressSound.preload = 'none';\r\n                    this.spacebarKeypressSound.src = this.config.keypressSound.spacebar;\r\n                    this.spacebarKeypressSound.volume = AUDIO_FEEDBACK_VOLUME;\r\n                }\r\n                if (this.config.keypressSound.return) {\r\n                    this.returnKeypressSound = new Audio();\r\n                    this.returnKeypressSound.preload = 'none';\r\n                    this.returnKeypressSound.src = this.config.keypressSound.return;\r\n                    this.returnKeypressSound.volume = AUDIO_FEEDBACK_VOLUME;\r\n                }\r\n                if (this.config.keypressSound.delete) {\r\n                    this.deleteKeypressSound = new Audio();\r\n                    this.deleteKeypressSound.preload = 'none';\r\n                    this.deleteKeypressSound.src = this.config.keypressSound.delete;\r\n                    this.deleteKeypressSound.volume = AUDIO_FEEDBACK_VOLUME;\r\n                }\r\n            }\r\n        }\r\n        if (this.config.plonkSound) {\r\n            this.plonkSound = new Audio();\r\n            this.plonkSound.preload = 'none';\r\n            this.plonkSound.src = this.config.plonkSound;\r\n            this.plonkSound.volume = AUDIO_FEEDBACK_VOLUME;\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * Speak some part of the expression, either with or without synchronized highlighting.\r\n     *\r\n     * @param {string} amount - `\"all\"`, `\"selection\"`, `\"left\"`, `\"right\"`, `\"group\"`, `\"parent\"`\r\n     * @param {object} speakOptions\r\n     * @param {boolean} speakOptions.withHighlighting - If true, synchronized\r\n     * highlighting of speech will happen (if possible). Default is false.\r\n     *\r\n     * @method MathField#speak_\r\n     */\r\n    speak_(amount, speakOptions) {\r\n        speakOptions = speakOptions || { withHighlighting: false };\r\n        function getAtoms(mathField, amount) {\r\n            let result = null;\r\n            switch (amount) {\r\n                case 'all':\r\n                    result = mathField.mathlist.root;\r\n                    break;\r\n                case 'selection':\r\n                    if (!mathField.mathlist.isCollapsed()) {\r\n                        result = mathField.mathlist.getSelectedAtoms();\r\n                    }\r\n                    break;\r\n                case 'left': {\r\n                    const siblings = mathField.mathlist.siblings();\r\n                    const last = mathField.mathlist.startOffset();\r\n                    if (last >= 1) {\r\n                        result = [];\r\n                        for (let i = 1; i <= last; i++) {\r\n                            result.push(siblings[i]);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case 'right': {\r\n                    const siblings = mathField.mathlist.siblings();\r\n                    const first = mathField.mathlist.endOffset() + 1;\r\n                    if (first <= siblings.length - 1) {\r\n                        result = [];\r\n                        for (let i = first; i <= siblings.length - 1; i++) {\r\n                            result.push(siblings[i]);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case 'start':\r\n                case 'end':\r\n                    // not yet implemented\r\n                    break;\r\n                case 'group':\r\n                    result = mathField.mathlist.siblings();\r\n                    break;\r\n                case 'parent': {\r\n                    const parent = mathField.mathlist.parent();\r\n                    if (parent && parent.type !== 'root') {\r\n                        result = mathField.mathlist.parent();\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    console.log('unknown atom type \"' + mathField.type + '\"');\r\n                    break;\r\n            }\r\n            return result;\r\n        }\r\n        function getFailedSpeech(amount) {\r\n            let result = '';\r\n            switch (amount) {\r\n                case 'all':\r\n                    console.log(\"Internal failure: speak all failed\");\r\n                    break;\r\n                case 'selection':\r\n                    result = 'no selection';\r\n                    break;\r\n                case 'left':\r\n                    result = 'at start';\r\n                    break;\r\n                case 'right':\r\n                    result = 'at end';\r\n                    break;\r\n                case 'group':\r\n                    console.log(\"Internal failure: speak group failed\");\r\n                    break;\r\n                case 'parent':\r\n                    result = 'no parent';\r\n                    break;\r\n                default:\r\n                    console.log('unknown speak_ param value: \"' + amount + '\"');\r\n                    break;\r\n            }\r\n            return result;\r\n        }\r\n        const atoms = getAtoms(this, amount);\r\n        if (atoms === null) {\r\n            this.config.handleSpeak(getFailedSpeech(amount));\r\n            return false;\r\n        }\r\n        const options = { ...this.config };\r\n        if (speakOptions.withHighlighting || options.speechEngine === 'amazon') {\r\n            options.textToSpeechMarkup = (window.sre && options.textToSpeechRules === 'sre') ? 'ssml_step' : 'ssml';\r\n            if (speakOptions.withHighlighting) {\r\n                options.generateID = true;\r\n            }\r\n        }\r\n        const text = MathAtom.toSpeakableText(atoms, options);\r\n        if (speakOptions.withHighlighting) {\r\n            window.mathlive.readAloudMathField = this;\r\n            this._render({ forHighlighting: true });\r\n            if (this.config.handleReadAloud) {\r\n                this.config.handleReadAloud(this.field, text, this.config);\r\n            }\r\n        } else {\r\n            if (this.config.handleSpeak) {\r\n                this.config.handleSpeak(text, options);\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Utility function that returns the element which has the caret\r\n *\r\n * @param {DomElement} el\r\n * @private\r\n */\r\nfunction _findElementWithCaret(el) {\r\n    if (el.classList.contains('ML__caret') ||\r\n        el.classList.contains('ML__text-caret') ||\r\n        el.classList.contains('ML__command-caret')) {\r\n        return el;\r\n    }\r\n    let result;\r\n    Array.from(el.children).forEach(function(child) {\r\n        result = result || _findElementWithCaret(child);\r\n    });\r\n    return result;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Return a tuple of an element and a distance from point (x, y)\r\n * @param {HTMLElement} el\r\n * @param {number} x\r\n * @param {number} y\r\n * @function module:editor/mathfield#nearestElementFromPoint\r\n * @private\r\n */\r\nfunction nearestElementFromPoint(el, x, y) {\r\n    let result = { element: null, distance: Number.POSITIVE_INFINITY };\r\n\r\n    // This element may not have a matching atom, but its children might\r\n    let considerChildren = true;\r\n    \r\n    if (el.getAttribute('data-atom-id')) {\r\n        result.element = el;\r\n\r\n        // Calculate the (square of the) distance to the rectangle\r\n        const r = el.getBoundingClientRect();\r\n        const dx = x - (r.left + r.right) / 2;\r\n        const dy = y - (r.top + r.bottom) / 2;\r\n        result.distance = dx * dx + dy * dy;\r\n\r\n        // Only consider children if the target is inside the (horizontal)\r\n        // bounds of the element.\r\n        // This avoid searching the numerator/denominator when a fraction\r\n        // is the last element in the formula.\r\n        considerChildren = x >= r.left && x <= r.right;\r\n    }\r\n\r\n    if (considerChildren && el.children) {\r\n        Array.from(el.children).forEach(function(child) {\r\n            const nearest = nearestElementFromPoint(child, x, y);\r\n            if (nearest.element && nearest.distance <= result.distance) {\r\n                result = nearest;\r\n            }\r\n        });\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\nlet lastTap;\r\nlet tapCount = 0;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction speakableText(mathfield, prefix, atoms) {\r\n    const config = Object.assign({}, mathfield.config);\r\n    config.textToSpeechMarkup = '';\r\n    config.textToSpeechRulesOptions = config.textToSpeechRulesOptions || {};\r\n    config.textToSpeechRulesOptions.markup = 'none';\r\n    return prefix + MathAtom.toSpeakableText(atoms, config);\r\n}\r\n\r\n/**\r\n * Announce a change in selection or content via the aria-live region.\r\n * This is the default implementation for this function. It can be overridden\r\n * via `config.onAnnounce`\r\n * @param {object} target Typically, a MathField.\r\n * @param {string} command The command that invoked the change.\r\n * @param {Atom[]} [oldMathlist] The previous value of mathlist before the change.\r\n * @param {Atom[]} [atomsToSpeak]\r\n * @method MathField#_onAnnounce\r\n * @private\r\n */\r\n function _onAnnounce(target, command, oldMathlist, atomsToSpeak) {\r\n//** Fix: the focus is the end of the selection, so it is before where we want it\r\n    let liveText = '';\r\n    // const command = moveAmount > 0 ? \"right\" : \"left\";\r\n\r\n    if (command === 'plonk') {\r\n        // Use this sound to indicate (minor) errors, for\r\n        // example when a command has no effect.\r\n        if (target.plonkSound) {\r\n            target.plonkSound.load();\r\n            target.plonkSound.play().catch(err => console.warn(err));\r\n        }\r\n        // As a side effect, reset the keystroke buffer\r\n        target._resetKeystrokeBuffer();\r\n    } else if (command === 'delete') {\r\n        liveText = speakableText(target, 'deleted: ', atomsToSpeak);\r\n    //*** FIX: could also be moveUp or moveDown -- do something different like provide context???\r\n    } else if (command === 'focus' || /move/.test(command)) {\r\n        //*** FIX -- should be xxx selected/unselected */\r\n        liveText = (target.mathlist.isCollapsed() ? '' : 'selected: ') +\r\n                    target._nextAtomSpeechText(oldMathlist);\r\n    } else if (command === 'replacement') {\r\n        // announce the contents\r\n        liveText = speakableText(target, '', target.mathlist.sibling(0));\r\n    } else if (command === 'line') {\r\n        // announce the current line -- currently that's everything\r\n        liveText = speakableText(target, '', target.mathlist.root);\r\n        target.accessibleNode.innerHTML =\r\n            '<math xmlns=\"http://www.w3.org/1998/Math/MathML\">' +\r\n                MathAtom.toMathML(target.mathlist.root, target.config) +\r\n            '</math>';\r\n\r\n        target.textarea.setAttribute('aria-label', 'after: ' + liveText)\r\n\r\n        /*** FIX -- testing hack for setting braille ***/\r\n        // target.accessibleNode.focus();\r\n        // console.log(\"before sleep\");\r\n        // sleep(1000).then(() => {\r\n        //     target.textarea.focus();\r\n        //     console.log(\"after sleep\");\r\n        // });\r\n    } else {\r\n        liveText = atomsToSpeak ? speakableText(target, command + \" \", atomsToSpeak) : command;\r\n    }\r\n    // aria-live regions are only spoken when it changes; force a change by\r\n    // alternately using nonbreaking space or narrow nonbreaking space\r\n    const ariaLiveChangeHack = /\\u00a0/.test(target.ariaLiveText.textContent) ?\r\n        ' \\u202f ' : ' \\u00a0 ';\r\n    target.ariaLiveText.textContent = liveText + ariaLiveChangeHack;\r\n    // this.textarea.setAttribute('aria-label', liveText + ariaLiveChangeHack);\r\n}\r\n\r\nMathField.prototype.undo_ = MathField.prototype.undo;\r\nMathField.prototype.redo_ = MathField.prototype.redo;\r\nMathField.prototype.scrollIntoView_ = MathField.prototype.scrollIntoView;\r\nMathField.prototype.scrollToStart_ = MathField.prototype.scrollToStart;\r\nMathField.prototype.scrollToEnd_ = MathField.prototype.scrollToEnd;\r\nMathField.prototype.insert_ = MathField.prototype.$insert;\r\n\r\n\r\nexport default {\r\n    isValidMathfield,\r\n    MathField\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","/* eslint no-console:0 */\r\nimport '../core/mathAtom.js'; // eslint-disable-line no-unused-vars\r\nimport Definitions from '../core/definitions.js';\r\n\r\nfunction findEndOfMath(delimiter, text, startIndex) {\r\n    // Adapted from\r\n    // https://github.com/Khan/perseus/blob/master/src/perseus-markdown.jsx\r\n    let index = startIndex;\r\n    let braceLevel = 0;\r\n\r\n    const delimLength = delimiter.length;\r\n\r\n    while (index < text.length) {\r\n        const character = text[index];\r\n\r\n        if (braceLevel <= 0 &&\r\n            text.slice(index, index + delimLength) === delimiter) {\r\n            return index;\r\n        } else if (character === '\\\\') {\r\n            index++;\r\n        } else if (character === '{') {\r\n            braceLevel++;\r\n        } else if (character === '}') {\r\n            braceLevel--;\r\n        }\r\n\r\n        index++;\r\n    }\r\n\r\n    return -1;\r\n}\r\n\r\nfunction splitAtDelimiters(startData, leftDelim, rightDelim, mathstyle) {\r\n    const finalData = [];\r\n\r\n    for (let i = 0; i < startData.length; i++) {\r\n        if (startData[i].type === 'text') {\r\n            const text = startData[i].data;\r\n\r\n            let lookingForLeft = true;\r\n            let currIndex = 0;\r\n            let nextIndex;\r\n\r\n            nextIndex = text.indexOf(leftDelim);\r\n            if (nextIndex !== -1) {\r\n                currIndex = nextIndex;\r\n                if (currIndex > 0) {\r\n                    finalData.push({\r\n                        type: 'text',\r\n                        data: text.slice(0, currIndex)\r\n                    });\r\n                }\r\n                lookingForLeft = false;\r\n            }\r\n            let done = false;\r\n            while (!done) {\r\n                if (lookingForLeft) {\r\n                    nextIndex = text.indexOf(leftDelim, currIndex);\r\n                    if (nextIndex === -1) {\r\n                        done = true;\r\n                        break;\r\n                    }\r\n                    if (currIndex !== nextIndex) {\r\n                        finalData.push({\r\n                            type: 'text',\r\n                            data: text.slice(currIndex, nextIndex)\r\n                        });\r\n                    }\r\n\r\n                    currIndex = nextIndex;\r\n                } else {\r\n                    nextIndex = findEndOfMath(\r\n                        rightDelim,\r\n                        text,\r\n                        currIndex + leftDelim.length);\r\n                    if (nextIndex === -1) {\r\n                        done = true;\r\n                        break;\r\n                    }\r\n\r\n                    finalData.push({\r\n                        type: 'math',\r\n                        data: text.slice(\r\n                            currIndex + leftDelim.length,\r\n                            nextIndex),\r\n                        rawData: text.slice(\r\n                            currIndex,\r\n                            nextIndex + rightDelim.length),\r\n                        mathstyle: mathstyle\r\n                    });\r\n\r\n                    currIndex = nextIndex + rightDelim.length;\r\n                }\r\n\r\n                lookingForLeft = !lookingForLeft;\r\n            }\r\n            if (currIndex < text.length) {\r\n                finalData.push({\r\n                    type: 'text',\r\n                    data: text.slice(currIndex)\r\n                });\r\n            }\r\n        } else {\r\n            finalData.push(startData[i]);\r\n        }\r\n    }\r\n\r\n    return finalData;\r\n}\r\n\r\nfunction splitWithDelimiters(text, delimiters) {\r\n    let data = [{type: 'text', data: text}];\r\n    for (let i = 0; i < delimiters.inline.length; i++) {\r\n        const delimiter = delimiters.inline[i];\r\n        data = splitAtDelimiters(\r\n            data, delimiter[0], delimiter[1], 'textstyle');\r\n    }\r\n    for (let i = 0; i < delimiters.display.length; i++) {\r\n        const delimiter = delimiters.display[i];\r\n        data = splitAtDelimiters(\r\n            data, delimiter[0], delimiter[1], 'displaystyle');\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\n\r\nfunction createMathMLNode(latex, options) {\r\n    // Create a node for AT (Assistive Technology, e.g. screen reader) to speak, etc.\r\n    // This node has a style that makes it be invisible to display but is seen by AT\r\n    const span = document.createElement('span');\r\n    try {\r\n        span.innerHTML = \"<math xmlns='http://www.w3.org/1998/Math/MathML'>\" +\r\n                            options.renderToMathML(latex, options) +\r\n                         \"</math>\";\r\n    } catch (e) {\r\n        console.error( 'Could not convert\\'' + latex + '\\' to MathML with ', e );\r\n        span.textContent = latex;\r\n    }\r\n    span.className = 'sr-only';\r\n    return span;\r\n}\r\n\r\nfunction createMarkupNode(text, options, mathstyle, createNodeOnFailure) {\r\n    // Create a node for displaying math.\r\n    //   This is slightly ugly because in the case of failure to create the markup,\r\n    //   sometimes a text node is desired and sometimes not.\r\n    //   'createTextNodeOnFailure' controls this and null is returned when no node is created.\r\n    // This node is made invisible to AT (screen readers)\r\n    let span = document.createElement('span');\r\n    span.setAttribute('aria-hidden','true');\r\n    if (options.preserveOriginalContent) {\r\n        span.setAttribute('data-' + options.namespace + 'original-content', text);\r\n        if (mathstyle) {\r\n            span.setAttribute('data-' + options.namespace + 'original-mathstyle', mathstyle);\r\n        }\r\n    }\r\n\r\n    try {\r\n        span.innerHTML = options.renderToMarkup(text, mathstyle || 'displaystyle', 'html', options.macros);\r\n     } catch (e) {\r\n        console.error( 'Could not parse\\'' + text + '\\' with ', e );\r\n        if (createNodeOnFailure) {\r\n            span = document.createTextNode(text);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    return span;\r\n}\r\n\r\nfunction createAccessibleMarkupPair(text, mathstyle, options, createNodeOnFailure) {\r\n    // Create a math node (a span with an accessible component and a visual component)\r\n    // If there is an error in parsing the latex, 'createNodeOnFailure' controls whether\r\n    //   'null' is returned or an accessible node with the text used.\r\n    const markupNode = createMarkupNode(text, options, mathstyle, createNodeOnFailure);\r\n\r\n    if (markupNode && /\\b(mathml|speakable-text)\\b/i.test(options.renderAccessibleContent)) {\r\n        const fragment = document.createDocumentFragment();\r\n        if (/\\bmathml\\b/i.test(options.renderAccessibleContent) && options.renderToMathML) {\r\n            fragment.appendChild(createMathMLNode(text, options));\r\n        }\r\n        if (/\\bspeakable-text\\b/i.test(options.renderAccessibleContent) && options.renderToSpeakableText) {\r\n            const span = document.createElement('span');\r\n            span.innerHTML =  options.renderToSpeakableText(text, options);\r\n            span.className = 'sr-only';\r\n            fragment.appendChild(span);\r\n        }\r\n        fragment.appendChild(markupNode);\r\n        return fragment;\r\n    }\r\n\r\n    return markupNode;\r\n}\r\n\r\nfunction scanText(text, options) {\r\n    // If the text starts with '\\begin'...\r\n    // (this is a MathJAX behavior)\r\n    let fragment = null;\r\n    if (options.TeX.processEnvironments && /^\\s*\\\\begin/.test(text)) {\r\n        fragment = document.createDocumentFragment();\r\n        fragment.appendChild(createAccessibleMarkupPair(text, undefined, options, true));\r\n    } else {\r\n        const data = splitWithDelimiters(text, options.TeX.delimiters);\r\n        if (data.length === 1 && data[0].type === 'text') {\r\n            // This text contains no math. No need to continue processing\r\n            return null;\r\n        }\r\n        fragment = document.createDocumentFragment();\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (data[i].type === 'text') {\r\n                fragment.appendChild(document.createTextNode(data[i].data));\r\n            } else {\r\n                fragment.appendChild(createAccessibleMarkupPair(data[i].data, data[i].mathstyle, options, true));\r\n            }\r\n        }\r\n    }\r\n    return fragment;\r\n}\r\n\r\nfunction scanElement(elem, options) {\r\n    const originalContent = elem.getAttribute('data-' + options.namespace +\r\n        'original-content');\r\n    if (originalContent) {\r\n        const mathstyle = elem.getAttribute('data-' + options.namespace + 'mathstyle');\r\n        const span = createAccessibleMarkupPair(originalContent, mathstyle, options, false);\r\n        if (span != null) {\r\n            elem.textContent = '';\r\n            elem.appendChild(span);\r\n        }\r\n        return;\r\n    }\r\n\r\n\r\n    if (elem.childNodes.length === 1 && elem.childNodes[0].nodeType === 3) {\r\n        // This is a node with textual content only. Perhaps an opportunity\r\n        // to simplify and avoid creating extra nested elements...\r\n        const text = elem.childNodes[0].textContent;\r\n        if (options.TeX.processEnvironments && /^\\s*\\\\begin/.test(text)) {\r\n            elem.textContent = '';\r\n            elem.appendChild( createAccessibleMarkupPair(text, undefined, options, true) );\r\n            return;\r\n        }\r\n\r\n        const data = splitWithDelimiters(text, options.TeX.delimiters);\r\n        if (data.length === 1 && data[0].type === 'math') {\r\n            // The entire content is a math expression: we can replace the content\r\n            // with the latex markup without creating additional wrappers.\r\n            elem.textContent = '';\r\n            elem.appendChild( createAccessibleMarkupPair(data[0].data, data[0].mathstyle, options, true) );\r\n            return;\r\n        } else if (data.length === 1 && data[0].type === 'text') {\r\n            // This element only contained text with no math. No need to\r\n            // do anything.\r\n            return;\r\n        }\r\n    }\r\n\r\n    for (let i = 0; i < elem.childNodes.length; i++) {\r\n        const childNode = elem.childNodes[i];\r\n        if (childNode.nodeType === 3) {\r\n            // A text node\r\n            // Look for math mode delimiters inside the text\r\n            const frag = scanText(childNode.textContent, options);\r\n            if (frag) {\r\n                i += frag.childNodes.length - 1;\r\n                elem.replaceChild(frag, childNode);\r\n            }\r\n        } else if (childNode.nodeType === 1) {\r\n            // An element node\r\n            const tag = childNode.nodeName.toLowerCase();\r\n            if (tag === 'script' &&\r\n                options.processScriptTypePattern.test(childNode.type)) {\r\n                let style = 'displaystyle';\r\n                for (const l of  childNode.type.split(';')) {\r\n                    const v = l.split('=');\r\n                    if (v[0].toLowerCase() === 'mode') {\r\n                        if (v[1].toLoweCase() === 'display') {\r\n                            style = 'displaystyle';\r\n                        } else {\r\n                            style = 'textstyle';\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n                const span = createAccessibleMarkupPair(childNode.textContent,\r\n                    style, options, true)\r\n                childNode.parentNode.replaceChild(span, childNode);\r\n            } else {\r\n                // Element node\r\n                const shouldRender =\r\n                    options.processClassPattern.test(childNode.className) ||\r\n                    !(options.skipTags.includes(tag) ||\r\n                        options.ignoreClassPattern.test(childNode.className));\r\n\r\n                if (shouldRender) {\r\n                    scanElement(childNode, options);\r\n                }\r\n            }\r\n        }\r\n        // Otherwise, it's something else, and ignore it.\r\n    }\r\n}\r\n\r\nconst defaultOptions = {\r\n    // Optional namespace for the `data-` attributes.\r\n    namespace: '',\r\n\r\n    // Name of tags whose content will not be scanned for math delimiters\r\n    skipTags: ['noscript', 'style', 'textarea', 'pre', 'code',\r\n        'annotation', 'annotation-xml'],\r\n\r\n    // <script> tags of the following types will be processed. Others, ignored.\r\n    processScriptType: \"math/tex\",\r\n\r\n    // Regex pattern of the class name of elements whose contents should not\r\n    // be processed\r\n    ignoreClass: \"tex2jax_ignore\",\r\n\r\n    // Regex pattern of the class name of elements whose contents should\r\n    // be processed when they appear inside ones that are ignored.\r\n    processClass: \"tex2jax_process\",\r\n\r\n    // Indicate whether to preserve or discard the original content of the\r\n    // elements being rendered in a 'data-original-content' attribute.\r\n    preserveOriginalContent: true,\r\n\r\n    // Indicate the format to use to render accessible content\r\n    renderAccessibleContent: 'mathml',\r\n\r\n    TeX: {\r\n        disabled: false,\r\n        processEnvironments : true,\r\n        delimiters: {\r\n            inline:  [['\\\\(','\\\\)']],\r\n            display: [['$$', '$$'], ['\\\\[', '\\\\]']],\r\n        }\r\n    }\r\n}\r\n\r\nfunction renderMathInElement(elem, options) {\r\n    try {\r\n        options = Object.assign({}, defaultOptions, options);\r\n        options.ignoreClassPattern = new RegExp(options.ignoreClass);\r\n        options.processClassPattern = new RegExp(options.processClass);\r\n        options.processScriptTypePattern = new RegExp(options.processScriptType);\r\n        options.macros = Definitions.MACROS;\r\n\r\n        // Validate the namespace (used for `data-` attributes)\r\n        if (options.namespace) {\r\n            if (!/^[a-z]+[-]?$/.test(options.namespace)) {\r\n                throw Error('options.namespace must be a string of lowercase characters only');\r\n            }\r\n            if (!/-$/.test(options.namespace)) {\r\n            options.namespace += '-';\r\n            }\r\n        }\r\n\r\n        scanElement(elem, options);\r\n    } catch(e) {\r\n        if (e instanceof Error) {\r\n            console.error('renderMathInElement(): ' + e.message);\r\n        } else {\r\n            console.error('renderMathInElement(): Could not render math for element ' + elem);\r\n        }\r\n    }\r\n}\r\n\r\n    export default {\r\n        renderMathInElement,\r\n    }\r\n\r\n","\r\n/**\r\n *\r\n * Use MathLive to render and edit mathematical formulas in your browser.\r\n *\r\n * This module exports {@link #functions%3Amathlive some functions} and the {@link #class%3AMathField `MathField`} class.\r\n *\r\n * See {@tutorial USAGE_GUIDE the Usage Guide} for more details on how to get\r\n * started.\r\n *\r\n * @example\r\n * // To invoke the functions in this module, import the `mathlive` module.\r\n *\r\n * import mathlive from 'dist/mathlive.mjs';\r\n *\r\n * console.log(mathlive.latexToMarkup('e^{i\\\\pi}+1=0'));\r\n *\r\n * @module mathlive\r\n * @packageDocumentation MathLive API Reference\r\n *\r\n */\r\n\r\nimport Lexer from './core/lexer.js';\r\nimport MathAtom from './core/mathAtom.js';\r\nimport ParserModule from './core/parser.js';\r\nimport Span from './core/span.js';\r\nimport Definitions from './core/definitions.js';\r\nimport MathField from './editor/editor-mathfield.js';\r\nimport AutoRender from './addons/auto-render.js';\r\nimport mathJson from './addons/mathJson.js';\r\n\r\n/**\r\n * Converts a LaTeX string to a string of HTML markup.\r\n *\r\n * @param {string} text A string of valid LaTeX. It does not have to start\r\n * with a mode token such as `$$` or `\\(`.\r\n *\r\n * @param {\"displaystyle\" | \"textstyle\"} mathstyle If `'displaystyle'` the \"display\" mode of TeX\r\n * is used to typeset the formula, which is most appropriate for formulas that are\r\n * displayed in a standalone block.\r\n *\r\n * If `'textstyle'` is used, the \"text\" mode\r\n * of TeX is used, which is most appropriate when displaying math \"inline\"\r\n * with other text (on the same line).\r\n *\r\n * @param {\"mathlist\" | \"span\" | \"html\"} [format='html'] For debugging purposes, this function\r\n * can also return a text representation of internal data structures\r\n * used to construct the markup.\r\n *\r\n * @return {string}\r\n * @category Converting\r\n * @function module:mathlive#latexToMarkup\r\n */\r\nfunction toMarkup(text, mathstyle, format, macros) {\r\n    mathstyle = mathstyle || 'displaystyle';\r\n\r\n    console.assert(/displaystyle|textstyle|scriptstyle|scriptscriptstyle/.test(mathstyle),\r\n        \"Invalid style:\", mathstyle);\r\n\r\n    //\r\n    // 1. Tokenize the text\r\n    //\r\n    const tokens = Lexer.tokenize(text);\r\n\r\n    //\r\n    // 2. Parse each token in the formula\r\n    //    Turn the list of tokens in the formula into\r\n    //    a tree of high-level MathAtom, e.g. 'genfrac'.\r\n    //\r\n\r\n    const mathlist = ParserModule.parseTokens(tokens, 'math', null, macros);\r\n\r\n    if (format === 'mathlist') return mathlist;\r\n\r\n\r\n\r\n    //\r\n    // 3. Transform the math atoms into elementary spans\r\n    //    for example from genfrac to vlist.\r\n    //\r\n    let spans = MathAtom.decompose({mathstyle: mathstyle}, mathlist);\r\n\r\n\r\n    //\r\n    // 4. Simplify by coalescing adjacent nodes\r\n    //    for example, from <span>1</span><span>2</span>\r\n    //    to <span>12</span>\r\n    //\r\n    spans = Span.coalesce(spans);\r\n\r\n    if (format === 'span') return spans;\r\n\r\n    //\r\n    // 5. Wrap the expression with struts\r\n    //\r\n    const base = Span.makeSpan(spans, 'ML__base');\r\n\r\n    const topStrut = Span.makeSpan('', 'ML__strut')\r\n    topStrut.setStyle('height', base.height, 'em');\r\n    const struts = [topStrut];\r\n    if (base.depth !== 0) {\r\n        const bottomStrut = Span.makeSpan('', 'ML__strut--bottom');\r\n        bottomStrut.setStyle('height', base.height + base.depth, 'em');\r\n        bottomStrut.setStyle('vertical-align', -base.depth, 'em');\r\n        struts.push(bottomStrut);\r\n    }\r\n    struts.push(base);\r\n    const wrapper = Span.makeSpan(struts, 'ML__mathlive');\r\n\r\n\r\n    //\r\n    // 6. Generate markup\r\n    //\r\n\r\n    return wrapper.toMarkup();\r\n}\r\n\r\n\r\n\r\n/**\r\n * Convert a DOM element into an editable mathfield.\r\n *\r\n * After the DOM element has been created, the value `element.mathfield` will\r\n * return a reference to the mathfield object. This value is also returned\r\n * by `makeMathField`\r\n *\r\n * @param {HTMLElement|string} element A DOM element, for example as obtained\r\n * by `document.getElementById()`, or the ID of a DOM element as a string.\r\n *\r\n * @param {MathFieldConfig} [config={}] See {@tutorial CONFIG} for details.\r\n *\r\n *\r\n * @return {MathField}\r\n *\r\n * Given the HTML markup:\r\n * ```html\r\n * <span id='equation'>$f(x)=sin(x)$</span>\r\n * ```\r\n * The following code will turn the span into an editable mathfield.\r\n * ```\r\n * import MathLive from 'dist/mathlive.mjs';\r\n * MathLive.makeMathField('equation');\r\n * ```\r\n *\r\n * @function module:mathlive#makeMathField\r\n */\r\nfunction makeMathField(element, config) {\r\n    if (!MathField) {\r\n        throw Error('The MathField module is not loaded.');\r\n    }\r\n    config = config || {};\r\n    config.handleSpeak = config.handleSpeak || speak;\r\n    config.handleReadAloud = config.handleReadAloud || readAloud;\r\n    return new MathField.MathField(getElement(element), config);\r\n}\r\n\r\n/**\r\n * Converts a LaTeX string to a string of MathML markup.\r\n *\r\n * @param {string} latex A string of valid LaTeX. It does not have to start\r\n * with a mode token such as a `$$` or `\\(`.\r\n * @param {object} options\r\n * @param {boolean} [options.generateID=false] - If true, add an `\"extid\"` attribute\r\n * to the MathML nodes with a value matching the `atomID`. This can be used\r\n * to map items on the screen with their MathML representation or vice-versa.\r\n * @return {string}\r\n * @category Converting\r\n * @function module:mathlive#latexToMathML\r\n */\r\nfunction toMathML(latex, options) {\r\n    if (!MathAtom.toMathML) {\r\n        console.warn('The MathML module is not loaded.');\r\n        return '';\r\n    }\r\n    options = options || {};\r\n    options.macros = options.macros || {};\r\n    Object.assign(options.macros, Definitions.MACROS);\r\n\r\n    const mathlist = ParserModule.parseTokens(Lexer.tokenize(latex),\r\n        'math', null, options.macros);\r\n\r\n    return MathAtom.toMathML(mathlist, options);\r\n}\r\n\r\n/**\r\n * Converts a LaTeX string to an Abstract Syntax Tree (MathJSON)\r\n *\r\n * **See:** {@tutorial MATHJSON}\r\n *\r\n * @param {string} latex A string of valid LaTeX. It does not have to start\r\n * with a mode token such as a `$$` or `\\(`.\r\n * @param {Object.<string, any>} options\r\n * @param {object} [options.macros] A dictionary of LaTeX macros\r\n *\r\n * @return {object} The Abstract Syntax Tree as an object literal using the MathJSON format.\r\n * @category Converting\r\n * @function module:mathlive#latexToAST\r\n */\r\nfunction latexToAST(latex, options) {\r\n    if (!MathAtom.toAST) {\r\n        console.warn('The AST module is not loaded.');\r\n        return {};\r\n    }\r\n    options = options || {};\r\n    options.macros = options.macros || {};\r\n    Object.assign(options.macros, Definitions.MACROS);\r\n\r\n    const mathlist = ParserModule.parseTokens(Lexer.tokenize(latex),\r\n        'math', null, options.macros);\r\n\r\n    return MathAtom.toAST(mathlist, options);\r\n}\r\n\r\n\r\n/**\r\n * Converts an Abstract Syntax Tree (MathJSON) to a LaTeX string.\r\n *\r\n * **See:** {@tutorial MATHJSON}\r\n *\r\n * @param {object} ast - The Abstract Syntax Tree as an object literal (MathJSON).\r\n * @param {Object.<string, any>} options\r\n * @param {number} [options.precision=14] The number of digits used in the\r\n * representation of numbers. **Default** = 14.\r\n * @param {string} [options.decimalMarker='.'] The character used as the decimal\r\n * marker. **Default** = `\".\"`.\r\n * @param {string} [options.groupSeparator='\\\\, '] The character used to separate group of numbers, typically thousands. **Default** = `\"\\\\, \"`\r\n * @param {string} [options.product='\\\\cdot '] The character used to indicate product. Other option would be `\"\\\\times \"`. **Default** = `\"\\\\cdot \"`\r\n * @param {string} [options.exponentProduct='\\\\cdot '] The character used before an\r\n * exponent indicator. **Default** = `\"\\\\cdot \"`\r\n * @param {string} [options.exponentMarker=''] The character used to indicate an\r\n * exponent. **Default** = `\"\"`\r\n * @param {\"auto\" | \"engineering\" | \"on\"} [options.scientificNotation='auto'] The format used for numbers\r\n * using the scientific notation. **Default** = `\"auto\"`\r\n * @param {string} [options.beginRepeatingDigits='\\\\overline{'] The string\r\n * used at the begining of repeating digits. **Default** = `\"\\\\overline{\"`\r\n * @param {string} [options.endRepeatingDigits='}'] The string\r\n * used at the end of repeating digits. **Default** = `\"}\"`\r\n*\r\n * @return {string} The LaTeX representation of the Abstract Syntax Tree, if valid.\r\n * @category Converting\r\n * @function module:mathlive#astToLatex\r\n */\r\nfunction astToLatex(ast, options) {\r\n    return mathJson.asLatex(ast, options);\r\n}\r\n\r\n\r\n/**\r\n * Converts a LaTeX string to a textual representation ready to be spoken\r\n *\r\n * @param {string} latex A string of valid LaTeX. It does not have to start\r\n * with a mode token such as a `$$` or `\\(`.\r\n *\r\n * @param {Object.<string, any>} options\r\n *\r\n * @param {\"mathlive\" | \"sre\"} [options.textToSpeechRules='mathlive'] The set of text to\r\n * speech rules to use.\r\n *\r\n * A value of `\"mathlive\"` (the default) indicates that\r\n * the simple rules built into MathLive should be used.\r\n *\r\n * A value of `\"sre\"` indicates that the Speech Rule Engine from Volker Sorge\r\n * should be used.\r\n * Note that SRE is not included or loaded by MathLive and for this option to\r\n * work SRE should be loaded separately.\r\n *\r\n * @param {string} [options.textToSpeechMarkup=''] The markup syntax to use\r\n * for the output of conversion to spoken text.\r\n *\r\n * Possible values are `ssml` for\r\n * the SSML markup or `mac` for the MacOS markup (e.g. `\"[[ltr]]\"`)\r\n *\r\n * @param {Object.<string, any>} [options.textToSpeechRulesOptions={}] A set of\r\n * key/value pairs that can be used to configure the speech rule engine.\r\n *\r\n * Which options are available depends on the speech rule engine in use. There\r\n * are no options available with MathLive's built-in engine. The options for\r\n * the SRE engine are documented [here]{@link:https://github.com/zorkow/speech-rule-engine}\r\n * @return {string} The spoken representation of the input LaTeX.\r\n * @example\r\n * console.log(MathLive.latexToSpeakableText('\\\\frac{1}{2}'));\r\n * // ➡︎'half'\r\n * @category Converting\r\n * @function module:mathlive#latexToSpeakableText\r\n */\r\nfunction latexToSpeakableText(latex, options) {\r\n    if (!MathAtom.toSpeakableText) {\r\n        console.warn('The outputSpokenText module is not loaded.');\r\n        return \"\";\r\n    }\r\n    options = options || {};\r\n    options.macros = options.macros || {};\r\n    Object.assign(options.macros, Definitions.MACROS);\r\n\r\n    const mathlist = ParserModule.parseTokens(Lexer.tokenize(latex),\r\n        'math', null, options.macros);\r\n\r\n    return MathAtom.toSpeakableText(mathlist, options);\r\n}\r\n\r\n\r\nfunction removeHighlight(node) {\r\n    node.classList.remove('highlight');\r\n    if (node.children) {\r\n        Array.from(node.children).forEach(x => {\r\n            removeHighlight(x);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Highlights the span corresponding to the specified atomID.\r\n *\r\n * This is used for text-to-speech with synchronized highlighting (read aloud)\r\n *\r\n * @category Read Aloud\r\n * @param {string} atomID\r\n *\r\n */\r\nfunction highlightAtomID(node, atomID) {\r\n    if (!atomID || node.dataset.atomId === atomID) {\r\n        node.classList.add('highlight');\r\n        if (node.children && node.children.length > 0) {\r\n            Array.from(node.children).forEach(x => {\r\n                highlightAtomID(x);\r\n            });\r\n        }\r\n    } else {\r\n        node.classList.remove('highlight');\r\n        if (node.children && node.children.length > 0) {\r\n            Array.from(node.children).forEach(x => {\r\n                highlightAtomID(x, atomID);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction speak(text, config) {\r\n    if (!config && window && window.mathlive) {\r\n        config = window.mathlive.config;\r\n    }\r\n    config = config || {};\r\n\r\n    if (!config.speechEngine || config.speechEngine === 'local') {\r\n        // On ChromeOS: chrome.accessibilityFeatures.spokenFeedback\r\n        // See also https://developer.chrome.com/apps/tts\r\n        const utterance = new SpeechSynthesisUtterance(text);\r\n        if (window) {\r\n            window.speechSynthesis.speak(utterance);\r\n        } else {\r\n            console.log('Speak: ', text);\r\n        }\r\n    } else if (config.speechEngine === 'amazon') {\r\n        if (!window || !window.AWS) {\r\n            console.warn('AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk');\r\n        } else {\r\n            const polly = new window.AWS.Polly({apiVersion: '2016-06-10'});\r\n            const params = {\r\n                OutputFormat: 'mp3',\r\n                VoiceId: config.speechEngineVoice || 'Joanna',\r\n                // SampleRate: '16000',\r\n                Text: text,\r\n                TextType: 'ssml',\r\n                // SpeechMarkTypes: ['ssml]'\r\n            };\r\n            polly.synthesizeSpeech(params, function(err, data) {\r\n                if (err) {\r\n                    console.warn('polly.synthesizeSpeech() error:', err, err.stack);\r\n                } else {\r\n                    if (data && data.AudioStream) {\r\n                        const uInt8Array = new Uint8Array(data.AudioStream);\r\n                        const blob = new Blob([uInt8Array.buffer], {type: 'audio/mpeg'});\r\n                        const url = URL.createObjectURL(blob);\r\n\r\n                        const audioElement = new Audio(url);\r\n                        audioElement.play().catch(err => console.log(err));\r\n                    } else {\r\n                        console.log('polly.synthesizeSpeech():' + data);\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Can call AWS.Request() on the result of synthesizeSpeech()\r\n        }\r\n    } else if (config.speechEngine === 'google') {\r\n        console.warn('The Google speech engine is not supported yet. Please come again.');\r\n        // @todo: implement support for Google Text-to-Speech API,\r\n        // using config.speechEngineToken, config.speechEngineVoice and\r\n        // config.speechEngineAudioConfig\r\n\r\n// curl -H \"Authorization: Bearer \"$(gcloud auth application-default print-access-token) \\\r\n//   -H \"Content-Type: application/json; charset=utf-8\" \\\r\n//   --data \"{\r\n//     'input':{\r\n//       'text':'Android is a mobile operating system developed by Google,\r\n//          based on the Linux kernel and designed primarily for\r\n//          touchscreen mobile devices such as smartphones and tablets.'\r\n//     },\r\n//     'voice':{\r\n//       'languageCode':'en-gb',\r\n//       'name':'en-GB-Standard-A',\r\n//       'ssmlGender':'FEMALE'\r\n//     },\r\n//     'audioConfig':{\r\n//       'audioEncoding':'MP3'\r\n//     }\r\n//   }\" \"https://texttospeech.googleapis.com/v1beta1/text:synthesize\" > synthesize-text.txt\r\n    }\r\n}\r\n\r\n/**\r\n * \"Read Aloud\" is an asynchronous operation that reads the\r\n * reading with synchronized highlighting\r\n *\r\n * @param {DOMElement} element - The DOM element to highlight\r\n * @param {string} text - The text to speak\r\n * @param {object} config\r\n * @private\r\n * @function module:mathlive#readAloud\r\n */\r\nfunction readAloud(element, text, config) {\r\n    if (!window) {\r\n        return;\r\n    }\r\n    if (!config && window.mathlive) {\r\n        config = window.mathlive.config;\r\n    }\r\n    config = config || {};\r\n\r\n    if (config.speechEngine !== 'amazon') {\r\n        console.warn('Use Amazon TTS Engine for synchronized highlighting');\r\n        if (config.handleSpeak) config.handleSpeak(text);\r\n        return;\r\n    }\r\n    if (!window.AWS) {\r\n        console.warn('AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk');\r\n        return;\r\n    }\r\n    const polly = new window.AWS.Polly({apiVersion: '2016-06-10'});\r\n\r\n    const params = {\r\n        OutputFormat: 'json',\r\n        VoiceId: config.speechEngineVoice || 'Joanna',\r\n        Text: text,\r\n        TextType: 'ssml',\r\n        SpeechMarkTypes: ['ssml']\r\n    };\r\n\r\n    window.mathlive = window.mathlive || {};\r\n    window.mathlive.readAloudElement = element;\r\n\r\n    const status = config.onReadAloudStatus || window.mathlive.onReadAloudStatus;\r\n\r\n    // Request the mark points\r\n    polly.synthesizeSpeech(params, function(err, data) {\r\n        if (err) {\r\n            console.warn('polly.synthesizeSpeech() error:', err, err.stack);\r\n        } else {\r\n            if (data && data.AudioStream) {\r\n                const response = new TextDecoder('utf-8').decode(new Uint8Array(data.AudioStream));\r\n                window.mathlive.readAloudMarks = response.split('\\n').map(x => x ? JSON.parse(x) : {});\r\n                window.mathlive.readAloudTokens = [];\r\n                for (const mark of window.mathlive.readAloudMarks) {\r\n                    if (mark.value) {\r\n                        window.mathlive.readAloudTokens.push(mark.value);\r\n                    }\r\n                }\r\n                window.mathlive.readAloudCurrentMark = '';\r\n\r\n                // Request the audio\r\n                params.OutputFormat = 'mp3';\r\n                params.SpeechMarkTypes = [];\r\n                polly.synthesizeSpeech(params, function(err, data) {\r\n                    if (err) {\r\n                        console.warn('polly.synthesizeSpeech(', text , ') error:', err, err.stack);\r\n                    } else {\r\n                        if (data && data.AudioStream) {\r\n                            const uInt8Array = new Uint8Array(data.AudioStream);\r\n                            const blob = new Blob([uInt8Array.buffer], {type: 'audio/mpeg'});\r\n                            const url = URL.createObjectURL(blob);\r\n\r\n                            if (!window.mathlive.readAloudAudio) {\r\n                                window.mathlive.readAloudAudio = new Audio();\r\n                                window.mathlive.readAloudAudio.addEventListener('ended', () => {\r\n                                    if (status) status(window.mathlive.readAloudMathField, 'ended');\r\n                                    if (window.mathlive.readAloudMathField) {\r\n                                        window.mathlive.readAloudMathField._render();\r\n                                        window.mathlive.readAloudElement = null;\r\n                                        window.mathlive.readAloudMathField = null;\r\n                                        window.mathlive.readAloudTokens = [];\r\n                                        window.mathlive.readAloudMarks = [];\r\n                                        window.mathlive.readAloudCurrentMark = '';\r\n                                    } else {\r\n                                        removeHighlight(window.mathlive.readAloudElement);\r\n                                    }\r\n                                });\r\n                                window.mathlive.readAloudAudio.addEventListener('timeupdate', () => {\r\n                                    let value = '';\r\n                                    // The target, the atom we're looking for, is the one matching the current audio\r\n                                    // plus 100 ms. By anticipating it a little bit, it feels more natural, otherwise it\r\n                                    // feels like the highlighting is trailing the audio.\r\n                                    const target = window.mathlive.readAloudAudio.currentTime * 1000 + 100;\r\n\r\n                                    // Find the smallest element which is bigger than the target time\r\n                                    for (const mark of window.mathlive.readAloudMarks) {\r\n                                        if (mark.time < target) {\r\n                                            value = mark.value;\r\n                                        }\r\n                                    }\r\n                                    if (window.mathlive.readAloudCurrentMark !== value) {\r\n                                        window.mathlive.readAloudCurrentToken = value;\r\n                                        if (value && value === window.mathlive.readAloudFinalToken) {\r\n                                            window.mathlive.readAloudAudio.pause();\r\n                                        } else {\r\n                                            window.mathlive.readAloudCurrentMark = value;\r\n                                            highlightAtomID(window.mathlive.readAloudElement, window.mathlive.readAloudCurrentMark);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                window.mathlive.readAloudAudio.pause();\r\n                            }\r\n\r\n                            window.mathlive.readAloudAudio.src = url;\r\n                            if (status) {\r\n                                status(window.mathlive.readAloudMathField, 'playing');\r\n                            }\r\n                            window.mathlive.readAloudAudio.play();\r\n                        } else {\r\n                            // console.log('polly.synthesizeSpeech():' + data);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                console.log('polly.synthesizeSpeech():' + data);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Returns the status of a Read Aloud operation (reading with synchronized\r\n * highlighting).\r\n *\r\n * Possible values are:\r\n * - `\"ready\"`\r\n * - `\"playing\"`\r\n * - `\"paused\"`\r\n * - `\"unavailable\"`\r\n *\r\n * **See** {@linkcode module:editor-mathfield#speak speak}\r\n * @category Read Aloud\r\n * @return {\"ready\" | \"playing\" | \"paused\" | \"unavailable\"}\r\n * @function module:mathlive#readAloudStatus\r\n */\r\nfunction readAloudStatus() {\r\n    if (!window) return 'unavailable';\r\n    window.mathlive = window.mathlive || {};\r\n\r\n    if (!window.mathlive.readAloudAudio) return 'ready';\r\n    if (window.mathlive.readAloudAudio.paused) return 'paused';\r\n    if (!window.mathlive.readAloudAudio.ended) return 'playing';\r\n\r\n    return 'ready';\r\n}\r\n\r\n/**\r\n * Pauses a read aloud operation if one is in progress.\r\n *\r\n * **See** {@linkcode module:editor/mathfield#speak speak}\r\n * @category Read Aloud\r\n * @function module:mathlive#pauseReadAloud\r\n */\r\nfunction pauseReadAloud() {\r\n    if (!window) return;\r\n    window.mathlive = window.mathlive || {};\r\n    if (window.mathlive.readAloudAudio) {\r\n        if (window.mathlive.onReadAloudStatus) {\r\n            window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField, 'paused');\r\n        }\r\n        window.mathlive.readAloudAudio.pause();\r\n    }\r\n}\r\n\r\n/**\r\n * Resumes a read aloud operation if one was paused.\r\n *\r\n * **See** {@linkcode module:editor-mathfield#speak speak}\r\n * @category Read Aloud\r\n * @function module:mathlive#resumeReadAloud\r\n */\r\nfunction resumeReadAloud() {\r\n    if (!window) return;\r\n    window.mathlive = window.mathlive || {};\r\n    if (window.mathlive.readAloudAudio) {\r\n        if (window.mathlive.onReadAloudStatus) {\r\n            window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField, 'playing');\r\n        }\r\n        window.mathlive.readAloudAudio.play();\r\n    }\r\n}\r\n\r\n/**\r\n * If a Read Aloud operation is in progress, read from a specified token\r\n *\r\n * **See** {@linkcode module:editor-mathfield#speak speak}\r\n *\r\n * @param {string} [token]\r\n * @param {number} [count] The number of tokens to read.\r\n * @category Read Aloud\r\n * @function module:mathlive#playReadAloud\r\n */\r\nfunction playReadAloud(token, count) {\r\n    if (!window) return;\r\n    window.mathlive = window.mathlive || {};\r\n    if (window.mathlive.readAloudAudio) {\r\n        let timeIndex = 0;\r\n        window.mathlive.readAloudFinalToken = null;\r\n        if (token) {\r\n            window.mathlive.readAloudMarks = window.mathlive.readAloudMarks || [];\r\n            for (const mark of window.mathlive.readAloudMarks) {\r\n                if (mark.value === token) {\r\n                    timeIndex = mark.time / 1000;\r\n                }\r\n            }\r\n            let tokenIndex = window.mathlive.readAloudTokens.indexOf(token);\r\n            if (tokenIndex >= 0) {\r\n                tokenIndex += count;\r\n                if (tokenIndex < window.mathlive.readAloudTokens.length) {\r\n                    window.mathlive.readAloudFinalToken = tokenIndex;\r\n                }\r\n            }\r\n        }\r\n        window.mathlive.readAloudAudio.currentTime = timeIndex;\r\n        if (window.mathlive.onReadAloudStatus) {\r\n            window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField, 'playing');\r\n        }\r\n        window.mathlive.readAloudAudio.play();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Transform all the elements in the document body that contain LaTeX code\r\n * into typeset math.\r\n *\r\n * **Note:** This is a very expensive call, as it needs to parse the entire\r\n * DOM tree to determine which elements need to be processed. In most cases\r\n * this should only be called once per document, once the DOM has been loaded.\r\n * To render a specific element, use {@linkcode module:mathlive#renderMathInElement renderMathInElement()}\r\n *\r\n * **See:** {@tutorial USAGE_GUIDE}\r\n *\r\n * @param {object<string, any>} [options={}] See {@linkcode module:mathlive#renderMathInElement renderMathInElement()}\r\n * for details\r\n * @example\r\n * import MathLive from 'dist/mathlive.mjs';\r\n * document.addEventListener(\"load\", () => {\r\n *     MathLive.renderMathInDocument();\r\n * });\r\n *\r\n */\r\nfunction renderMathInDocument(options) {\r\n    renderMathInElement(document.body, options);\r\n}\r\n\r\nfunction getElement(element) {\r\n    let result = element;\r\n    if (typeof element === 'string') {\r\n        result = document.getElementById(element);\r\n        if (!result) {\r\n            throw Error(`The element with ID \"${element}\" could not be found.`);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Transform all the children of `element`, recursively, that contain LaTeX code\r\n * into typeset math.\r\n *\r\n * **See:** {@tutorial USAGE_GUIDE}\r\n *\r\n * @param {HTMLElement|string} element An HTML DOM element, or a string containing\r\n * the ID of an element.\r\n * @param {object} [options={}]\r\n *\r\n * @param {string} [options.namespace=''] - Namespace that is added to `data-`\r\n * attributes to avoid collisions with other libraries.\r\n *\r\n * It is empty by default.\r\n *\r\n * The namespace should be a string of lowercase letters.\r\n *\r\n * @param {object[]} [options.macros={}] - Custom LaTeX macros\r\n *\r\n * @param {string[]} [options.skipTags=['noscript', 'style', 'textarea', 'pre', 'code', 'annotation', 'annotation-xml'] ]\r\n * an array of tag names whose content will\r\n *  not be scanned for delimiters (unless their class matches the `processClass`\r\n * pattern below.\r\n *\r\n * @param {string} [options.ignoreClass='tex2jax_ignore'] a string used as a\r\n * regular expression of class names of elements whose content will not be\r\n * scanned for delimiters\r\n\r\n * @param {string} [options.processClass='tex2jax_process']   a string used as a\r\n * regular expression of class names of elements whose content **will** be\r\n * scanned for delimiters,  even if their tag name or parent class name would\r\n * have prevented them from doing so.\r\n *\r\n * @param {string} [options.processScriptType=\"math/tex\"] `<script>` tags of the\r\n * indicated type will be processed while others will be ignored.\r\n\r\n *\r\n * @param {string} [options.renderAccessibleContent='mathml'] The format(s) in\r\n * which to render the math for screen readers:\r\n * - `'mathml'` MathML\r\n * - `'speakable-text'` Spoken representation\r\n *\r\n * You can pass an empty string to turn off the rendering of accessible content.\r\n *\r\n * You can pass multiple values separated by spaces, e.g `'mathml speakable-text'`\r\n *\r\n * @param {boolean} [options.preserveOriginalContent=true] if true, store the\r\n * original textual content of the element in a `data-original-content`\r\n * attribute. This value can be accessed for example to restore the element to\r\n * its original value:\r\n * ```javascript\r\n *      elem.innerHTML = elem.dataset.originalContent;\r\n * ```\r\n * @param {boolean} [options.readAloud=false] if true, generate markup that can\r\n * be read aloud later using {@linkcode module:editor-mathfield#speak speak}\r\n *\r\n * @param {boolean} [options.TeX.processEnvironments=true] if false, math expression\r\n * that start with `\\begin{` will not automatically be rendered.\r\n *\r\n * @param {string[][]} [options.TeX.delimiters.inline=[['\\\\(','\\\\)']] ] arrays\r\n * of delimiter pairs that will trigger a render of the content in 'textstyle'\r\n *\r\n * @param {string[][]} [options.TeX.delimiters.display=[['$$', '$$'], ['\\\\[', '\\\\]']] ] arrays\r\n * of delimiter pairs that will trigger a render of the content in\r\n * 'displaystyle'.\r\n *\r\n * @param {function} [renderToMarkup] a function that will convert any LaTeX found to\r\n * HTML markup. This is only useful to override the default MathLive renderer\r\n *\r\n * @param {function} [renderToMathML] a function that will convert any LaTeX found to\r\n * MathML markup.\r\n *\r\n * @param {function} [renderToSpeakableText] a function that will convert any LaTeX found to\r\n * speakable text markup.\r\n *\r\n * @function module:mathlive#renderMathInElement\r\n */\r\n\r\nfunction renderMathInElement(element, options) {\r\n    if (!AutoRender) {\r\n        console.warn('The AutoRender module is not loaded.');\r\n        return;\r\n    }\r\n    options = options || {};\r\n    options.renderToMarkup = options.renderToMarkup || toMarkup;\r\n    options.renderToMathML = options.renderToMathML || toMathML;\r\n    options.renderToSpeakableText = options.renderToSpeakableText || latexToSpeakableText;\r\n    options.macros = options.macros || Definitions.MACROS;\r\n    AutoRender.renderMathInElement(getElement(element), options);\r\n}\r\n\r\n\r\n\r\nfunction validateNamespace(options) {\r\n    if (options.namespace) {\r\n        if (!/^[a-z]+[-]?$/.test(options.namespace)) {\r\n            throw Error('options.namespace must be a string of lowercase characters only');\r\n        }\r\n        if (!/-$/.test(options.namespace)) {\r\n           options.namespace += '-';\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param {string|HTMLElement|MathField} element\r\n * @param {Object.<string, any>} [options={}]\r\n * @param {string} options.namespace The namespace used for the `data-`\r\n * attributes. If you used a namespace with `renderMathInElement`, you must\r\n * use the same namespace here.\r\n * @function module:mathlive#revertToOriginalContent\r\n */\r\nfunction revertToOriginalContent(element, options) {\r\n    element = getElement(element);\r\n\r\n    // element is a pair: accessible span, math -- set it to the math part\r\n    element = element.children[1];\r\n\r\n    if (element instanceof MathField.MathField) {\r\n        element.revertToOriginalContent();\r\n    } else {\r\n        options = options || {};\r\n        validateNamespace(options);\r\n        element.innerHTML = element.getAttribute('data-' +\r\n            (options.namespace || '') + 'original-content');\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * After calling {@linkcode module:mathlive#renderMathInElement renderMathInElement}\r\n * or {@linkcode module:mathlive#makeMathField makeMathField} the original content\r\n * can be retrieved by calling this function.\r\n *\r\n * Given the following markup:\r\n * ```html\r\n * <span id='equation'>$$f(x)=sin(x)$$</span>\r\n * ```\r\n * The following code:\r\n * ```javascript\r\n * MathLive.renderMathInElement('equation');\r\n * console.log(MathLive.getOriginalContent('equation'));\r\n * ```\r\n * will output:\r\n * ```\r\n * $$f(x)=sin(x)$$\r\n * ```\r\n * @param {string | HTMLElement | MathField} element - A DOM element ID, a DOM\r\n * element or a MathField.\r\n * @param {object} [options={}]\r\n * @param {string} [options.namespace=\"\"] The namespace used for the `data-`\r\n * attributes.\r\n * If you used a namespace with `renderMathInElement()`, you must\r\n * use the same namespace here.\r\n * @return {string} the original content of the element.\r\n * @function module:mathlive#getOriginalContent\r\n */\r\nfunction getOriginalContent(element, options) {\r\n    element = getElement(element);\r\n\r\n    // element is a pair: accessible span, math -- set it to the math part\r\n    element = element.children[1];\r\n\r\n    if (element instanceof MathField.MathField) {\r\n        return element.originalContent;\r\n    }\r\n    options = options || {};\r\n    validateNamespace(options);\r\n    return element.getAttribute('data-' +\r\n        (options.namespace || '') + 'original-content');\r\n}\r\n\r\nconst MathLive = {\r\n    latexToMarkup: toMarkup,\r\n    latexToMathML: toMathML,\r\n    latexToSpeakableText,\r\n    latexToAST,\r\n    astToLatex,\r\n    makeMathField,\r\n    renderMathInDocument,\r\n    renderMathInElement,\r\n    revertToOriginalContent,\r\n    getOriginalContent,\r\n    readAloud,\r\n    readAloudStatus,\r\n    pauseReadAloud,\r\n    resumeReadAloud,\r\n    playReadAloud\r\n};\r\n\r\nexport default MathLive;\r\n\r\n\r\n\r\n","// 导入组件，组件必须声明 name\r\nimport 'core-js/stable'\r\nimport 'regenerator-runtime/runtime'\r\nimport Mathfield from './vue-mathlive.vue'\r\nimport MathLive from './mathlive'\r\n\r\n// 为组件添加 install 方法，用于按需引入\r\nMathfield.install = function (Vue) {\r\n  Object.defineProperty(Vue.prototype, '$mathlive', { value: MathLive })\r\n  Vue.component(Mathfield.name, Mathfield)\r\n}\r\n\r\nexport default Mathfield\r\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('slice') }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int8Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int8', function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\nvar nativeCosh = Math.cosh;\nvar abs = Math.abs;\nvar E = Math.E;\n\n// `Math.cosh` method\n// https://tc39.github.io/ecma262/#sec-math.cosh\n$({ target: 'Math', stat: true, forced: !nativeCosh || nativeCosh(710) === Infinity }, {\n  cosh: function cosh(x) {\n    var t = expm1(abs(x) - 1) + 1;\n    return (t + 1 / (t * E * E)) * (E / 2);\n  }\n});\n"],"sourceRoot":""}